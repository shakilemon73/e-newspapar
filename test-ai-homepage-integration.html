<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Homepage Integration Test - ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶®‡¶ø‡¶â‡¶ú AI ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ</title>
    <style>
        body {
            font-family: 'Noto Sans Bengali', Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 20px;
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            border-radius: 8px;
        }
        .test-section {
            margin: 30px 0;
            padding: 20px;
            border: 2px solid #ddd;
            border-radius: 8px;
            background: #f9f9f9;
        }
        .test-section h3 {
            color: #2196F3;
            border-bottom: 2px solid #2196F3;
            padding-bottom: 10px;
        }
        .status {
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: bold;
            display: inline-block;
            margin: 5px;
        }
        .status.success { background: #4CAF50; color: white; }
        .status.pending { background: #FF9800; color: white; }
        .status.error { background: #f44336; color: white; }
        .endpoint-test {
            margin: 15px 0;
            padding: 15px;
            background: white;
            border-left: 4px solid #2196F3;
            border-radius: 4px;
        }
        .btn {
            background: #2196F3;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        .btn:hover { background: #1976D2; }
        .result {
            margin-top: 10px;
            padding: 10px;
            background: #f0f0f0;
            border-radius: 4px;
            font-family: monospace;
            font-size: 12px;
            max-height: 200px;
            overflow-y: auto;
        }
        .ai-feature {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üß† AI Homepage Integration Test</h1>
            <h2>TensorFlow.js + Supabase AI ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ ‡¶™‡¶∞‡ßÄ‡¶ï‡ßç‡¶∑‡¶æ</h2>
            <p>‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶®‡¶ø‡¶â‡¶ú ‡¶ì‡¶Ø‡¶º‡ßá‡¶¨‡¶∏‡¶æ‡¶á‡¶ü‡ßá‡¶∞ AI ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶è‡¶®‡ßç‡¶° ‡¶á‡¶®‡ßç‡¶ü‡¶ø‡¶ó‡ßç‡¶∞‡ßá‡¶∂‡¶® ‡¶Ø‡¶æ‡¶ö‡¶æ‡¶á</p>
        </div>

        <!-- AI Backend Services Test -->
        <div class="test-section">
            <h3>üöÄ AI Backend Services Test</h3>
            <div class="endpoint-test">
                <h4>1. AI Popular Articles</h4>
                <button class="btn" onclick="testAIPopularArticles()">Test AI Popular Articles</button>
                <div id="ai-popular-result" class="result"></div>
            </div>
            
            <div class="endpoint-test">
                <h4>2. AI Personalized Recommendations</h4>
                <button class="btn" onclick="testAIRecommendations()">Test AI Recommendations</button>
                <div id="ai-recommendations-result" class="result"></div>
            </div>
            
            <div class="endpoint-test">
                <h4>3. AI Trending Topics</h4>
                <button class="btn" onclick="testAITrendingTopics()">Test AI Trending</button>
                <div id="ai-trending-result" class="result"></div>
            </div>
            
            <div class="endpoint-test">
                <h4>4. AI Category Insights</h4>
                <button class="btn" onclick="testAICategoryInsights()">Test Category Insights</button>
                <div id="ai-category-result" class="result"></div>
            </div>
            
            <div class="endpoint-test">
                <h4>5. AI Article Processing</h4>
                <button class="btn" onclick="testAIArticleProcessing()">Test Article Processing</button>
                <div id="ai-processing-result" class="result"></div>
            </div>
            
            <div class="endpoint-test">
                <h4>6. AI User Analytics</h4>
                <button class="btn" onclick="testAIUserAnalytics()">Test User Analytics</button>
                <div id="ai-user-analytics-result" class="result"></div>
            </div>
        </div>

        <!-- Component Integration Test -->
        <div class="test-section">
            <h3>üéØ Component AI Integration Test</h3>
            <div class="ai-feature">
                <h4>‚úÖ PopularNewsSection</h4>
                <p>AI ‡¶∏‡ßç‡¶ï‡ßã‡¶∞‡¶ø‡¶Ç ‡¶è‡¶¨‡¶Ç ‡¶ü‡ßç‡¶∞‡ßá‡¶®‡ßç‡¶°‡¶ø‡¶Ç ‡¶∞‚Äç‡ßç‡¶Ø‡¶æ‡¶ô‡ßç‡¶ï‡¶ø‡¶Ç ‡¶∏‡¶π ‡¶ú‡¶®‡¶™‡ßç‡¶∞‡¶ø‡¶Ø‡¶º ‡¶∏‡¶Ç‡¶¨‡¶æ‡¶¶</p>
                <div class="status success">Integrated ‚úì</div>
            </div>
            
            <div class="ai-feature">
                <h4>‚úÖ PersonalizedRecommendations</h4>
                <p>‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ‡¶∞ ‡¶Ü‡¶ö‡¶∞‡¶£ ‡¶¨‡¶ø‡¶∂‡ßç‡¶≤‡ßá‡¶∑‡¶£ ‡¶è‡¶¨‡¶Ç ‡¶¨‡ßç‡¶Ø‡¶ï‡ßç‡¶§‡¶ø‡¶ó‡¶§ ‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞‡¶ø‡¶∂</p>
                <div class="status success">Integrated ‚úì</div>
            </div>
            
            <div class="ai-feature">
                <h4>‚úÖ HomepageFeatureSuite</h4>
                <p>AI-‡¶ö‡¶æ‡¶≤‡¶ø‡¶§ ‡¶ü‡ßç‡¶∞‡ßá‡¶®‡ßç‡¶°‡¶ø‡¶Ç ‡¶ü‡¶™‡¶ø‡¶ï‡¶∏ ‡¶è‡¶¨‡¶Ç ‡¶Ü‡¶¨‡¶ø‡¶∑‡ßç‡¶ï‡¶æ‡¶∞ ‡¶â‡¶á‡¶ú‡ßá‡¶ü</p>
                <div class="status success">Integrated ‚úì</div>
            </div>
            
            <div class="ai-feature">
                <h4>‚úÖ CategoryNewsSection</h4>
                <p>‡¶¨‡¶ø‡¶≠‡¶æ‡¶ó‡¶≠‡¶ø‡¶§‡ßç‡¶§‡¶ø‡¶ï AI ‡¶Ö‡¶®‡ßç‡¶§‡¶∞‡ßç‡¶¶‡ßÉ‡¶∑‡ßç‡¶ü‡¶ø ‡¶è‡¶¨‡¶Ç ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶®‡ßç‡¶ü ‡¶¨‡¶ø‡¶∂‡ßç‡¶≤‡ßá‡¶∑‡¶£</p>
                <div class="status success">Integrated ‚úì</div>
            </div>
            
            <div class="ai-feature">
                <h4>‚úÖ BreakingNewsTicker</h4>
                <p>‡¶ú‡¶∞‡ßÅ‡¶∞‡¶ø‡¶§‡ßç‡¶¨‡¶≠‡¶ø‡¶§‡ßç‡¶§‡¶ø‡¶ï AI ‡¶Ö‡¶ó‡ßç‡¶∞‡¶æ‡¶ß‡¶ø‡¶ï‡¶æ‡¶∞ ‡¶è‡¶¨‡¶Ç ‡¶∏‡ßç‡¶Æ‡¶æ‡¶∞‡ßç‡¶ü ‡¶∏‡¶æ‡¶ú‡¶æ‡¶®‡ßã</p>
                <div class="status success">Integrated ‚úì</div>
            </div>
            
            <div class="ai-feature">
                <h4>‚úÖ DiscoveryWidget</h4>
                <p>AI-‡¶ö‡¶æ‡¶≤‡¶ø‡¶§ ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶®‡ßç‡¶ü ‡¶Ü‡¶¨‡¶ø‡¶∑‡ßç‡¶ï‡¶æ‡¶∞ ‡¶è‡¶¨‡¶Ç ‡¶¨‡ßç‡¶Ø‡¶ï‡ßç‡¶§‡¶ø‡¶ó‡¶§ ‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞‡¶ø‡¶∂</p>
                <div class="status success">Enhanced ‚úì</div>
            </div>
            
            <div class="ai-feature">
                <h4>‚úÖ ReadingStatsWidget</h4>
                <p>‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ‡¶∞ ‡¶Ü‡¶ö‡¶∞‡¶£ ‡¶¨‡¶ø‡¶∂‡ßç‡¶≤‡ßá‡¶∑‡¶£ ‡¶è‡¶¨‡¶Ç AI ‡¶Ö‡¶®‡ßç‡¶§‡¶∞‡ßç‡¶¶‡ßÉ‡¶∑‡ßç‡¶ü‡¶ø</p>
                <div class="status success">Enhanced ‚úì</div>
            </div>
        </div>

        <!-- AI Features Overview -->
        <div class="test-section">
            <h3>üß† AI Features Implementation Status</h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
                <div class="ai-feature">
                    <h4>üìä Text Summarization</h4>
                    <p>TensorFlow.js ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü ‡¶∏‡¶Ç‡¶ï‡ßç‡¶∑‡¶ø‡¶™‡ßç‡¶§‡¶∏‡¶æ‡¶∞</p>
                    <div class="status success">Active</div>
                </div>
                
                <div class="ai-feature">
                    <h4>üí≠ Sentiment Analysis</h4>
                    <p>‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶®‡ßç‡¶ü‡ßá‡¶∞ ‡¶Ü‡¶¨‡ßá‡¶ó ‡¶è‡¶¨‡¶Ç ‡¶Æ‡¶®‡ßã‡¶≠‡¶æ‡¶¨ ‡¶¨‡¶ø‡¶∂‡ßç‡¶≤‡ßá‡¶∑‡¶£</p>
                    <div class="status success">Active</div>
                </div>
                
                <div class="ai-feature">
                    <h4>üè∑Ô∏è Auto-Tagging</h4>
                    <p>‡¶∏‡ßç‡¶¨‡¶Ø‡¶º‡¶Ç‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º ‡¶ï‡ßÄ‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶è‡¶¨‡¶Ç ‡¶ü‡ßç‡¶Ø‡¶æ‡¶ó ‡¶∏‡ßÉ‡¶∑‡ßç‡¶ü‡¶ø</p>
                    <div class="status success">Active</div>
                </div>
                
                <div class="ai-feature">
                    <h4>üìà Trending Analysis</h4>
                    <p>‡¶ü‡ßç‡¶∞‡ßá‡¶®‡ßç‡¶°‡¶ø‡¶Ç ‡¶ü‡¶™‡¶ø‡¶ï ‡¶è‡¶¨‡¶Ç ‡¶ú‡¶®‡¶™‡ßç‡¶∞‡¶ø‡¶Ø‡¶º‡¶§‡¶æ ‡¶¨‡¶ø‡¶∂‡ßç‡¶≤‡ßá‡¶∑‡¶£</p>
                    <div class="status success">Active</div>
                </div>
            </div>
        </div>

        <!-- Test Results Summary -->
        <div class="test-section">
            <h3>üìã Test Results Summary</h3>
            <div id="test-summary">
                <p>Tests not run yet. Click individual test buttons above.</p>
            </div>
        </div>
    </div>

    <script>
        let testResults = {};

        async function testAIPopularArticles() {
            const resultDiv = document.getElementById('ai-popular-result');
            resultDiv.innerHTML = 'Testing...';
            
            try {
                const response = await fetch('/api/ai/popular-articles?timeRange=daily&limit=3');
                const result = await response.json();
                
                resultDiv.innerHTML = `
                    <strong>Status:</strong> ${response.ok ? 'Success ‚úÖ' : 'Failed ‚ùå'}<br>
                    <strong>Response:</strong> ${JSON.stringify(result, null, 2)}
                `;
                testResults.popularArticles = response.ok;
            } catch (error) {
                resultDiv.innerHTML = `<strong>Error:</strong> ${error.message}`;
                testResults.popularArticles = false;
            }
            updateTestSummary();
        }

        async function testAIRecommendations() {
            const resultDiv = document.getElementById('ai-recommendations-result');
            resultDiv.innerHTML = 'Testing...';
            
            try {
                const response = await fetch('/api/ai/recommendations/test-user?limit=3');
                const result = await response.json();
                
                resultDiv.innerHTML = `
                    <strong>Status:</strong> ${response.ok ? 'Success ‚úÖ' : 'Failed ‚ùå'}<br>
                    <strong>Response:</strong> ${JSON.stringify(result, null, 2)}
                `;
                testResults.recommendations = response.ok;
            } catch (error) {
                resultDiv.innerHTML = `<strong>Error:</strong> ${error.message}`;
                testResults.recommendations = false;
            }
            updateTestSummary();
        }

        async function testAITrendingTopics() {
            const resultDiv = document.getElementById('ai-trending-result');
            resultDiv.innerHTML = 'Testing...';
            
            try {
                const response = await fetch('/api/ai/trending-topics?limit=5');
                const result = await response.json();
                
                resultDiv.innerHTML = `
                    <strong>Status:</strong> ${response.ok ? 'Success ‚úÖ' : 'Failed ‚ùå'}<br>
                    <strong>Response:</strong> ${JSON.stringify(result, null, 2)}
                `;
                testResults.trending = response.ok;
            } catch (error) {
                resultDiv.innerHTML = `<strong>Error:</strong> ${error.message}`;
                testResults.trending = false;
            }
            updateTestSummary();
        }

        async function testAICategoryInsights() {
            const resultDiv = document.getElementById('ai-category-result');
            resultDiv.innerHTML = 'Testing...';
            
            try {
                const response = await fetch('/api/ai/category-insights/politics');
                const result = await response.json();
                
                resultDiv.innerHTML = `
                    <strong>Status:</strong> ${response.ok ? 'Success ‚úÖ' : 'Failed ‚ùå'}<br>
                    <strong>Response:</strong> ${JSON.stringify(result, null, 2)}
                `;
                testResults.categoryInsights = response.ok;
            } catch (error) {
                resultDiv.innerHTML = `<strong>Error:</strong> ${error.message}`;
                testResults.categoryInsights = false;
            }
            updateTestSummary();
        }

        async function testAIArticleProcessing() {
            const resultDiv = document.getElementById('ai-processing-result');
            resultDiv.innerHTML = 'Testing...';
            
            try {
                const response = await fetch('/api/ai/process-article', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        content: '‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂‡ßá‡¶∞ ‡¶∞‡¶æ‡¶ú‡¶®‡ßà‡¶§‡¶ø‡¶ï ‡¶™‡¶∞‡¶ø‡¶∏‡ßç‡¶•‡¶ø‡¶§‡¶ø ‡¶®‡¶ø‡¶Ø‡¶º‡ßá ‡¶Ü‡¶≤‡ßã‡¶ö‡¶®‡¶æ‡•§',
                        type: 'article'
                    })
                });
                const result = await response.json();
                
                resultDiv.innerHTML = `
                    <strong>Status:</strong> ${response.ok ? 'Success ‚úÖ' : 'Failed ‚ùå'}<br>
                    <strong>Response:</strong> ${JSON.stringify(result, null, 2)}
                `;
                testResults.processing = response.ok;
            } catch (error) {
                resultDiv.innerHTML = `<strong>Error:</strong> ${error.message}`;
                testResults.processing = false;
            }
            updateTestSummary();
        }

        async function testAIUserAnalytics() {
            const resultDiv = document.getElementById('ai-user-analytics-result');
            resultDiv.innerHTML = 'Testing...';
            
            try {
                const response = await fetch('/api/ai/user-analytics/test-user-123');
                const result = await response.json();
                
                resultDiv.innerHTML = `
                    <strong>Status:</strong> ${response.ok ? 'Success ‚úÖ' : 'Failed ‚ùå'}<br>
                    <strong>Response:</strong> ${JSON.stringify(result, null, 2)}
                `;
                testResults.userAnalytics = response.ok;
            } catch (error) {
                resultDiv.innerHTML = `<strong>Error:</strong> ${error.message}`;
                testResults.userAnalytics = false;
            }
            updateTestSummary();
        }

        function updateTestSummary() {
            const summaryDiv = document.getElementById('test-summary');
            const totalTests = Object.keys(testResults).length;
            const passedTests = Object.values(testResults).filter(result => result).length;
            
            if (totalTests === 0) return;
            
            summaryDiv.innerHTML = `
                <div style="background: ${passedTests === totalTests ? '#4CAF50' : passedTests > 0 ? '#FF9800' : '#f44336'}; color: white; padding: 15px; border-radius: 8px;">
                    <h4>Test Results: ${passedTests}/${totalTests} Passed</h4>
                    <ul>
                        ${Object.entries(testResults).map(([test, passed]) => 
                            `<li>${test}: ${passed ? '‚úÖ Passed' : '‚ùå Failed'}</li>`
                        ).join('')}
                    </ul>
                </div>
            `;
        }

        // Auto-run all tests on page load
        window.onload = function() {
            setTimeout(() => {
                console.log('Starting AI Homepage Integration Tests...');
                testAIPopularArticles();
                setTimeout(() => testAIRecommendations(), 1000);
                setTimeout(() => testAITrendingTopics(), 2000);
                setTimeout(() => testAICategoryInsights(), 3000);
                setTimeout(() => testAIArticleProcessing(), 4000);
                setTimeout(() => testAIUserAnalytics(), 5000);
            }, 1000);
        };
    </script>
</body>
</html>