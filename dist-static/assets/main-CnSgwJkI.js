var rj=t=>{throw TypeError(t)};var Ff=(t,s,r)=>s.has(t)||rj("Cannot "+r);var F=(t,s,r)=>(Ff(t,s,"read from private field"),r?r.call(t):s.get(t)),Oe=(t,s,r)=>s.has(t)?rj("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(t):s.set(t,r),ge=(t,s,r,n)=>(Ff(t,s,"write to private field"),n?n.call(t,r):s.set(t,r),r),He=(t,s,r)=>(Ff(t,s,"access private method"),r);var Nu=(t,s,r,n)=>({set _(a){ge(t,s,a,r)},get _(){return F(t,s,n)}});function BT(t,s){for(var r=0;r<s.length;r++){const n=s[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Dr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ho(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function qT(t){if(t.__esModule)return t;var s=t.default;if(typeof s=="function"){var r=function n(){return this instanceof n?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};r.prototype=s.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var a=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return t[n]}})}),r}var Lb={exports:{}},Nm={},Fb={exports:{}},Ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hd=Symbol.for("react.element"),HT=Symbol.for("react.portal"),WT=Symbol.for("react.fragment"),KT=Symbol.for("react.strict_mode"),GT=Symbol.for("react.profiler"),QT=Symbol.for("react.provider"),ZT=Symbol.for("react.context"),YT=Symbol.for("react.forward_ref"),XT=Symbol.for("react.suspense"),JT=Symbol.for("react.memo"),eP=Symbol.for("react.lazy"),nj=Symbol.iterator;function tP(t){return t===null||typeof t!="object"?null:(t=nj&&t[nj]||t["@@iterator"],typeof t=="function"?t:null)}var $b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ub=Object.assign,zb={};function Wo(t,s,r){this.props=t,this.context=s,this.refs=zb,this.updater=r||$b}Wo.prototype.isReactComponent={};Wo.prototype.setState=function(t,s){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,s,"setState")};Wo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Vb(){}Vb.prototype=Wo.prototype;function Fg(t,s,r){this.props=t,this.context=s,this.refs=zb,this.updater=r||$b}var $g=Fg.prototype=new Vb;$g.constructor=Fg;Ub($g,Wo.prototype);$g.isPureReactComponent=!0;var aj=Array.isArray,Bb=Object.prototype.hasOwnProperty,Ug={current:null},qb={key:!0,ref:!0,__self:!0,__source:!0};function Hb(t,s,r){var n,a={},i=null,l=null;if(s!=null)for(n in s.ref!==void 0&&(l=s.ref),s.key!==void 0&&(i=""+s.key),s)Bb.call(s,n)&&!qb.hasOwnProperty(n)&&(a[n]=s[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];a.children=c}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:Hd,type:t,key:i,ref:l,props:a,_owner:Ug.current}}function sP(t,s){return{$$typeof:Hd,type:t.type,key:s,ref:t.ref,props:t.props,_owner:t._owner}}function zg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Hd}function rP(t){var s={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return s[r]})}var ij=/\/+/g;function $f(t,s){return typeof t=="object"&&t!==null&&t.key!=null?rP(""+t.key):s.toString(36)}function eh(t,s,r,n,a){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case Hd:case HT:l=!0}}if(l)return l=t,a=a(l),t=n===""?"."+$f(l,0):n,aj(a)?(r="",t!=null&&(r=t.replace(ij,"$&/")+"/"),eh(a,s,r,"",function(d){return d})):a!=null&&(zg(a)&&(a=sP(a,r+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(ij,"$&/")+"/")+t)),s.push(a)),1;if(l=0,n=n===""?".":n+":",aj(t))for(var o=0;o<t.length;o++){i=t[o];var c=n+$f(i,o);l+=eh(i,s,r,c,a)}else if(c=tP(t),typeof c=="function")for(t=c.call(t),o=0;!(i=t.next()).done;)i=i.value,c=n+$f(i,o++),l+=eh(i,s,r,c,a);else if(i==="object")throw s=String(t),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return l}function _u(t,s,r){if(t==null)return t;var n=[],a=0;return eh(t,n,"","",function(i){return s.call(r,i,a++)}),n}function nP(t){if(t._status===-1){var s=t._result;s=s(),s.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=s)}if(t._status===1)return t._result.default;throw t._result}var Ks={current:null},th={transition:null},aP={ReactCurrentDispatcher:Ks,ReactCurrentBatchConfig:th,ReactCurrentOwner:Ug};function Wb(){throw Error("act(...) is not supported in production builds of React.")}Ye.Children={map:_u,forEach:function(t,s,r){_u(t,function(){s.apply(this,arguments)},r)},count:function(t){var s=0;return _u(t,function(){s++}),s},toArray:function(t){return _u(t,function(s){return s})||[]},only:function(t){if(!zg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ye.Component=Wo;Ye.Fragment=WT;Ye.Profiler=GT;Ye.PureComponent=Fg;Ye.StrictMode=KT;Ye.Suspense=XT;Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aP;Ye.act=Wb;Ye.cloneElement=function(t,s,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Ub({},t.props),a=t.key,i=t.ref,l=t._owner;if(s!=null){if(s.ref!==void 0&&(i=s.ref,l=Ug.current),s.key!==void 0&&(a=""+s.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(c in s)Bb.call(s,c)&&!qb.hasOwnProperty(c)&&(n[c]=s[c]===void 0&&o!==void 0?o[c]:s[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];n.children=o}return{$$typeof:Hd,type:t.type,key:a,ref:i,props:n,_owner:l}};Ye.createContext=function(t){return t={$$typeof:ZT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:QT,_context:t},t.Consumer=t};Ye.createElement=Hb;Ye.createFactory=function(t){var s=Hb.bind(null,t);return s.type=t,s};Ye.createRef=function(){return{current:null}};Ye.forwardRef=function(t){return{$$typeof:YT,render:t}};Ye.isValidElement=zg;Ye.lazy=function(t){return{$$typeof:eP,_payload:{_status:-1,_result:t},_init:nP}};Ye.memo=function(t,s){return{$$typeof:JT,type:t,compare:s===void 0?null:s}};Ye.startTransition=function(t){var s=th.transition;th.transition={};try{t()}finally{th.transition=s}};Ye.unstable_act=Wb;Ye.useCallback=function(t,s){return Ks.current.useCallback(t,s)};Ye.useContext=function(t){return Ks.current.useContext(t)};Ye.useDebugValue=function(){};Ye.useDeferredValue=function(t){return Ks.current.useDeferredValue(t)};Ye.useEffect=function(t,s){return Ks.current.useEffect(t,s)};Ye.useId=function(){return Ks.current.useId()};Ye.useImperativeHandle=function(t,s,r){return Ks.current.useImperativeHandle(t,s,r)};Ye.useInsertionEffect=function(t,s){return Ks.current.useInsertionEffect(t,s)};Ye.useLayoutEffect=function(t,s){return Ks.current.useLayoutEffect(t,s)};Ye.useMemo=function(t,s){return Ks.current.useMemo(t,s)};Ye.useReducer=function(t,s,r){return Ks.current.useReducer(t,s,r)};Ye.useRef=function(t){return Ks.current.useRef(t)};Ye.useState=function(t){return Ks.current.useState(t)};Ye.useSyncExternalStore=function(t,s,r){return Ks.current.useSyncExternalStore(t,s,r)};Ye.useTransition=function(){return Ks.current.useTransition()};Ye.version="18.3.1";Fb.exports=Ye;var h=Fb.exports;const ze=Ho(h),Vg=BT({__proto__:null,default:ze},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iP=h,lP=Symbol.for("react.element"),oP=Symbol.for("react.fragment"),cP=Object.prototype.hasOwnProperty,dP=iP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uP={key:!0,ref:!0,__self:!0,__source:!0};function Kb(t,s,r){var n,a={},i=null,l=null;r!==void 0&&(i=""+r),s.key!==void 0&&(i=""+s.key),s.ref!==void 0&&(l=s.ref);for(n in s)cP.call(s,n)&&!uP.hasOwnProperty(n)&&(a[n]=s[n]);if(t&&t.defaultProps)for(n in s=t.defaultProps,s)a[n]===void 0&&(a[n]=s[n]);return{$$typeof:lP,type:t,key:i,ref:l,props:a,_owner:dP.current}}Nm.Fragment=oP;Nm.jsx=Kb;Nm.jsxs=Kb;Lb.exports=Nm;var e=Lb.exports,Gb={exports:{}},wr={},Qb={exports:{}},Zb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function s(O,z){var U=O.length;O.push(z);e:for(;0<U;){var G=U-1>>>1,q=O[G];if(0<a(q,z))O[G]=z,O[U]=q,U=G;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var z=O[0],U=O.pop();if(U!==z){O[0]=U;e:for(var G=0,q=O.length,ce=q>>>1;G<ce;){var ye=2*(G+1)-1,ue=O[ye],Se=ye+1,ie=O[Se];if(0>a(ue,U))Se<q&&0>a(ie,ue)?(O[G]=ie,O[Se]=U,G=Se):(O[G]=ue,O[ye]=U,G=ye);else if(Se<q&&0>a(ie,U))O[G]=ie,O[Se]=U,G=Se;else break e}}return z}function a(O,z){var U=O.sortIndex-z.sortIndex;return U!==0?U:O.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();t.unstable_now=function(){return l.now()-o}}var c=[],d=[],u=1,m=null,f=3,x=!1,g=!1,v=!1,p=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(O){for(var z=r(d);z!==null;){if(z.callback===null)n(d);else if(z.startTime<=O)n(d),z.sortIndex=z.expirationTime,s(c,z);else break;z=r(d)}}function _(O){if(v=!1,y(O),!g)if(r(c)!==null)g=!0,B(b);else{var z=r(d);z!==null&&V(_,z.startTime-O)}}function b(O,z){g=!1,v&&(v=!1,j(A),A=-1),x=!0;var U=f;try{for(y(z),m=r(c);m!==null&&(!(m.expirationTime>z)||O&&!C());){var G=m.callback;if(typeof G=="function"){m.callback=null,f=m.priorityLevel;var q=G(m.expirationTime<=z);z=t.unstable_now(),typeof q=="function"?m.callback=q:m===r(c)&&n(c),y(z)}else n(c);m=r(c)}if(m!==null)var ce=!0;else{var ye=r(d);ye!==null&&V(_,ye.startTime-z),ce=!1}return ce}finally{m=null,f=U,x=!1}}var N=!1,T=null,A=-1,S=5,P=-1;function C(){return!(t.unstable_now()-P<S)}function R(){if(T!==null){var O=t.unstable_now();P=O;var z=!0;try{z=T(!0,O)}finally{z?K():(N=!1,T=null)}}else N=!1}var K;if(typeof w=="function")K=function(){w(R)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,D=W.port2;W.port1.onmessage=R,K=function(){D.postMessage(null)}}else K=function(){p(R,0)};function B(O){T=O,N||(N=!0,K())}function V(O,z){A=p(function(){O(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){g||x||(g=!0,B(b))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(O){switch(f){case 1:case 2:case 3:var z=3;break;default:z=f}var U=f;f=z;try{return O()}finally{f=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,z){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var U=f;f=O;try{return z()}finally{f=U}},t.unstable_scheduleCallback=function(O,z,U){var G=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?G+U:G):U=G,O){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=U+q,O={id:u++,callback:z,priorityLevel:O,startTime:U,expirationTime:q,sortIndex:-1},U>G?(O.sortIndex=U,s(d,O),r(c)===null&&O===r(d)&&(v?(j(A),A=-1):v=!0,V(_,U-G))):(O.sortIndex=q,s(c,O),g||x||(g=!0,B(b))),O},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(O){var z=f;return function(){var U=f;f=z;try{return O.apply(this,arguments)}finally{f=U}}}})(Zb);Qb.exports=Zb;var hP=Qb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mP=h,vr=hP;function te(t){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)s+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Yb=new Set,fd={};function ol(t,s){wo(t,s),wo(t+"Capture",s)}function wo(t,s){for(fd[t]=s,t=0;t<s.length;t++)Yb.add(s[t])}var sa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vx=Object.prototype.hasOwnProperty,fP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lj={},oj={};function xP(t){return Vx.call(oj,t)?!0:Vx.call(lj,t)?!1:fP.test(t)?oj[t]=!0:(lj[t]=!0,!1)}function pP(t,s,r,n){if(r!==null&&r.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function gP(t,s,r,n){if(s===null||typeof s>"u"||pP(t,s,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function Gs(t,s,r,n,a,i,l){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=t,this.type=s,this.sanitizeURL=i,this.removeEmptyString=l}var bs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){bs[t]=new Gs(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var s=t[0];bs[s]=new Gs(s,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){bs[t]=new Gs(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){bs[t]=new Gs(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){bs[t]=new Gs(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){bs[t]=new Gs(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){bs[t]=new Gs(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){bs[t]=new Gs(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){bs[t]=new Gs(t,5,!1,t.toLowerCase(),null,!1,!1)});var Bg=/[\-:]([a-z])/g;function qg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var s=t.replace(Bg,qg);bs[s]=new Gs(s,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var s=t.replace(Bg,qg);bs[s]=new Gs(s,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var s=t.replace(Bg,qg);bs[s]=new Gs(s,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){bs[t]=new Gs(t,1,!1,t.toLowerCase(),null,!1,!1)});bs.xlinkHref=new Gs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){bs[t]=new Gs(t,1,!1,t.toLowerCase(),null,!0,!0)});function Hg(t,s,r,n){var a=bs.hasOwnProperty(s)?bs[s]:null;(a!==null?a.type!==0:n||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(gP(s,r,a,n)&&(r=null),n||a===null?xP(s)&&(r===null?t.removeAttribute(s):t.setAttribute(s,""+r)):a.mustUseProperty?t[a.propertyName]=r===null?a.type===3?!1:"":r:(s=a.attributeName,n=a.attributeNamespace,r===null?t.removeAttribute(s):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?t.setAttributeNS(n,s,r):t.setAttribute(s,r))))}var ha=mP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Su=Symbol.for("react.element"),Ml=Symbol.for("react.portal"),Ll=Symbol.for("react.fragment"),Wg=Symbol.for("react.strict_mode"),Bx=Symbol.for("react.profiler"),Xb=Symbol.for("react.provider"),Jb=Symbol.for("react.context"),Kg=Symbol.for("react.forward_ref"),qx=Symbol.for("react.suspense"),Hx=Symbol.for("react.suspense_list"),Gg=Symbol.for("react.memo"),Na=Symbol.for("react.lazy"),eN=Symbol.for("react.offscreen"),cj=Symbol.iterator;function kc(t){return t===null||typeof t!="object"?null:(t=cj&&t[cj]||t["@@iterator"],typeof t=="function"?t:null)}var Bt=Object.assign,Uf;function Vc(t){if(Uf===void 0)try{throw Error()}catch(r){var s=r.stack.trim().match(/\n( *(at )?)/);Uf=s&&s[1]||""}return`
`+Uf+t}var zf=!1;function Vf(t,s){if(!t||zf)return"";zf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(d){var n=d}Reflect.construct(t,[],s)}else{try{s.call()}catch(d){n=d}t.call(s.prototype)}else{try{throw Error()}catch(d){n=d}t()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=n.stack.split(`
`),l=a.length-1,o=i.length-1;1<=l&&0<=o&&a[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(a[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||a[l]!==i[o]){var c=`
`+a[l].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=l&&0<=o);break}}}finally{zf=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Vc(t):""}function vP(t){switch(t.tag){case 5:return Vc(t.type);case 16:return Vc("Lazy");case 13:return Vc("Suspense");case 19:return Vc("SuspenseList");case 0:case 2:case 15:return t=Vf(t.type,!1),t;case 11:return t=Vf(t.type.render,!1),t;case 1:return t=Vf(t.type,!0),t;default:return""}}function Wx(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ll:return"Fragment";case Ml:return"Portal";case Bx:return"Profiler";case Wg:return"StrictMode";case qx:return"Suspense";case Hx:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Jb:return(t.displayName||"Context")+".Consumer";case Xb:return(t._context.displayName||"Context")+".Provider";case Kg:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Gg:return s=t.displayName||null,s!==null?s:Wx(t.type)||"Memo";case Na:s=t._payload,t=t._init;try{return Wx(t(s))}catch{}}return null}function yP(t){var s=t.type;switch(t.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=s.render,t=t.displayName||t.name||"",s.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wx(s);case 8:return s===Wg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function si(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function tN(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function jP(t){var s=tN(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),n=""+t[s];if(!t.hasOwnProperty(s)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return a.call(this)},set:function(l){n=""+l,i.call(this,l)}}),Object.defineProperty(t,s,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function ku(t){t._valueTracker||(t._valueTracker=jP(t))}function sN(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var r=s.getValue(),n="";return t&&(n=tN(t)?t.checked?"true":"false":t.value),t=n,t!==r?(s.setValue(t),!0):!1}function bh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Kx(t,s){var r=s.checked;return Bt({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function dj(t,s){var r=s.defaultValue==null?"":s.defaultValue,n=s.checked!=null?s.checked:s.defaultChecked;r=si(s.value!=null?s.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function rN(t,s){s=s.checked,s!=null&&Hg(t,"checked",s,!1)}function Gx(t,s){rN(t,s);var r=si(s.value),n=s.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}s.hasOwnProperty("value")?Qx(t,s.type,r):s.hasOwnProperty("defaultValue")&&Qx(t,s.type,si(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(t.defaultChecked=!!s.defaultChecked)}function uj(t,s,r){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var n=s.type;if(!(n!=="submit"&&n!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+t._wrapperState.initialValue,r||s===t.value||(t.value=s),t.defaultValue=s}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Qx(t,s,r){(s!=="number"||bh(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Bc=Array.isArray;function Zl(t,s,r,n){if(t=t.options,s){s={};for(var a=0;a<r.length;a++)s["$"+r[a]]=!0;for(r=0;r<t.length;r++)a=s.hasOwnProperty("$"+t[r].value),t[r].selected!==a&&(t[r].selected=a),a&&n&&(t[r].defaultSelected=!0)}else{for(r=""+si(r),s=null,a=0;a<t.length;a++){if(t[a].value===r){t[a].selected=!0,n&&(t[a].defaultSelected=!0);return}s!==null||t[a].disabled||(s=t[a])}s!==null&&(s.selected=!0)}}function Zx(t,s){if(s.dangerouslySetInnerHTML!=null)throw Error(te(91));return Bt({},s,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function hj(t,s){var r=s.value;if(r==null){if(r=s.children,s=s.defaultValue,r!=null){if(s!=null)throw Error(te(92));if(Bc(r)){if(1<r.length)throw Error(te(93));r=r[0]}s=r}s==null&&(s=""),r=s}t._wrapperState={initialValue:si(r)}}function nN(t,s){var r=si(s.value),n=si(s.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),s.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function mj(t){var s=t.textContent;s===t._wrapperState.initialValue&&s!==""&&s!==null&&(t.value=s)}function aN(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yx(t,s){return t==null||t==="http://www.w3.org/1999/xhtml"?aN(s):t==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Cu,iN=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,r,n,a){MSApp.execUnsafeLocalFunction(function(){return t(s,r,n,a)})}:t}(function(t,s){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=s;else{for(Cu=Cu||document.createElement("div"),Cu.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Cu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;s.firstChild;)t.appendChild(s.firstChild)}});function xd(t,s){if(s){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=s;return}}t.textContent=s}var ed={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wP=["Webkit","ms","Moz","O"];Object.keys(ed).forEach(function(t){wP.forEach(function(s){s=s+t.charAt(0).toUpperCase()+t.substring(1),ed[s]=ed[t]})});function lN(t,s,r){return s==null||typeof s=="boolean"||s===""?"":r||typeof s!="number"||s===0||ed.hasOwnProperty(t)&&ed[t]?(""+s).trim():s+"px"}function oN(t,s){t=t.style;for(var r in s)if(s.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=lN(r,s[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,a):t[r]=a}}var bP=Bt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xx(t,s){if(s){if(bP[t]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(te(137,t));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(te(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(te(61))}if(s.style!=null&&typeof s.style!="object")throw Error(te(62))}}function Jx(t,s){if(t.indexOf("-")===-1)return typeof s.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ep=null;function Qg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var tp=null,Yl=null,Xl=null;function fj(t){if(t=Gd(t)){if(typeof tp!="function")throw Error(te(280));var s=t.stateNode;s&&(s=Em(s),tp(t.stateNode,t.type,s))}}function cN(t){Yl?Xl?Xl.push(t):Xl=[t]:Yl=t}function dN(){if(Yl){var t=Yl,s=Xl;if(Xl=Yl=null,fj(t),s)for(t=0;t<s.length;t++)fj(s[t])}}function uN(t,s){return t(s)}function hN(){}var Bf=!1;function mN(t,s,r){if(Bf)return t(s,r);Bf=!0;try{return uN(t,s,r)}finally{Bf=!1,(Yl!==null||Xl!==null)&&(hN(),dN())}}function pd(t,s){var r=t.stateNode;if(r===null)return null;var n=Em(r);if(n===null)return null;r=n[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(te(231,s,typeof r));return r}var sp=!1;if(sa)try{var Cc={};Object.defineProperty(Cc,"passive",{get:function(){sp=!0}}),window.addEventListener("test",Cc,Cc),window.removeEventListener("test",Cc,Cc)}catch{sp=!1}function NP(t,s,r,n,a,i,l,o,c){var d=Array.prototype.slice.call(arguments,3);try{s.apply(r,d)}catch(u){this.onError(u)}}var td=!1,Nh=null,_h=!1,rp=null,_P={onError:function(t){td=!0,Nh=t}};function SP(t,s,r,n,a,i,l,o,c){td=!1,Nh=null,NP.apply(_P,arguments)}function kP(t,s,r,n,a,i,l,o,c){if(SP.apply(this,arguments),td){if(td){var d=Nh;td=!1,Nh=null}else throw Error(te(198));_h||(_h=!0,rp=d)}}function cl(t){var s=t,r=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,s.flags&4098&&(r=s.return),t=s.return;while(t)}return s.tag===3?r:null}function fN(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function xj(t){if(cl(t)!==t)throw Error(te(188))}function CP(t){var s=t.alternate;if(!s){if(s=cl(t),s===null)throw Error(te(188));return s!==t?null:t}for(var r=t,n=s;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return xj(a),t;if(i===n)return xj(a),s;i=i.sibling}throw Error(te(188))}if(r.return!==n.return)r=a,n=i;else{for(var l=!1,o=a.child;o;){if(o===r){l=!0,r=a,n=i;break}if(o===n){l=!0,n=a,r=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===r){l=!0,r=i,n=a;break}if(o===n){l=!0,n=i,r=a;break}o=o.sibling}if(!l)throw Error(te(189))}}if(r.alternate!==n)throw Error(te(190))}if(r.tag!==3)throw Error(te(188));return r.stateNode.current===r?t:s}function xN(t){return t=CP(t),t!==null?pN(t):null}function pN(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var s=pN(t);if(s!==null)return s;t=t.sibling}return null}var gN=vr.unstable_scheduleCallback,pj=vr.unstable_cancelCallback,EP=vr.unstable_shouldYield,TP=vr.unstable_requestPaint,Qt=vr.unstable_now,PP=vr.unstable_getCurrentPriorityLevel,Zg=vr.unstable_ImmediatePriority,vN=vr.unstable_UserBlockingPriority,Sh=vr.unstable_NormalPriority,AP=vr.unstable_LowPriority,yN=vr.unstable_IdlePriority,_m=null,Nn=null;function RP(t){if(Nn&&typeof Nn.onCommitFiberRoot=="function")try{Nn.onCommitFiberRoot(_m,t,void 0,(t.current.flags&128)===128)}catch{}}var en=Math.clz32?Math.clz32:DP,OP=Math.log,IP=Math.LN2;function DP(t){return t>>>=0,t===0?32:31-(OP(t)/IP|0)|0}var Eu=64,Tu=4194304;function qc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function kh(t,s){var r=t.pendingLanes;if(r===0)return 0;var n=0,a=t.suspendedLanes,i=t.pingedLanes,l=r&268435455;if(l!==0){var o=l&~a;o!==0?n=qc(o):(i&=l,i!==0&&(n=qc(i)))}else l=r&~a,l!==0?n=qc(l):i!==0&&(n=qc(i));if(n===0)return 0;if(s!==0&&s!==n&&!(s&a)&&(a=n&-n,i=s&-s,a>=i||a===16&&(i&4194240)!==0))return s;if(n&4&&(n|=r&16),s=t.entangledLanes,s!==0)for(t=t.entanglements,s&=n;0<s;)r=31-en(s),a=1<<r,n|=t[r],s&=~a;return n}function MP(t,s){switch(t){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function LP(t,s){for(var r=t.suspendedLanes,n=t.pingedLanes,a=t.expirationTimes,i=t.pendingLanes;0<i;){var l=31-en(i),o=1<<l,c=a[l];c===-1?(!(o&r)||o&n)&&(a[l]=MP(o,s)):c<=s&&(t.expiredLanes|=o),i&=~o}}function np(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function jN(){var t=Eu;return Eu<<=1,!(Eu&4194240)&&(Eu=64),t}function qf(t){for(var s=[],r=0;31>r;r++)s.push(t);return s}function Wd(t,s,r){t.pendingLanes|=s,s!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,s=31-en(s),t[s]=r}function FP(t,s){var r=t.pendingLanes&~s;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=s,t.mutableReadLanes&=s,t.entangledLanes&=s,s=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var a=31-en(r),i=1<<a;s[a]=0,n[a]=-1,t[a]=-1,r&=~i}}function Yg(t,s){var r=t.entangledLanes|=s;for(t=t.entanglements;r;){var n=31-en(r),a=1<<n;a&s|t[n]&s&&(t[n]|=s),r&=~a}}var xt=0;function wN(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var bN,Xg,NN,_N,SN,ap=!1,Pu=[],qa=null,Ha=null,Wa=null,gd=new Map,vd=new Map,Ca=[],$P="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gj(t,s){switch(t){case"focusin":case"focusout":qa=null;break;case"dragenter":case"dragleave":Ha=null;break;case"mouseover":case"mouseout":Wa=null;break;case"pointerover":case"pointerout":gd.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":vd.delete(s.pointerId)}}function Ec(t,s,r,n,a,i){return t===null||t.nativeEvent!==i?(t={blockedOn:s,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},s!==null&&(s=Gd(s),s!==null&&Xg(s)),t):(t.eventSystemFlags|=n,s=t.targetContainers,a!==null&&s.indexOf(a)===-1&&s.push(a),t)}function UP(t,s,r,n,a){switch(s){case"focusin":return qa=Ec(qa,t,s,r,n,a),!0;case"dragenter":return Ha=Ec(Ha,t,s,r,n,a),!0;case"mouseover":return Wa=Ec(Wa,t,s,r,n,a),!0;case"pointerover":var i=a.pointerId;return gd.set(i,Ec(gd.get(i)||null,t,s,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,vd.set(i,Ec(vd.get(i)||null,t,s,r,n,a)),!0}return!1}function kN(t){var s=Ei(t.target);if(s!==null){var r=cl(s);if(r!==null){if(s=r.tag,s===13){if(s=fN(r),s!==null){t.blockedOn=s,SN(t.priority,function(){NN(r)});return}}else if(s===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sh(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var r=ip(t.domEventName,t.eventSystemFlags,s[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);ep=n,r.target.dispatchEvent(n),ep=null}else return s=Gd(r),s!==null&&Xg(s),t.blockedOn=r,!1;s.shift()}return!0}function vj(t,s,r){sh(t)&&r.delete(s)}function zP(){ap=!1,qa!==null&&sh(qa)&&(qa=null),Ha!==null&&sh(Ha)&&(Ha=null),Wa!==null&&sh(Wa)&&(Wa=null),gd.forEach(vj),vd.forEach(vj)}function Tc(t,s){t.blockedOn===s&&(t.blockedOn=null,ap||(ap=!0,vr.unstable_scheduleCallback(vr.unstable_NormalPriority,zP)))}function yd(t){function s(a){return Tc(a,t)}if(0<Pu.length){Tc(Pu[0],t);for(var r=1;r<Pu.length;r++){var n=Pu[r];n.blockedOn===t&&(n.blockedOn=null)}}for(qa!==null&&Tc(qa,t),Ha!==null&&Tc(Ha,t),Wa!==null&&Tc(Wa,t),gd.forEach(s),vd.forEach(s),r=0;r<Ca.length;r++)n=Ca[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ca.length&&(r=Ca[0],r.blockedOn===null);)kN(r),r.blockedOn===null&&Ca.shift()}var Jl=ha.ReactCurrentBatchConfig,Ch=!0;function VP(t,s,r,n){var a=xt,i=Jl.transition;Jl.transition=null;try{xt=1,Jg(t,s,r,n)}finally{xt=a,Jl.transition=i}}function BP(t,s,r,n){var a=xt,i=Jl.transition;Jl.transition=null;try{xt=4,Jg(t,s,r,n)}finally{xt=a,Jl.transition=i}}function Jg(t,s,r,n){if(Ch){var a=ip(t,s,r,n);if(a===null)ex(t,s,n,Eh,r),gj(t,n);else if(UP(a,t,s,r,n))n.stopPropagation();else if(gj(t,n),s&4&&-1<$P.indexOf(t)){for(;a!==null;){var i=Gd(a);if(i!==null&&bN(i),i=ip(t,s,r,n),i===null&&ex(t,s,n,Eh,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else ex(t,s,n,null,r)}}var Eh=null;function ip(t,s,r,n){if(Eh=null,t=Qg(n),t=Ei(t),t!==null)if(s=cl(t),s===null)t=null;else if(r=s.tag,r===13){if(t=fN(s),t!==null)return t;t=null}else if(r===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null);return Eh=t,null}function CN(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(PP()){case Zg:return 1;case vN:return 4;case Sh:case AP:return 16;case yN:return 536870912;default:return 16}default:return 16}}var za=null,ev=null,rh=null;function EN(){if(rh)return rh;var t,s=ev,r=s.length,n,a="value"in za?za.value:za.textContent,i=a.length;for(t=0;t<r&&s[t]===a[t];t++);var l=r-t;for(n=1;n<=l&&s[r-n]===a[i-n];n++);return rh=a.slice(t,1<n?1-n:void 0)}function nh(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Au(){return!0}function yj(){return!1}function br(t){function s(r,n,a,i,l){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Au:yj,this.isPropagationStopped=yj,this}return Bt(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Au)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Au)},persist:function(){},isPersistent:Au}),s}var Ko={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tv=br(Ko),Kd=Bt({},Ko,{view:0,detail:0}),qP=br(Kd),Hf,Wf,Pc,Sm=Bt({},Kd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Pc&&(Pc&&t.type==="mousemove"?(Hf=t.screenX-Pc.screenX,Wf=t.screenY-Pc.screenY):Wf=Hf=0,Pc=t),Hf)},movementY:function(t){return"movementY"in t?t.movementY:Wf}}),jj=br(Sm),HP=Bt({},Sm,{dataTransfer:0}),WP=br(HP),KP=Bt({},Kd,{relatedTarget:0}),Kf=br(KP),GP=Bt({},Ko,{animationName:0,elapsedTime:0,pseudoElement:0}),QP=br(GP),ZP=Bt({},Ko,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),YP=br(ZP),XP=Bt({},Ko,{data:0}),wj=br(XP),JP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sA(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=tA[t])?!!s[t]:!1}function sv(){return sA}var rA=Bt({},Kd,{key:function(t){if(t.key){var s=JP[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=nh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?eA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sv,charCode:function(t){return t.type==="keypress"?nh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?nh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),nA=br(rA),aA=Bt({},Sm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bj=br(aA),iA=Bt({},Kd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sv}),lA=br(iA),oA=Bt({},Ko,{propertyName:0,elapsedTime:0,pseudoElement:0}),cA=br(oA),dA=Bt({},Sm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),uA=br(dA),hA=[9,13,27,32],rv=sa&&"CompositionEvent"in window,sd=null;sa&&"documentMode"in document&&(sd=document.documentMode);var mA=sa&&"TextEvent"in window&&!sd,TN=sa&&(!rv||sd&&8<sd&&11>=sd),Nj=" ",_j=!1;function PN(t,s){switch(t){case"keyup":return hA.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function AN(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fl=!1;function fA(t,s){switch(t){case"compositionend":return AN(s);case"keypress":return s.which!==32?null:(_j=!0,Nj);case"textInput":return t=s.data,t===Nj&&_j?null:t;default:return null}}function xA(t,s){if(Fl)return t==="compositionend"||!rv&&PN(t,s)?(t=EN(),rh=ev=za=null,Fl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return TN&&s.locale!=="ko"?null:s.data;default:return null}}var pA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sj(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!pA[t.type]:s==="textarea"}function RN(t,s,r,n){cN(n),s=Th(s,"onChange"),0<s.length&&(r=new tv("onChange","change",null,r,n),t.push({event:r,listeners:s}))}var rd=null,jd=null;function gA(t){BN(t,0)}function km(t){var s=zl(t);if(sN(s))return t}function vA(t,s){if(t==="change")return s}var ON=!1;if(sa){var Gf;if(sa){var Qf="oninput"in document;if(!Qf){var kj=document.createElement("div");kj.setAttribute("oninput","return;"),Qf=typeof kj.oninput=="function"}Gf=Qf}else Gf=!1;ON=Gf&&(!document.documentMode||9<document.documentMode)}function Cj(){rd&&(rd.detachEvent("onpropertychange",IN),jd=rd=null)}function IN(t){if(t.propertyName==="value"&&km(jd)){var s=[];RN(s,jd,t,Qg(t)),mN(gA,s)}}function yA(t,s,r){t==="focusin"?(Cj(),rd=s,jd=r,rd.attachEvent("onpropertychange",IN)):t==="focusout"&&Cj()}function jA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return km(jd)}function wA(t,s){if(t==="click")return km(s)}function bA(t,s){if(t==="input"||t==="change")return km(s)}function NA(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var rn=typeof Object.is=="function"?Object.is:NA;function wd(t,s){if(rn(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var r=Object.keys(t),n=Object.keys(s);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Vx.call(s,a)||!rn(t[a],s[a]))return!1}return!0}function Ej(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Tj(t,s){var r=Ej(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=s&&n>=s)return{node:r,offset:s-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ej(r)}}function DN(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?DN(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function MN(){for(var t=window,s=bh();s instanceof t.HTMLIFrameElement;){try{var r=typeof s.contentWindow.location.href=="string"}catch{r=!1}if(r)t=s.contentWindow;else break;s=bh(t.document)}return s}function nv(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}function _A(t){var s=MN(),r=t.focusedElem,n=t.selectionRange;if(s!==r&&r&&r.ownerDocument&&DN(r.ownerDocument.documentElement,r)){if(n!==null&&nv(r)){if(s=n.start,t=n.end,t===void 0&&(t=s),"selectionStart"in r)r.selectionStart=s,r.selectionEnd=Math.min(t,r.value.length);else if(t=(s=r.ownerDocument||document)&&s.defaultView||window,t.getSelection){t=t.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!t.extend&&i>n&&(a=n,n=i,i=a),a=Tj(r,i);var l=Tj(r,n);a&&l&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(s=s.createRange(),s.setStart(a.node,a.offset),t.removeAllRanges(),i>n?(t.addRange(s),t.extend(l.node,l.offset)):(s.setEnd(l.node,l.offset),t.addRange(s)))}}for(s=[],t=r;t=t.parentNode;)t.nodeType===1&&s.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<s.length;r++)t=s[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var SA=sa&&"documentMode"in document&&11>=document.documentMode,$l=null,lp=null,nd=null,op=!1;function Pj(t,s,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;op||$l==null||$l!==bh(n)||(n=$l,"selectionStart"in n&&nv(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),nd&&wd(nd,n)||(nd=n,n=Th(lp,"onSelect"),0<n.length&&(s=new tv("onSelect","select",null,s,r),t.push({event:s,listeners:n}),s.target=$l)))}function Ru(t,s){var r={};return r[t.toLowerCase()]=s.toLowerCase(),r["Webkit"+t]="webkit"+s,r["Moz"+t]="moz"+s,r}var Ul={animationend:Ru("Animation","AnimationEnd"),animationiteration:Ru("Animation","AnimationIteration"),animationstart:Ru("Animation","AnimationStart"),transitionend:Ru("Transition","TransitionEnd")},Zf={},LN={};sa&&(LN=document.createElement("div").style,"AnimationEvent"in window||(delete Ul.animationend.animation,delete Ul.animationiteration.animation,delete Ul.animationstart.animation),"TransitionEvent"in window||delete Ul.transitionend.transition);function Cm(t){if(Zf[t])return Zf[t];if(!Ul[t])return t;var s=Ul[t],r;for(r in s)if(s.hasOwnProperty(r)&&r in LN)return Zf[t]=s[r];return t}var FN=Cm("animationend"),$N=Cm("animationiteration"),UN=Cm("animationstart"),zN=Cm("transitionend"),VN=new Map,Aj="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mi(t,s){VN.set(t,s),ol(s,[t])}for(var Yf=0;Yf<Aj.length;Yf++){var Xf=Aj[Yf],kA=Xf.toLowerCase(),CA=Xf[0].toUpperCase()+Xf.slice(1);mi(kA,"on"+CA)}mi(FN,"onAnimationEnd");mi($N,"onAnimationIteration");mi(UN,"onAnimationStart");mi("dblclick","onDoubleClick");mi("focusin","onFocus");mi("focusout","onBlur");mi(zN,"onTransitionEnd");wo("onMouseEnter",["mouseout","mouseover"]);wo("onMouseLeave",["mouseout","mouseover"]);wo("onPointerEnter",["pointerout","pointerover"]);wo("onPointerLeave",["pointerout","pointerover"]);ol("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ol("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ol("onBeforeInput",["compositionend","keypress","textInput","paste"]);ol("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ol("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ol("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hc));function Rj(t,s,r){var n=t.type||"unknown-event";t.currentTarget=r,kP(n,s,void 0,t),t.currentTarget=null}function BN(t,s){s=(s&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],a=n.event;n=n.listeners;e:{var i=void 0;if(s)for(var l=n.length-1;0<=l;l--){var o=n[l],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==i&&a.isPropagationStopped())break e;Rj(a,o,d),i=c}else for(l=0;l<n.length;l++){if(o=n[l],c=o.instance,d=o.currentTarget,o=o.listener,c!==i&&a.isPropagationStopped())break e;Rj(a,o,d),i=c}}}if(_h)throw t=rp,_h=!1,rp=null,t}function Ct(t,s){var r=s[mp];r===void 0&&(r=s[mp]=new Set);var n=t+"__bubble";r.has(n)||(qN(s,t,2,!1),r.add(n))}function Jf(t,s,r){var n=0;s&&(n|=4),qN(r,t,n,s)}var Ou="_reactListening"+Math.random().toString(36).slice(2);function bd(t){if(!t[Ou]){t[Ou]=!0,Yb.forEach(function(r){r!=="selectionchange"&&(EA.has(r)||Jf(r,!1,t),Jf(r,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Ou]||(s[Ou]=!0,Jf("selectionchange",!1,s))}}function qN(t,s,r,n){switch(CN(s)){case 1:var a=VP;break;case 4:a=BP;break;default:a=Jg}r=a.bind(null,s,r,t),a=void 0,!sp||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(a=!0),n?a!==void 0?t.addEventListener(s,r,{capture:!0,passive:a}):t.addEventListener(s,r,!0):a!==void 0?t.addEventListener(s,r,{passive:a}):t.addEventListener(s,r,!1)}function ex(t,s,r,n,a){var i=n;if(!(s&1)&&!(s&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(l===4)for(l=n.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;l=l.return}for(;o!==null;){if(l=Ei(o),l===null)return;if(c=l.tag,c===5||c===6){n=i=l;continue e}o=o.parentNode}}n=n.return}mN(function(){var d=i,u=Qg(r),m=[];e:{var f=VN.get(t);if(f!==void 0){var x=tv,g=t;switch(t){case"keypress":if(nh(r)===0)break e;case"keydown":case"keyup":x=nA;break;case"focusin":g="focus",x=Kf;break;case"focusout":g="blur",x=Kf;break;case"beforeblur":case"afterblur":x=Kf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=jj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=WP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=lA;break;case FN:case $N:case UN:x=QP;break;case zN:x=cA;break;case"scroll":x=qP;break;case"wheel":x=uA;break;case"copy":case"cut":case"paste":x=YP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=bj}var v=(s&4)!==0,p=!v&&t==="scroll",j=v?f!==null?f+"Capture":null:f;v=[];for(var w=d,y;w!==null;){y=w;var _=y.stateNode;if(y.tag===5&&_!==null&&(y=_,j!==null&&(_=pd(w,j),_!=null&&v.push(Nd(w,_,y)))),p)break;w=w.return}0<v.length&&(f=new x(f,g,null,r,u),m.push({event:f,listeners:v}))}}if(!(s&7)){e:{if(f=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",f&&r!==ep&&(g=r.relatedTarget||r.fromElement)&&(Ei(g)||g[ra]))break e;if((x||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,x?(g=r.relatedTarget||r.toElement,x=d,g=g?Ei(g):null,g!==null&&(p=cl(g),g!==p||g.tag!==5&&g.tag!==6)&&(g=null)):(x=null,g=d),x!==g)){if(v=jj,_="onMouseLeave",j="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(v=bj,_="onPointerLeave",j="onPointerEnter",w="pointer"),p=x==null?f:zl(x),y=g==null?f:zl(g),f=new v(_,w+"leave",x,r,u),f.target=p,f.relatedTarget=y,_=null,Ei(u)===d&&(v=new v(j,w+"enter",g,r,u),v.target=y,v.relatedTarget=p,_=v),p=_,x&&g)t:{for(v=x,j=g,w=0,y=v;y;y=yl(y))w++;for(y=0,_=j;_;_=yl(_))y++;for(;0<w-y;)v=yl(v),w--;for(;0<y-w;)j=yl(j),y--;for(;w--;){if(v===j||j!==null&&v===j.alternate)break t;v=yl(v),j=yl(j)}v=null}else v=null;x!==null&&Oj(m,f,x,v,!1),g!==null&&p!==null&&Oj(m,p,g,v,!0)}}e:{if(f=d?zl(d):window,x=f.nodeName&&f.nodeName.toLowerCase(),x==="select"||x==="input"&&f.type==="file")var b=vA;else if(Sj(f))if(ON)b=bA;else{b=jA;var N=yA}else(x=f.nodeName)&&x.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(b=wA);if(b&&(b=b(t,d))){RN(m,b,r,u);break e}N&&N(t,f,d),t==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&Qx(f,"number",f.value)}switch(N=d?zl(d):window,t){case"focusin":(Sj(N)||N.contentEditable==="true")&&($l=N,lp=d,nd=null);break;case"focusout":nd=lp=$l=null;break;case"mousedown":op=!0;break;case"contextmenu":case"mouseup":case"dragend":op=!1,Pj(m,r,u);break;case"selectionchange":if(SA)break;case"keydown":case"keyup":Pj(m,r,u)}var T;if(rv)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Fl?PN(t,r)&&(A="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(TN&&r.locale!=="ko"&&(Fl||A!=="onCompositionStart"?A==="onCompositionEnd"&&Fl&&(T=EN()):(za=u,ev="value"in za?za.value:za.textContent,Fl=!0)),N=Th(d,A),0<N.length&&(A=new wj(A,t,null,r,u),m.push({event:A,listeners:N}),T?A.data=T:(T=AN(r),T!==null&&(A.data=T)))),(T=mA?fA(t,r):xA(t,r))&&(d=Th(d,"onBeforeInput"),0<d.length&&(u=new wj("onBeforeInput","beforeinput",null,r,u),m.push({event:u,listeners:d}),u.data=T))}BN(m,s)})}function Nd(t,s,r){return{instance:t,listener:s,currentTarget:r}}function Th(t,s){for(var r=s+"Capture",n=[];t!==null;){var a=t,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=pd(t,r),i!=null&&n.unshift(Nd(t,i,a)),i=pd(t,s),i!=null&&n.push(Nd(t,i,a))),t=t.return}return n}function yl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Oj(t,s,r,n,a){for(var i=s._reactName,l=[];r!==null&&r!==n;){var o=r,c=o.alternate,d=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&d!==null&&(o=d,a?(c=pd(r,i),c!=null&&l.unshift(Nd(r,c,o))):a||(c=pd(r,i),c!=null&&l.push(Nd(r,c,o)))),r=r.return}l.length!==0&&t.push({event:s,listeners:l})}var TA=/\r\n?/g,PA=/\u0000|\uFFFD/g;function Ij(t){return(typeof t=="string"?t:""+t).replace(TA,`
`).replace(PA,"")}function Iu(t,s,r){if(s=Ij(s),Ij(t)!==s&&r)throw Error(te(425))}function Ph(){}var cp=null,dp=null;function up(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var hp=typeof setTimeout=="function"?setTimeout:void 0,AA=typeof clearTimeout=="function"?clearTimeout:void 0,Dj=typeof Promise=="function"?Promise:void 0,RA=typeof queueMicrotask=="function"?queueMicrotask:typeof Dj<"u"?function(t){return Dj.resolve(null).then(t).catch(OA)}:hp;function OA(t){setTimeout(function(){throw t})}function tx(t,s){var r=s,n=0;do{var a=r.nextSibling;if(t.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){t.removeChild(a),yd(s);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);yd(s)}function Ka(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return t}function Mj(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(s===0)return t;s--}else r==="/$"&&s++}t=t.previousSibling}return null}var Go=Math.random().toString(36).slice(2),pn="__reactFiber$"+Go,_d="__reactProps$"+Go,ra="__reactContainer$"+Go,mp="__reactEvents$"+Go,IA="__reactListeners$"+Go,DA="__reactHandles$"+Go;function Ei(t){var s=t[pn];if(s)return s;for(var r=t.parentNode;r;){if(s=r[ra]||r[pn]){if(r=s.alternate,s.child!==null||r!==null&&r.child!==null)for(t=Mj(t);t!==null;){if(r=t[pn])return r;t=Mj(t)}return s}t=r,r=t.parentNode}return null}function Gd(t){return t=t[pn]||t[ra],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function zl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(te(33))}function Em(t){return t[_d]||null}var fp=[],Vl=-1;function fi(t){return{current:t}}function At(t){0>Vl||(t.current=fp[Vl],fp[Vl]=null,Vl--)}function _t(t,s){Vl++,fp[Vl]=t.current,t.current=s}var ri={},Is=fi(ri),ar=fi(!1),qi=ri;function bo(t,s){var r=t.type.contextTypes;if(!r)return ri;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===s)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=s[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=a),a}function ir(t){return t=t.childContextTypes,t!=null}function Ah(){At(ar),At(Is)}function Lj(t,s,r){if(Is.current!==ri)throw Error(te(168));_t(Is,s),_t(ar,r)}function HN(t,s,r){var n=t.stateNode;if(s=s.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in s))throw Error(te(108,yP(t)||"Unknown",a));return Bt({},r,n)}function Rh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ri,qi=Is.current,_t(Is,t),_t(ar,ar.current),!0}function Fj(t,s,r){var n=t.stateNode;if(!n)throw Error(te(169));r?(t=HN(t,s,qi),n.__reactInternalMemoizedMergedChildContext=t,At(ar),At(Is),_t(Is,t)):At(ar),_t(ar,r)}var Vn=null,Tm=!1,sx=!1;function WN(t){Vn===null?Vn=[t]:Vn.push(t)}function MA(t){Tm=!0,WN(t)}function xi(){if(!sx&&Vn!==null){sx=!0;var t=0,s=xt;try{var r=Vn;for(xt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Vn=null,Tm=!1}catch(a){throw Vn!==null&&(Vn=Vn.slice(t+1)),gN(Zg,xi),a}finally{xt=s,sx=!1}}return null}var Bl=[],ql=0,Oh=null,Ih=0,Cr=[],Er=0,Hi=null,Hn=1,Wn="";function _i(t,s){Bl[ql++]=Ih,Bl[ql++]=Oh,Oh=t,Ih=s}function KN(t,s,r){Cr[Er++]=Hn,Cr[Er++]=Wn,Cr[Er++]=Hi,Hi=t;var n=Hn;t=Wn;var a=32-en(n)-1;n&=~(1<<a),r+=1;var i=32-en(s)+a;if(30<i){var l=a-a%5;i=(n&(1<<l)-1).toString(32),n>>=l,a-=l,Hn=1<<32-en(s)+a|r<<a|n,Wn=i+t}else Hn=1<<i|r<<a|n,Wn=t}function av(t){t.return!==null&&(_i(t,1),KN(t,1,0))}function iv(t){for(;t===Oh;)Oh=Bl[--ql],Bl[ql]=null,Ih=Bl[--ql],Bl[ql]=null;for(;t===Hi;)Hi=Cr[--Er],Cr[Er]=null,Wn=Cr[--Er],Cr[Er]=null,Hn=Cr[--Er],Cr[Er]=null}var pr=null,fr=null,Dt=!1,Qr=null;function GN(t,s){var r=Ar(5,null,null,0);r.elementType="DELETED",r.stateNode=s,r.return=t,s=t.deletions,s===null?(t.deletions=[r],t.flags|=16):s.push(r)}function $j(t,s){switch(t.tag){case 5:var r=t.type;return s=s.nodeType!==1||r.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(t.stateNode=s,pr=t,fr=Ka(s.firstChild),!0):!1;case 6:return s=t.pendingProps===""||s.nodeType!==3?null:s,s!==null?(t.stateNode=s,pr=t,fr=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(r=Hi!==null?{id:Hn,overflow:Wn}:null,t.memoizedState={dehydrated:s,treeContext:r,retryLane:1073741824},r=Ar(18,null,null,0),r.stateNode=s,r.return=t,t.child=r,pr=t,fr=null,!0):!1;default:return!1}}function xp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function pp(t){if(Dt){var s=fr;if(s){var r=s;if(!$j(t,s)){if(xp(t))throw Error(te(418));s=Ka(r.nextSibling);var n=pr;s&&$j(t,s)?GN(n,r):(t.flags=t.flags&-4097|2,Dt=!1,pr=t)}}else{if(xp(t))throw Error(te(418));t.flags=t.flags&-4097|2,Dt=!1,pr=t}}}function Uj(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;pr=t}function Du(t){if(t!==pr)return!1;if(!Dt)return Uj(t),Dt=!0,!1;var s;if((s=t.tag!==3)&&!(s=t.tag!==5)&&(s=t.type,s=s!=="head"&&s!=="body"&&!up(t.type,t.memoizedProps)),s&&(s=fr)){if(xp(t))throw QN(),Error(te(418));for(;s;)GN(t,s),s=Ka(s.nextSibling)}if(Uj(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(te(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(s===0){fr=Ka(t.nextSibling);break e}s--}else r!=="$"&&r!=="$!"&&r!=="$?"||s++}t=t.nextSibling}fr=null}}else fr=pr?Ka(t.stateNode.nextSibling):null;return!0}function QN(){for(var t=fr;t;)t=Ka(t.nextSibling)}function No(){fr=pr=null,Dt=!1}function lv(t){Qr===null?Qr=[t]:Qr.push(t)}var LA=ha.ReactCurrentBatchConfig;function Ac(t,s,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(te(309));var n=r.stateNode}if(!n)throw Error(te(147,t));var a=n,i=""+t;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===i?s.ref:(s=function(l){var o=a.refs;l===null?delete o[i]:o[i]=l},s._stringRef=i,s)}if(typeof t!="string")throw Error(te(284));if(!r._owner)throw Error(te(290,t))}return t}function Mu(t,s){throw t=Object.prototype.toString.call(s),Error(te(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t))}function zj(t){var s=t._init;return s(t._payload)}function ZN(t){function s(j,w){if(t){var y=j.deletions;y===null?(j.deletions=[w],j.flags|=16):y.push(w)}}function r(j,w){if(!t)return null;for(;w!==null;)s(j,w),w=w.sibling;return null}function n(j,w){for(j=new Map;w!==null;)w.key!==null?j.set(w.key,w):j.set(w.index,w),w=w.sibling;return j}function a(j,w){return j=Ya(j,w),j.index=0,j.sibling=null,j}function i(j,w,y){return j.index=y,t?(y=j.alternate,y!==null?(y=y.index,y<w?(j.flags|=2,w):y):(j.flags|=2,w)):(j.flags|=1048576,w)}function l(j){return t&&j.alternate===null&&(j.flags|=2),j}function o(j,w,y,_){return w===null||w.tag!==6?(w=cx(y,j.mode,_),w.return=j,w):(w=a(w,y),w.return=j,w)}function c(j,w,y,_){var b=y.type;return b===Ll?u(j,w,y.props.children,_,y.key):w!==null&&(w.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Na&&zj(b)===w.type)?(_=a(w,y.props),_.ref=Ac(j,w,y),_.return=j,_):(_=uh(y.type,y.key,y.props,null,j.mode,_),_.ref=Ac(j,w,y),_.return=j,_)}function d(j,w,y,_){return w===null||w.tag!==4||w.stateNode.containerInfo!==y.containerInfo||w.stateNode.implementation!==y.implementation?(w=dx(y,j.mode,_),w.return=j,w):(w=a(w,y.children||[]),w.return=j,w)}function u(j,w,y,_,b){return w===null||w.tag!==7?(w=Vi(y,j.mode,_,b),w.return=j,w):(w=a(w,y),w.return=j,w)}function m(j,w,y){if(typeof w=="string"&&w!==""||typeof w=="number")return w=cx(""+w,j.mode,y),w.return=j,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Su:return y=uh(w.type,w.key,w.props,null,j.mode,y),y.ref=Ac(j,null,w),y.return=j,y;case Ml:return w=dx(w,j.mode,y),w.return=j,w;case Na:var _=w._init;return m(j,_(w._payload),y)}if(Bc(w)||kc(w))return w=Vi(w,j.mode,y,null),w.return=j,w;Mu(j,w)}return null}function f(j,w,y,_){var b=w!==null?w.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return b!==null?null:o(j,w,""+y,_);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Su:return y.key===b?c(j,w,y,_):null;case Ml:return y.key===b?d(j,w,y,_):null;case Na:return b=y._init,f(j,w,b(y._payload),_)}if(Bc(y)||kc(y))return b!==null?null:u(j,w,y,_,null);Mu(j,y)}return null}function x(j,w,y,_,b){if(typeof _=="string"&&_!==""||typeof _=="number")return j=j.get(y)||null,o(w,j,""+_,b);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Su:return j=j.get(_.key===null?y:_.key)||null,c(w,j,_,b);case Ml:return j=j.get(_.key===null?y:_.key)||null,d(w,j,_,b);case Na:var N=_._init;return x(j,w,y,N(_._payload),b)}if(Bc(_)||kc(_))return j=j.get(y)||null,u(w,j,_,b,null);Mu(w,_)}return null}function g(j,w,y,_){for(var b=null,N=null,T=w,A=w=0,S=null;T!==null&&A<y.length;A++){T.index>A?(S=T,T=null):S=T.sibling;var P=f(j,T,y[A],_);if(P===null){T===null&&(T=S);break}t&&T&&P.alternate===null&&s(j,T),w=i(P,w,A),N===null?b=P:N.sibling=P,N=P,T=S}if(A===y.length)return r(j,T),Dt&&_i(j,A),b;if(T===null){for(;A<y.length;A++)T=m(j,y[A],_),T!==null&&(w=i(T,w,A),N===null?b=T:N.sibling=T,N=T);return Dt&&_i(j,A),b}for(T=n(j,T);A<y.length;A++)S=x(T,j,A,y[A],_),S!==null&&(t&&S.alternate!==null&&T.delete(S.key===null?A:S.key),w=i(S,w,A),N===null?b=S:N.sibling=S,N=S);return t&&T.forEach(function(C){return s(j,C)}),Dt&&_i(j,A),b}function v(j,w,y,_){var b=kc(y);if(typeof b!="function")throw Error(te(150));if(y=b.call(y),y==null)throw Error(te(151));for(var N=b=null,T=w,A=w=0,S=null,P=y.next();T!==null&&!P.done;A++,P=y.next()){T.index>A?(S=T,T=null):S=T.sibling;var C=f(j,T,P.value,_);if(C===null){T===null&&(T=S);break}t&&T&&C.alternate===null&&s(j,T),w=i(C,w,A),N===null?b=C:N.sibling=C,N=C,T=S}if(P.done)return r(j,T),Dt&&_i(j,A),b;if(T===null){for(;!P.done;A++,P=y.next())P=m(j,P.value,_),P!==null&&(w=i(P,w,A),N===null?b=P:N.sibling=P,N=P);return Dt&&_i(j,A),b}for(T=n(j,T);!P.done;A++,P=y.next())P=x(T,j,A,P.value,_),P!==null&&(t&&P.alternate!==null&&T.delete(P.key===null?A:P.key),w=i(P,w,A),N===null?b=P:N.sibling=P,N=P);return t&&T.forEach(function(R){return s(j,R)}),Dt&&_i(j,A),b}function p(j,w,y,_){if(typeof y=="object"&&y!==null&&y.type===Ll&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Su:e:{for(var b=y.key,N=w;N!==null;){if(N.key===b){if(b=y.type,b===Ll){if(N.tag===7){r(j,N.sibling),w=a(N,y.props.children),w.return=j,j=w;break e}}else if(N.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Na&&zj(b)===N.type){r(j,N.sibling),w=a(N,y.props),w.ref=Ac(j,N,y),w.return=j,j=w;break e}r(j,N);break}else s(j,N);N=N.sibling}y.type===Ll?(w=Vi(y.props.children,j.mode,_,y.key),w.return=j,j=w):(_=uh(y.type,y.key,y.props,null,j.mode,_),_.ref=Ac(j,w,y),_.return=j,j=_)}return l(j);case Ml:e:{for(N=y.key;w!==null;){if(w.key===N)if(w.tag===4&&w.stateNode.containerInfo===y.containerInfo&&w.stateNode.implementation===y.implementation){r(j,w.sibling),w=a(w,y.children||[]),w.return=j,j=w;break e}else{r(j,w);break}else s(j,w);w=w.sibling}w=dx(y,j.mode,_),w.return=j,j=w}return l(j);case Na:return N=y._init,p(j,w,N(y._payload),_)}if(Bc(y))return g(j,w,y,_);if(kc(y))return v(j,w,y,_);Mu(j,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,w!==null&&w.tag===6?(r(j,w.sibling),w=a(w,y),w.return=j,j=w):(r(j,w),w=cx(y,j.mode,_),w.return=j,j=w),l(j)):r(j,w)}return p}var _o=ZN(!0),YN=ZN(!1),Dh=fi(null),Mh=null,Hl=null,ov=null;function cv(){ov=Hl=Mh=null}function dv(t){var s=Dh.current;At(Dh),t._currentValue=s}function gp(t,s,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,n!==null&&(n.childLanes|=s)):n!==null&&(n.childLanes&s)!==s&&(n.childLanes|=s),t===r)break;t=t.return}}function eo(t,s){Mh=t,ov=Hl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&s&&(nr=!0),t.firstContext=null)}function Mr(t){var s=t._currentValue;if(ov!==t)if(t={context:t,memoizedValue:s,next:null},Hl===null){if(Mh===null)throw Error(te(308));Hl=t,Mh.dependencies={lanes:0,firstContext:t}}else Hl=Hl.next=t;return s}var Ti=null;function uv(t){Ti===null?Ti=[t]:Ti.push(t)}function XN(t,s,r,n){var a=s.interleaved;return a===null?(r.next=r,uv(s)):(r.next=a.next,a.next=r),s.interleaved=r,na(t,n)}function na(t,s){t.lanes|=s;var r=t.alternate;for(r!==null&&(r.lanes|=s),r=t,t=t.return;t!==null;)t.childLanes|=s,r=t.alternate,r!==null&&(r.childLanes|=s),r=t,t=t.return;return r.tag===3?r.stateNode:null}var _a=!1;function hv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function JN(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Qn(t,s){return{eventTime:t,lane:s,tag:0,payload:null,callback:null,next:null}}function Ga(t,s,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,st&2){var a=n.pending;return a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s,na(t,r)}return a=n.interleaved,a===null?(s.next=s,uv(n)):(s.next=a.next,a.next=s),n.interleaved=s,na(t,r)}function ah(t,s,r){if(s=s.updateQueue,s!==null&&(s=s.shared,(r&4194240)!==0)){var n=s.lanes;n&=t.pendingLanes,r|=n,s.lanes=r,Yg(t,r)}}function Vj(t,s){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=l:i=i.next=l,r=r.next}while(r!==null);i===null?a=i=s:i=i.next=s}else a=i=s;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=s:t.next=s,r.lastBaseUpdate=s}function Lh(t,s,r,n){var a=t.updateQueue;_a=!1;var i=a.firstBaseUpdate,l=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,d=c.next;c.next=null,l===null?i=d:l.next=d,l=c;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==l&&(o===null?u.firstBaseUpdate=d:o.next=d,u.lastBaseUpdate=c))}if(i!==null){var m=a.baseState;l=0,u=d=c=null,o=i;do{var f=o.lane,x=o.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:x,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=t,v=o;switch(f=s,x=r,v.tag){case 1:if(g=v.payload,typeof g=="function"){m=g.call(x,m,f);break e}m=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,f=typeof g=="function"?g.call(x,m,f):g,f==null)break e;m=Bt({},m,f);break e;case 2:_a=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=a.effects,f===null?a.effects=[o]:f.push(o))}else x={eventTime:x,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(d=u=x,c=m):u=u.next=x,l|=f;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;f=o,o=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(!0);if(u===null&&(c=m),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,s=a.shared.interleaved,s!==null){a=s;do l|=a.lane,a=a.next;while(a!==s)}else i===null&&(a.shared.lanes=0);Ki|=l,t.lanes=l,t.memoizedState=m}}function Bj(t,s,r){if(t=s.effects,s.effects=null,t!==null)for(s=0;s<t.length;s++){var n=t[s],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(te(191,a));a.call(n)}}}var Qd={},_n=fi(Qd),Sd=fi(Qd),kd=fi(Qd);function Pi(t){if(t===Qd)throw Error(te(174));return t}function mv(t,s){switch(_t(kd,s),_t(Sd,t),_t(_n,Qd),t=s.nodeType,t){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Yx(null,"");break;default:t=t===8?s.parentNode:s,s=t.namespaceURI||null,t=t.tagName,s=Yx(s,t)}At(_n),_t(_n,s)}function So(){At(_n),At(Sd),At(kd)}function e1(t){Pi(kd.current);var s=Pi(_n.current),r=Yx(s,t.type);s!==r&&(_t(Sd,t),_t(_n,r))}function fv(t){Sd.current===t&&(At(_n),At(Sd))}var Ut=fi(0);function Fh(t){for(var s=t;s!==null;){if(s.tag===13){var r=s.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var rx=[];function xv(){for(var t=0;t<rx.length;t++)rx[t]._workInProgressVersionPrimary=null;rx.length=0}var ih=ha.ReactCurrentDispatcher,nx=ha.ReactCurrentBatchConfig,Wi=0,Vt=null,os=null,ps=null,$h=!1,ad=!1,Cd=0,FA=0;function Ss(){throw Error(te(321))}function pv(t,s){if(s===null)return!1;for(var r=0;r<s.length&&r<t.length;r++)if(!rn(t[r],s[r]))return!1;return!0}function gv(t,s,r,n,a,i){if(Wi=i,Vt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ih.current=t===null||t.memoizedState===null?VA:BA,t=r(n,a),ad){i=0;do{if(ad=!1,Cd=0,25<=i)throw Error(te(301));i+=1,ps=os=null,s.updateQueue=null,ih.current=qA,t=r(n,a)}while(ad)}if(ih.current=Uh,s=os!==null&&os.next!==null,Wi=0,ps=os=Vt=null,$h=!1,s)throw Error(te(300));return t}function vv(){var t=Cd!==0;return Cd=0,t}function hn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ps===null?Vt.memoizedState=ps=t:ps=ps.next=t,ps}function Lr(){if(os===null){var t=Vt.alternate;t=t!==null?t.memoizedState:null}else t=os.next;var s=ps===null?Vt.memoizedState:ps.next;if(s!==null)ps=s,os=t;else{if(t===null)throw Error(te(310));os=t,t={memoizedState:os.memoizedState,baseState:os.baseState,baseQueue:os.baseQueue,queue:os.queue,next:null},ps===null?Vt.memoizedState=ps=t:ps=ps.next=t}return ps}function Ed(t,s){return typeof s=="function"?s(t):s}function ax(t){var s=Lr(),r=s.queue;if(r===null)throw Error(te(311));r.lastRenderedReducer=t;var n=os,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var l=a.next;a.next=i.next,i.next=l}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=l=null,c=null,d=i;do{var u=d.lane;if((Wi&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:t(n,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=m,l=n):c=c.next=m,Vt.lanes|=u,Ki|=u}d=d.next}while(d!==null&&d!==i);c===null?l=n:c.next=o,rn(n,s.memoizedState)||(nr=!0),s.memoizedState=n,s.baseState=l,s.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){a=t;do i=a.lane,Vt.lanes|=i,Ki|=i,a=a.next;while(a!==t)}else a===null&&(r.lanes=0);return[s.memoizedState,r.dispatch]}function ix(t){var s=Lr(),r=s.queue;if(r===null)throw Error(te(311));r.lastRenderedReducer=t;var n=r.dispatch,a=r.pending,i=s.memoizedState;if(a!==null){r.pending=null;var l=a=a.next;do i=t(i,l.action),l=l.next;while(l!==a);rn(i,s.memoizedState)||(nr=!0),s.memoizedState=i,s.baseQueue===null&&(s.baseState=i),r.lastRenderedState=i}return[i,n]}function t1(){}function s1(t,s){var r=Vt,n=Lr(),a=s(),i=!rn(n.memoizedState,a);if(i&&(n.memoizedState=a,nr=!0),n=n.queue,yv(a1.bind(null,r,n,t),[t]),n.getSnapshot!==s||i||ps!==null&&ps.memoizedState.tag&1){if(r.flags|=2048,Td(9,n1.bind(null,r,n,a,s),void 0,null),gs===null)throw Error(te(349));Wi&30||r1(r,s,a)}return a}function r1(t,s,r){t.flags|=16384,t={getSnapshot:s,value:r},s=Vt.updateQueue,s===null?(s={lastEffect:null,stores:null},Vt.updateQueue=s,s.stores=[t]):(r=s.stores,r===null?s.stores=[t]:r.push(t))}function n1(t,s,r,n){s.value=r,s.getSnapshot=n,i1(s)&&l1(t)}function a1(t,s,r){return r(function(){i1(s)&&l1(t)})}function i1(t){var s=t.getSnapshot;t=t.value;try{var r=s();return!rn(t,r)}catch{return!0}}function l1(t){var s=na(t,1);s!==null&&tn(s,t,1,-1)}function qj(t){var s=hn();return typeof t=="function"&&(t=t()),s.memoizedState=s.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ed,lastRenderedState:t},s.queue=t,t=t.dispatch=zA.bind(null,Vt,t),[s.memoizedState,t]}function Td(t,s,r,n){return t={tag:t,create:s,destroy:r,deps:n,next:null},s=Vt.updateQueue,s===null?(s={lastEffect:null,stores:null},Vt.updateQueue=s,s.lastEffect=t.next=t):(r=s.lastEffect,r===null?s.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,s.lastEffect=t)),t}function o1(){return Lr().memoizedState}function lh(t,s,r,n){var a=hn();Vt.flags|=t,a.memoizedState=Td(1|s,r,void 0,n===void 0?null:n)}function Pm(t,s,r,n){var a=Lr();n=n===void 0?null:n;var i=void 0;if(os!==null){var l=os.memoizedState;if(i=l.destroy,n!==null&&pv(n,l.deps)){a.memoizedState=Td(s,r,i,n);return}}Vt.flags|=t,a.memoizedState=Td(1|s,r,i,n)}function Hj(t,s){return lh(8390656,8,t,s)}function yv(t,s){return Pm(2048,8,t,s)}function c1(t,s){return Pm(4,2,t,s)}function d1(t,s){return Pm(4,4,t,s)}function u1(t,s){if(typeof s=="function")return t=t(),s(t),function(){s(null)};if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function h1(t,s,r){return r=r!=null?r.concat([t]):null,Pm(4,4,u1.bind(null,s,t),r)}function jv(){}function m1(t,s){var r=Lr();s=s===void 0?null:s;var n=r.memoizedState;return n!==null&&s!==null&&pv(s,n[1])?n[0]:(r.memoizedState=[t,s],t)}function f1(t,s){var r=Lr();s=s===void 0?null:s;var n=r.memoizedState;return n!==null&&s!==null&&pv(s,n[1])?n[0]:(t=t(),r.memoizedState=[t,s],t)}function x1(t,s,r){return Wi&21?(rn(r,s)||(r=jN(),Vt.lanes|=r,Ki|=r,t.baseState=!0),s):(t.baseState&&(t.baseState=!1,nr=!0),t.memoizedState=r)}function $A(t,s){var r=xt;xt=r!==0&&4>r?r:4,t(!0);var n=nx.transition;nx.transition={};try{t(!1),s()}finally{xt=r,nx.transition=n}}function p1(){return Lr().memoizedState}function UA(t,s,r){var n=Za(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},g1(t))v1(s,r);else if(r=XN(t,s,r,n),r!==null){var a=Hs();tn(r,t,n,a),y1(r,s,n)}}function zA(t,s,r){var n=Za(t),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(g1(t))v1(s,a);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=s.lastRenderedReducer,i!==null))try{var l=s.lastRenderedState,o=i(l,r);if(a.hasEagerState=!0,a.eagerState=o,rn(o,l)){var c=s.interleaved;c===null?(a.next=a,uv(s)):(a.next=c.next,c.next=a),s.interleaved=a;return}}catch{}finally{}r=XN(t,s,a,n),r!==null&&(a=Hs(),tn(r,t,n,a),y1(r,s,n))}}function g1(t){var s=t.alternate;return t===Vt||s!==null&&s===Vt}function v1(t,s){ad=$h=!0;var r=t.pending;r===null?s.next=s:(s.next=r.next,r.next=s),t.pending=s}function y1(t,s,r){if(r&4194240){var n=s.lanes;n&=t.pendingLanes,r|=n,s.lanes=r,Yg(t,r)}}var Uh={readContext:Mr,useCallback:Ss,useContext:Ss,useEffect:Ss,useImperativeHandle:Ss,useInsertionEffect:Ss,useLayoutEffect:Ss,useMemo:Ss,useReducer:Ss,useRef:Ss,useState:Ss,useDebugValue:Ss,useDeferredValue:Ss,useTransition:Ss,useMutableSource:Ss,useSyncExternalStore:Ss,useId:Ss,unstable_isNewReconciler:!1},VA={readContext:Mr,useCallback:function(t,s){return hn().memoizedState=[t,s===void 0?null:s],t},useContext:Mr,useEffect:Hj,useImperativeHandle:function(t,s,r){return r=r!=null?r.concat([t]):null,lh(4194308,4,u1.bind(null,s,t),r)},useLayoutEffect:function(t,s){return lh(4194308,4,t,s)},useInsertionEffect:function(t,s){return lh(4,2,t,s)},useMemo:function(t,s){var r=hn();return s=s===void 0?null:s,t=t(),r.memoizedState=[t,s],t},useReducer:function(t,s,r){var n=hn();return s=r!==void 0?r(s):s,n.memoizedState=n.baseState=s,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},n.queue=t,t=t.dispatch=UA.bind(null,Vt,t),[n.memoizedState,t]},useRef:function(t){var s=hn();return t={current:t},s.memoizedState=t},useState:qj,useDebugValue:jv,useDeferredValue:function(t){return hn().memoizedState=t},useTransition:function(){var t=qj(!1),s=t[0];return t=$A.bind(null,t[1]),hn().memoizedState=t,[s,t]},useMutableSource:function(){},useSyncExternalStore:function(t,s,r){var n=Vt,a=hn();if(Dt){if(r===void 0)throw Error(te(407));r=r()}else{if(r=s(),gs===null)throw Error(te(349));Wi&30||r1(n,s,r)}a.memoizedState=r;var i={value:r,getSnapshot:s};return a.queue=i,Hj(a1.bind(null,n,i,t),[t]),n.flags|=2048,Td(9,n1.bind(null,n,i,r,s),void 0,null),r},useId:function(){var t=hn(),s=gs.identifierPrefix;if(Dt){var r=Wn,n=Hn;r=(n&~(1<<32-en(n)-1)).toString(32)+r,s=":"+s+"R"+r,r=Cd++,0<r&&(s+="H"+r.toString(32)),s+=":"}else r=FA++,s=":"+s+"r"+r.toString(32)+":";return t.memoizedState=s},unstable_isNewReconciler:!1},BA={readContext:Mr,useCallback:m1,useContext:Mr,useEffect:yv,useImperativeHandle:h1,useInsertionEffect:c1,useLayoutEffect:d1,useMemo:f1,useReducer:ax,useRef:o1,useState:function(){return ax(Ed)},useDebugValue:jv,useDeferredValue:function(t){var s=Lr();return x1(s,os.memoizedState,t)},useTransition:function(){var t=ax(Ed)[0],s=Lr().memoizedState;return[t,s]},useMutableSource:t1,useSyncExternalStore:s1,useId:p1,unstable_isNewReconciler:!1},qA={readContext:Mr,useCallback:m1,useContext:Mr,useEffect:yv,useImperativeHandle:h1,useInsertionEffect:c1,useLayoutEffect:d1,useMemo:f1,useReducer:ix,useRef:o1,useState:function(){return ix(Ed)},useDebugValue:jv,useDeferredValue:function(t){var s=Lr();return os===null?s.memoizedState=t:x1(s,os.memoizedState,t)},useTransition:function(){var t=ix(Ed)[0],s=Lr().memoizedState;return[t,s]},useMutableSource:t1,useSyncExternalStore:s1,useId:p1,unstable_isNewReconciler:!1};function qr(t,s){if(t&&t.defaultProps){s=Bt({},s),t=t.defaultProps;for(var r in t)s[r]===void 0&&(s[r]=t[r]);return s}return s}function vp(t,s,r,n){s=t.memoizedState,r=r(n,s),r=r==null?s:Bt({},s,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Am={isMounted:function(t){return(t=t._reactInternals)?cl(t)===t:!1},enqueueSetState:function(t,s,r){t=t._reactInternals;var n=Hs(),a=Za(t),i=Qn(n,a);i.payload=s,r!=null&&(i.callback=r),s=Ga(t,i,a),s!==null&&(tn(s,t,a,n),ah(s,t,a))},enqueueReplaceState:function(t,s,r){t=t._reactInternals;var n=Hs(),a=Za(t),i=Qn(n,a);i.tag=1,i.payload=s,r!=null&&(i.callback=r),s=Ga(t,i,a),s!==null&&(tn(s,t,a,n),ah(s,t,a))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var r=Hs(),n=Za(t),a=Qn(r,n);a.tag=2,s!=null&&(a.callback=s),s=Ga(t,a,n),s!==null&&(tn(s,t,n,r),ah(s,t,n))}};function Wj(t,s,r,n,a,i,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,l):s.prototype&&s.prototype.isPureReactComponent?!wd(r,n)||!wd(a,i):!0}function j1(t,s,r){var n=!1,a=ri,i=s.contextType;return typeof i=="object"&&i!==null?i=Mr(i):(a=ir(s)?qi:Is.current,n=s.contextTypes,i=(n=n!=null)?bo(t,a):ri),s=new s(r,i),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Am,t.stateNode=s,s._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=i),s}function Kj(t,s,r,n){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(r,n),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(r,n),s.state!==t&&Am.enqueueReplaceState(s,s.state,null)}function yp(t,s,r,n){var a=t.stateNode;a.props=r,a.state=t.memoizedState,a.refs={},hv(t);var i=s.contextType;typeof i=="object"&&i!==null?a.context=Mr(i):(i=ir(s)?qi:Is.current,a.context=bo(t,i)),a.state=t.memoizedState,i=s.getDerivedStateFromProps,typeof i=="function"&&(vp(t,s,i,r),a.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&Am.enqueueReplaceState(a,a.state,null),Lh(t,r,a,n),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function ko(t,s){try{var r="",n=s;do r+=vP(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:s,stack:a,digest:null}}function lx(t,s,r){return{value:t,source:null,stack:r??null,digest:s??null}}function jp(t,s){try{console.error(s.value)}catch(r){setTimeout(function(){throw r})}}var HA=typeof WeakMap=="function"?WeakMap:Map;function w1(t,s,r){r=Qn(-1,r),r.tag=3,r.payload={element:null};var n=s.value;return r.callback=function(){Vh||(Vh=!0,Pp=n),jp(t,s)},r}function b1(t,s,r){r=Qn(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var a=s.value;r.payload=function(){return n(a)},r.callback=function(){jp(t,s)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){jp(t,s),typeof n!="function"&&(Qa===null?Qa=new Set([this]):Qa.add(this));var l=s.stack;this.componentDidCatch(s.value,{componentStack:l!==null?l:""})}),r}function Gj(t,s,r){var n=t.pingCache;if(n===null){n=t.pingCache=new HA;var a=new Set;n.set(s,a)}else a=n.get(s),a===void 0&&(a=new Set,n.set(s,a));a.has(r)||(a.add(r),t=aR.bind(null,t,s,r),s.then(t,t))}function Qj(t){do{var s;if((s=t.tag===13)&&(s=t.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return t;t=t.return}while(t!==null);return null}function Zj(t,s,r,n,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===s?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(s=Qn(-1,1),s.tag=2,Ga(r,s,1))),r.lanes|=1),t)}var WA=ha.ReactCurrentOwner,nr=!1;function Us(t,s,r,n){s.child=t===null?YN(s,null,r,n):_o(s,t.child,r,n)}function Yj(t,s,r,n,a){r=r.render;var i=s.ref;return eo(s,a),n=gv(t,s,r,n,i,a),r=vv(),t!==null&&!nr?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a,aa(t,s,a)):(Dt&&r&&av(s),s.flags|=1,Us(t,s,n,a),s.child)}function Xj(t,s,r,n,a){if(t===null){var i=r.type;return typeof i=="function"&&!Ev(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(s.tag=15,s.type=i,N1(t,s,i,n,a)):(t=uh(r.type,null,n,s,s.mode,a),t.ref=s.ref,t.return=s,s.child=t)}if(i=t.child,!(t.lanes&a)){var l=i.memoizedProps;if(r=r.compare,r=r!==null?r:wd,r(l,n)&&t.ref===s.ref)return aa(t,s,a)}return s.flags|=1,t=Ya(i,n),t.ref=s.ref,t.return=s,s.child=t}function N1(t,s,r,n,a){if(t!==null){var i=t.memoizedProps;if(wd(i,n)&&t.ref===s.ref)if(nr=!1,s.pendingProps=n=i,(t.lanes&a)!==0)t.flags&131072&&(nr=!0);else return s.lanes=t.lanes,aa(t,s,a)}return wp(t,s,r,n,a)}function _1(t,s,r){var n=s.pendingProps,a=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},_t(Kl,cr),cr|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:t,cachePool:null,transitions:null},s.updateQueue=null,_t(Kl,cr),cr|=t,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,_t(Kl,cr),cr|=n}else i!==null?(n=i.baseLanes|r,s.memoizedState=null):n=r,_t(Kl,cr),cr|=n;return Us(t,s,a,r),s.child}function S1(t,s){var r=s.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(s.flags|=512,s.flags|=2097152)}function wp(t,s,r,n,a){var i=ir(r)?qi:Is.current;return i=bo(s,i),eo(s,a),r=gv(t,s,r,n,i,a),n=vv(),t!==null&&!nr?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a,aa(t,s,a)):(Dt&&n&&av(s),s.flags|=1,Us(t,s,r,a),s.child)}function Jj(t,s,r,n,a){if(ir(r)){var i=!0;Rh(s)}else i=!1;if(eo(s,a),s.stateNode===null)oh(t,s),j1(s,r,n),yp(s,r,n,a),n=!0;else if(t===null){var l=s.stateNode,o=s.memoizedProps;l.props=o;var c=l.context,d=r.contextType;typeof d=="object"&&d!==null?d=Mr(d):(d=ir(r)?qi:Is.current,d=bo(s,d));var u=r.getDerivedStateFromProps,m=typeof u=="function"||typeof l.getSnapshotBeforeUpdate=="function";m||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==n||c!==d)&&Kj(s,l,n,d),_a=!1;var f=s.memoizedState;l.state=f,Lh(s,n,l,a),c=s.memoizedState,o!==n||f!==c||ar.current||_a?(typeof u=="function"&&(vp(s,r,u,n),c=s.memoizedState),(o=_a||Wj(s,r,o,n,f,c,d))?(m||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(s.flags|=4194308)):(typeof l.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=n,s.memoizedState=c),l.props=n,l.state=c,l.context=d,n=o):(typeof l.componentDidMount=="function"&&(s.flags|=4194308),n=!1)}else{l=s.stateNode,JN(t,s),o=s.memoizedProps,d=s.type===s.elementType?o:qr(s.type,o),l.props=d,m=s.pendingProps,f=l.context,c=r.contextType,typeof c=="object"&&c!==null?c=Mr(c):(c=ir(r)?qi:Is.current,c=bo(s,c));var x=r.getDerivedStateFromProps;(u=typeof x=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==m||f!==c)&&Kj(s,l,n,c),_a=!1,f=s.memoizedState,l.state=f,Lh(s,n,l,a);var g=s.memoizedState;o!==m||f!==g||ar.current||_a?(typeof x=="function"&&(vp(s,r,x,n),g=s.memoizedState),(d=_a||Wj(s,r,d,n,f,g,c)||!1)?(u||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,g,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,g,c)),typeof l.componentDidUpdate=="function"&&(s.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(s.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(s.flags|=1024),s.memoizedProps=n,s.memoizedState=g),l.props=n,l.state=g,l.context=c,n=d):(typeof l.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(s.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(s.flags|=1024),n=!1)}return bp(t,s,r,n,i,a)}function bp(t,s,r,n,a,i){S1(t,s);var l=(s.flags&128)!==0;if(!n&&!l)return a&&Fj(s,r,!1),aa(t,s,i);n=s.stateNode,WA.current=s;var o=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return s.flags|=1,t!==null&&l?(s.child=_o(s,t.child,null,i),s.child=_o(s,null,o,i)):Us(t,s,o,i),s.memoizedState=n.state,a&&Fj(s,r,!0),s.child}function k1(t){var s=t.stateNode;s.pendingContext?Lj(t,s.pendingContext,s.pendingContext!==s.context):s.context&&Lj(t,s.context,!1),mv(t,s.containerInfo)}function e0(t,s,r,n,a){return No(),lv(a),s.flags|=256,Us(t,s,r,n),s.child}var Np={dehydrated:null,treeContext:null,retryLane:0};function _p(t){return{baseLanes:t,cachePool:null,transitions:null}}function C1(t,s,r){var n=s.pendingProps,a=Ut.current,i=!1,l=(s.flags&128)!==0,o;if((o=l)||(o=t!==null&&t.memoizedState===null?!1:(a&2)!==0),o?(i=!0,s.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),_t(Ut,a&1),t===null)return pp(s),t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(s.mode&1?t.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(l=n.children,t=n.fallback,i?(n=s.mode,i=s.child,l={mode:"hidden",children:l},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=Im(l,n,0,null),t=Vi(t,n,r,null),i.return=s,t.return=s,i.sibling=t,s.child=i,s.child.memoizedState=_p(r),s.memoizedState=Np,t):wv(s,l));if(a=t.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return KA(t,s,l,n,o,a,r);if(i){i=n.fallback,l=s.mode,a=t.child,o=a.sibling;var c={mode:"hidden",children:n.children};return!(l&1)&&s.child!==a?(n=s.child,n.childLanes=0,n.pendingProps=c,s.deletions=null):(n=Ya(a,c),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=Ya(o,i):(i=Vi(i,l,r,null),i.flags|=2),i.return=s,n.return=s,n.sibling=i,s.child=n,n=i,i=s.child,l=t.child.memoizedState,l=l===null?_p(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=t.childLanes&~r,s.memoizedState=Np,n}return i=t.child,t=i.sibling,n=Ya(i,{mode:"visible",children:n.children}),!(s.mode&1)&&(n.lanes=r),n.return=s,n.sibling=null,t!==null&&(r=s.deletions,r===null?(s.deletions=[t],s.flags|=16):r.push(t)),s.child=n,s.memoizedState=null,n}function wv(t,s){return s=Im({mode:"visible",children:s},t.mode,0,null),s.return=t,t.child=s}function Lu(t,s,r,n){return n!==null&&lv(n),_o(s,t.child,null,r),t=wv(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function KA(t,s,r,n,a,i,l){if(r)return s.flags&256?(s.flags&=-257,n=lx(Error(te(422))),Lu(t,s,l,n)):s.memoizedState!==null?(s.child=t.child,s.flags|=128,null):(i=n.fallback,a=s.mode,n=Im({mode:"visible",children:n.children},a,0,null),i=Vi(i,a,l,null),i.flags|=2,n.return=s,i.return=s,n.sibling=i,s.child=n,s.mode&1&&_o(s,t.child,null,l),s.child.memoizedState=_p(l),s.memoizedState=Np,i);if(!(s.mode&1))return Lu(t,s,l,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(te(419)),n=lx(i,n,void 0),Lu(t,s,l,n)}if(o=(l&t.childLanes)!==0,nr||o){if(n=gs,n!==null){switch(l&-l){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|l)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,na(t,a),tn(n,t,a,-1))}return Cv(),n=lx(Error(te(421))),Lu(t,s,l,n)}return a.data==="$?"?(s.flags|=128,s.child=t.child,s=iR.bind(null,t),a._reactRetry=s,null):(t=i.treeContext,fr=Ka(a.nextSibling),pr=s,Dt=!0,Qr=null,t!==null&&(Cr[Er++]=Hn,Cr[Er++]=Wn,Cr[Er++]=Hi,Hn=t.id,Wn=t.overflow,Hi=s),s=wv(s,n.children),s.flags|=4096,s)}function t0(t,s,r){t.lanes|=s;var n=t.alternate;n!==null&&(n.lanes|=s),gp(t.return,s,r)}function ox(t,s,r,n,a){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=s,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function E1(t,s,r){var n=s.pendingProps,a=n.revealOrder,i=n.tail;if(Us(t,s,n.children,r),n=Ut.current,n&2)n=n&1|2,s.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&t0(t,r,s);else if(t.tag===19)t0(t,r,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(_t(Ut,n),!(s.mode&1))s.memoizedState=null;else switch(a){case"forwards":for(r=s.child,a=null;r!==null;)t=r.alternate,t!==null&&Fh(t)===null&&(a=r),r=r.sibling;r=a,r===null?(a=s.child,s.child=null):(a=r.sibling,r.sibling=null),ox(s,!1,a,r,i);break;case"backwards":for(r=null,a=s.child,s.child=null;a!==null;){if(t=a.alternate,t!==null&&Fh(t)===null){s.child=a;break}t=a.sibling,a.sibling=r,r=a,a=t}ox(s,!0,r,null,i);break;case"together":ox(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function oh(t,s){!(s.mode&1)&&t!==null&&(t.alternate=null,s.alternate=null,s.flags|=2)}function aa(t,s,r){if(t!==null&&(s.dependencies=t.dependencies),Ki|=s.lanes,!(r&s.childLanes))return null;if(t!==null&&s.child!==t.child)throw Error(te(153));if(s.child!==null){for(t=s.child,r=Ya(t,t.pendingProps),s.child=r,r.return=s;t.sibling!==null;)t=t.sibling,r=r.sibling=Ya(t,t.pendingProps),r.return=s;r.sibling=null}return s.child}function GA(t,s,r){switch(s.tag){case 3:k1(s),No();break;case 5:e1(s);break;case 1:ir(s.type)&&Rh(s);break;case 4:mv(s,s.stateNode.containerInfo);break;case 10:var n=s.type._context,a=s.memoizedProps.value;_t(Dh,n._currentValue),n._currentValue=a;break;case 13:if(n=s.memoizedState,n!==null)return n.dehydrated!==null?(_t(Ut,Ut.current&1),s.flags|=128,null):r&s.child.childLanes?C1(t,s,r):(_t(Ut,Ut.current&1),t=aa(t,s,r),t!==null?t.sibling:null);_t(Ut,Ut.current&1);break;case 19:if(n=(r&s.childLanes)!==0,t.flags&128){if(n)return E1(t,s,r);s.flags|=128}if(a=s.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),_t(Ut,Ut.current),n)break;return null;case 22:case 23:return s.lanes=0,_1(t,s,r)}return aa(t,s,r)}var T1,Sp,P1,A1;T1=function(t,s){for(var r=s.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Sp=function(){};P1=function(t,s,r,n){var a=t.memoizedProps;if(a!==n){t=s.stateNode,Pi(_n.current);var i=null;switch(r){case"input":a=Kx(t,a),n=Kx(t,n),i=[];break;case"select":a=Bt({},a,{value:void 0}),n=Bt({},n,{value:void 0}),i=[];break;case"textarea":a=Zx(t,a),n=Zx(t,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Ph)}Xx(r,n);var l;r=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var o=a[d];for(l in o)o.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(fd.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(o=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(fd.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ct("scroll",t),i||o===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(s.updateQueue=d)&&(s.flags|=4)}};A1=function(t,s,r,n){r!==n&&(s.flags|=4)};function Rc(t,s){if(!Dt)switch(t.tailMode){case"hidden":s=t.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ks(t){var s=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(s)for(var a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=n,t.childLanes=r,s}function QA(t,s,r){var n=s.pendingProps;switch(iv(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ks(s),null;case 1:return ir(s.type)&&Ah(),ks(s),null;case 3:return n=s.stateNode,So(),At(ar),At(Is),xv(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Du(s)?s.flags|=4:t===null||t.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Qr!==null&&(Op(Qr),Qr=null))),Sp(t,s),ks(s),null;case 5:fv(s);var a=Pi(kd.current);if(r=s.type,t!==null&&s.stateNode!=null)P1(t,s,r,n,a),t.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!n){if(s.stateNode===null)throw Error(te(166));return ks(s),null}if(t=Pi(_n.current),Du(s)){n=s.stateNode,r=s.type;var i=s.memoizedProps;switch(n[pn]=s,n[_d]=i,t=(s.mode&1)!==0,r){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(a=0;a<Hc.length;a++)Ct(Hc[a],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":dj(n,i),Ct("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ct("invalid",n);break;case"textarea":hj(n,i),Ct("invalid",n)}Xx(r,i),a=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Iu(n.textContent,o,t),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Iu(n.textContent,o,t),a=["children",""+o]):fd.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&Ct("scroll",n)}switch(r){case"input":ku(n),uj(n,i,!0);break;case"textarea":ku(n),mj(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Ph)}n=a,s.updateQueue=n,n!==null&&(s.flags|=4)}else{l=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=aN(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=l.createElement(r,{is:n.is}):(t=l.createElement(r),r==="select"&&(l=t,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):t=l.createElementNS(t,r),t[pn]=s,t[_d]=n,T1(t,s,!1,!1),s.stateNode=t;e:{switch(l=Jx(r,n),r){case"dialog":Ct("cancel",t),Ct("close",t),a=n;break;case"iframe":case"object":case"embed":Ct("load",t),a=n;break;case"video":case"audio":for(a=0;a<Hc.length;a++)Ct(Hc[a],t);a=n;break;case"source":Ct("error",t),a=n;break;case"img":case"image":case"link":Ct("error",t),Ct("load",t),a=n;break;case"details":Ct("toggle",t),a=n;break;case"input":dj(t,n),a=Kx(t,n),Ct("invalid",t);break;case"option":a=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},a=Bt({},n,{value:void 0}),Ct("invalid",t);break;case"textarea":hj(t,n),a=Zx(t,n),Ct("invalid",t);break;default:a=n}Xx(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?oN(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&iN(t,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&xd(t,c):typeof c=="number"&&xd(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(fd.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ct("scroll",t):c!=null&&Hg(t,i,c,l))}switch(r){case"input":ku(t),uj(t,n,!1);break;case"textarea":ku(t),mj(t);break;case"option":n.value!=null&&t.setAttribute("value",""+si(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Zl(t,!!n.multiple,i,!1):n.defaultValue!=null&&Zl(t,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=Ph)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return ks(s),null;case 6:if(t&&s.stateNode!=null)A1(t,s,t.memoizedProps,n);else{if(typeof n!="string"&&s.stateNode===null)throw Error(te(166));if(r=Pi(kd.current),Pi(_n.current),Du(s)){if(n=s.stateNode,r=s.memoizedProps,n[pn]=s,(i=n.nodeValue!==r)&&(t=pr,t!==null))switch(t.tag){case 3:Iu(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Iu(n.nodeValue,r,(t.mode&1)!==0)}i&&(s.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[pn]=s,s.stateNode=n}return ks(s),null;case 13:if(At(Ut),n=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Dt&&fr!==null&&s.mode&1&&!(s.flags&128))QN(),No(),s.flags|=98560,i=!1;else if(i=Du(s),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(te(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(te(317));i[pn]=s}else No(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;ks(s),i=!1}else Qr!==null&&(Op(Qr),Qr=null),i=!0;if(!i)return s.flags&65536?s:null}return s.flags&128?(s.lanes=r,s):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(s.child.flags|=8192,s.mode&1&&(t===null||Ut.current&1?ds===0&&(ds=3):Cv())),s.updateQueue!==null&&(s.flags|=4),ks(s),null);case 4:return So(),Sp(t,s),t===null&&bd(s.stateNode.containerInfo),ks(s),null;case 10:return dv(s.type._context),ks(s),null;case 17:return ir(s.type)&&Ah(),ks(s),null;case 19:if(At(Ut),i=s.memoizedState,i===null)return ks(s),null;if(n=(s.flags&128)!==0,l=i.rendering,l===null)if(n)Rc(i,!1);else{if(ds!==0||t!==null&&t.flags&128)for(t=s.child;t!==null;){if(l=Fh(t),l!==null){for(s.flags|=128,Rc(i,!1),n=l.updateQueue,n!==null&&(s.updateQueue=n,s.flags|=4),s.subtreeFlags=0,n=r,r=s.child;r!==null;)i=r,t=n,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,t=l.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return _t(Ut,Ut.current&1|2),s.child}t=t.sibling}i.tail!==null&&Qt()>Co&&(s.flags|=128,n=!0,Rc(i,!1),s.lanes=4194304)}else{if(!n)if(t=Fh(l),t!==null){if(s.flags|=128,n=!0,r=t.updateQueue,r!==null&&(s.updateQueue=r,s.flags|=4),Rc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!Dt)return ks(s),null}else 2*Qt()-i.renderingStartTime>Co&&r!==1073741824&&(s.flags|=128,n=!0,Rc(i,!1),s.lanes=4194304);i.isBackwards?(l.sibling=s.child,s.child=l):(r=i.last,r!==null?r.sibling=l:s.child=l,i.last=l)}return i.tail!==null?(s=i.tail,i.rendering=s,i.tail=s.sibling,i.renderingStartTime=Qt(),s.sibling=null,r=Ut.current,_t(Ut,n?r&1|2:r&1),s):(ks(s),null);case 22:case 23:return kv(),n=s.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(s.flags|=8192),n&&s.mode&1?cr&1073741824&&(ks(s),s.subtreeFlags&6&&(s.flags|=8192)):ks(s),null;case 24:return null;case 25:return null}throw Error(te(156,s.tag))}function ZA(t,s){switch(iv(s),s.tag){case 1:return ir(s.type)&&Ah(),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return So(),At(ar),At(Is),xv(),t=s.flags,t&65536&&!(t&128)?(s.flags=t&-65537|128,s):null;case 5:return fv(s),null;case 13:if(At(Ut),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(te(340));No()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return At(Ut),null;case 4:return So(),null;case 10:return dv(s.type._context),null;case 22:case 23:return kv(),null;case 24:return null;default:return null}}var Fu=!1,Ts=!1,YA=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function Wl(t,s){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ht(t,s,n)}else r.current=null}function kp(t,s,r){try{r()}catch(n){Ht(t,s,n)}}var s0=!1;function XA(t,s){if(cp=Ch,t=MN(),nv(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var l=0,o=-1,c=-1,d=0,u=0,m=t,f=null;t:for(;;){for(var x;m!==r||a!==0&&m.nodeType!==3||(o=l+a),m!==i||n!==0&&m.nodeType!==3||(c=l+n),m.nodeType===3&&(l+=m.nodeValue.length),(x=m.firstChild)!==null;)f=m,m=x;for(;;){if(m===t)break t;if(f===r&&++d===a&&(o=l),f===i&&++u===n&&(c=l),(x=m.nextSibling)!==null)break;m=f,f=m.parentNode}m=x}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(dp={focusedElem:t,selectionRange:r},Ch=!1,Ne=s;Ne!==null;)if(s=Ne,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,Ne=t;else for(;Ne!==null;){s=Ne;try{var g=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,p=g.memoizedState,j=s.stateNode,w=j.getSnapshotBeforeUpdate(s.elementType===s.type?v:qr(s.type,v),p);j.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var y=s.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(_){Ht(s,s.return,_)}if(t=s.sibling,t!==null){t.return=s.return,Ne=t;break}Ne=s.return}return g=s0,s0=!1,g}function id(t,s,r){var n=s.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&t)===t){var i=a.destroy;a.destroy=void 0,i!==void 0&&kp(s,r,i)}a=a.next}while(a!==n)}}function Rm(t,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==s)}}function Cp(t){var s=t.ref;if(s!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof s=="function"?s(t):s.current=t}}function R1(t){var s=t.alternate;s!==null&&(t.alternate=null,R1(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&(delete s[pn],delete s[_d],delete s[mp],delete s[IA],delete s[DA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function O1(t){return t.tag===5||t.tag===3||t.tag===4}function r0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||O1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ep(t,s,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,s?r.nodeType===8?r.parentNode.insertBefore(t,s):r.insertBefore(t,s):(r.nodeType===8?(s=r.parentNode,s.insertBefore(t,r)):(s=r,s.appendChild(t)),r=r._reactRootContainer,r!=null||s.onclick!==null||(s.onclick=Ph));else if(n!==4&&(t=t.child,t!==null))for(Ep(t,s,r),t=t.sibling;t!==null;)Ep(t,s,r),t=t.sibling}function Tp(t,s,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,s?r.insertBefore(t,s):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Tp(t,s,r),t=t.sibling;t!==null;)Tp(t,s,r),t=t.sibling}var ys=null,Kr=!1;function pa(t,s,r){for(r=r.child;r!==null;)I1(t,s,r),r=r.sibling}function I1(t,s,r){if(Nn&&typeof Nn.onCommitFiberUnmount=="function")try{Nn.onCommitFiberUnmount(_m,r)}catch{}switch(r.tag){case 5:Ts||Wl(r,s);case 6:var n=ys,a=Kr;ys=null,pa(t,s,r),ys=n,Kr=a,ys!==null&&(Kr?(t=ys,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):ys.removeChild(r.stateNode));break;case 18:ys!==null&&(Kr?(t=ys,r=r.stateNode,t.nodeType===8?tx(t.parentNode,r):t.nodeType===1&&tx(t,r),yd(t)):tx(ys,r.stateNode));break;case 4:n=ys,a=Kr,ys=r.stateNode.containerInfo,Kr=!0,pa(t,s,r),ys=n,Kr=a;break;case 0:case 11:case 14:case 15:if(!Ts&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&kp(r,s,l),a=a.next}while(a!==n)}pa(t,s,r);break;case 1:if(!Ts&&(Wl(r,s),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Ht(r,s,o)}pa(t,s,r);break;case 21:pa(t,s,r);break;case 22:r.mode&1?(Ts=(n=Ts)||r.memoizedState!==null,pa(t,s,r),Ts=n):pa(t,s,r);break;default:pa(t,s,r)}}function n0(t){var s=t.updateQueue;if(s!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new YA),s.forEach(function(n){var a=lR.bind(null,t,n);r.has(n)||(r.add(n),n.then(a,a))})}}function zr(t,s){var r=s.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=t,l=s,o=l;e:for(;o!==null;){switch(o.tag){case 5:ys=o.stateNode,Kr=!1;break e;case 3:ys=o.stateNode.containerInfo,Kr=!0;break e;case 4:ys=o.stateNode.containerInfo,Kr=!0;break e}o=o.return}if(ys===null)throw Error(te(160));I1(i,l,a),ys=null,Kr=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){Ht(a,s,d)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)D1(s,t),s=s.sibling}function D1(t,s){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(zr(s,t),un(t),n&4){try{id(3,t,t.return),Rm(3,t)}catch(v){Ht(t,t.return,v)}try{id(5,t,t.return)}catch(v){Ht(t,t.return,v)}}break;case 1:zr(s,t),un(t),n&512&&r!==null&&Wl(r,r.return);break;case 5:if(zr(s,t),un(t),n&512&&r!==null&&Wl(r,r.return),t.flags&32){var a=t.stateNode;try{xd(a,"")}catch(v){Ht(t,t.return,v)}}if(n&4&&(a=t.stateNode,a!=null)){var i=t.memoizedProps,l=r!==null?r.memoizedProps:i,o=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&rN(a,i),Jx(o,l);var d=Jx(o,i);for(l=0;l<c.length;l+=2){var u=c[l],m=c[l+1];u==="style"?oN(a,m):u==="dangerouslySetInnerHTML"?iN(a,m):u==="children"?xd(a,m):Hg(a,u,m,d)}switch(o){case"input":Gx(a,i);break;case"textarea":nN(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?Zl(a,!!i.multiple,x,!1):f!==!!i.multiple&&(i.defaultValue!=null?Zl(a,!!i.multiple,i.defaultValue,!0):Zl(a,!!i.multiple,i.multiple?[]:"",!1))}a[_d]=i}catch(v){Ht(t,t.return,v)}}break;case 6:if(zr(s,t),un(t),n&4){if(t.stateNode===null)throw Error(te(162));a=t.stateNode,i=t.memoizedProps;try{a.nodeValue=i}catch(v){Ht(t,t.return,v)}}break;case 3:if(zr(s,t),un(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{yd(s.containerInfo)}catch(v){Ht(t,t.return,v)}break;case 4:zr(s,t),un(t);break;case 13:zr(s,t),un(t),a=t.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(_v=Qt())),n&4&&n0(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(Ts=(d=Ts)||u,zr(s,t),Ts=d):zr(s,t),un(t),n&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!u&&t.mode&1)for(Ne=t,u=t.child;u!==null;){for(m=Ne=u;Ne!==null;){switch(f=Ne,x=f.child,f.tag){case 0:case 11:case 14:case 15:id(4,f,f.return);break;case 1:Wl(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){n=f,r=f.return;try{s=n,g.props=s.memoizedProps,g.state=s.memoizedState,g.componentWillUnmount()}catch(v){Ht(n,r,v)}}break;case 5:Wl(f,f.return);break;case 22:if(f.memoizedState!==null){i0(m);continue}}x!==null?(x.return=f,Ne=x):i0(m)}u=u.sibling}e:for(u=null,m=t;;){if(m.tag===5){if(u===null){u=m;try{a=m.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=m.stateNode,c=m.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=lN("display",l))}catch(v){Ht(t,t.return,v)}}}else if(m.tag===6){if(u===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(v){Ht(t,t.return,v)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:zr(s,t),un(t),n&4&&n0(t);break;case 21:break;default:zr(s,t),un(t)}}function un(t){var s=t.flags;if(s&2){try{e:{for(var r=t.return;r!==null;){if(O1(r)){var n=r;break e}r=r.return}throw Error(te(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(xd(a,""),n.flags&=-33);var i=r0(t);Tp(t,i,a);break;case 3:case 4:var l=n.stateNode.containerInfo,o=r0(t);Ep(t,o,l);break;default:throw Error(te(161))}}catch(c){Ht(t,t.return,c)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function JA(t,s,r){Ne=t,M1(t)}function M1(t,s,r){for(var n=(t.mode&1)!==0;Ne!==null;){var a=Ne,i=a.child;if(a.tag===22&&n){var l=a.memoizedState!==null||Fu;if(!l){var o=a.alternate,c=o!==null&&o.memoizedState!==null||Ts;o=Fu;var d=Ts;if(Fu=l,(Ts=c)&&!d)for(Ne=a;Ne!==null;)l=Ne,c=l.child,l.tag===22&&l.memoizedState!==null?l0(a):c!==null?(c.return=l,Ne=c):l0(a);for(;i!==null;)Ne=i,M1(i),i=i.sibling;Ne=a,Fu=o,Ts=d}a0(t)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Ne=i):a0(t)}}function a0(t){for(;Ne!==null;){var s=Ne;if(s.flags&8772){var r=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Ts||Rm(5,s);break;case 1:var n=s.stateNode;if(s.flags&4&&!Ts)if(r===null)n.componentDidMount();else{var a=s.elementType===s.type?r.memoizedProps:qr(s.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=s.updateQueue;i!==null&&Bj(s,i,n);break;case 3:var l=s.updateQueue;if(l!==null){if(r=null,s.child!==null)switch(s.child.tag){case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}Bj(s,l,r)}break;case 5:var o=s.stateNode;if(r===null&&s.flags&4){r=o;var c=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var d=s.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var m=u.dehydrated;m!==null&&yd(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}Ts||s.flags&512&&Cp(s)}catch(f){Ht(s,s.return,f)}}if(s===t){Ne=null;break}if(r=s.sibling,r!==null){r.return=s.return,Ne=r;break}Ne=s.return}}function i0(t){for(;Ne!==null;){var s=Ne;if(s===t){Ne=null;break}var r=s.sibling;if(r!==null){r.return=s.return,Ne=r;break}Ne=s.return}}function l0(t){for(;Ne!==null;){var s=Ne;try{switch(s.tag){case 0:case 11:case 15:var r=s.return;try{Rm(4,s)}catch(c){Ht(s,r,c)}break;case 1:var n=s.stateNode;if(typeof n.componentDidMount=="function"){var a=s.return;try{n.componentDidMount()}catch(c){Ht(s,a,c)}}var i=s.return;try{Cp(s)}catch(c){Ht(s,i,c)}break;case 5:var l=s.return;try{Cp(s)}catch(c){Ht(s,l,c)}}}catch(c){Ht(s,s.return,c)}if(s===t){Ne=null;break}var o=s.sibling;if(o!==null){o.return=s.return,Ne=o;break}Ne=s.return}}var eR=Math.ceil,zh=ha.ReactCurrentDispatcher,bv=ha.ReactCurrentOwner,Or=ha.ReactCurrentBatchConfig,st=0,gs=null,rs=null,js=0,cr=0,Kl=fi(0),ds=0,Pd=null,Ki=0,Om=0,Nv=0,ld=null,sr=null,_v=0,Co=1/0,Un=null,Vh=!1,Pp=null,Qa=null,$u=!1,Va=null,Bh=0,od=0,Ap=null,ch=-1,dh=0;function Hs(){return st&6?Qt():ch!==-1?ch:ch=Qt()}function Za(t){return t.mode&1?st&2&&js!==0?js&-js:LA.transition!==null?(dh===0&&(dh=jN()),dh):(t=xt,t!==0||(t=window.event,t=t===void 0?16:CN(t.type)),t):1}function tn(t,s,r,n){if(50<od)throw od=0,Ap=null,Error(te(185));Wd(t,r,n),(!(st&2)||t!==gs)&&(t===gs&&(!(st&2)&&(Om|=r),ds===4&&Ea(t,js)),lr(t,n),r===1&&st===0&&!(s.mode&1)&&(Co=Qt()+500,Tm&&xi()))}function lr(t,s){var r=t.callbackNode;LP(t,s);var n=kh(t,t===gs?js:0);if(n===0)r!==null&&pj(r),t.callbackNode=null,t.callbackPriority=0;else if(s=n&-n,t.callbackPriority!==s){if(r!=null&&pj(r),s===1)t.tag===0?MA(o0.bind(null,t)):WN(o0.bind(null,t)),RA(function(){!(st&6)&&xi()}),r=null;else{switch(wN(n)){case 1:r=Zg;break;case 4:r=vN;break;case 16:r=Sh;break;case 536870912:r=yN;break;default:r=Sh}r=q1(r,L1.bind(null,t))}t.callbackPriority=s,t.callbackNode=r}}function L1(t,s){if(ch=-1,dh=0,st&6)throw Error(te(327));var r=t.callbackNode;if(to()&&t.callbackNode!==r)return null;var n=kh(t,t===gs?js:0);if(n===0)return null;if(n&30||n&t.expiredLanes||s)s=qh(t,n);else{s=n;var a=st;st|=2;var i=$1();(gs!==t||js!==s)&&(Un=null,Co=Qt()+500,zi(t,s));do try{rR();break}catch(o){F1(t,o)}while(!0);cv(),zh.current=i,st=a,rs!==null?s=0:(gs=null,js=0,s=ds)}if(s!==0){if(s===2&&(a=np(t),a!==0&&(n=a,s=Rp(t,a))),s===1)throw r=Pd,zi(t,0),Ea(t,n),lr(t,Qt()),r;if(s===6)Ea(t,n);else{if(a=t.current.alternate,!(n&30)&&!tR(a)&&(s=qh(t,n),s===2&&(i=np(t),i!==0&&(n=i,s=Rp(t,i))),s===1))throw r=Pd,zi(t,0),Ea(t,n),lr(t,Qt()),r;switch(t.finishedWork=a,t.finishedLanes=n,s){case 0:case 1:throw Error(te(345));case 2:Si(t,sr,Un);break;case 3:if(Ea(t,n),(n&130023424)===n&&(s=_v+500-Qt(),10<s)){if(kh(t,0)!==0)break;if(a=t.suspendedLanes,(a&n)!==n){Hs(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=hp(Si.bind(null,t,sr,Un),s);break}Si(t,sr,Un);break;case 4:if(Ea(t,n),(n&4194240)===n)break;for(s=t.eventTimes,a=-1;0<n;){var l=31-en(n);i=1<<l,l=s[l],l>a&&(a=l),n&=~i}if(n=a,n=Qt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*eR(n/1960))-n,10<n){t.timeoutHandle=hp(Si.bind(null,t,sr,Un),n);break}Si(t,sr,Un);break;case 5:Si(t,sr,Un);break;default:throw Error(te(329))}}}return lr(t,Qt()),t.callbackNode===r?L1.bind(null,t):null}function Rp(t,s){var r=ld;return t.current.memoizedState.isDehydrated&&(zi(t,s).flags|=256),t=qh(t,s),t!==2&&(s=sr,sr=r,s!==null&&Op(s)),t}function Op(t){sr===null?sr=t:sr.push.apply(sr,t)}function tR(t){for(var s=t;;){if(s.flags&16384){var r=s.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!rn(i(),a))return!1}catch{return!1}}}if(r=s.child,s.subtreeFlags&16384&&r!==null)r.return=s,s=r;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ea(t,s){for(s&=~Nv,s&=~Om,t.suspendedLanes|=s,t.pingedLanes&=~s,t=t.expirationTimes;0<s;){var r=31-en(s),n=1<<r;t[r]=-1,s&=~n}}function o0(t){if(st&6)throw Error(te(327));to();var s=kh(t,0);if(!(s&1))return lr(t,Qt()),null;var r=qh(t,s);if(t.tag!==0&&r===2){var n=np(t);n!==0&&(s=n,r=Rp(t,n))}if(r===1)throw r=Pd,zi(t,0),Ea(t,s),lr(t,Qt()),r;if(r===6)throw Error(te(345));return t.finishedWork=t.current.alternate,t.finishedLanes=s,Si(t,sr,Un),lr(t,Qt()),null}function Sv(t,s){var r=st;st|=1;try{return t(s)}finally{st=r,st===0&&(Co=Qt()+500,Tm&&xi())}}function Gi(t){Va!==null&&Va.tag===0&&!(st&6)&&to();var s=st;st|=1;var r=Or.transition,n=xt;try{if(Or.transition=null,xt=1,t)return t()}finally{xt=n,Or.transition=r,st=s,!(st&6)&&xi()}}function kv(){cr=Kl.current,At(Kl)}function zi(t,s){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,AA(r)),rs!==null)for(r=rs.return;r!==null;){var n=r;switch(iv(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ah();break;case 3:So(),At(ar),At(Is),xv();break;case 5:fv(n);break;case 4:So();break;case 13:At(Ut);break;case 19:At(Ut);break;case 10:dv(n.type._context);break;case 22:case 23:kv()}r=r.return}if(gs=t,rs=t=Ya(t.current,null),js=cr=s,ds=0,Pd=null,Nv=Om=Ki=0,sr=ld=null,Ti!==null){for(s=0;s<Ti.length;s++)if(r=Ti[s],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var l=i.next;i.next=a,n.next=l}r.pending=n}Ti=null}return t}function F1(t,s){do{var r=rs;try{if(cv(),ih.current=Uh,$h){for(var n=Vt.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}$h=!1}if(Wi=0,ps=os=Vt=null,ad=!1,Cd=0,bv.current=null,r===null||r.return===null){ds=1,Pd=s,rs=null;break}e:{var i=t,l=r.return,o=r,c=s;if(s=js,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=o,m=u.tag;if(!(u.mode&1)&&(m===0||m===11||m===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var x=Qj(l);if(x!==null){x.flags&=-257,Zj(x,l,o,i,s),x.mode&1&&Gj(i,d,s),s=x,c=d;var g=s.updateQueue;if(g===null){var v=new Set;v.add(c),s.updateQueue=v}else g.add(c);break e}else{if(!(s&1)){Gj(i,d,s),Cv();break e}c=Error(te(426))}}else if(Dt&&o.mode&1){var p=Qj(l);if(p!==null){!(p.flags&65536)&&(p.flags|=256),Zj(p,l,o,i,s),lv(ko(c,o));break e}}i=c=ko(c,o),ds!==4&&(ds=2),ld===null?ld=[i]:ld.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,s&=-s,i.lanes|=s;var j=w1(i,c,s);Vj(i,j);break e;case 1:o=c;var w=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Qa===null||!Qa.has(y)))){i.flags|=65536,s&=-s,i.lanes|=s;var _=b1(i,o,s);Vj(i,_);break e}}i=i.return}while(i!==null)}z1(r)}catch(b){s=b,rs===r&&r!==null&&(rs=r=r.return);continue}break}while(!0)}function $1(){var t=zh.current;return zh.current=Uh,t===null?Uh:t}function Cv(){(ds===0||ds===3||ds===2)&&(ds=4),gs===null||!(Ki&268435455)&&!(Om&268435455)||Ea(gs,js)}function qh(t,s){var r=st;st|=2;var n=$1();(gs!==t||js!==s)&&(Un=null,zi(t,s));do try{sR();break}catch(a){F1(t,a)}while(!0);if(cv(),st=r,zh.current=n,rs!==null)throw Error(te(261));return gs=null,js=0,ds}function sR(){for(;rs!==null;)U1(rs)}function rR(){for(;rs!==null&&!EP();)U1(rs)}function U1(t){var s=B1(t.alternate,t,cr);t.memoizedProps=t.pendingProps,s===null?z1(t):rs=s,bv.current=null}function z1(t){var s=t;do{var r=s.alternate;if(t=s.return,s.flags&32768){if(r=ZA(r,s),r!==null){r.flags&=32767,rs=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ds=6,rs=null;return}}else if(r=QA(r,s,cr),r!==null){rs=r;return}if(s=s.sibling,s!==null){rs=s;return}rs=s=t}while(s!==null);ds===0&&(ds=5)}function Si(t,s,r){var n=xt,a=Or.transition;try{Or.transition=null,xt=1,nR(t,s,r,n)}finally{Or.transition=a,xt=n}return null}function nR(t,s,r,n){do to();while(Va!==null);if(st&6)throw Error(te(327));r=t.finishedWork;var a=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(te(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(FP(t,i),t===gs&&(rs=gs=null,js=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||$u||($u=!0,q1(Sh,function(){return to(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Or.transition,Or.transition=null;var l=xt;xt=1;var o=st;st|=4,bv.current=null,XA(t,r),D1(r,t),_A(dp),Ch=!!cp,dp=cp=null,t.current=r,JA(r),TP(),st=o,xt=l,Or.transition=i}else t.current=r;if($u&&($u=!1,Va=t,Bh=a),i=t.pendingLanes,i===0&&(Qa=null),RP(r.stateNode),lr(t,Qt()),s!==null)for(n=t.onRecoverableError,r=0;r<s.length;r++)a=s[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Vh)throw Vh=!1,t=Pp,Pp=null,t;return Bh&1&&t.tag!==0&&to(),i=t.pendingLanes,i&1?t===Ap?od++:(od=0,Ap=t):od=0,xi(),null}function to(){if(Va!==null){var t=wN(Bh),s=Or.transition,r=xt;try{if(Or.transition=null,xt=16>t?16:t,Va===null)var n=!1;else{if(t=Va,Va=null,Bh=0,st&6)throw Error(te(331));var a=st;for(st|=4,Ne=t.current;Ne!==null;){var i=Ne,l=i.child;if(Ne.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(Ne=d;Ne!==null;){var u=Ne;switch(u.tag){case 0:case 11:case 15:id(8,u,i)}var m=u.child;if(m!==null)m.return=u,Ne=m;else for(;Ne!==null;){u=Ne;var f=u.sibling,x=u.return;if(R1(u),u===d){Ne=null;break}if(f!==null){f.return=x,Ne=f;break}Ne=x}}}var g=i.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var p=v.sibling;v.sibling=null,v=p}while(v!==null)}}Ne=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,Ne=l;else e:for(;Ne!==null;){if(i=Ne,i.flags&2048)switch(i.tag){case 0:case 11:case 15:id(9,i,i.return)}var j=i.sibling;if(j!==null){j.return=i.return,Ne=j;break e}Ne=i.return}}var w=t.current;for(Ne=w;Ne!==null;){l=Ne;var y=l.child;if(l.subtreeFlags&2064&&y!==null)y.return=l,Ne=y;else e:for(l=w;Ne!==null;){if(o=Ne,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Rm(9,o)}}catch(b){Ht(o,o.return,b)}if(o===l){Ne=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,Ne=_;break e}Ne=o.return}}if(st=a,xi(),Nn&&typeof Nn.onPostCommitFiberRoot=="function")try{Nn.onPostCommitFiberRoot(_m,t)}catch{}n=!0}return n}finally{xt=r,Or.transition=s}}return!1}function c0(t,s,r){s=ko(r,s),s=w1(t,s,1),t=Ga(t,s,1),s=Hs(),t!==null&&(Wd(t,1,s),lr(t,s))}function Ht(t,s,r){if(t.tag===3)c0(t,t,r);else for(;s!==null;){if(s.tag===3){c0(s,t,r);break}else if(s.tag===1){var n=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Qa===null||!Qa.has(n))){t=ko(r,t),t=b1(s,t,1),s=Ga(s,t,1),t=Hs(),s!==null&&(Wd(s,1,t),lr(s,t));break}}s=s.return}}function aR(t,s,r){var n=t.pingCache;n!==null&&n.delete(s),s=Hs(),t.pingedLanes|=t.suspendedLanes&r,gs===t&&(js&r)===r&&(ds===4||ds===3&&(js&130023424)===js&&500>Qt()-_v?zi(t,0):Nv|=r),lr(t,s)}function V1(t,s){s===0&&(t.mode&1?(s=Tu,Tu<<=1,!(Tu&130023424)&&(Tu=4194304)):s=1);var r=Hs();t=na(t,s),t!==null&&(Wd(t,s,r),lr(t,r))}function iR(t){var s=t.memoizedState,r=0;s!==null&&(r=s.retryLane),V1(t,r)}function lR(t,s){var r=0;switch(t.tag){case 13:var n=t.stateNode,a=t.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(te(314))}n!==null&&n.delete(s),V1(t,r)}var B1;B1=function(t,s,r){if(t!==null)if(t.memoizedProps!==s.pendingProps||ar.current)nr=!0;else{if(!(t.lanes&r)&&!(s.flags&128))return nr=!1,GA(t,s,r);nr=!!(t.flags&131072)}else nr=!1,Dt&&s.flags&1048576&&KN(s,Ih,s.index);switch(s.lanes=0,s.tag){case 2:var n=s.type;oh(t,s),t=s.pendingProps;var a=bo(s,Is.current);eo(s,r),a=gv(null,s,n,t,a,r);var i=vv();return s.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,ir(n)?(i=!0,Rh(s)):i=!1,s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,hv(s),a.updater=Am,s.stateNode=a,a._reactInternals=s,yp(s,n,t,r),s=bp(null,s,n,!0,i,r)):(s.tag=0,Dt&&i&&av(s),Us(null,s,a,r),s=s.child),s;case 16:n=s.elementType;e:{switch(oh(t,s),t=s.pendingProps,a=n._init,n=a(n._payload),s.type=n,a=s.tag=cR(n),t=qr(n,t),a){case 0:s=wp(null,s,n,t,r);break e;case 1:s=Jj(null,s,n,t,r);break e;case 11:s=Yj(null,s,n,t,r);break e;case 14:s=Xj(null,s,n,qr(n.type,t),r);break e}throw Error(te(306,n,""))}return s;case 0:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:qr(n,a),wp(t,s,n,a,r);case 1:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:qr(n,a),Jj(t,s,n,a,r);case 3:e:{if(k1(s),t===null)throw Error(te(387));n=s.pendingProps,i=s.memoizedState,a=i.element,JN(t,s),Lh(s,n,null,r);var l=s.memoizedState;if(n=l.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},s.updateQueue.baseState=i,s.memoizedState=i,s.flags&256){a=ko(Error(te(423)),s),s=e0(t,s,n,r,a);break e}else if(n!==a){a=ko(Error(te(424)),s),s=e0(t,s,n,r,a);break e}else for(fr=Ka(s.stateNode.containerInfo.firstChild),pr=s,Dt=!0,Qr=null,r=YN(s,null,n,r),s.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(No(),n===a){s=aa(t,s,r);break e}Us(t,s,n,r)}s=s.child}return s;case 5:return e1(s),t===null&&pp(s),n=s.type,a=s.pendingProps,i=t!==null?t.memoizedProps:null,l=a.children,up(n,a)?l=null:i!==null&&up(n,i)&&(s.flags|=32),S1(t,s),Us(t,s,l,r),s.child;case 6:return t===null&&pp(s),null;case 13:return C1(t,s,r);case 4:return mv(s,s.stateNode.containerInfo),n=s.pendingProps,t===null?s.child=_o(s,null,n,r):Us(t,s,n,r),s.child;case 11:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:qr(n,a),Yj(t,s,n,a,r);case 7:return Us(t,s,s.pendingProps,r),s.child;case 8:return Us(t,s,s.pendingProps.children,r),s.child;case 12:return Us(t,s,s.pendingProps.children,r),s.child;case 10:e:{if(n=s.type._context,a=s.pendingProps,i=s.memoizedProps,l=a.value,_t(Dh,n._currentValue),n._currentValue=l,i!==null)if(rn(i.value,l)){if(i.children===a.children&&!ar.current){s=aa(t,s,r);break e}}else for(i=s.child,i!==null&&(i.return=s);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Qn(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),gp(i.return,r,s),o.lanes|=r;break}c=c.next}}else if(i.tag===10)l=i.type===s.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(te(341));l.lanes|=r,o=l.alternate,o!==null&&(o.lanes|=r),gp(l,r,s),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===s){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Us(t,s,a.children,r),s=s.child}return s;case 9:return a=s.type,n=s.pendingProps.children,eo(s,r),a=Mr(a),n=n(a),s.flags|=1,Us(t,s,n,r),s.child;case 14:return n=s.type,a=qr(n,s.pendingProps),a=qr(n.type,a),Xj(t,s,n,a,r);case 15:return N1(t,s,s.type,s.pendingProps,r);case 17:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:qr(n,a),oh(t,s),s.tag=1,ir(n)?(t=!0,Rh(s)):t=!1,eo(s,r),j1(s,n,a),yp(s,n,a,r),bp(null,s,n,!0,t,r);case 19:return E1(t,s,r);case 22:return _1(t,s,r)}throw Error(te(156,s.tag))};function q1(t,s){return gN(t,s)}function oR(t,s,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ar(t,s,r,n){return new oR(t,s,r,n)}function Ev(t){return t=t.prototype,!(!t||!t.isReactComponent)}function cR(t){if(typeof t=="function")return Ev(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Kg)return 11;if(t===Gg)return 14}return 2}function Ya(t,s){var r=t.alternate;return r===null?(r=Ar(t.tag,s,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=s,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,s=t.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function uh(t,s,r,n,a,i){var l=2;if(n=t,typeof t=="function")Ev(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case Ll:return Vi(r.children,a,i,s);case Wg:l=8,a|=8;break;case Bx:return t=Ar(12,r,s,a|2),t.elementType=Bx,t.lanes=i,t;case qx:return t=Ar(13,r,s,a),t.elementType=qx,t.lanes=i,t;case Hx:return t=Ar(19,r,s,a),t.elementType=Hx,t.lanes=i,t;case eN:return Im(r,a,i,s);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Xb:l=10;break e;case Jb:l=9;break e;case Kg:l=11;break e;case Gg:l=14;break e;case Na:l=16,n=null;break e}throw Error(te(130,t==null?t:typeof t,""))}return s=Ar(l,r,s,a),s.elementType=t,s.type=n,s.lanes=i,s}function Vi(t,s,r,n){return t=Ar(7,t,n,s),t.lanes=r,t}function Im(t,s,r,n){return t=Ar(22,t,n,s),t.elementType=eN,t.lanes=r,t.stateNode={isHidden:!1},t}function cx(t,s,r){return t=Ar(6,t,null,s),t.lanes=r,t}function dx(t,s,r){return s=Ar(4,t.children!==null?t.children:[],t.key,s),s.lanes=r,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}function dR(t,s,r,n,a){this.tag=s,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qf(0),this.expirationTimes=qf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qf(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Tv(t,s,r,n,a,i,l,o,c){return t=new dR(t,s,r,o,c),s===1?(s=1,i===!0&&(s|=8)):s=0,i=Ar(3,null,null,s),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},hv(i),t}function uR(t,s,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ml,key:n==null?null:""+n,children:t,containerInfo:s,implementation:r}}function H1(t){if(!t)return ri;t=t._reactInternals;e:{if(cl(t)!==t||t.tag!==1)throw Error(te(170));var s=t;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(ir(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(te(171))}if(t.tag===1){var r=t.type;if(ir(r))return HN(t,r,s)}return s}function W1(t,s,r,n,a,i,l,o,c){return t=Tv(r,n,!0,t,a,i,l,o,c),t.context=H1(null),r=t.current,n=Hs(),a=Za(r),i=Qn(n,a),i.callback=s??null,Ga(r,i,a),t.current.lanes=a,Wd(t,a,n),lr(t,n),t}function Dm(t,s,r,n){var a=s.current,i=Hs(),l=Za(a);return r=H1(r),s.context===null?s.context=r:s.pendingContext=r,s=Qn(i,l),s.payload={element:t},n=n===void 0?null:n,n!==null&&(s.callback=n),t=Ga(a,s,l),t!==null&&(tn(t,a,l,i),ah(t,a,l)),l}function Hh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function d0(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<s?r:s}}function Pv(t,s){d0(t,s),(t=t.alternate)&&d0(t,s)}function hR(){return null}var K1=typeof reportError=="function"?reportError:function(t){console.error(t)};function Av(t){this._internalRoot=t}Mm.prototype.render=Av.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(te(409));Dm(t,s,null,null)};Mm.prototype.unmount=Av.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Gi(function(){Dm(null,t,null,null)}),s[ra]=null}};function Mm(t){this._internalRoot=t}Mm.prototype.unstable_scheduleHydration=function(t){if(t){var s=_N();t={blockedOn:null,target:t,priority:s};for(var r=0;r<Ca.length&&s!==0&&s<Ca[r].priority;r++);Ca.splice(r,0,t),r===0&&kN(t)}};function Rv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Lm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function u0(){}function mR(t,s,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var d=Hh(l);i.call(d)}}var l=W1(s,n,t,0,null,!1,!1,"",u0);return t._reactRootContainer=l,t[ra]=l.current,bd(t.nodeType===8?t.parentNode:t),Gi(),l}for(;a=t.lastChild;)t.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var d=Hh(c);o.call(d)}}var c=Tv(t,0,!1,null,null,!1,!1,"",u0);return t._reactRootContainer=c,t[ra]=c.current,bd(t.nodeType===8?t.parentNode:t),Gi(function(){Dm(s,c,r,n)}),c}function Fm(t,s,r,n,a){var i=r._reactRootContainer;if(i){var l=i;if(typeof a=="function"){var o=a;a=function(){var c=Hh(l);o.call(c)}}Dm(s,l,t,a)}else l=mR(r,s,t,a,n);return Hh(l)}bN=function(t){switch(t.tag){case 3:var s=t.stateNode;if(s.current.memoizedState.isDehydrated){var r=qc(s.pendingLanes);r!==0&&(Yg(s,r|1),lr(s,Qt()),!(st&6)&&(Co=Qt()+500,xi()))}break;case 13:Gi(function(){var n=na(t,1);if(n!==null){var a=Hs();tn(n,t,1,a)}}),Pv(t,1)}};Xg=function(t){if(t.tag===13){var s=na(t,134217728);if(s!==null){var r=Hs();tn(s,t,134217728,r)}Pv(t,134217728)}};NN=function(t){if(t.tag===13){var s=Za(t),r=na(t,s);if(r!==null){var n=Hs();tn(r,t,s,n)}Pv(t,s)}};_N=function(){return xt};SN=function(t,s){var r=xt;try{return xt=t,s()}finally{xt=r}};tp=function(t,s,r){switch(s){case"input":if(Gx(t,r),s=r.name,r.type==="radio"&&s!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<r.length;s++){var n=r[s];if(n!==t&&n.form===t.form){var a=Em(n);if(!a)throw Error(te(90));sN(n),Gx(n,a)}}}break;case"textarea":nN(t,r);break;case"select":s=r.value,s!=null&&Zl(t,!!r.multiple,s,!1)}};uN=Sv;hN=Gi;var fR={usingClientEntryPoint:!1,Events:[Gd,zl,Em,cN,dN,Sv]},Oc={findFiberByHostInstance:Ei,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xR={bundleType:Oc.bundleType,version:Oc.version,rendererPackageName:Oc.rendererPackageName,rendererConfig:Oc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ha.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=xN(t),t===null?null:t.stateNode},findFiberByHostInstance:Oc.findFiberByHostInstance||hR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uu.isDisabled&&Uu.supportsFiber)try{_m=Uu.inject(xR),Nn=Uu}catch{}}wr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fR;wr.createPortal=function(t,s){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rv(s))throw Error(te(200));return uR(t,s,null,r)};wr.createRoot=function(t,s){if(!Rv(t))throw Error(te(299));var r=!1,n="",a=K1;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(n=s.identifierPrefix),s.onRecoverableError!==void 0&&(a=s.onRecoverableError)),s=Tv(t,1,!1,null,null,r,!1,n,a),t[ra]=s.current,bd(t.nodeType===8?t.parentNode:t),new Av(s)};wr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(te(188)):(t=Object.keys(t).join(","),Error(te(268,t)));return t=xN(s),t=t===null?null:t.stateNode,t};wr.flushSync=function(t){return Gi(t)};wr.hydrate=function(t,s,r){if(!Lm(s))throw Error(te(200));return Fm(null,t,s,!0,r)};wr.hydrateRoot=function(t,s,r){if(!Rv(t))throw Error(te(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",l=K1;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),s=W1(s,null,t,1,r??null,a,!1,i,l),t[ra]=s.current,bd(t),n)for(t=0;t<n.length;t++)r=n[t],a=r._getVersion,a=a(r._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[r,a]:s.mutableSourceEagerHydrationData.push(r,a);return new Mm(s)};wr.render=function(t,s,r){if(!Lm(s))throw Error(te(200));return Fm(null,t,s,!1,r)};wr.unmountComponentAtNode=function(t){if(!Lm(t))throw Error(te(40));return t._reactRootContainer?(Gi(function(){Fm(null,null,t,!1,function(){t._reactRootContainer=null,t[ra]=null})}),!0):!1};wr.unstable_batchedUpdates=Sv;wr.unstable_renderSubtreeIntoContainer=function(t,s,r,n){if(!Lm(r))throw Error(te(200));if(t==null||t._reactInternals===void 0)throw Error(te(38));return Fm(t,s,r,!1,n)};wr.version="18.3.1-next-f1338f8080-20240426";function G1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(G1)}catch(t){console.error(t)}}G1(),Gb.exports=wr;var dl=Gb.exports;const pR=Ho(dl);var Q1,h0=dl;Q1=h0.createRoot,h0.hydrateRoot;var Qo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Qi=typeof window>"u"||"Deno"in globalThis;function zs(){}function gR(t,s){return typeof t=="function"?t(s):t}function Ip(t){return typeof t=="number"&&t>=0&&t!==1/0}function Z1(t,s){return Math.max(t+(s||0)-Date.now(),0)}function Xa(t,s){return typeof t=="function"?t(s):t}function kr(t,s){return typeof t=="function"?t(s):t}function m0(t,s){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:l,stale:o}=t;if(l){if(n){if(s.queryHash!==Ov(l,s.options))return!1}else if(!Ad(s.queryKey,l))return!1}if(r!=="all"){const c=s.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof o=="boolean"&&s.isStale()!==o||a&&a!==s.state.fetchStatus||i&&!i(s))}function f0(t,s){const{exact:r,status:n,predicate:a,mutationKey:i}=t;if(i){if(!s.options.mutationKey)return!1;if(r){if(Zi(s.options.mutationKey)!==Zi(i))return!1}else if(!Ad(s.options.mutationKey,i))return!1}return!(n&&s.state.status!==n||a&&!a(s))}function Ov(t,s){return((s==null?void 0:s.queryKeyHashFn)||Zi)(t)}function Zi(t){return JSON.stringify(t,(s,r)=>Dp(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Ad(t,s){return t===s?!0:typeof t!=typeof s?!1:t&&s&&typeof t=="object"&&typeof s=="object"?Object.keys(s).every(r=>Ad(t[r],s[r])):!1}function Y1(t,s){if(t===s)return t;const r=x0(t)&&x0(s);if(r||Dp(t)&&Dp(s)){const n=r?t:Object.keys(t),a=n.length,i=r?s:Object.keys(s),l=i.length,o=r?[]:{},c=new Set(n);let d=0;for(let u=0;u<l;u++){const m=r?u:i[u];(!r&&c.has(m)||r)&&t[m]===void 0&&s[m]===void 0?(o[m]=void 0,d++):(o[m]=Y1(t[m],s[m]),o[m]===t[m]&&t[m]!==void 0&&d++)}return a===l&&d===a?t:o}return s}function Wh(t,s){if(!s||Object.keys(t).length!==Object.keys(s).length)return!1;for(const r in t)if(t[r]!==s[r])return!1;return!0}function x0(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Dp(t){if(!p0(t))return!1;const s=t.constructor;if(s===void 0)return!0;const r=s.prototype;return!(!p0(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function p0(t){return Object.prototype.toString.call(t)==="[object Object]"}function vR(t){return new Promise(s=>{setTimeout(s,t)})}function Mp(t,s,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,s):r.structuralSharing!==!1?Y1(t,s):s}function yR(t,s,r=0){const n=[...t,s];return r&&n.length>r?n.slice(1):n}function jR(t,s,r=0){const n=[s,...t];return r&&n.length>r?n.slice(0,-1):n}var Iv=Symbol();function X1(t,s){return!t.queryFn&&(s!=null&&s.initialPromise)?()=>s.initialPromise:!t.queryFn||t.queryFn===Iv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function J1(t,s){return typeof t=="function"?t(...s):!!t}var Ri,Aa,oo,kb,wR=(kb=class extends Qo{constructor(){super();Oe(this,Ri);Oe(this,Aa);Oe(this,oo);ge(this,oo,s=>{if(!Qi&&window.addEventListener){const r=()=>s();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){F(this,Aa)||this.setEventListener(F(this,oo))}onUnsubscribe(){var s;this.hasListeners()||((s=F(this,Aa))==null||s.call(this),ge(this,Aa,void 0))}setEventListener(s){var r;ge(this,oo,s),(r=F(this,Aa))==null||r.call(this),ge(this,Aa,s(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(s){F(this,Ri)!==s&&(ge(this,Ri,s),this.onFocus())}onFocus(){const s=this.isFocused();this.listeners.forEach(r=>{r(s)})}isFocused(){var s;return typeof F(this,Ri)=="boolean"?F(this,Ri):((s=globalThis.document)==null?void 0:s.visibilityState)!=="hidden"}},Ri=new WeakMap,Aa=new WeakMap,oo=new WeakMap,kb),Dv=new wR,co,Ra,uo,Cb,bR=(Cb=class extends Qo{constructor(){super();Oe(this,co,!0);Oe(this,Ra);Oe(this,uo);ge(this,uo,s=>{if(!Qi&&window.addEventListener){const r=()=>s(!0),n=()=>s(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){F(this,Ra)||this.setEventListener(F(this,uo))}onUnsubscribe(){var s;this.hasListeners()||((s=F(this,Ra))==null||s.call(this),ge(this,Ra,void 0))}setEventListener(s){var r;ge(this,uo,s),(r=F(this,Ra))==null||r.call(this),ge(this,Ra,s(this.setOnline.bind(this)))}setOnline(s){F(this,co)!==s&&(ge(this,co,s),this.listeners.forEach(n=>{n(s)}))}isOnline(){return F(this,co)}},co=new WeakMap,Ra=new WeakMap,uo=new WeakMap,Cb),Kh=new bR;function Lp(){let t,s;const r=new Promise((a,i)=>{t=a,s=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),t(a)},r.reject=a=>{n({status:"rejected",reason:a}),s(a)},r}function NR(t){return Math.min(1e3*2**t,3e4)}function e_(t){return(t??"online")==="online"?Kh.isOnline():!0}var t_=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function ux(t){return t instanceof t_}function s_(t){let s=!1,r=0,n=!1,a;const i=Lp(),l=v=>{var p;n||(f(new t_(v)),(p=t.abort)==null||p.call(t))},o=()=>{s=!0},c=()=>{s=!1},d=()=>Dv.isFocused()&&(t.networkMode==="always"||Kh.isOnline())&&t.canRun(),u=()=>e_(t.networkMode)&&t.canRun(),m=v=>{var p;n||(n=!0,(p=t.onSuccess)==null||p.call(t,v),a==null||a(),i.resolve(v))},f=v=>{var p;n||(n=!0,(p=t.onError)==null||p.call(t,v),a==null||a(),i.reject(v))},x=()=>new Promise(v=>{var p;a=j=>{(n||d())&&v(j)},(p=t.onPause)==null||p.call(t)}).then(()=>{var v;a=void 0,n||(v=t.onContinue)==null||v.call(t)}),g=()=>{if(n)return;let v;const p=r===0?t.initialPromise:void 0;try{v=p??t.fn()}catch(j){v=Promise.reject(j)}Promise.resolve(v).then(m).catch(j=>{var N;if(n)return;const w=t.retry??(Qi?0:3),y=t.retryDelay??NR,_=typeof y=="function"?y(r,j):y,b=w===!0||typeof w=="number"&&r<w||typeof w=="function"&&w(r,j);if(s||!b){f(j);return}r++,(N=t.onFail)==null||N.call(t,r,j),vR(_).then(()=>d()?void 0:x()).then(()=>{s?f(j):g()})})};return{promise:i,cancel:l,continue:()=>(a==null||a(),i),cancelRetry:o,continueRetry:c,canStart:u,start:()=>(u()?g():x().then(g),i)}}var _R=t=>setTimeout(t,0);function SR(){let t=[],s=0,r=o=>{o()},n=o=>{o()},a=_R;const i=o=>{s?t.push(o):a(()=>{r(o)})},l=()=>{const o=t;t=[],o.length&&a(()=>{n(()=>{o.forEach(c=>{r(c)})})})};return{batch:o=>{let c;s++;try{c=o()}finally{s--,s||l()}return c},batchCalls:o=>(...c)=>{i(()=>{o(...c)})},schedule:i,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{a=o}}}var cs=SR(),Oi,Eb,r_=(Eb=class{constructor(){Oe(this,Oi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ip(this.gcTime)&&ge(this,Oi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Qi?1/0:5*60*1e3))}clearGcTimeout(){F(this,Oi)&&(clearTimeout(F(this,Oi)),ge(this,Oi,void 0))}},Oi=new WeakMap,Eb),ho,Ii,Sr,Di,Es,zd,Mi,Hr,Fn,Tb,kR=(Tb=class extends r_{constructor(s){super();Oe(this,Hr);Oe(this,ho);Oe(this,Ii);Oe(this,Sr);Oe(this,Di);Oe(this,Es);Oe(this,zd);Oe(this,Mi);ge(this,Mi,!1),ge(this,zd,s.defaultOptions),this.setOptions(s.options),this.observers=[],ge(this,Di,s.client),ge(this,Sr,F(this,Di).getQueryCache()),this.queryKey=s.queryKey,this.queryHash=s.queryHash,ge(this,ho,CR(this.options)),this.state=s.state??F(this,ho),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var s;return(s=F(this,Es))==null?void 0:s.promise}setOptions(s){this.options={...F(this,zd),...s},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&F(this,Sr).remove(this)}setData(s,r){const n=Mp(this.state.data,s,this.options);return He(this,Hr,Fn).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(s,r){He(this,Hr,Fn).call(this,{type:"setState",state:s,setStateOptions:r})}cancel(s){var n,a;const r=(n=F(this,Es))==null?void 0:n.promise;return(a=F(this,Es))==null||a.cancel(s),r?r.then(zs).catch(zs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(F(this,ho))}isActive(){return this.observers.some(s=>kr(s.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Iv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(s=>Xa(s.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(s=>s.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(s=0){return this.state.data===void 0?!0:s==="static"?!1:this.state.isInvalidated?!0:!Z1(this.state.dataUpdatedAt,s)}onFocus(){var r;const s=this.observers.find(n=>n.shouldFetchOnWindowFocus());s==null||s.refetch({cancelRefetch:!1}),(r=F(this,Es))==null||r.continue()}onOnline(){var r;const s=this.observers.find(n=>n.shouldFetchOnReconnect());s==null||s.refetch({cancelRefetch:!1}),(r=F(this,Es))==null||r.continue()}addObserver(s){this.observers.includes(s)||(this.observers.push(s),this.clearGcTimeout(),F(this,Sr).notify({type:"observerAdded",query:this,observer:s}))}removeObserver(s){this.observers.includes(s)&&(this.observers=this.observers.filter(r=>r!==s),this.observers.length||(F(this,Es)&&(F(this,Mi)?F(this,Es).cancel({revert:!0}):F(this,Es).cancelRetry()),this.scheduleGc()),F(this,Sr).notify({type:"observerRemoved",query:this,observer:s}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||He(this,Hr,Fn).call(this,{type:"invalidate"})}fetch(s,r){var d,u,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(F(this,Es))return F(this,Es).continueRetry(),F(this,Es).promise}if(s&&this.setOptions(s),!this.options.queryFn){const f=this.observers.find(x=>x.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,a=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(ge(this,Mi,!0),n.signal)})},i=()=>{const f=X1(this.options,r),g=(()=>{const v={client:F(this,Di),queryKey:this.queryKey,meta:this.meta};return a(v),v})();return ge(this,Mi,!1),this.options.persister?this.options.persister(f,g,this):f(g)},o=(()=>{const f={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:F(this,Di),state:this.state,fetchFn:i};return a(f),f})();(d=this.options.behavior)==null||d.onFetch(o,this),ge(this,Ii,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&He(this,Hr,Fn).call(this,{type:"fetch",meta:(m=o.fetchOptions)==null?void 0:m.meta});const c=f=>{var x,g,v,p;ux(f)&&f.silent||He(this,Hr,Fn).call(this,{type:"error",error:f}),ux(f)||((g=(x=F(this,Sr).config).onError)==null||g.call(x,f,this),(p=(v=F(this,Sr).config).onSettled)==null||p.call(v,this.state.data,f,this)),this.scheduleGc()};return ge(this,Es,s_({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var x,g,v,p;if(f===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(j){c(j);return}(g=(x=F(this,Sr).config).onSuccess)==null||g.call(x,f,this),(p=(v=F(this,Sr).config).onSettled)==null||p.call(v,f,this.state.error,this),this.scheduleGc()},onError:c,onFail:(f,x)=>{He(this,Hr,Fn).call(this,{type:"failed",failureCount:f,error:x})},onPause:()=>{He(this,Hr,Fn).call(this,{type:"pause"})},onContinue:()=>{He(this,Hr,Fn).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),F(this,Es).start()}},ho=new WeakMap,Ii=new WeakMap,Sr=new WeakMap,Di=new WeakMap,Es=new WeakMap,zd=new WeakMap,Mi=new WeakMap,Hr=new WeakSet,Fn=function(s){const r=n=>{switch(s.type){case"failed":return{...n,fetchFailureCount:s.failureCount,fetchFailureReason:s.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...n_(n.data,this.options),fetchMeta:s.meta??null};case"success":return ge(this,Ii,void 0),{...n,data:s.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:s.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!s.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=s.error;return ux(a)&&a.revert&&F(this,Ii)?{...F(this,Ii),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...s.state}}};this.state=r(this.state),cs.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),F(this,Sr).notify({query:this,type:"updated",action:s})})},Tb);function n_(t,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:e_(s.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function CR(t){const s=typeof t.initialData=="function"?t.initialData():t.initialData,r=s!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var mn,Pb,ER=(Pb=class extends Qo{constructor(s={}){super();Oe(this,mn);this.config=s,ge(this,mn,new Map)}build(s,r,n){const a=r.queryKey,i=r.queryHash??Ov(a,r);let l=this.get(i);return l||(l=new kR({client:s,queryKey:a,queryHash:i,options:s.defaultQueryOptions(r),state:n,defaultOptions:s.getQueryDefaults(a)}),this.add(l)),l}add(s){F(this,mn).has(s.queryHash)||(F(this,mn).set(s.queryHash,s),this.notify({type:"added",query:s}))}remove(s){const r=F(this,mn).get(s.queryHash);r&&(s.destroy(),r===s&&F(this,mn).delete(s.queryHash),this.notify({type:"removed",query:s}))}clear(){cs.batch(()=>{this.getAll().forEach(s=>{this.remove(s)})})}get(s){return F(this,mn).get(s)}getAll(){return[...F(this,mn).values()]}find(s){const r={exact:!0,...s};return this.getAll().find(n=>m0(r,n))}findAll(s={}){const r=this.getAll();return Object.keys(s).length>0?r.filter(n=>m0(s,n)):r}notify(s){cs.batch(()=>{this.listeners.forEach(r=>{r(s)})})}onFocus(){cs.batch(()=>{this.getAll().forEach(s=>{s.onFocus()})})}onOnline(){cs.batch(()=>{this.getAll().forEach(s=>{s.onOnline()})})}},mn=new WeakMap,Pb),fn,Fs,Li,xn,ja,Ab,TR=(Ab=class extends r_{constructor(s){super();Oe(this,xn);Oe(this,fn);Oe(this,Fs);Oe(this,Li);this.mutationId=s.mutationId,ge(this,Fs,s.mutationCache),ge(this,fn,[]),this.state=s.state||a_(),this.setOptions(s.options),this.scheduleGc()}setOptions(s){this.options=s,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(s){F(this,fn).includes(s)||(F(this,fn).push(s),this.clearGcTimeout(),F(this,Fs).notify({type:"observerAdded",mutation:this,observer:s}))}removeObserver(s){ge(this,fn,F(this,fn).filter(r=>r!==s)),this.scheduleGc(),F(this,Fs).notify({type:"observerRemoved",mutation:this,observer:s})}optionalRemove(){F(this,fn).length||(this.state.status==="pending"?this.scheduleGc():F(this,Fs).remove(this))}continue(){var s;return((s=F(this,Li))==null?void 0:s.continue())??this.execute(this.state.variables)}async execute(s){var i,l,o,c,d,u,m,f,x,g,v,p,j,w,y,_,b,N,T,A;const r=()=>{He(this,xn,ja).call(this,{type:"continue"})};ge(this,Li,s_({fn:()=>this.options.mutationFn?this.options.mutationFn(s):Promise.reject(new Error("No mutationFn found")),onFail:(S,P)=>{He(this,xn,ja).call(this,{type:"failed",failureCount:S,error:P})},onPause:()=>{He(this,xn,ja).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>F(this,Fs).canRun(this)}));const n=this.state.status==="pending",a=!F(this,Li).canStart();try{if(n)r();else{He(this,xn,ja).call(this,{type:"pending",variables:s,isPaused:a}),await((l=(i=F(this,Fs).config).onMutate)==null?void 0:l.call(i,s,this));const P=await((c=(o=this.options).onMutate)==null?void 0:c.call(o,s));P!==this.state.context&&He(this,xn,ja).call(this,{type:"pending",context:P,variables:s,isPaused:a})}const S=await F(this,Li).start();return await((u=(d=F(this,Fs).config).onSuccess)==null?void 0:u.call(d,S,s,this.state.context,this)),await((f=(m=this.options).onSuccess)==null?void 0:f.call(m,S,s,this.state.context)),await((g=(x=F(this,Fs).config).onSettled)==null?void 0:g.call(x,S,null,this.state.variables,this.state.context,this)),await((p=(v=this.options).onSettled)==null?void 0:p.call(v,S,null,s,this.state.context)),He(this,xn,ja).call(this,{type:"success",data:S}),S}catch(S){try{throw await((w=(j=F(this,Fs).config).onError)==null?void 0:w.call(j,S,s,this.state.context,this)),await((_=(y=this.options).onError)==null?void 0:_.call(y,S,s,this.state.context)),await((N=(b=F(this,Fs).config).onSettled)==null?void 0:N.call(b,void 0,S,this.state.variables,this.state.context,this)),await((A=(T=this.options).onSettled)==null?void 0:A.call(T,void 0,S,s,this.state.context)),S}finally{He(this,xn,ja).call(this,{type:"error",error:S})}}finally{F(this,Fs).runNext(this)}}},fn=new WeakMap,Fs=new WeakMap,Li=new WeakMap,xn=new WeakSet,ja=function(s){const r=n=>{switch(s.type){case"failed":return{...n,failureCount:s.failureCount,failureReason:s.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:s.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:s.isPaused,status:"pending",variables:s.variables,submittedAt:Date.now()};case"success":return{...n,data:s.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:s.error,failureCount:n.failureCount+1,failureReason:s.error,isPaused:!1,status:"error"}}};this.state=r(this.state),cs.batch(()=>{F(this,fn).forEach(n=>{n.onMutationUpdate(s)}),F(this,Fs).notify({mutation:this,type:"updated",action:s})})},Ab);function a_(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Bn,Wr,Vd,Rb,PR=(Rb=class extends Qo{constructor(s={}){super();Oe(this,Bn);Oe(this,Wr);Oe(this,Vd);this.config=s,ge(this,Bn,new Set),ge(this,Wr,new Map),ge(this,Vd,0)}build(s,r,n){const a=new TR({mutationCache:this,mutationId:++Nu(this,Vd)._,options:s.defaultMutationOptions(r),state:n});return this.add(a),a}add(s){F(this,Bn).add(s);const r=zu(s);if(typeof r=="string"){const n=F(this,Wr).get(r);n?n.push(s):F(this,Wr).set(r,[s])}this.notify({type:"added",mutation:s})}remove(s){if(F(this,Bn).delete(s)){const r=zu(s);if(typeof r=="string"){const n=F(this,Wr).get(r);if(n)if(n.length>1){const a=n.indexOf(s);a!==-1&&n.splice(a,1)}else n[0]===s&&F(this,Wr).delete(r)}}this.notify({type:"removed",mutation:s})}canRun(s){const r=zu(s);if(typeof r=="string"){const n=F(this,Wr).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===s}else return!0}runNext(s){var n;const r=zu(s);if(typeof r=="string"){const a=(n=F(this,Wr).get(r))==null?void 0:n.find(i=>i!==s&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){cs.batch(()=>{F(this,Bn).forEach(s=>{this.notify({type:"removed",mutation:s})}),F(this,Bn).clear(),F(this,Wr).clear()})}getAll(){return Array.from(F(this,Bn))}find(s){const r={exact:!0,...s};return this.getAll().find(n=>f0(r,n))}findAll(s={}){return this.getAll().filter(r=>f0(s,r))}notify(s){cs.batch(()=>{this.listeners.forEach(r=>{r(s)})})}resumePausedMutations(){const s=this.getAll().filter(r=>r.state.isPaused);return cs.batch(()=>Promise.all(s.map(r=>r.continue().catch(zs))))}},Bn=new WeakMap,Wr=new WeakMap,Vd=new WeakMap,Rb);function zu(t){var s;return(s=t.options.scope)==null?void 0:s.id}function g0(t){return{onFetch:(s,r)=>{var u,m,f,x,g;const n=s.options,a=(f=(m=(u=s.fetchOptions)==null?void 0:u.meta)==null?void 0:m.fetchMore)==null?void 0:f.direction,i=((x=s.state.data)==null?void 0:x.pages)||[],l=((g=s.state.data)==null?void 0:g.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const d=async()=>{let v=!1;const p=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(s.signal.aborted?v=!0:s.signal.addEventListener("abort",()=>{v=!0}),s.signal)})},j=X1(s.options,s.fetchOptions),w=async(y,_,b)=>{if(v)return Promise.reject();if(_==null&&y.pages.length)return Promise.resolve(y);const T=(()=>{const C={client:s.client,queryKey:s.queryKey,pageParam:_,direction:b?"backward":"forward",meta:s.options.meta};return p(C),C})(),A=await j(T),{maxPages:S}=s.options,P=b?jR:yR;return{pages:P(y.pages,A,S),pageParams:P(y.pageParams,_,S)}};if(a&&i.length){const y=a==="backward",_=y?AR:v0,b={pages:i,pageParams:l},N=_(n,b);o=await w(b,N,y)}else{const y=t??i.length;do{const _=c===0?l[0]??n.initialPageParam:v0(n,o);if(c>0&&_==null)break;o=await w(o,_),c++}while(c<y)}return o};s.options.persister?s.fetchFn=()=>{var v,p;return(p=(v=s.options).persister)==null?void 0:p.call(v,d,{client:s.client,queryKey:s.queryKey,meta:s.options.meta,signal:s.signal},r)}:s.fetchFn=d}}}function v0(t,{pages:s,pageParams:r}){const n=s.length-1;return s.length>0?t.getNextPageParam(s[n],s,r[n],r):void 0}function AR(t,{pages:s,pageParams:r}){var n;return s.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,s[0],s,r[0],r):void 0}var qt,Oa,Ia,mo,fo,Da,xo,po,Ob,i_=(Ob=class{constructor(t={}){Oe(this,qt);Oe(this,Oa);Oe(this,Ia);Oe(this,mo);Oe(this,fo);Oe(this,Da);Oe(this,xo);Oe(this,po);ge(this,qt,t.queryCache||new ER),ge(this,Oa,t.mutationCache||new PR),ge(this,Ia,t.defaultOptions||{}),ge(this,mo,new Map),ge(this,fo,new Map),ge(this,Da,0)}mount(){Nu(this,Da)._++,F(this,Da)===1&&(ge(this,xo,Dv.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,qt).onFocus())})),ge(this,po,Kh.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,qt).onOnline())})))}unmount(){var t,s;Nu(this,Da)._--,F(this,Da)===0&&((t=F(this,xo))==null||t.call(this),ge(this,xo,void 0),(s=F(this,po))==null||s.call(this),ge(this,po,void 0))}isFetching(t){return F(this,qt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return F(this,Oa).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const s=this.defaultQueryOptions({queryKey:t});return(r=F(this,qt).get(s.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const s=this.defaultQueryOptions(t),r=F(this,qt).build(this,s),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Xa(s.staleTime,r))&&this.prefetchQuery(s),Promise.resolve(n))}getQueriesData(t){return F(this,qt).findAll(t).map(({queryKey:s,state:r})=>{const n=r.data;return[s,n]})}setQueryData(t,s,r){const n=this.defaultQueryOptions({queryKey:t}),a=F(this,qt).get(n.queryHash),i=a==null?void 0:a.state.data,l=gR(s,i);if(l!==void 0)return F(this,qt).build(this,n).setData(l,{...r,manual:!0})}setQueriesData(t,s,r){return cs.batch(()=>F(this,qt).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,s,r)]))}getQueryState(t){var r;const s=this.defaultQueryOptions({queryKey:t});return(r=F(this,qt).get(s.queryHash))==null?void 0:r.state}removeQueries(t){const s=F(this,qt);cs.batch(()=>{s.findAll(t).forEach(r=>{s.remove(r)})})}resetQueries(t,s){const r=F(this,qt);return cs.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},s)))}cancelQueries(t,s={}){const r={revert:!0,...s},n=cs.batch(()=>F(this,qt).findAll(t).map(a=>a.cancel(r)));return Promise.all(n).then(zs).catch(zs)}invalidateQueries(t,s={}){return cs.batch(()=>(F(this,qt).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},s)))}refetchQueries(t,s={}){const r={...s,cancelRefetch:s.cancelRefetch??!0},n=cs.batch(()=>F(this,qt).findAll(t).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(zs)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(zs)}fetchQuery(t){const s=this.defaultQueryOptions(t);s.retry===void 0&&(s.retry=!1);const r=F(this,qt).build(this,s);return r.isStaleByTime(Xa(s.staleTime,r))?r.fetch(s):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(zs).catch(zs)}fetchInfiniteQuery(t){return t.behavior=g0(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(zs).catch(zs)}ensureInfiniteQueryData(t){return t.behavior=g0(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Kh.isOnline()?F(this,Oa).resumePausedMutations():Promise.resolve()}getQueryCache(){return F(this,qt)}getMutationCache(){return F(this,Oa)}getDefaultOptions(){return F(this,Ia)}setDefaultOptions(t){ge(this,Ia,t)}setQueryDefaults(t,s){F(this,mo).set(Zi(t),{queryKey:t,defaultOptions:s})}getQueryDefaults(t){const s=[...F(this,mo).values()],r={};return s.forEach(n=>{Ad(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,s){F(this,fo).set(Zi(t),{mutationKey:t,defaultOptions:s})}getMutationDefaults(t){const s=[...F(this,fo).values()],r={};return s.forEach(n=>{Ad(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const s={...F(this,Ia).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return s.queryHash||(s.queryHash=Ov(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.queryFn===Iv&&(s.enabled=!1),s}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...F(this,Ia).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){F(this,qt).clear(),F(this,Oa).clear()}},qt=new WeakMap,Oa=new WeakMap,Ia=new WeakMap,mo=new WeakMap,fo=new WeakMap,Da=new WeakMap,xo=new WeakMap,po=new WeakMap,Ob),Js,Je,Bd,$s,Fi,go,Ma,La,qd,vo,yo,$i,Ui,Fa,jo,dt,Wc,Fp,$p,Up,zp,Vp,Bp,qp,l_,Ib,RR=(Ib=class extends Qo{constructor(s,r){super();Oe(this,dt);Oe(this,Js);Oe(this,Je);Oe(this,Bd);Oe(this,$s);Oe(this,Fi);Oe(this,go);Oe(this,Ma);Oe(this,La);Oe(this,qd);Oe(this,vo);Oe(this,yo);Oe(this,$i);Oe(this,Ui);Oe(this,Fa);Oe(this,jo,new Set);this.options=r,ge(this,Js,s),ge(this,La,null),ge(this,Ma,Lp()),this.options.experimental_prefetchInRender||F(this,Ma).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(F(this,Je).addObserver(this),y0(F(this,Je),this.options)?He(this,dt,Wc).call(this):this.updateResult(),He(this,dt,zp).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Hp(F(this,Je),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Hp(F(this,Je),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,He(this,dt,Vp).call(this),He(this,dt,Bp).call(this),F(this,Je).removeObserver(this)}setOptions(s){const r=this.options,n=F(this,Je);if(this.options=F(this,Js).defaultQueryOptions(s),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof kr(this.options.enabled,F(this,Je))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");He(this,dt,qp).call(this),F(this,Je).setOptions(this.options),r._defaulted&&!Wh(this.options,r)&&F(this,Js).getQueryCache().notify({type:"observerOptionsUpdated",query:F(this,Je),observer:this});const a=this.hasListeners();a&&j0(F(this,Je),n,this.options,r)&&He(this,dt,Wc).call(this),this.updateResult(),a&&(F(this,Je)!==n||kr(this.options.enabled,F(this,Je))!==kr(r.enabled,F(this,Je))||Xa(this.options.staleTime,F(this,Je))!==Xa(r.staleTime,F(this,Je)))&&He(this,dt,Fp).call(this);const i=He(this,dt,$p).call(this);a&&(F(this,Je)!==n||kr(this.options.enabled,F(this,Je))!==kr(r.enabled,F(this,Je))||i!==F(this,Fa))&&He(this,dt,Up).call(this,i)}getOptimisticResult(s){const r=F(this,Js).getQueryCache().build(F(this,Js),s),n=this.createResult(r,s);return IR(this,n)&&(ge(this,$s,n),ge(this,go,this.options),ge(this,Fi,F(this,Je).state)),n}getCurrentResult(){return F(this,$s)}trackResult(s,r){return new Proxy(s,{get:(n,a)=>(this.trackProp(a),r==null||r(a),Reflect.get(n,a))})}trackProp(s){F(this,jo).add(s)}getCurrentQuery(){return F(this,Je)}refetch({...s}={}){return this.fetch({...s})}fetchOptimistic(s){const r=F(this,Js).defaultQueryOptions(s),n=F(this,Js).getQueryCache().build(F(this,Js),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(s){return He(this,dt,Wc).call(this,{...s,cancelRefetch:s.cancelRefetch??!0}).then(()=>(this.updateResult(),F(this,$s)))}createResult(s,r){var S;const n=F(this,Je),a=this.options,i=F(this,$s),l=F(this,Fi),o=F(this,go),d=s!==n?s.state:F(this,Bd),{state:u}=s;let m={...u},f=!1,x;if(r._optimisticResults){const P=this.hasListeners(),C=!P&&y0(s,r),R=P&&j0(s,n,r,a);(C||R)&&(m={...m,...n_(u.data,s.options)}),r._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:g,errorUpdatedAt:v,status:p}=m;x=m.data;let j=!1;if(r.placeholderData!==void 0&&x===void 0&&p==="pending"){let P;i!=null&&i.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(P=i.data,j=!0):P=typeof r.placeholderData=="function"?r.placeholderData((S=F(this,yo))==null?void 0:S.state.data,F(this,yo)):r.placeholderData,P!==void 0&&(p="success",x=Mp(i==null?void 0:i.data,P,r),f=!0)}if(r.select&&x!==void 0&&!j)if(i&&x===(l==null?void 0:l.data)&&r.select===F(this,qd))x=F(this,vo);else try{ge(this,qd,r.select),x=r.select(x),x=Mp(i==null?void 0:i.data,x,r),ge(this,vo,x),ge(this,La,null)}catch(P){ge(this,La,P)}F(this,La)&&(g=F(this,La),x=F(this,vo),v=Date.now(),p="error");const w=m.fetchStatus==="fetching",y=p==="pending",_=p==="error",b=y&&w,N=x!==void 0,A={status:p,fetchStatus:m.fetchStatus,isPending:y,isSuccess:p==="success",isError:_,isInitialLoading:b,isLoading:b,data:x,dataUpdatedAt:m.dataUpdatedAt,error:g,errorUpdatedAt:v,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>d.dataUpdateCount||m.errorUpdateCount>d.errorUpdateCount,isFetching:w,isRefetching:w&&!y,isLoadingError:_&&!N,isPaused:m.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:_&&N,isStale:Mv(s,r),refetch:this.refetch,promise:F(this,Ma),isEnabled:kr(r.enabled,s)!==!1};if(this.options.experimental_prefetchInRender){const P=K=>{A.status==="error"?K.reject(A.error):A.data!==void 0&&K.resolve(A.data)},C=()=>{const K=ge(this,Ma,A.promise=Lp());P(K)},R=F(this,Ma);switch(R.status){case"pending":s.queryHash===n.queryHash&&P(R);break;case"fulfilled":(A.status==="error"||A.data!==R.value)&&C();break;case"rejected":(A.status!=="error"||A.error!==R.reason)&&C();break}}return A}updateResult(){const s=F(this,$s),r=this.createResult(F(this,Je),this.options);if(ge(this,Fi,F(this,Je).state),ge(this,go,this.options),F(this,Fi).data!==void 0&&ge(this,yo,F(this,Je)),Wh(r,s))return;ge(this,$s,r);const n=()=>{if(!s)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!F(this,jo).size)return!0;const l=new Set(i??F(this,jo));return this.options.throwOnError&&l.add("error"),Object.keys(F(this,$s)).some(o=>{const c=o;return F(this,$s)[c]!==s[c]&&l.has(c)})};He(this,dt,l_).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&He(this,dt,zp).call(this)}},Js=new WeakMap,Je=new WeakMap,Bd=new WeakMap,$s=new WeakMap,Fi=new WeakMap,go=new WeakMap,Ma=new WeakMap,La=new WeakMap,qd=new WeakMap,vo=new WeakMap,yo=new WeakMap,$i=new WeakMap,Ui=new WeakMap,Fa=new WeakMap,jo=new WeakMap,dt=new WeakSet,Wc=function(s){He(this,dt,qp).call(this);let r=F(this,Je).fetch(this.options,s);return s!=null&&s.throwOnError||(r=r.catch(zs)),r},Fp=function(){He(this,dt,Vp).call(this);const s=Xa(this.options.staleTime,F(this,Je));if(Qi||F(this,$s).isStale||!Ip(s))return;const n=Z1(F(this,$s).dataUpdatedAt,s)+1;ge(this,$i,setTimeout(()=>{F(this,$s).isStale||this.updateResult()},n))},$p=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(F(this,Je)):this.options.refetchInterval)??!1},Up=function(s){He(this,dt,Bp).call(this),ge(this,Fa,s),!(Qi||kr(this.options.enabled,F(this,Je))===!1||!Ip(F(this,Fa))||F(this,Fa)===0)&&ge(this,Ui,setInterval(()=>{(this.options.refetchIntervalInBackground||Dv.isFocused())&&He(this,dt,Wc).call(this)},F(this,Fa)))},zp=function(){He(this,dt,Fp).call(this),He(this,dt,Up).call(this,He(this,dt,$p).call(this))},Vp=function(){F(this,$i)&&(clearTimeout(F(this,$i)),ge(this,$i,void 0))},Bp=function(){F(this,Ui)&&(clearInterval(F(this,Ui)),ge(this,Ui,void 0))},qp=function(){const s=F(this,Js).getQueryCache().build(F(this,Js),this.options);if(s===F(this,Je))return;const r=F(this,Je);ge(this,Je,s),ge(this,Bd,s.state),this.hasListeners()&&(r==null||r.removeObserver(this),s.addObserver(this))},l_=function(s){cs.batch(()=>{s.listeners&&this.listeners.forEach(r=>{r(F(this,$s))}),F(this,Js).getQueryCache().notify({query:F(this,Je),type:"observerResultsUpdated"})})},Ib);function OR(t,s){return kr(s.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&s.retryOnMount===!1)}function y0(t,s){return OR(t,s)||t.state.data!==void 0&&Hp(t,s,s.refetchOnMount)}function Hp(t,s,r){if(kr(s.enabled,t)!==!1&&Xa(s.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&Mv(t,s)}return!1}function j0(t,s,r,n){return(t!==s||kr(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&Mv(t,r)}function Mv(t,s){return kr(s.enabled,t)!==!1&&t.isStaleByTime(Xa(s.staleTime,t))}function IR(t,s){return!Wh(t.getCurrentResult(),s)}var $a,Ua,er,qn,ta,hh,Wp,Db,DR=(Db=class extends Qo{constructor(r,n){super();Oe(this,ta);Oe(this,$a);Oe(this,Ua);Oe(this,er);Oe(this,qn);ge(this,$a,r),this.setOptions(n),this.bindMethods(),He(this,ta,hh).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=F(this,$a).defaultMutationOptions(r),Wh(this.options,n)||F(this,$a).getMutationCache().notify({type:"observerOptionsUpdated",mutation:F(this,er),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Zi(n.mutationKey)!==Zi(this.options.mutationKey)?this.reset():((a=F(this,er))==null?void 0:a.state.status)==="pending"&&F(this,er).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=F(this,er))==null||r.removeObserver(this)}onMutationUpdate(r){He(this,ta,hh).call(this),He(this,ta,Wp).call(this,r)}getCurrentResult(){return F(this,Ua)}reset(){var r;(r=F(this,er))==null||r.removeObserver(this),ge(this,er,void 0),He(this,ta,hh).call(this),He(this,ta,Wp).call(this)}mutate(r,n){var a;return ge(this,qn,n),(a=F(this,er))==null||a.removeObserver(this),ge(this,er,F(this,$a).getMutationCache().build(F(this,$a),this.options)),F(this,er).addObserver(this),F(this,er).execute(r)}},$a=new WeakMap,Ua=new WeakMap,er=new WeakMap,qn=new WeakMap,ta=new WeakSet,hh=function(){var n;const r=((n=F(this,er))==null?void 0:n.state)??a_();ge(this,Ua,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Wp=function(r){cs.batch(()=>{var n,a,i,l,o,c,d,u;if(F(this,qn)&&this.hasListeners()){const m=F(this,Ua).variables,f=F(this,Ua).context;(r==null?void 0:r.type)==="success"?((a=(n=F(this,qn)).onSuccess)==null||a.call(n,r.data,m,f),(l=(i=F(this,qn)).onSettled)==null||l.call(i,r.data,null,m,f)):(r==null?void 0:r.type)==="error"&&((c=(o=F(this,qn)).onError)==null||c.call(o,r.error,m,f),(u=(d=F(this,qn)).onSettled)==null||u.call(d,void 0,r.error,m,f))}this.listeners.forEach(m=>{m(F(this,Ua))})})},Db),o_=h.createContext(void 0),hs=t=>{const s=h.useContext(o_);if(!s)throw new Error("No QueryClient set, use QueryClientProvider to set one");return s},MR=({client:t,children:s})=>(h.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),e.jsx(o_.Provider,{value:t,children:s})),c_=h.createContext(!1),LR=()=>h.useContext(c_);c_.Provider;function FR(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var $R=h.createContext(FR()),UR=()=>h.useContext($R),zR=(t,s)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(s.isReset()||(t.retryOnMount=!1))},VR=t=>{h.useEffect(()=>{t.clearReset()},[t])},BR=({result:t,errorResetBoundary:s,throwOnError:r,query:n,suspense:a})=>t.isError&&!s.isReset()&&!t.isFetching&&n&&(a&&t.data===void 0||J1(r,[t.error,n])),qR=t=>{if(t.suspense){const s=n=>n==="static"?n:Math.max(n??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...n)=>s(r(...n)):s(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},HR=(t,s)=>t.isLoading&&t.isFetching&&!s,WR=(t,s)=>(t==null?void 0:t.suspense)&&s.isPending,w0=(t,s,r)=>s.fetchOptimistic(t).catch(()=>{r.clearReset()});function KR(t,s,r){var m,f,x,g,v;const n=LR(),a=UR(),i=hs(),l=i.defaultQueryOptions(t);(f=(m=i.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||f.call(m,l),l._optimisticResults=n?"isRestoring":"optimistic",qR(l),zR(l,a),VR(a);const o=!i.getQueryCache().get(l.queryHash),[c]=h.useState(()=>new s(i,l)),d=c.getOptimisticResult(l),u=!n&&t.subscribed!==!1;if(h.useSyncExternalStore(h.useCallback(p=>{const j=u?c.subscribe(cs.batchCalls(p)):zs;return c.updateResult(),j},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),h.useEffect(()=>{c.setOptions(l)},[l,c]),WR(l,d))throw w0(l,c,a);if(BR({result:d,errorResetBoundary:a,throwOnError:l.throwOnError,query:i.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw d.error;if((g=(x=i.getDefaultOptions().queries)==null?void 0:x._experimental_afterQuery)==null||g.call(x,l,d),l.experimental_prefetchInRender&&!Qi&&HR(d,n)){const p=o?w0(l,c,a):(v=i.getQueryCache().get(l.queryHash))==null?void 0:v.promise;p==null||p.catch(zs).finally(()=>{c.updateResult()})}return l.notifyOnChangeProps?d:c.trackResult(d)}function xe(t,s){return KR(t,RR)}function Ie(t,s){const r=hs(),[n]=h.useState(()=>new DR(r,t));h.useEffect(()=>{n.setOptions(t)},[n,t]);const a=h.useSyncExternalStore(h.useCallback(l=>n.subscribe(cs.batchCalls(l)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=h.useCallback((l,o)=>{n.mutate(l,o).catch(zs)},[n]);if(a.error&&J1(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}const GR="modulepreload",QR=function(t){return"/"+t},b0={},le=function(s,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),o=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=QR(c),c in b0)return;b0[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":GR,d||(m.as="script"),m.crossOrigin="",m.href=c,o&&m.setAttribute("nonce",o),document.head.appendChild(m),d)return new Promise((f,x)=>{m.addEventListener("load",f),m.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return a.then(l=>{for(const o of l||[])o.status==="rejected"&&i(o.reason);return s().catch(i)})},ZR=t=>{let s;return t?s=t:typeof fetch>"u"?s=(...r)=>le(async()=>{const{default:n}=await Promise.resolve().then(()=>Zo);return{default:n}},void 0).then(({default:n})=>n(...r)):s=fetch,(...r)=>s(...r)};class Lv extends Error{constructor(s,r="FunctionsError",n){super(s),this.name=r,this.context=n}}class YR extends Lv{constructor(s){super("Failed to send a request to the Edge Function","FunctionsFetchError",s)}}class N0 extends Lv{constructor(s){super("Relay Error invoking the Edge Function","FunctionsRelayError",s)}}class _0 extends Lv{constructor(s){super("Edge Function returned a non-2xx status code","FunctionsHttpError",s)}}var Kp;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Kp||(Kp={}));var XR=function(t,s,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(n.next(u))}catch(m){l(m)}}function c(u){try{d(n.throw(u))}catch(m){l(m)}}function d(u){u.done?i(u.value):a(u.value).then(o,c)}d((n=n.apply(t,s||[])).next())})};class JR{constructor(s,{headers:r={},customFetch:n,region:a=Kp.Any}={}){this.url=s,this.headers=r,this.region=a,this.fetch=ZR(n)}setAuth(s){this.headers.Authorization=`Bearer ${s}`}invoke(s,r={}){var n;return XR(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:l}=r;let o={},{region:c}=r;c||(c=this.region);const d=new URL(`${this.url}/${s}`);c&&c!=="any"&&(o["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let u;l&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",u=l):typeof l=="string"?(o["Content-Type"]="text/plain",u=l):typeof FormData<"u"&&l instanceof FormData?u=l:(o["Content-Type"]="application/json",u=JSON.stringify(l)));const m=yield this.fetch(d.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),a),body:u}).catch(v=>{throw new YR(v)}),f=m.headers.get("x-relay-error");if(f&&f==="true")throw new N0(m);if(!m.ok)throw new _0(m);let x=((n=m.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return x==="application/json"?g=yield m.json():x==="application/octet-stream"?g=yield m.blob():x==="text/event-stream"?g=m:x==="multipart/form-data"?g=yield m.formData():g=yield m.text(),{data:g,error:null,response:m}}catch(a){return{data:null,error:a,response:a instanceof _0||a instanceof N0?a.context:void 0}}})}}var rr={},Fv={},$m={},Zd={},Um={},zm={},e5=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Eo=e5();const t5=Eo.fetch,d_=Eo.fetch.bind(Eo),u_=Eo.Headers,s5=Eo.Request,r5=Eo.Response,Zo=Object.freeze(Object.defineProperty({__proto__:null,Headers:u_,Request:s5,Response:r5,default:d_,fetch:t5},Symbol.toStringTag,{value:"Module"})),n5=qT(Zo);var Vm={};Object.defineProperty(Vm,"__esModule",{value:!0});let a5=class extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}};Vm.default=a5;var h_=Dr&&Dr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(zm,"__esModule",{value:!0});const i5=h_(n5),l5=h_(Vm);let o5=class{constructor(s){this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=s.headers,this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=s.shouldThrowOnError,this.signal=s.signal,this.isMaybeSingle=s.isMaybeSingle,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=i5.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,r){return this.headers=Object.assign({},this.headers),this.headers[s]=r,this}then(s,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var l,o,c;let d=null,u=null,m=null,f=i.status,x=i.statusText;if(i.ok){if(this.method!=="HEAD"){const j=await i.text();j===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=j:u=JSON.parse(j))}const v=(l=this.headers.Prefer)===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),p=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");v&&p&&p.length>1&&(m=parseInt(p[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,m=null,f=406,x="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const v=await i.text();try{d=JSON.parse(v),Array.isArray(d)&&i.status===404&&(u=[],d=null,f=200,x="OK")}catch{i.status===404&&v===""?(f=204,x="No Content"):d={message:v}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,f=200,x="OK"),d&&this.shouldThrowOnError)throw new l5.default(d)}return{error:d,data:u,count:m,status:f,statusText:x}});return this.shouldThrowOnError||(a=a.catch(i=>{var l,o,c;return{error:{message:`${(l=i==null?void 0:i.name)!==null&&l!==void 0?l:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(s,r)}returns(){return this}overrideTypes(){return this}};zm.default=o5;var c5=Dr&&Dr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Um,"__esModule",{value:!0});const d5=c5(zm);let u5=class extends d5.default{select(s){let r=!1;const n=(s??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(s,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const l=i?`${i}.order`:"order",o=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${o?`${o},`:""}${s}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,r,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,l=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${s}`),this.url.searchParams.set(l,`${r-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:s=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:l="text"}={}){var o;const c=[s?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${l}; for="${d}"; options=${c};`,l==="json"?this:this}rollback(){var s;return((s=this.headers.Prefer)!==null&&s!==void 0?s:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Um.default=u5;var h5=Dr&&Dr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zd,"__esModule",{value:!0});const m5=h5(Um);let f5=class extends m5.default{eq(s,r){return this.url.searchParams.append(s,`eq.${r}`),this}neq(s,r){return this.url.searchParams.append(s,`neq.${r}`),this}gt(s,r){return this.url.searchParams.append(s,`gt.${r}`),this}gte(s,r){return this.url.searchParams.append(s,`gte.${r}`),this}lt(s,r){return this.url.searchParams.append(s,`lt.${r}`),this}lte(s,r){return this.url.searchParams.append(s,`lte.${r}`),this}like(s,r){return this.url.searchParams.append(s,`like.${r}`),this}likeAllOf(s,r){return this.url.searchParams.append(s,`like(all).{${r.join(",")}}`),this}likeAnyOf(s,r){return this.url.searchParams.append(s,`like(any).{${r.join(",")}}`),this}ilike(s,r){return this.url.searchParams.append(s,`ilike.${r}`),this}ilikeAllOf(s,r){return this.url.searchParams.append(s,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(s,r){return this.url.searchParams.append(s,`ilike(any).{${r.join(",")}}`),this}is(s,r){return this.url.searchParams.append(s,`is.${r}`),this}in(s,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(s,`in.(${n})`),this}contains(s,r){return typeof r=="string"?this.url.searchParams.append(s,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(s,`cs.{${r.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(r)}`),this}containedBy(s,r){return typeof r=="string"?this.url.searchParams.append(s,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(s,`cd.{${r.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(r)}`),this}rangeGt(s,r){return this.url.searchParams.append(s,`sr.${r}`),this}rangeGte(s,r){return this.url.searchParams.append(s,`nxl.${r}`),this}rangeLt(s,r){return this.url.searchParams.append(s,`sl.${r}`),this}rangeLte(s,r){return this.url.searchParams.append(s,`nxr.${r}`),this}rangeAdjacent(s,r){return this.url.searchParams.append(s,`adj.${r}`),this}overlaps(s,r){return typeof r=="string"?this.url.searchParams.append(s,`ov.${r}`):this.url.searchParams.append(s,`ov.{${r.join(",")}}`),this}textSearch(s,r,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(s,`${i}fts${l}.${r}`),this}match(s){return Object.entries(s).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(s,r,n){return this.url.searchParams.append(s,`not.${r}.${n}`),this}or(s,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${s})`),this}filter(s,r,n){return this.url.searchParams.append(s,`${r}.${n}`),this}};Zd.default=f5;var x5=Dr&&Dr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($m,"__esModule",{value:!0});const Ic=x5(Zd);let p5=class{constructor(s,{headers:r={},schema:n,fetch:a}){this.url=s,this.headers=r,this.schema=n,this.fetch=a}select(s,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let i=!1;const l=(s??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",l),n&&(this.headers.Prefer=`count=${n}`),new Ic.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(s,{count:r,defaultToNull:n=!0}={}){const a="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(s)){const l=s.reduce((o,c)=>o.concat(Object.keys(c)),[]);if(l.length>0){const o=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",o.join(","))}}return new Ic.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}upsert(s,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){const l="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),a&&o.push(`count=${a}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(s)){const c=s.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new Ic.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}update(s,{count:r}={}){const n="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),this.headers.Prefer=a.join(","),new Ic.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}delete({count:s}={}){const r="DELETE",n=[];return s&&n.push(`count=${s}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Ic.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};$m.default=p5;var Bm={},qm={};Object.defineProperty(qm,"__esModule",{value:!0});qm.version=void 0;qm.version="0.0.0-automated";Object.defineProperty(Bm,"__esModule",{value:!0});Bm.DEFAULT_HEADERS=void 0;const g5=qm;Bm.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${g5.version}`};var m_=Dr&&Dr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Fv,"__esModule",{value:!0});const v5=m_($m),y5=m_(Zd),j5=Bm;let w5=class f_{constructor(s,{headers:r={},schema:n,fetch:a}={}){this.url=s,this.headers=Object.assign(Object.assign({},j5.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=a}from(s){const r=new URL(`${this.url}/${s}`);return new v5.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new f_(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,r={},{head:n=!1,get:a=!1,count:i}={}){let l;const o=new URL(`${this.url}/rpc/${s}`);let c;n||a?(l=n?"HEAD":"GET",Object.entries(r).filter(([u,m])=>m!==void 0).map(([u,m])=>[u,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([u,m])=>{o.searchParams.append(u,m)})):(l="POST",c=r);const d=Object.assign({},this.headers);return i&&(d.Prefer=`count=${i}`),new y5.default({method:l,url:o,headers:d,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Fv.default=w5;var Yo=Dr&&Dr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(rr,"__esModule",{value:!0});rr.PostgrestError=rr.PostgrestBuilder=rr.PostgrestTransformBuilder=rr.PostgrestFilterBuilder=rr.PostgrestQueryBuilder=rr.PostgrestClient=void 0;const x_=Yo(Fv);rr.PostgrestClient=x_.default;const p_=Yo($m);rr.PostgrestQueryBuilder=p_.default;const g_=Yo(Zd);rr.PostgrestFilterBuilder=g_.default;const v_=Yo(Um);rr.PostgrestTransformBuilder=v_.default;const y_=Yo(zm);rr.PostgrestBuilder=y_.default;const j_=Yo(Vm);rr.PostgrestError=j_.default;var b5=rr.default={PostgrestClient:x_.default,PostgrestQueryBuilder:p_.default,PostgrestFilterBuilder:g_.default,PostgrestTransformBuilder:v_.default,PostgrestBuilder:y_.default,PostgrestError:j_.default};const{PostgrestClient:N5,PostgrestQueryBuilder:xB,PostgrestFilterBuilder:pB,PostgrestTransformBuilder:gB,PostgrestBuilder:vB,PostgrestError:yB}=b5;function _5(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const S5=_5(),k5="2.11.15",C5=`realtime-js/${k5}`,E5="1.0.0",w_=1e4,T5=1e3;var cd;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(cd||(cd={}));var Cs;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Cs||(Cs={}));var Gr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Gr||(Gr={}));var Gp;(function(t){t.websocket="websocket"})(Gp||(Gp={}));var Ci;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ci||(Ci={}));class P5{constructor(){this.HEADER_LENGTH=1}decode(s,r){return s.constructor===ArrayBuffer?r(this._binaryDecode(s)):r(typeof s=="string"?JSON.parse(s):{})}_binaryDecode(s){const r=new DataView(s),n=new TextDecoder;return this._decodeBroadcast(s,r,n)}_decodeBroadcast(s,r,n){const a=r.getUint8(1),i=r.getUint8(2);let l=this.HEADER_LENGTH+2;const o=n.decode(s.slice(l,l+a));l=l+a;const c=n.decode(s.slice(l,l+i));l=l+i;const d=JSON.parse(n.decode(s.slice(l,s.byteLength)));return{ref:null,topic:o,event:c,payload:d}}}class b_{constructor(s,r){this.callback=s,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=s,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var jt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(jt||(jt={}));const S0=(t,s,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(s).reduce((i,l)=>(i[l]=A5(l,t,s,a),i),{})},A5=(t,s,r,n)=>{const a=s.find(o=>o.name===t),i=a==null?void 0:a.type,l=r[t];return i&&!n.includes(i)?N_(i,l):Qp(l)},N_=(t,s)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return D5(s,r)}switch(t){case jt.bool:return R5(s);case jt.float4:case jt.float8:case jt.int2:case jt.int4:case jt.int8:case jt.numeric:case jt.oid:return O5(s);case jt.json:case jt.jsonb:return I5(s);case jt.timestamp:return M5(s);case jt.abstime:case jt.date:case jt.daterange:case jt.int4range:case jt.int8range:case jt.money:case jt.reltime:case jt.text:case jt.time:case jt.timestamptz:case jt.timetz:case jt.tsrange:case jt.tstzrange:return Qp(s);default:return Qp(s)}},Qp=t=>t,R5=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},O5=t=>{if(typeof t=="string"){const s=parseFloat(t);if(!Number.isNaN(s))return s}return t},I5=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(s){return console.log(`JSON parse error: ${s}`),t}return t},D5=(t,s)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const l=t.slice(1,r);try{i=JSON.parse("["+l+"]")}catch{i=l?l.split(","):[]}return i.map(o=>N_(s,o))}return t},M5=t=>typeof t=="string"?t.replace(" ","T"):t,__=t=>{let s=t;return s=s.replace(/^ws/i,"http"),s=s.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),s.replace(/\/+$/,"")};class hx{constructor(s,r,n={},a=w_){this.channel=s,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(s){this.timeout=s,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(s){this.payload=Object.assign(Object.assign({},this.payload),s)}receive(s,r){var n;return this._hasReceived(s)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:s,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const s=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},s),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(s,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:s,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:s,response:r}){this.recHooks.filter(n=>n.status===s).forEach(n=>n.callback(r))}_hasReceived(s){return this.receivedResp&&this.receivedResp.status===s}}var k0;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(k0||(k0={}));class dd{constructor(s,r){this.channel=s,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:l,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=dd.syncState(this.state,a,i,l),this.pendingDiffs.forEach(c=>{this.state=dd.syncDiff(this.state,c,i,l)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:l,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=dd.syncDiff(this.state,a,i,l),o())}),this.onJoin((a,i,l)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:l})}),this.onLeave((a,i,l)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(s,r,n,a){const i=this.cloneDeep(s),l=this.transformState(r),o={},c={};return this.map(i,(d,u)=>{l[d]||(c[d]=u)}),this.map(l,(d,u)=>{const m=i[d];if(m){const f=u.map(p=>p.presence_ref),x=m.map(p=>p.presence_ref),g=u.filter(p=>x.indexOf(p.presence_ref)<0),v=m.filter(p=>f.indexOf(p.presence_ref)<0);g.length>0&&(o[d]=g),v.length>0&&(c[d]=v)}else o[d]=u}),this.syncDiff(i,{joins:o,leaves:c},n,a)}static syncDiff(s,r,n,a){const{joins:i,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(o,c)=>{var d;const u=(d=s[o])!==null&&d!==void 0?d:[];if(s[o]=this.cloneDeep(c),u.length>0){const m=s[o].map(x=>x.presence_ref),f=u.filter(x=>m.indexOf(x.presence_ref)<0);s[o].unshift(...f)}n(o,u,c)}),this.map(l,(o,c)=>{let d=s[o];if(!d)return;const u=c.map(m=>m.presence_ref);d=d.filter(m=>u.indexOf(m.presence_ref)<0),s[o]=d,a(o,d,c),d.length===0&&delete s[o]}),s}static map(s,r){return Object.getOwnPropertyNames(s).map(n=>r(n,s[n]))}static transformState(s){return s=this.cloneDeep(s),Object.getOwnPropertyNames(s).reduce((r,n)=>{const a=s[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(s){return JSON.parse(JSON.stringify(s))}onJoin(s){this.caller.onJoin=s}onLeave(s){this.caller.onLeave=s}onSync(s){this.caller.onSync=s}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var C0;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(C0||(C0={}));var E0;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(E0||(E0={}));var zn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(zn||(zn={}));class $v{constructor(s,r={config:{}},n){this.topic=s,this.params=r,this.socket=n,this.bindings={},this.state=Cs.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=s.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new hx(this,Gr.join,this.params,this.timeout),this.rejoinTimer=new b_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Cs.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Cs.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Cs.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Cs.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Gr.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new dd(this),this.broadcastEndpointURL=__(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(s,r=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Cs.closed){const{config:{broadcast:i,presence:l,private:o}}=this.params;this._onError(u=>s==null?void 0:s(zn.CHANNEL_ERROR,u)),this._onClose(()=>s==null?void 0:s(zn.CLOSED));const c={},d={broadcast:i,presence:l,postgres_changes:(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&a!==void 0?a:[],private:o};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:u})=>{var m;if(this.socket.setAuth(),u===void 0){s==null||s(zn.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,x=(m=f==null?void 0:f.length)!==null&&m!==void 0?m:0,g=[];for(let v=0;v<x;v++){const p=f[v],{filter:{event:j,schema:w,table:y,filter:_}}=p,b=u&&u[v];if(b&&b.event===j&&b.schema===w&&b.table===y&&b.filter===_)g.push(Object.assign(Object.assign({},p),{id:b.id}));else{this.unsubscribe(),this.state=Cs.errored,s==null||s(zn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,s&&s(zn.SUBSCRIBED);return}}).receive("error",u=>{this.state=Cs.errored,s==null||s(zn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{s==null||s(zn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(s,r={}){return await this.send({type:"presence",event:"track",payload:s},r.timeout||this.timeout)}async untrack(s={}){return await this.send({type:"presence",event:"untrack"},s)}on(s,r,n){return this._on(s,r,n)}async send(s,r={}){var n,a;if(!this._canPush()&&s.type==="broadcast"){const{event:i,payload:l}=s,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:l,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var l,o,c;const d=this._push(s.type,s,r.timeout||this.timeout);s.type==="broadcast"&&!(!((c=(o=(l=this.params)===null||l===void 0?void 0:l.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(s){this.joinPush.updatePayload(s)}unsubscribe(s=this.timeout){this.state=Cs.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Gr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new hx(this,Gr.leave,{},s),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(s=>s.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(s,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),l=await this.socket.fetch(s,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),l}_push(s,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${s}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new hx(this,s,r,n);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(s,r,n){return r}_isMember(s){return this.topic===s}_joinRef(){return this.joinPush.ref}_trigger(s,r,n){var a,i;const l=s.toLocaleLowerCase(),{close:o,error:c,leave:d,join:u}=Gr;if(n&&[o,c,d,u].indexOf(l)>=0&&n!==this._joinRef())return;let f=this._onMessage(l,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(x=>{var g,v,p;return((g=x.filter)===null||g===void 0?void 0:g.event)==="*"||((p=(v=x.filter)===null||v===void 0?void 0:v.event)===null||p===void 0?void 0:p.toLocaleLowerCase())===l}).map(x=>x.callback(f,n)):(i=this.bindings[l])===null||i===void 0||i.filter(x=>{var g,v,p,j,w,y;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in x){const _=x.id,b=(g=x.filter)===null||g===void 0?void 0:g.event;return _&&((v=r.ids)===null||v===void 0?void 0:v.includes(_))&&(b==="*"||(b==null?void 0:b.toLocaleLowerCase())===((p=r.data)===null||p===void 0?void 0:p.type.toLocaleLowerCase()))}else{const _=(w=(j=x==null?void 0:x.filter)===null||j===void 0?void 0:j.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return _==="*"||_===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===l}).map(x=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:v,table:p,commit_timestamp:j,type:w,errors:y}=g;f=Object.assign(Object.assign({},{schema:v,table:p,commit_timestamp:j,eventType:w,new:{},old:{},errors:y}),this._getPayloadRecords(g))}x.callback(f,n)})}_isClosed(){return this.state===Cs.closed}_isJoined(){return this.state===Cs.joined}_isJoining(){return this.state===Cs.joining}_isLeaving(){return this.state===Cs.leaving}_replyEventName(s){return`chan_reply_${s}`}_on(s,r,n){const a=s.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(s,r){const n=s.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&$v.isEqual(a.filter,r))}),this}static isEqual(s,r){if(Object.keys(s).length!==Object.keys(r).length)return!1;for(const n in s)if(s[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(s){this._on(Gr.close,{},s)}_onError(s){this._on(Gr.error,{},r=>s(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(s=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Cs.joining,this.joinPush.resend(s))}_getPayloadRecords(s){const r={new:{},old:{}};return(s.type==="INSERT"||s.type==="UPDATE")&&(r.new=S0(s.columns,s.record)),(s.type==="UPDATE"||s.type==="DELETE")&&(r.old=S0(s.columns,s.old_record)),r}}const T0=()=>{},L5=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class F5{constructor(s,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=w_,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=T0,this.ref=0,this.logger=T0,this.conn=null,this.sendBuffer=[],this.serializer=new P5,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let l;return i?l=i:typeof fetch>"u"?l=(...o)=>le(async()=>{const{default:c}=await Promise.resolve().then(()=>Zo);return{default:c}},void 0).then(({default:c})=>c(...o)):l=fetch,(...o)=>l(...o)},this.endPoint=`${s}/${Gp.websocket}`,this.httpEndpoint=__(s),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const a=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,l)=>l(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new b_(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=S5),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:E5}))}disconnect(s,r){this.conn&&(this.conn.onclose=function(){},s?this.conn.close(s,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(s){const r=await s.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const s=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),s}log(s,r,n){this.logger(s,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case cd.connecting:return Ci.Connecting;case cd.open:return Ci.Open;case cd.closing:return Ci.Closing;default:return Ci.Closed}}isConnected(){return this.connectionState()===Ci.Open}channel(s,r={config:{}}){const n=`realtime:${s}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new $v(`realtime:${s}`,r,this);return this.channels.push(i),i}}push(s){const{topic:r,event:n,payload:a,ref:i}=s,l=()=>{this.encode(s,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(s=null){let r=s||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:C5};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(Gr.access_token,{access_token:r})}))}async sendHeartbeat(){var s;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(s=this.conn)===null||s===void 0||s.close(T5,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(s){this.heartbeatCallback=s}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(s=>s()),this.sendBuffer=[])}_makeRef(){let s=this.ref+1;return s===this.ref?this.ref=0:this.ref=s,this.ref.toString()}_leaveOpenTopic(s){let r=this.channels.find(n=>n.topic===s&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${s}"`),r.unsubscribe())}_remove(s){this.channels=this.channels.filter(r=>r.topic!==s.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=s=>this._onConnError(s),this.conn.onmessage=s=>this._onConnMessage(s),this.conn.onclose=s=>this._onConnClose(s))}_onConnMessage(s){this.decode(s.data,r=>{let{topic:n,event:a,payload:i,ref:l}=r;n==="phoenix"&&a==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),l&&l===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${a} ${l&&"("+l+")"||""}`,i),Array.from(this.channels).filter(o=>o._isMember(n)).forEach(o=>o._trigger(a,i,l)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(s=>s())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const s=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(s),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(s){this.log("transport","close",s),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(s))}_onConnError(s){this.log("transport",`${s}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(s))}_triggerChanError(){this.channels.forEach(s=>s._trigger(Gr.error))}_appendParams(s,r){if(Object.keys(r).length===0)return s;const n=s.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${s}${n}${a}`}_workerObjectUrl(s){let r;if(s)r=s;else{const n=new Blob([L5],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Uv extends Error{constructor(s){super(s),this.__isStorageError=!0,this.name="StorageError"}}function xs(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class $5 extends Uv{constructor(s,r){super(s),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Zp extends Uv{constructor(s,r){super(s),this.name="StorageUnknownError",this.originalError=r}}var U5=function(t,s,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(n.next(u))}catch(m){l(m)}}function c(u){try{d(n.throw(u))}catch(m){l(m)}}function d(u){u.done?i(u.value):a(u.value).then(o,c)}d((n=n.apply(t,s||[])).next())})};const S_=t=>{let s;return t?s=t:typeof fetch>"u"?s=(...r)=>le(async()=>{const{default:n}=await Promise.resolve().then(()=>Zo);return{default:n}},void 0).then(({default:n})=>n(...r)):s=fetch,(...r)=>s(...r)},z5=()=>U5(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield le(()=>Promise.resolve().then(()=>Zo),void 0)).Response:Response}),Yp=t=>{if(Array.isArray(t))return t.map(r=>Yp(r));if(typeof t=="function"||t!==Object(t))return t;const s={};return Object.entries(t).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));s[a]=Yp(n)}),s};var ul=function(t,s,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(n.next(u))}catch(m){l(m)}}function c(u){try{d(n.throw(u))}catch(m){l(m)}}function d(u){u.done?i(u.value):a(u.value).then(o,c)}d((n=n.apply(t,s||[])).next())})};const mx=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),V5=(t,s,r)=>ul(void 0,void 0,void 0,function*(){const n=yield z5();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(a=>{s(new $5(mx(a),t.status||500))}).catch(a=>{s(new Zp(mx(a),a))}):s(new Zp(mx(t),t))}),B5=(t,s,r,n)=>{const a={method:t,headers:(s==null?void 0:s.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},s==null?void 0:s.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),r))};function Yd(t,s,r,n,a,i){return ul(this,void 0,void 0,function*(){return new Promise((l,o)=>{t(r,B5(s,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>l(c)).catch(c=>V5(c,o,n))})})}function Gh(t,s,r,n){return ul(this,void 0,void 0,function*(){return Yd(t,"GET",s,r,n)})}function Sa(t,s,r,n,a){return ul(this,void 0,void 0,function*(){return Yd(t,"POST",s,n,a,r)})}function q5(t,s,r,n,a){return ul(this,void 0,void 0,function*(){return Yd(t,"PUT",s,n,a,r)})}function H5(t,s,r,n){return ul(this,void 0,void 0,function*(){return Yd(t,"HEAD",s,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function k_(t,s,r,n,a){return ul(this,void 0,void 0,function*(){return Yd(t,"DELETE",s,n,a,r)})}var Ys=function(t,s,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(n.next(u))}catch(m){l(m)}}function c(u){try{d(n.throw(u))}catch(m){l(m)}}function d(u){u.done?i(u.value):a(u.value).then(o,c)}d((n=n.apply(t,s||[])).next())})};const W5={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},P0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class K5{constructor(s,r={},n,a){this.url=s,this.headers=r,this.bucketId=n,this.fetch=S_(a)}uploadOrUpdate(s,r,n,a){return Ys(this,void 0,void 0,function*(){try{let i;const l=Object.assign(Object.assign({},P0),a);let o=Object.assign(Object.assign({},this.headers),s==="POST"&&{"x-upsert":String(l.upsert)});const c=l.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",l.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",l.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,o["cache-control"]=`max-age=${l.cacheControl}`,o["content-type"]=l.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(o=Object.assign(Object.assign({},o),a.headers));const d=this._removeEmptyFolders(r),u=this._getFinalPath(d),m=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:s,body:i,headers:o},l!=null&&l.duplex?{duplex:l.duplex}:{})),f=yield m.json();return m.ok?{data:{path:d,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(xs(i))return{data:null,error:i};throw i}})}upload(s,r,n){return Ys(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",s,r,n)})}uploadToSignedUrl(s,r,n,a){return Ys(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(s),l=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${l}`);o.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:P0.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const m=yield this.fetch(o.toString(),{method:"PUT",body:c,headers:u}),f=yield m.json();return m.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(xs(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(s,r){return Ys(this,void 0,void 0,function*(){try{let n=this._getFinalPath(s);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield Sa(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),l=new URL(this.url+i.url),o=l.searchParams.get("token");if(!o)throw new Uv("No token returned by API");return{data:{signedUrl:l.toString(),path:s,token:o},error:null}}catch(n){if(xs(n))return{data:null,error:n};throw n}})}update(s,r,n){return Ys(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",s,r,n)})}move(s,r,n){return Ys(this,void 0,void 0,function*(){try{return{data:yield Sa(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:s,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(xs(a))return{data:null,error:a};throw a}})}copy(s,r,n){return Ys(this,void 0,void 0,function*(){try{return{data:{path:(yield Sa(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:s,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(xs(a))return{data:null,error:a};throw a}})}createSignedUrl(s,r,n){return Ys(this,void 0,void 0,function*(){try{let a=this._getFinalPath(s),i=yield Sa(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${l}`)},{data:i,error:null}}catch(a){if(xs(a))return{data:null,error:a};throw a}})}createSignedUrls(s,r,n){return Ys(this,void 0,void 0,function*(){try{const a=yield Sa(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:s},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${i}`):null})),error:null}}catch(a){if(xs(a))return{data:null,error:a};throw a}})}download(s,r){return Ys(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),l=i?`?${i}`:"";try{const o=this._getFinalPath(s);return{data:yield(yield Gh(this.fetch,`${this.url}/${a}/${o}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(xs(o))return{data:null,error:o};throw o}})}info(s){return Ys(this,void 0,void 0,function*(){const r=this._getFinalPath(s);try{const n=yield Gh(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Yp(n),error:null}}catch(n){if(xs(n))return{data:null,error:n};throw n}})}exists(s){return Ys(this,void 0,void 0,function*(){const r=this._getFinalPath(s);try{return yield H5(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(xs(n)&&n instanceof Zp){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(s,r){const n=this._getFinalPath(s),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${d}`)}}}remove(s){return Ys(this,void 0,void 0,function*(){try{return{data:yield k_(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:s},{headers:this.headers}),error:null}}catch(r){if(xs(r))return{data:null,error:r};throw r}})}list(s,r,n){return Ys(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},W5),r),{prefix:s||""});return{data:yield Sa(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(xs(a))return{data:null,error:a};throw a}})}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const r=[];return s.width&&r.push(`width=${s.width}`),s.height&&r.push(`height=${s.height}`),s.resize&&r.push(`resize=${s.resize}`),s.format&&r.push(`format=${s.format}`),s.quality&&r.push(`quality=${s.quality}`),r.join("&")}}const G5="2.7.1",Q5={"X-Client-Info":`storage-js/${G5}`};var jl=function(t,s,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(n.next(u))}catch(m){l(m)}}function c(u){try{d(n.throw(u))}catch(m){l(m)}}function d(u){u.done?i(u.value):a(u.value).then(o,c)}d((n=n.apply(t,s||[])).next())})};class Z5{constructor(s,r={},n){this.url=s,this.headers=Object.assign(Object.assign({},Q5),r),this.fetch=S_(n)}listBuckets(){return jl(this,void 0,void 0,function*(){try{return{data:yield Gh(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(s){if(xs(s))return{data:null,error:s};throw s}})}getBucket(s){return jl(this,void 0,void 0,function*(){try{return{data:yield Gh(this.fetch,`${this.url}/bucket/${s}`,{headers:this.headers}),error:null}}catch(r){if(xs(r))return{data:null,error:r};throw r}})}createBucket(s,r={public:!1}){return jl(this,void 0,void 0,function*(){try{return{data:yield Sa(this.fetch,`${this.url}/bucket`,{id:s,name:s,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(xs(n))return{data:null,error:n};throw n}})}updateBucket(s,r){return jl(this,void 0,void 0,function*(){try{return{data:yield q5(this.fetch,`${this.url}/bucket/${s}`,{id:s,name:s,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(xs(n))return{data:null,error:n};throw n}})}emptyBucket(s){return jl(this,void 0,void 0,function*(){try{return{data:yield Sa(this.fetch,`${this.url}/bucket/${s}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(xs(r))return{data:null,error:r};throw r}})}deleteBucket(s){return jl(this,void 0,void 0,function*(){try{return{data:yield k_(this.fetch,`${this.url}/bucket/${s}`,{},{headers:this.headers}),error:null}}catch(r){if(xs(r))return{data:null,error:r};throw r}})}}class Y5 extends Z5{constructor(s,r={},n){super(s,r,n)}from(s){return new K5(this.url,this.headers,s,this.fetch)}}const X5="2.51.0";let Kc="";typeof Deno<"u"?Kc="deno":typeof document<"u"?Kc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Kc="react-native":Kc="node";const J5={"X-Client-Info":`supabase-js-${Kc}/${X5}`},e3={headers:J5},t3={schema:"public"},s3={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},r3={};var n3=function(t,s,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(n.next(u))}catch(m){l(m)}}function c(u){try{d(n.throw(u))}catch(m){l(m)}}function d(u){u.done?i(u.value):a(u.value).then(o,c)}d((n=n.apply(t,s||[])).next())})};const a3=t=>{let s;return t?s=t:typeof fetch>"u"?s=d_:s=fetch,(...r)=>s(...r)},i3=()=>typeof Headers>"u"?u_:Headers,l3=(t,s,r)=>{const n=a3(r),a=i3();return(i,l)=>n3(void 0,void 0,void 0,function*(){var o;const c=(o=yield s())!==null&&o!==void 0?o:t;let d=new a(l==null?void 0:l.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},l),{headers:d}))})};var o3=function(t,s,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(n.next(u))}catch(m){l(m)}}function c(u){try{d(n.throw(u))}catch(m){l(m)}}function d(u){u.done?i(u.value):a(u.value).then(o,c)}d((n=n.apply(t,s||[])).next())})};function c3(t){return t.endsWith("/")?t:t+"/"}function d3(t,s){var r,n;const{db:a,auth:i,realtime:l,global:o}=t,{db:c,auth:d,realtime:u,global:m}=s,f={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},u),l),global:Object.assign(Object.assign(Object.assign({},m),o),{headers:Object.assign(Object.assign({},(r=m==null?void 0:m.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>o3(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}const C_="2.71.0",Pl=30*1e3,Xp=3,fx=Xp*Pl,u3="http://localhost:9999",h3="supabase.auth.token",m3={"X-Client-Info":`gotrue-js/${C_}`},Jp="X-Supabase-Api-Version",E_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},f3=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,x3=10*60*1e3;class zv extends Error{constructor(s,r,n){super(s),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ve(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class p3 extends zv{constructor(s,r,n){super(s,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function g3(t){return Ve(t)&&t.name==="AuthApiError"}class T_ extends zv{constructor(s,r){super(s),this.name="AuthUnknownError",this.originalError=r}}class pi extends zv{constructor(s,r,n,a){super(s,n,a),this.name=r,this.status=n}}class wa extends pi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function v3(t){return Ve(t)&&t.name==="AuthSessionMissingError"}class Vu extends pi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Bu extends pi{constructor(s){super(s,"AuthInvalidCredentialsError",400,void 0)}}class qu extends pi{constructor(s,r=null){super(s,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function y3(t){return Ve(t)&&t.name==="AuthImplicitGrantRedirectError"}class A0 extends pi{constructor(s,r=null){super(s,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class eg extends pi{constructor(s,r){super(s,"AuthRetryableFetchError",r,void 0)}}function xx(t){return Ve(t)&&t.name==="AuthRetryableFetchError"}class R0 extends pi{constructor(s,r,n){super(s,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class tg extends pi{constructor(s){super(s,"AuthInvalidJwtError",400,"invalid_jwt")}}const Qh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),O0=` 	
\r=`.split(""),j3=(()=>{const t=new Array(128);for(let s=0;s<t.length;s+=1)t[s]=-1;for(let s=0;s<O0.length;s+=1)t[O0[s].charCodeAt(0)]=-2;for(let s=0;s<Qh.length;s+=1)t[Qh[s].charCodeAt(0)]=s;return t})();function I0(t,s,r){if(t!==null)for(s.queue=s.queue<<8|t,s.queuedBits+=8;s.queuedBits>=6;){const n=s.queue>>s.queuedBits-6&63;r(Qh[n]),s.queuedBits-=6}else if(s.queuedBits>0)for(s.queue=s.queue<<6-s.queuedBits,s.queuedBits=6;s.queuedBits>=6;){const n=s.queue>>s.queuedBits-6&63;r(Qh[n]),s.queuedBits-=6}}function P_(t,s,r){const n=j3[t];if(n>-1)for(s.queue=s.queue<<6|n,s.queuedBits+=6;s.queuedBits>=8;)r(s.queue>>s.queuedBits-8&255),s.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function D0(t){const s=[],r=l=>{s.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=l=>{N3(l,n,r)};for(let l=0;l<t.length;l+=1)P_(t.charCodeAt(l),a,i);return s.join("")}function w3(t,s){if(t<=127){s(t);return}else if(t<=2047){s(192|t>>6),s(128|t&63);return}else if(t<=65535){s(224|t>>12),s(128|t>>6&63),s(128|t&63);return}else if(t<=1114111){s(240|t>>18),s(128|t>>12&63),s(128|t>>6&63),s(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function b3(t,s){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}w3(n,s)}}function N3(t,s,r){if(s.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){s.utf8seq=n;break}if(s.utf8seq===2)s.codepoint=t&31;else if(s.utf8seq===3)s.codepoint=t&15;else if(s.utf8seq===4)s.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");s.utf8seq-=1}else if(s.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");s.codepoint=s.codepoint<<6|t&63,s.utf8seq-=1,s.utf8seq===0&&r(s.codepoint)}}function _3(t){const s=[],r={queue:0,queuedBits:0},n=a=>{s.push(a)};for(let a=0;a<t.length;a+=1)P_(t.charCodeAt(a),r,n);return new Uint8Array(s)}function S3(t){const s=[];return b3(t,r=>s.push(r)),new Uint8Array(s)}function k3(t){const s=[],r={queue:0,queuedBits:0},n=a=>{s.push(a)};return t.forEach(a=>I0(a,r,n)),I0(null,r,n),s.join("")}function C3(t){return Math.round(Date.now()/1e3)+t}function E3(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const s=Math.random()*16|0;return(t=="x"?s:s&3|8).toString(16)})}const Vr=()=>typeof window<"u"&&typeof document<"u",wi={tested:!1,writable:!1},A_=()=>{if(!Vr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(wi.tested)return wi.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),wi.tested=!0,wi.writable=!0}catch{wi.tested=!0,wi.writable=!1}return wi.writable};function T3(t){const s={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{s[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{s[a]=n}),s}const R_=t=>{let s;return t?s=t:typeof fetch>"u"?s=(...r)=>le(async()=>{const{default:n}=await Promise.resolve().then(()=>Zo);return{default:n}},void 0).then(({default:n})=>n(...r)):s=fetch,(...r)=>s(...r)},P3=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Al=async(t,s,r)=>{await t.setItem(s,JSON.stringify(r))},bi=async(t,s)=>{const r=await t.getItem(s);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ga=async(t,s)=>{await t.removeItem(s)};class Hm{constructor(){this.promise=new Hm.promiseConstructor((s,r)=>{this.resolve=s,this.reject=r})}}Hm.promiseConstructor=Promise;function px(t){const s=t.split(".");if(s.length!==3)throw new tg("Invalid JWT structure");for(let n=0;n<s.length;n++)if(!f3.test(s[n]))throw new tg("JWT not in base64url format");return{header:JSON.parse(D0(s[0])),payload:JSON.parse(D0(s[1])),signature:_3(s[2]),raw:{header:s[0],payload:s[1]}}}async function A3(t){return await new Promise(s=>{setTimeout(()=>s(null),t)})}function R3(t,s){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const l=await t(i);if(!s(i,null,l)){n(l);return}}catch(l){if(!s(i,l)){a(l);return}}})()})}function O3(t){return("0"+t.toString(16)).substr(-2)}function I3(){const s=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(s),Array.from(s,O3).join("")}async function D3(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function M3(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await D3(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function wl(t,s,r=!1){const n=I3();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Al(t,`${s}-code-verifier`,a);const i=await M3(n);return[i,n===i?"plain":"s256"]}const L3=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function F3(t){const s=t.headers.get(Jp);if(!s||!s.match(L3))return null;try{return new Date(`${s}T00:00:00.0Z`)}catch{return null}}function $3(t){if(!t)throw new Error("Missing exp claim");const s=Math.floor(Date.now()/1e3);if(t<=s)throw new Error("JWT has expired")}function U3(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const z3=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function bl(t){if(!z3.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function gx(){const t={};return new Proxy(t,{get:(s,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(s,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(s,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}var V3=function(t,s){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&s.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)s.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};const ki=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),B3=[502,503,504];async function M0(t){var s;if(!P3(t))throw new eg(ki(t),0);if(B3.includes(t.status))throw new eg(ki(t),t.status);let r;try{r=await t.json()}catch(i){throw new T_(ki(i),i)}let n;const a=F3(t);if(a&&a.getTime()>=E_["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new R0(ki(r),t.status,((s=r.weak_password)===null||s===void 0?void 0:s.reasons)||[]);if(n==="session_not_found")throw new wa}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0))throw new R0(ki(r),t.status,r.weak_password.reasons);throw new p3(ki(r),t.status||500,n)}const q3=(t,s,r,n)=>{const a={method:t,headers:(s==null?void 0:s.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},s==null?void 0:s.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Ge(t,s,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[Jp]||(i[Jp]=E_["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const l=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(l.redirect_to=n.redirectTo);const o=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",c=await H3(t,s,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function H3(t,s,r,n,a,i){const l=q3(s,n,a,i);let o;try{o=await t(r,Object.assign({},l))}catch(c){throw console.error(c),new eg(ki(c),0)}if(o.ok||await M0(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(c){await M0(c)}}function $n(t){var s;let r=null;Q3(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=C3(t.expires_in)));const n=(s=t.user)!==null&&s!==void 0?s:t;return{data:{session:r,user:n},error:null}}function L0(t){const s=$n(t);return!s.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(s.data.weak_password=t.weak_password),s}function Ta(t){var s;return{data:{user:(s=t.user)!==null&&s!==void 0?s:t},error:null}}function W3(t){return{data:t,error:null}}function K3(t){const{action_link:s,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=t,l=V3(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:s,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},l);return{data:{properties:o,user:c},error:null}}function G3(t){return t}function Q3(t){return t.access_token&&t.refresh_token&&t.expires_in}const vx=["global","local","others"];var Z3=function(t,s){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&s.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)s.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};class Y3{constructor({url:s="",headers:r={},fetch:n}){this.url=s,this.headers=r,this.fetch=R_(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(s,r=vx[0]){if(vx.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${vx.join(", ")}`);try{return await Ge(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:s,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ve(n))return{data:null,error:n};throw n}}async inviteUserByEmail(s,r={}){try{return await Ge(this.fetch,"POST",`${this.url}/invite`,{body:{email:s,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ta})}catch(n){if(Ve(n))return{data:{user:null},error:n};throw n}}async generateLink(s){try{const{options:r}=s,n=Z3(s,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Ge(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:K3,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ve(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(s){try{return await Ge(this.fetch,"POST",`${this.url}/admin/users`,{body:s,headers:this.headers,xform:Ta})}catch(r){if(Ve(r))return{data:{user:null},error:r};throw r}}async listUsers(s){var r,n,a,i,l,o,c;try{const d={nextPage:null,lastPage:0,total:0},u=await Ge(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=s==null?void 0:s.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=s==null?void 0:s.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:G3});if(u.error)throw u.error;const m=await u.json(),f=(l=u.headers.get("x-total-count"))!==null&&l!==void 0?l:0,x=(c=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return x.length>0&&(x.forEach(g=>{const v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),p=JSON.parse(g.split(";")[1].split("=")[1]);d[`${p}Page`]=v}),d.total=parseInt(f)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(Ve(d))return{data:{users:[]},error:d};throw d}}async getUserById(s){bl(s);try{return await Ge(this.fetch,"GET",`${this.url}/admin/users/${s}`,{headers:this.headers,xform:Ta})}catch(r){if(Ve(r))return{data:{user:null},error:r};throw r}}async updateUserById(s,r){bl(s);try{return await Ge(this.fetch,"PUT",`${this.url}/admin/users/${s}`,{body:r,headers:this.headers,xform:Ta})}catch(n){if(Ve(n))return{data:{user:null},error:n};throw n}}async deleteUser(s,r=!1){bl(s);try{return await Ge(this.fetch,"DELETE",`${this.url}/admin/users/${s}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ta})}catch(n){if(Ve(n))return{data:{user:null},error:n};throw n}}async _listFactors(s){bl(s.userId);try{const{data:r,error:n}=await Ge(this.fetch,"GET",`${this.url}/admin/users/${s.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Ve(r))return{data:null,error:r};throw r}}async _deleteFactor(s){bl(s.userId),bl(s.id);try{return{data:await Ge(this.fetch,"DELETE",`${this.url}/admin/users/${s.userId}/factors/${s.id}`,{headers:this.headers}),error:null}}catch(r){if(Ve(r))return{data:null,error:r};throw r}}}function F0(t={}){return{getItem:s=>t[s]||null,setItem:(s,r)=>{t[s]=r},removeItem:s=>{delete t[s]}}}function X3(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Nl={debug:!!(globalThis&&A_()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class O_ extends Error{constructor(s){super(s),this.isAcquireTimeout=!0}}class J3 extends O_{}async function e6(t,s,r){Nl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,s);const n=new globalThis.AbortController;return s>0&&setTimeout(()=>{n.abort(),Nl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},s),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,s===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Nl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await r()}finally{Nl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(s===0)throw Nl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new J3(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Nl.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}X3();const t6={url:u3,storageKey:h3,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:m3,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function $0(t,s,r){return await r()}const _l={};class Rd{constructor(s){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Rd.nextInstanceID,Rd.nextInstanceID+=1,this.instanceID>0&&Vr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},t6),s);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Y3({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=R_(a.fetch),this.lock=a.lock||$0,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Vr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=e6:this.lock=$0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:A_()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=F0(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=F0(this.memoryStorage)),Vr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var s,r;return(r=(s=_l[this.storageKey])===null||s===void 0?void 0:s.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(s){_l[this.storageKey]=Object.assign(Object.assign({},_l[this.storageKey]),{jwks:s})}get jwks_cached_at(){var s,r;return(r=(s=_l[this.storageKey])===null||s===void 0?void 0:s.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(s){_l[this.storageKey]=Object.assign(Object.assign({},_l[this.storageKey]),{cachedAt:s})}_debug(...s){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${C_}) ${new Date().toISOString()}`,...s),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var s;try{const r=T3(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Vr()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),y3(i)){const c=(s=i.details)===null||s===void 0?void 0:s.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:l,redirectType:o}=a;return this._debug("#_initialize()","detected session in URL",l,"redirect type",o),await this._saveSession(l),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ve(r)?{error:r}:{error:new T_("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(s){var r,n,a;try{const i=await Ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=s==null?void 0:s.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=s==null?void 0:s.options)===null||a===void 0?void 0:a.captchaToken}},xform:$n}),{data:l,error:o}=i;if(o||!l)return{data:{user:null,session:null},error:o};const c=l.session,d=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(Ve(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(s){var r,n,a;try{let i;if("email"in s){const{email:u,password:m,options:f}=s;let x=null,g=null;this.flowType==="pkce"&&([x,g]=await wl(this.storage,this.storageKey)),i=await Ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:m,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:x,code_challenge_method:g},xform:$n})}else if("phone"in s){const{phone:u,password:m,options:f}=s;i=await Ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:m,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(a=f==null?void 0:f.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:$n})}else throw new Bu("You must provide either an email or phone number and a password");const{data:l,error:o}=i;if(o||!l)return{data:{user:null,session:null},error:o};const c=l.session,d=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(Ve(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(s){try{let r;if("email"in s){const{email:i,password:l,options:o}=s;r=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:L0})}else if("phone"in s){const{phone:i,password:l,options:o}=s;r=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:L0})}else throw new Bu("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Vu}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Ve(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(s){var r,n,a,i;return await this._handleProviderSignIn(s.provider,{redirectTo:(r=s.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=s.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=s.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=s.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(s){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(s))}async signInWithWeb3(s){const{chain:r}=s;if(r==="solana")return await this.signInWithSolana(s);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(s){var r,n,a,i,l,o,c,d,u,m,f,x;let g,v;if("message"in s)g=s.message,v=s.signature;else{const{chain:p,wallet:j,statement:w,options:y}=s;let _;if(Vr())if(typeof j=="object")_=j;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))_=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=j}const b=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const N=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:b.host,uri:b.href}),w?{statement:w}:null));let T;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")T=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)T=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)g=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),v=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${b.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${b.href}`,`Issued At: ${(a=(n=y==null?void 0:y.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((d=y==null?void 0:y.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((m=(u=y==null?void 0:y.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||m===void 0)&&m.length?["Resources",...y.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const N=await _.signMessage(new TextEncoder().encode(g),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=N}}try{const{data:p,error:j}=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:k3(v)},!((f=s.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(x=s.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:$n});if(j)throw j;return!p||!p.session||!p.user?{data:{user:null,session:null},error:new Vu}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:Object.assign({},p),error:j})}catch(p){if(Ve(p))return{data:{user:null,session:null},error:p};throw p}}async _exchangeCodeForSession(s){const r=await bi(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:l}=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:s,code_verifier:n},xform:$n});if(await ga(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Vu}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:l})}catch(i){if(Ve(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(s){try{const{options:r,provider:n,token:a,access_token:i,nonce:l}=s,o=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:$n}),{data:c,error:d}=o;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Vu}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(Ve(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(s){var r,n,a,i,l;try{if("email"in s){const{email:o,options:c}=s;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await wl(this.storage,this.storageKey));const{error:m}=await Ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in s){const{phone:o,options:c}=s,{data:d,error:u}=await Ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(l=c==null?void 0:c.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new Bu("You must provide either an email or phone number.")}catch(o){if(Ve(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(s){var r,n;try{let a,i;"options"in s&&(a=(r=s.options)===null||r===void 0?void 0:r.redirectTo,i=(n=s.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:o}=await Ge(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},s),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:$n});if(o)throw o;if(!l)throw new Error("An error occurred on token verification.");const c=l.session,d=l.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(s.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(Ve(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(s){var r,n,a;try{let i=null,l=null;return this.flowType==="pkce"&&([i,l]=await wl(this.storage,this.storageKey)),await Ge(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in s?{provider_id:s.providerId}:null),"domain"in s?{domain:s.domain}:null),{redirect_to:(n=(r=s.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=s==null?void 0:s.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:s.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:l}),headers:this.headers,xform:W3})}catch(i){if(Ve(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async s=>{const{data:{session:r},error:n}=s;if(n)throw n;if(!r)throw new wa;const{error:a}=await Ge(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(s){if(Ve(s))return{data:{user:null,session:null},error:s};throw s}}async resend(s){try{const r=`${this.url}/resend`;if("email"in s){const{email:n,type:a,options:i}=s,{error:l}=await Ge(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in s){const{phone:n,type:a,options:i}=s,{data:l,error:o}=await Ge(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:o}}throw new Bu("You must provide either an email or phone number and a type")}catch(r){if(Ve(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(s,r){this._debug("#_acquireLock","begin",s);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,s,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(s){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await s(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let s=null;const r=await bi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?s=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!s)return{data:{session:null},error:null};const n=s.expires_at?s.expires_at*1e3-Date.now()<fx:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",s.expires_at),!n){if(this.userStorage){const l=await bi(this.userStorage,this.storageKey+"-user");l!=null&&l.user?s.user=l.user:s.user=gx()}if(this.storage.isServer&&s.user){let l=this.suppressGetSessionWarning;s=new Proxy(s,{get:(c,d,u)=>(!l&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:s},error:null}}const{session:a,error:i}=await this._callRefreshToken(s.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(s){return s?await this._getUser(s):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(s){try{return s?await Ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:s,xform:Ta}):await this._useSession(async r=>{var n,a,i;const{data:l,error:o}=r;if(o)throw o;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new wa}:await Ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Ta})})}catch(r){if(Ve(r))return v3(r)&&(await this._removeSession(),await ga(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(s,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(s,r))}async _updateUser(s,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new wa;const l=a.session;let o=null,c=null;this.flowType==="pkce"&&s.email!=null&&([o,c]=await wl(this.storage,this.storageKey));const{data:d,error:u}=await Ge(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},s),{code_challenge:o,code_challenge_method:c}),jwt:l.access_token,xform:Ta});if(u)throw u;return l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(n){if(Ve(n))return{data:{user:null},error:n};throw n}}async setSession(s){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(s))}async _setSession(s){try{if(!s.access_token||!s.refresh_token)throw new wa;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:l}=px(s.access_token);if(l.exp&&(n=l.exp,a=n<=r),a){const{session:o,error:c}=await this._callRefreshToken(s.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:c}=await this._getUser(s.access_token);if(c)throw c;i={access_token:s.access_token,refresh_token:s.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Ve(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(s){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(s))}async _refreshSession(s){try{return await this._useSession(async r=>{var n;if(!s){const{data:l,error:o}=r;if(o)throw o;s=(n=l.session)!==null&&n!==void 0?n:void 0}if(!(s!=null&&s.refresh_token))throw new wa;const{session:a,error:i}=await this._callRefreshToken(s.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Ve(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(s,r){try{if(!Vr())throw new qu("No browser detected.");if(s.error||s.error_description||s.error_code)throw new qu(s.error_description||"Error in URL with unspecified error_description",{error:s.error||"unspecified_error",code:s.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new A0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new qu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!s.code)throw new A0("No code detected.");const{data:w,error:y}=await this._exchangeCodeForSession(s.code);if(y)throw y;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:l,expires_in:o,expires_at:c,token_type:d}=s;if(!i||!o||!l||!d)throw new qu("No session defined in URL");const u=Math.round(Date.now()/1e3),m=parseInt(o);let f=u+m;c&&(f=parseInt(c));const x=f-u;x*1e3<=Pl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${m}s`);const g=f-m;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,u);const{data:v,error:p}=await this._getUser(i);if(p)throw p;const j={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:m,expires_at:f,refresh_token:l,token_type:d,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:j,redirectType:s.type},error:null}}catch(n){if(Ve(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(s){return!!(s.access_token||s.error_description)}async _isPKCECallback(s){const r=await bi(this.storage,`${this.storageKey}-code-verifier`);return!!(s.code&&r)}async signOut(s={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(s))}async _signOut({scope:s}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const l=(n=a.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:o}=await this.admin.signOut(l,s);if(o&&!(g3(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return s!=="others"&&(await this._removeSession(),await ga(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(s){const r=E3(),n={id:r,callback:s,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(s){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(s))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",s,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(s))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",s,"error",i),console.error(i)}})}async resetPasswordForEmail(s,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await wl(this.storage,this.storageKey,!0));try{return await Ge(this.fetch,"POST",`${this.url}/recover`,{body:{email:s,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Ve(i))return{data:null,error:i};throw i}}async getUserIdentities(){var s;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(s=r.user.identities)!==null&&s!==void 0?s:[]},error:null}}catch(r){if(Ve(r))return{data:null,error:r};throw r}}async linkIdentity(s){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var l,o,c,d,u;const{data:m,error:f}=i;if(f)throw f;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,s.provider,{redirectTo:(l=s.options)===null||l===void 0?void 0:l.redirectTo,scopes:(o=s.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=s.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ge(this.fetch,"GET",x,{headers:this.headers,jwt:(u=(d=m.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return Vr()&&!(!((r=s.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:s.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Ve(n))return{data:{provider:s.provider,url:null},error:n};throw n}}async unlinkIdentity(s){try{return await this._useSession(async r=>{var n,a;const{data:i,error:l}=r;if(l)throw l;return await Ge(this.fetch,"DELETE",`${this.url}/user/identities/${s.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Ve(r))return{data:null,error:r};throw r}}async _refreshAccessToken(s){const r=`#_refreshAccessToken(${s.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await R3(async a=>(a>0&&await A3(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Ge(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:s},headers:this.headers,xform:$n})),(a,i)=>{const l=200*Math.pow(2,a);return i&&xx(i)&&Date.now()+l-n<Pl})}catch(n){if(this._debug(r,"error",n),Ve(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(s){return typeof s=="object"&&s!==null&&"access_token"in s&&"refresh_token"in s&&"expires_at"in s}async _handleProviderSignIn(s,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,s,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",s,"options",r,"url",n),Vr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:s,url:n},error:null}}async _recoverAndRefresh(){var s,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await bi(this.storage,this.storageKey);if(a&&this.userStorage){let l=await bi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:a.user},await Al(this.userStorage,this.storageKey+"-user",l)),a.user=(s=l==null?void 0:l.user)!==null&&s!==void 0?s:gx()}else if(a&&!a.user&&!a.user){const l=await bi(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(a.user=l.user,await ga(this.storage,this.storageKey+"-user"),await Al(this.storage,this.storageKey,a)):a.user=gx()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<fx;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${fx}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:l}=await this._callRefreshToken(a.refresh_token);l&&(console.error(l),xx(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:o}=await this._getUser(a.access_token);!o&&(l!=null&&l.user)?(a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(n,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(s){var r,n;if(!s)throw new wa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${s.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Hm;const{data:i,error:l}=await this._refreshAccessToken(s);if(l)throw l;if(!i.session)throw new wa;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(a,"error",i),Ve(i)){const l={session:null,error:i};return xx(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(s,r,n=!0){const a=`#_notifyAllSubscribers(${s})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:s,session:r});const i=[],l=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(s,r)}catch(c){i.push(c)}});if(await Promise.all(l),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(s){this._debug("#_saveSession()",s),this.suppressGetSessionWarning=!0;const r=Object.assign({},s),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Al(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=structuredClone(a);await Al(this.storage,this.storageKey,i)}else{const a=structuredClone(r);await Al(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await ga(this.storage,this.storageKey),await ga(this.storage,this.storageKey+"-code-verifier"),await ga(this.storage,this.storageKey+"-user"),this.userStorage&&await ga(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const s=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{s&&Vr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",s)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const s=setInterval(()=>this._autoRefreshTokenTick(),Pl);this.autoRefreshTicker=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const s=this.autoRefreshTicker;this.autoRefreshTicker=null,s&&clearInterval(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const s=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-s)/Pl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Pl}ms, refresh threshold is ${Xp} ticks`),a<=Xp&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(s){if(s.isAcquireTimeout||s instanceof O_)this._debug("auto refresh token tick lock not available");else throw s}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Vr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(s){console.error("_handleVisibilityChange",s)}}async _onVisibilityChanged(s){const r=`#_onVisibilityChanged(${s})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),s||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(s,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,l]=await wl(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(l)}`});a.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${s}?${a.join("&")}`}async _unenroll(s){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Ge(this.fetch,"DELETE",`${this.url}/factors/${s.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ve(r))return{data:null,error:r};throw r}}async _enroll(s){try{return await this._useSession(async r=>{var n,a;const{data:i,error:l}=r;if(l)return{data:null,error:l};const o=Object.assign({friendly_name:s.friendlyName,factor_type:s.factorType},s.factorType==="phone"?{phone:s.phone}:{issuer:s.issuer}),{data:c,error:d}=await Ge(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(s.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Ve(r))return{data:null,error:r};throw r}}async _verify(s){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:l,error:o}=await Ge(this.fetch,"POST",`${this.url}/factors/${s.factorId}/verify`,{body:{code:s.code,challenge_id:s.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:o})})}catch(r){if(Ve(r))return{data:null,error:r};throw r}})}async _challenge(s){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Ge(this.fetch,"POST",`${this.url}/factors/${s.factorId}/challenge`,{body:{channel:s.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ve(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(s){const{data:r,error:n}=await this._challenge({factorId:s.factorId});return n?{data:null,error:n}:await this._verify({factorId:s.factorId,challengeId:r.id,code:s.code})}async _listFactors(){const{data:{user:s},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(s==null?void 0:s.factors)||[],a=n.filter(l=>l.factor_type==="totp"&&l.status==="verified"),i=n.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async s=>{var r,n;const{data:{session:a},error:i}=s;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=px(a.access_token);let o=null;l.aal&&(o=l.aal);let c=o;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(m=>m.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const u=l.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(s,r={keys:[]}){let n=r.keys.find(o=>o.kid===s);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(o=>o.kid===s),n&&this.jwks_cached_at+x3>a)return n;const{data:i,error:l}=await Ge(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(o=>o.kid===s),!n)?null:n}async getClaims(s,r={}){try{let n=s;if(!n){const{data:x,error:g}=await this.getSession();if(g||!x.session)return{data:null,error:g};n=x.session.access_token}const{header:a,payload:i,signature:l,raw:{header:o,payload:c}}=px(n);r!=null&&r.allowExpired||$3(i.exp);const d=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:x}=await this.getUser(n);if(x)throw x;return{data:{claims:i,header:a,signature:l},error:null}}const u=U3(a.alg),m=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,m,l,S3(`${o}.${c}`)))throw new tg("Invalid JWT signature");return{data:{claims:i,header:a,signature:l},error:null}}catch(n){if(Ve(n))return{data:null,error:n};throw n}}}Rd.nextInstanceID=0;const s6=Rd;class r6 extends s6{constructor(s){super(s)}}var n6=function(t,s,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(n.next(u))}catch(m){l(m)}}function c(u){try{d(n.throw(u))}catch(m){l(m)}}function d(u){u.done?i(u.value):a(u.value).then(o,c)}d((n=n.apply(t,s||[])).next())})};class a6{constructor(s,r,n){var a,i,l;if(this.supabaseUrl=s,this.supabaseKey=r,!s)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=c3(s),c=new URL(o);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:t3,realtime:r3,auth:Object.assign(Object.assign({},s3),{storageKey:d}),global:e3},m=d3(n??{},u);this.storageKey=(a=m.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=m.global.headers)!==null&&i!==void 0?i:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(f,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=m.auth)!==null&&l!==void 0?l:{},this.headers,m.global.fetch),this.fetch=l3(r,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new N5(new URL("rest/v1",c).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),m.accessToken||this._listenForAuthEvents()}get functions(){return new JR(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Y5(this.storageUrl.href,this.headers,this.fetch)}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,r={},n={}){return this.rest.rpc(s,r,n)}channel(s,r={config:{}}){return this.realtime.channel(s,r)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var s,r;return n6(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(s=n.session)===null||s===void 0?void 0:s.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:r,detectSessionInUrl:n,storage:a,storageKey:i,flowType:l,lock:o,debug:c},d,u){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new r6({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),d),storageKey:i,autoRefreshToken:s,persistSession:r,detectSessionInUrl:n,storage:a,flowType:l,lock:o,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(s){return new F5(this.realtimeUrl.href,Object.assign(Object.assign({},s),{params:Object.assign({apikey:this.supabaseKey},s==null?void 0:s.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(s,r,n){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:s==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const i6=(t,s,r)=>new a6(t,s,r);function l6(){console.log(" Starting storage cleanup...");const t=["supabase.auth.token","sb-auth-token","userSettings","theme","language",...Object.keys(localStorage).filter(n=>n.startsWith("sb-"))];let s=0;return t.forEach(n=>{try{const a=localStorage.getItem(n);a&&a!=="null"&&a!=="undefined"&&JSON.parse(a)}catch(a){console.warn(` Removing corrupted localStorage key: ${n}`,a);try{localStorage.removeItem(n),s++}catch(i){console.error(`Failed to remove corrupted key ${n}:`,i)}}}),[...Object.keys(sessionStorage).filter(n=>n.startsWith("sb-")||n.includes("supabase")||n.includes("auth"))].forEach(n=>{try{const a=sessionStorage.getItem(n);a&&a!=="null"&&a!=="undefined"&&JSON.parse(a)}catch(a){console.warn(` Removing corrupted sessionStorage key: ${n}`,a);try{sessionStorage.removeItem(n),s++}catch(i){console.error(`Failed to remove corrupted session key ${n}:`,i)}}}),s>0?console.log(` Cleaned up ${s} corrupted storage entries`):console.log(" No corrupted storage entries found"),s}const o6=void 0,c6=void 0;throw new Error("Missing Supabase configuration. Please set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY environment variables.");const d6=c6,qe=i6(o6,d6,{auth:{storage:window.localStorage,storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"pkce"},realtime:{params:{eventsPerSecond:10}}}),Tt=qe,u6=Object.freeze(Object.defineProperty({__proto__:null,default:Tt,supabase:qe},Symbol.toStringTag,{value:"Module"}));async function Vv(t={}){let s=qe.from("articles").select(`
      id,
      title,
      slug,
      content,
      excerpt,
      image_url,
      view_count,
      published_at,
      is_featured,
      categories(id, name, slug)
    `).order("published_at",{ascending:!1});if(t.featured&&(s=s.eq("is_featured",!0)),t.category){const{data:a}=await qe.from("categories").select("id").eq("slug",t.category).single();a&&(s=s.eq("category_id",a.id))}t.limit&&(s=s.limit(t.limit)),t.offset&&(s=s.range(t.offset,t.offset+(t.limit||10)-1));const{data:r,error:n}=await s;return n?(console.error("Error fetching articles:",n),[]):r||[]}async function h6(t){const{data:s,error:r}=await qe.from("articles").select(`
      id,
      title,
      slug,
      content,
      excerpt,
      image_url,
      view_count,
      published_at,
      is_featured,
      categories(id, name, slug)
    `).eq("id",t).single();if(r)throw console.error("Error fetching article:",r),new Error("Article not found");return s}async function I_(t=10){const{data:s,error:r}=await qe.from("articles").select(`
      id,
      title,
      slug,
      excerpt,
      image_url,
      view_count,
      published_at,
      is_featured,
      categories(id, name, slug)
    `).order("published_at",{ascending:!1}).limit(t);return r?(console.error("Error fetching latest articles:",r),[]):s||[]}async function D_(t=5){try{const s=await fetch(`/api/articles/popular?limit=${t}`);if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return await s.json()||[]}catch(s){return console.error("Error fetching popular articles:",s),[]}}async function M_(){const{data:t,error:s}=await qe.from("categories").select("*").order("name");return s?(console.error("Error fetching categories:",s),[]):t||[]}async function m6(t){const{data:s,error:r}=await qe.from("categories").select("*").eq("slug",t).single();if(r)throw console.error("Error fetching category:",r),new Error("Category not found");return s}async function L_(){const{data:t,error:s}=await qe.from("breaking_news").select("*").eq("is_active",!0).order("created_at",{ascending:!1}).limit(5);return s?(console.error("Error fetching breaking news:",s),[]):t||[]}async function F_(){const{data:t,error:s}=await qe.from("weather").select("*").order("updated_at",{ascending:!1});return s?(console.error("Error fetching weather:",s),[]):t||[]}async function $_(){const{data:t,error:s}=await qe.from("epapers").select("*").order("publish_date",{ascending:!1});return s?(console.error("Error fetching e-papers:",s),[]):t||[]}async function U_(t=10){const{data:s,error:r}=await qe.from("video_content").select("*").order("created_at",{ascending:!1}).limit(t);return r?(console.error("Error fetching videos:",r),[]):s||[]}async function z_(t=10){const{data:s,error:r}=await qe.from("audio_articles").select("*").order("created_at",{ascending:!1}).limit(t);return r?(console.error("Error fetching audio articles:",r),[]):s||[]}async function V_(){const{data:t,error:s}=await qe.from("trending_topics").select("*").order("trend_score",{ascending:!1}).limit(10);return s?(console.error("Error fetching trending topics:",s),[]):t||[]}async function B_(){try{const{data:t,error:s}=await qe.from("site_settings").select("*").single();return s?(console.error("Error fetching site settings:",s),{siteName:"Emon's Daily News",siteDescription:"    ",logoUrl:"",defaultLanguage:"bn",siteUrl:"https://emonsdaily.com"}):{siteName:t.site_name||"Emon's Daily News",siteDescription:t.site_description||"    ",logoUrl:t.logo_url||"",defaultLanguage:t.default_language||"bn",siteUrl:t.site_url||"https://emonsdaily.com"}}catch(t){return console.error("Error in getSiteSettings:",t),{siteName:"Emon's Daily News",siteDescription:"    ",logoUrl:"",defaultLanguage:"bn",siteUrl:"https://emonsdaily.com"}}}const U0=Object.freeze(Object.defineProperty({__proto__:null,getArticleById:h6,getArticles:Vv,getAudioArticles:z_,getBreakingNews:L_,getCategories:M_,getCategoryBySlug:m6,getEPapers:$_,getLatestArticles:I_,getPopularArticles:D_,getSiteSettings:B_,getTrendingTopics:V_,getVideos:U_,getWeather:F_},Symbol.toStringTag,{value:"Module"})),z0={"/api/articles":()=>Vv(),"/api/articles/latest":()=>I_(),"/api/articles/popular":()=>D_(),"/api/categories":()=>M_(),"/api/breaking-news":()=>L_(),"/api/weather":()=>F_(),"/api/epapers":()=>$_(),"/api/videos":()=>U_(),"/api/audio-articles":()=>z_(),"/api/trending-topics":()=>V_(),"/api/settings":()=>B_()},f6=async({queryKey:t})=>{const s=t[0],r=s.split("?")[0];if(z0[r])return await z0[r]();if(r.startsWith("/api/articles/")&&r!=="/api/articles/latest"&&r!=="/api/articles/popular"){const a=parseInt(r.split("/").pop()||"0");if(a>0){const{getArticleById:i}=await le(async()=>{const{getArticleById:l}=await Promise.resolve().then(()=>U0);return{getArticleById:l}},void 0);return await i(a)}}if(r.startsWith("/api/categories/")){const a=r.split("/").pop();if(a){const{getCategoryBySlug:i}=await le(async()=>{const{getCategoryBySlug:l}=await Promise.resolve().then(()=>U0);return{getCategoryBySlug:l}},void 0);return await i(a)}}const n=new URLSearchParams(s.split("?")[1]||"");if(r==="/api/articles"){const a=n.get("featured")==="true",i=n.get("category"),l=parseInt(n.get("limit")||"10"),o=parseInt(n.get("offset")||"0");return await Vv({featured:a,category:i,limit:l,offset:o})}throw new Error(`No static handler found for: ${s}`)},x6=new i_({defaultOptions:{queries:{queryFn:f6,refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:5*60*1e3,retry:(t,s)=>s instanceof Error&&s.message.includes("No static handler")?!1:t<3},mutations:{retry:!1}}});function p6(t,s){if(t instanceof RegExp)return{keys:!1,pattern:t};var r,n,a,i,l=[],o="",c=t.split("/");for(c[0]||c.shift();a=c.shift();)r=a[0],r==="*"?(l.push(r),o+=a[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=a.indexOf("?",1),i=a.indexOf(".",1),l.push(a.substring(1,~n?n:~i?i:a.length)),o+=~n&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(o+=(~n?"?":"")+"\\"+a.substring(i))):o+="/"+a;return{keys:l,pattern:new RegExp("^"+o+(s?"(?=$|/)":"/?$"),"i")}}var q_={exports:{}},H_={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var To=h;function g6(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var v6=typeof Object.is=="function"?Object.is:g6,y6=To.useState,j6=To.useEffect,w6=To.useLayoutEffect,b6=To.useDebugValue;function N6(t,s){var r=s(),n=y6({inst:{value:r,getSnapshot:s}}),a=n[0].inst,i=n[1];return w6(function(){a.value=r,a.getSnapshot=s,yx(a)&&i({inst:a})},[t,r,s]),j6(function(){return yx(a)&&i({inst:a}),t(function(){yx(a)&&i({inst:a})})},[t]),b6(r),r}function yx(t){var s=t.getSnapshot;t=t.value;try{var r=s();return!v6(t,r)}catch{return!0}}function _6(t,s){return s()}var S6=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?_6:N6;H_.useSyncExternalStore=To.useSyncExternalStore!==void 0?To.useSyncExternalStore:S6;q_.exports=H_;var W_=q_.exports;const k6=Vg.useInsertionEffect,C6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",E6=C6?h.useLayoutEffect:h.useEffect,T6=k6||E6,K_=t=>{const s=h.useRef([t,(...r)=>s[0](...r)]).current;return T6(()=>{s[0]=t}),s[1]},P6="popstate",Bv="pushState",qv="replaceState",A6="hashchange",V0=[P6,Bv,qv,A6],R6=t=>{for(const s of V0)addEventListener(s,t);return()=>{for(const s of V0)removeEventListener(s,t)}},G_=(t,s)=>W_.useSyncExternalStore(R6,t,s),O6=()=>location.search,I6=({ssrSearch:t=""}={})=>G_(O6,()=>t),B0=()=>location.pathname,D6=({ssrPath:t}={})=>G_(B0,t?()=>t:B0),M6=(t,{replace:s=!1,state:r=null}={})=>history[s?qv:Bv](r,"",t),L6=(t={})=>[D6(t),M6],q0=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[q0]>"u"){for(const t of[Bv,qv]){const s=history[t];history[t]=function(){const r=s.apply(this,arguments),n=new Event(t);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,q0,{value:!0})}const F6=(t,s)=>s.toLowerCase().indexOf(t.toLowerCase())?"~"+s:s.slice(t.length)||"/",Q_=(t="")=>t==="/"?"":t,$6=(t,s)=>t[0]==="~"?t.slice(1):Q_(s)+t,U6=(t="",s)=>F6(H0(Q_(t)),H0(s)),H0=t=>{try{return decodeURI(t)}catch{return t}},Z_={hook:L6,searchHook:I6,parser:p6,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t},Y_=h.createContext(Z_),Xo=()=>h.useContext(Y_),X_={},J_=h.createContext(X_),Hv=()=>h.useContext(J_),Wm=t=>{const[s,r]=t.hook(t);return[U6(t.base,s),K_((n,a)=>r($6(n,t.base),a))]},St=()=>Wm(Xo()),Wv=(t,s,r,n)=>{const{pattern:a,keys:i}=s instanceof RegExp?{keys:!1,pattern:s}:t(s||"*",n),l=a.exec(r)||[],[o,...c]=l;return o!==void 0?[!0,(()=>{const d=i!==!1?Object.fromEntries(i.map((m,f)=>[m,c[f]])):l.groups;let u={...c};return d&&Object.assign(u,d),u})(),...n?[o]:[]]:[!1,null]},e2=t=>Wv(Xo().parser,t,St()[0]),z6=({children:t,...s})=>{var u,m;const r=Xo(),n=s.hook?Z_:r;let a=n;const[i,l]=((u=s.ssrPath)==null?void 0:u.split("?"))??[];l&&(s.ssrSearch=l,s.ssrPath=i),s.hrefs=s.hrefs??((m=s.hook)==null?void 0:m.hrefs);let o=h.useRef({}),c=o.current,d=c;for(let f in n){const x=f==="base"?n[f]+(s[f]||""):s[f]||n[f];c===d&&x!==d[f]&&(o.current=d={...d}),d[f]=x,(x!==n[f]||x!==a[f])&&(a=d)}return h.createElement(Y_.Provider,{value:a,children:t})},W0=({children:t,component:s},r)=>s?h.createElement(s,{params:r}):typeof t=="function"?t(r):t,V6=t=>{let s=h.useRef(X_);const r=s.current;return s.current=Object.keys(t).length!==Object.keys(r).length||Object.entries(t).some(([n,a])=>a!==r[n])?t:r},Te=({path:t,nest:s,match:r,...n})=>{const a=Xo(),[i]=Wm(a),[l,o,c]=r??Wv(a.parser,t,i,s),d=V6({...Hv(),...o});if(!l)return null;const u=c?h.createElement(z6,{base:c},W0(n,d)):W0(n,d);return h.createElement(J_.Provider,{value:d,children:u})},X=h.forwardRef((t,s)=>{const r=Xo(),[n,a]=Wm(r),{to:i="",href:l=i,onClick:o,asChild:c,children:d,className:u,replace:m,state:f,...x}=t,g=K_(p=>{p.ctrlKey||p.metaKey||p.altKey||p.shiftKey||p.button!==0||(o==null||o(p),p.defaultPrevented||(p.preventDefault(),a(l,t)))}),v=r.hrefs(l[0]==="~"?l.slice(1):r.base+l,r);return c&&h.isValidElement(d)?h.cloneElement(d,{onClick:g,href:v}):h.createElement("a",{...x,onClick:g,href:v,className:u!=null&&u.call?u(n===l):u,children:d,ref:s})}),t2=t=>Array.isArray(t)?t.flatMap(s=>t2(s&&s.type===h.Fragment?s.props.children:s)):[t],s2=({children:t,location:s})=>{const r=Xo(),[n]=Wm(r);for(const a of t2(t)){let i=0;if(h.isValidElement(a)&&(i=Wv(r.parser,a.props.path,s||n,a.props.nest))[0])return h.cloneElement(a,{match:i})}return null},B6=1,q6=1e6;let jx=0;function H6(){return jx=(jx+1)%Number.MAX_SAFE_INTEGER,jx.toString()}const wx=new Map,K0=t=>{if(wx.has(t))return;const s=setTimeout(()=>{wx.delete(t),ud({type:"REMOVE_TOAST",toastId:t})},q6);wx.set(t,s)},W6=(t,s)=>{switch(s.type){case"ADD_TOAST":return{...t,toasts:[s.toast,...t.toasts].slice(0,B6)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===s.toast.id?{...r,...s.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=s;return r?K0(r):t.toasts.forEach(n=>{K0(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return s.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==s.toastId)}}},mh=[];let fh={toasts:[]};function ud(t){fh=W6(fh,t),mh.forEach(s=>{s(fh)})}function K6({...t}){const s=H6(),r=a=>ud({type:"UPDATE_TOAST",toast:{...a,id:s}}),n=()=>ud({type:"DISMISS_TOAST",toastId:s});return ud({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:a=>{a||n()}}}),{id:s,dismiss:n,update:r}}function Xe(){const[t,s]=h.useState(fh);return h.useEffect(()=>(mh.push(s),()=>{const r=mh.indexOf(s);r>-1&&mh.splice(r,1)}),[t]),{...t,toast:K6,dismiss:r=>ud({type:"DISMISS_TOAST",toastId:r})}}function se(t,s,{checkForDefaultPrevented:r=!0}={}){return function(a){if(t==null||t(a),r===!1||!a.defaultPrevented)return s==null?void 0:s(a)}}function G0(t,s){if(typeof t=="function")return t(s);t!=null&&(t.current=s)}function ia(...t){return s=>{let r=!1;const n=t.map(a=>{const i=G0(a,s);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():G0(t[a],null)}}}}function Me(...t){return h.useCallback(ia(...t),t)}function G6(t,s){const r=h.createContext(s),n=i=>{const{children:l,...o}=i,c=h.useMemo(()=>o,Object.values(o));return e.jsx(r.Provider,{value:c,children:l})};n.displayName=t+"Provider";function a(i){const l=h.useContext(r);if(l)return l;if(s!==void 0)return s;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[n,a]}function Ns(t,s=[]){let r=[];function n(i,l){const o=h.createContext(l),c=r.length;r=[...r,l];const d=m=>{var j;const{scope:f,children:x,...g}=m,v=((j=f==null?void 0:f[t])==null?void 0:j[c])||o,p=h.useMemo(()=>g,Object.values(g));return e.jsx(v.Provider,{value:p,children:x})};d.displayName=i+"Provider";function u(m,f){var v;const x=((v=f==null?void 0:f[t])==null?void 0:v[c])||o,g=h.useContext(x);if(g)return g;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=r.map(l=>h.createContext(l));return function(o){const c=(o==null?void 0:o[t])||i;return h.useMemo(()=>({[`__scope${t}`]:{...o,[t]:c}}),[o,c])}};return a.scopeName=t,[n,Q6(a,...s)]}function Q6(...t){const s=t[0];if(t.length===1)return s;const r=()=>{const n=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const l=n.reduce((o,{useScope:c,scopeName:d})=>{const m=c(i)[`__scope${d}`];return{...o,...m}},{});return h.useMemo(()=>({[`__scope${s.scopeName}`]:l}),[l])}};return r.scopeName=s.scopeName,r}function ni(t){const s=Z6(t),r=h.forwardRef((n,a)=>{const{children:i,...l}=n,o=h.Children.toArray(i),c=o.find(X6);if(c){const d=c.props.children,u=o.map(m=>m===c?h.Children.count(d)>1?h.Children.only(null):h.isValidElement(d)?d.props.children:null:m);return e.jsx(s,{...l,ref:a,children:h.isValidElement(d)?h.cloneElement(d,void 0,u):null})}return e.jsx(s,{...l,ref:a,children:i})});return r.displayName=`${t}.Slot`,r}var r2=ni("Slot");function Z6(t){const s=h.forwardRef((r,n)=>{const{children:a,...i}=r;if(h.isValidElement(a)){const l=eO(a),o=J6(i,a.props);return a.type!==h.Fragment&&(o.ref=n?ia(n,l):l),h.cloneElement(a,o)}return h.Children.count(a)>1?h.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var n2=Symbol("radix.slottable");function Y6(t){const s=({children:r})=>e.jsx(e.Fragment,{children:r});return s.displayName=`${t}.Slottable`,s.__radixId=n2,s}function X6(t){return h.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===n2}function J6(t,s){const r={...s};for(const n in s){const a=t[n],i=s[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...o)=>{const c=i(...o);return a(...o),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...t,...r}}function eO(t){var n,a;let s=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=s&&"isReactWarning"in s&&s.isReactWarning;return r?t.ref:(s=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,r=s&&"isReactWarning"in s&&s.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Xd(t){const s=t+"CollectionProvider",[r,n]=Ns(s),[a,i]=r(s,{collectionRef:{current:null},itemMap:new Map}),l=v=>{const{scope:p,children:j}=v,w=ze.useRef(null),y=ze.useRef(new Map).current;return e.jsx(a,{scope:p,itemMap:y,collectionRef:w,children:j})};l.displayName=s;const o=t+"CollectionSlot",c=ni(o),d=ze.forwardRef((v,p)=>{const{scope:j,children:w}=v,y=i(o,j),_=Me(p,y.collectionRef);return e.jsx(c,{ref:_,children:w})});d.displayName=o;const u=t+"CollectionItemSlot",m="data-radix-collection-item",f=ni(u),x=ze.forwardRef((v,p)=>{const{scope:j,children:w,...y}=v,_=ze.useRef(null),b=Me(p,_),N=i(u,j);return ze.useEffect(()=>(N.itemMap.set(_,{ref:_,...y}),()=>void N.itemMap.delete(_))),e.jsx(f,{[m]:"",ref:b,children:w})});x.displayName=u;function g(v){const p=i(t+"CollectionConsumer",v);return ze.useCallback(()=>{const w=p.collectionRef.current;if(!w)return[];const y=Array.from(w.querySelectorAll(`[${m}]`));return Array.from(p.itemMap.values()).sort((N,T)=>y.indexOf(N.ref.current)-y.indexOf(T.ref.current))},[p.collectionRef,p.itemMap])}return[{Provider:l,Slot:d,ItemSlot:x},g,n]}var tO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],me=tO.reduce((t,s)=>{const r=ni(`Primitive.${s}`),n=h.forwardRef((a,i)=>{const{asChild:l,...o}=a,c=l?r:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(c,{...o,ref:i})});return n.displayName=`Primitive.${s}`,{...t,[s]:n}},{});function Kv(t,s){t&&dl.flushSync(()=>t.dispatchEvent(s))}function Wt(t){const s=h.useRef(t);return h.useEffect(()=>{s.current=t}),h.useMemo(()=>(...r)=>{var n;return(n=s.current)==null?void 0:n.call(s,...r)},[])}function sO(t,s=globalThis==null?void 0:globalThis.document){const r=Wt(t);h.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return s.addEventListener("keydown",n,{capture:!0}),()=>s.removeEventListener("keydown",n,{capture:!0})},[r,s])}var rO="DismissableLayer",sg="dismissableLayer.update",nO="dismissableLayer.pointerDownOutside",aO="dismissableLayer.focusOutside",Q0,a2=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Jo=h.forwardRef((t,s)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:l,onDismiss:o,...c}=t,d=h.useContext(a2),[u,m]=h.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=h.useState({}),g=Me(s,T=>m(T)),v=Array.from(d.layers),[p]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),j=v.indexOf(p),w=u?v.indexOf(u):-1,y=d.layersWithOutsidePointerEventsDisabled.size>0,_=w>=j,b=lO(T=>{const A=T.target,S=[...d.branches].some(P=>P.contains(A));!_||S||(a==null||a(T),l==null||l(T),T.defaultPrevented||o==null||o())},f),N=oO(T=>{const A=T.target;[...d.branches].some(P=>P.contains(A))||(i==null||i(T),l==null||l(T),T.defaultPrevented||o==null||o())},f);return sO(T=>{w===d.layers.size-1&&(n==null||n(T),!T.defaultPrevented&&o&&(T.preventDefault(),o()))},f),h.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Q0=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),Z0(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Q0)}},[u,f,r,d]),h.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),Z0())},[u,d]),h.useEffect(()=>{const T=()=>x({});return document.addEventListener(sg,T),()=>document.removeEventListener(sg,T)},[]),e.jsx(me.div,{...c,ref:g,style:{pointerEvents:y?_?"auto":"none":void 0,...t.style},onFocusCapture:se(t.onFocusCapture,N.onFocusCapture),onBlurCapture:se(t.onBlurCapture,N.onBlurCapture),onPointerDownCapture:se(t.onPointerDownCapture,b.onPointerDownCapture)})});Jo.displayName=rO;var iO="DismissableLayerBranch",i2=h.forwardRef((t,s)=>{const r=h.useContext(a2),n=h.useRef(null),a=Me(s,n);return h.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),e.jsx(me.div,{...t,ref:a})});i2.displayName=iO;function lO(t,s=globalThis==null?void 0:globalThis.document){const r=Wt(t),n=h.useRef(!1),a=h.useRef(()=>{});return h.useEffect(()=>{const i=o=>{if(o.target&&!n.current){let c=function(){l2(nO,r,d,{discrete:!0})};const d={originalEvent:o};o.pointerType==="touch"?(s.removeEventListener("click",a.current),a.current=c,s.addEventListener("click",a.current,{once:!0})):c()}else s.removeEventListener("click",a.current);n.current=!1},l=window.setTimeout(()=>{s.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(l),s.removeEventListener("pointerdown",i),s.removeEventListener("click",a.current)}},[s,r]),{onPointerDownCapture:()=>n.current=!0}}function oO(t,s=globalThis==null?void 0:globalThis.document){const r=Wt(t),n=h.useRef(!1);return h.useEffect(()=>{const a=i=>{i.target&&!n.current&&l2(aO,r,{originalEvent:i},{discrete:!1})};return s.addEventListener("focusin",a),()=>s.removeEventListener("focusin",a)},[s,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Z0(){const t=new CustomEvent(sg);document.dispatchEvent(t)}function l2(t,s,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});s&&a.addEventListener(t,s,{once:!0}),n?Kv(a,i):a.dispatchEvent(i)}var cO=Jo,dO=i2,es=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},uO="Portal",ec=h.forwardRef((t,s)=>{var o;const{container:r,...n}=t,[a,i]=h.useState(!1);es(()=>i(!0),[]);const l=r||a&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return l?pR.createPortal(e.jsx(me.div,{...n,ref:s}),l):null});ec.displayName=uO;function hO(t,s){return h.useReducer((r,n)=>s[r][n]??r,t)}var _s=t=>{const{present:s,children:r}=t,n=mO(s),a=typeof r=="function"?r({present:n.isPresent}):h.Children.only(r),i=Me(n.ref,fO(a));return typeof r=="function"||n.isPresent?h.cloneElement(a,{ref:i}):null};_s.displayName="Presence";function mO(t){const[s,r]=h.useState(),n=h.useRef(null),a=h.useRef(t),i=h.useRef("none"),l=t?"mounted":"unmounted",[o,c]=hO(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const d=Hu(n.current);i.current=o==="mounted"?d:"none"},[o]),es(()=>{const d=n.current,u=a.current;if(u!==t){const f=i.current,x=Hu(d);t?c("MOUNT"):x==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&f!==x?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,c]),es(()=>{if(s){let d;const u=s.ownerDocument.defaultView??window,m=x=>{const v=Hu(n.current).includes(x.animationName);if(x.target===s&&v&&(c("ANIMATION_END"),!a.current)){const p=s.style.animationFillMode;s.style.animationFillMode="forwards",d=u.setTimeout(()=>{s.style.animationFillMode==="forwards"&&(s.style.animationFillMode=p)})}},f=x=>{x.target===s&&(i.current=Hu(n.current))};return s.addEventListener("animationstart",f),s.addEventListener("animationcancel",m),s.addEventListener("animationend",m),()=>{u.clearTimeout(d),s.removeEventListener("animationstart",f),s.removeEventListener("animationcancel",m),s.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[s,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:h.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function Hu(t){return(t==null?void 0:t.animationName)||"none"}function fO(t){var n,a;let s=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=s&&"isReactWarning"in s&&s.isReactWarning;return r?t.ref:(s=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,r=s&&"isReactWarning"in s&&s.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var xO=Vg[" useInsertionEffect ".trim().toString()]||es;function nn({prop:t,defaultProp:s,onChange:r=()=>{},caller:n}){const[a,i,l]=pO({defaultProp:s,onChange:r}),o=t!==void 0,c=o?t:a;{const u=h.useRef(t!==void 0);h.useEffect(()=>{const m=u.current;m!==o&&console.warn(`${n} is changing from ${m?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=o},[o,n])}const d=h.useCallback(u=>{var m;if(o){const f=gO(u)?u(t):u;f!==t&&((m=l.current)==null||m.call(l,f))}else i(u)},[o,t,i,l]);return[c,d]}function pO({defaultProp:t,onChange:s}){const[r,n]=h.useState(t),a=h.useRef(r),i=h.useRef(s);return xO(()=>{i.current=s},[s]),h.useEffect(()=>{var l;a.current!==r&&((l=i.current)==null||l.call(i,r),a.current=r)},[r,a]),[r,n,i]}function gO(t){return typeof t=="function"}var o2=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),vO="VisuallyHidden",Gv=h.forwardRef((t,s)=>e.jsx(me.span,{...t,ref:s,style:{...o2,...t.style}}));Gv.displayName=vO;var Qv="ToastProvider",[Zv,yO,jO]=Xd("Toast"),[c2,jB]=Ns("Toast",[jO]),[wO,Km]=c2(Qv),d2=t=>{const{__scopeToast:s,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:l}=t,[o,c]=h.useState(null),[d,u]=h.useState(0),m=h.useRef(!1),f=h.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Qv}\`. Expected non-empty \`string\`.`),e.jsx(Zv.Provider,{scope:s,children:e.jsx(wO,{scope:s,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:o,onViewportChange:c,onToastAdd:h.useCallback(()=>u(x=>x+1),[]),onToastRemove:h.useCallback(()=>u(x=>x-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:f,children:l})})};d2.displayName=Qv;var u2="ToastViewport",bO=["F8"],rg="toast.viewportPause",ng="toast.viewportResume",h2=h.forwardRef((t,s)=>{const{__scopeToast:r,hotkey:n=bO,label:a="Notifications ({hotkey})",...i}=t,l=Km(u2,r),o=yO(r),c=h.useRef(null),d=h.useRef(null),u=h.useRef(null),m=h.useRef(null),f=Me(s,m,l.onViewportChange),x=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=l.toastCount>0;h.useEffect(()=>{const p=j=>{var y;n.length!==0&&n.every(_=>j[_]||j.code===_)&&((y=m.current)==null||y.focus())};return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[n]),h.useEffect(()=>{const p=c.current,j=m.current;if(g&&p&&j){const w=()=>{if(!l.isClosePausedRef.current){const N=new CustomEvent(rg);j.dispatchEvent(N),l.isClosePausedRef.current=!0}},y=()=>{if(l.isClosePausedRef.current){const N=new CustomEvent(ng);j.dispatchEvent(N),l.isClosePausedRef.current=!1}},_=N=>{!p.contains(N.relatedTarget)&&y()},b=()=>{p.contains(document.activeElement)||y()};return p.addEventListener("focusin",w),p.addEventListener("focusout",_),p.addEventListener("pointermove",w),p.addEventListener("pointerleave",b),window.addEventListener("blur",w),window.addEventListener("focus",y),()=>{p.removeEventListener("focusin",w),p.removeEventListener("focusout",_),p.removeEventListener("pointermove",w),p.removeEventListener("pointerleave",b),window.removeEventListener("blur",w),window.removeEventListener("focus",y)}}},[g,l.isClosePausedRef]);const v=h.useCallback(({tabbingDirection:p})=>{const w=o().map(y=>{const _=y.ref.current,b=[_,...DO(_)];return p==="forwards"?b:b.reverse()});return(p==="forwards"?w.reverse():w).flat()},[o]);return h.useEffect(()=>{const p=m.current;if(p){const j=w=>{var b,N,T;const y=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!y){const A=document.activeElement,S=w.shiftKey;if(w.target===p&&S){(b=d.current)==null||b.focus();return}const R=v({tabbingDirection:S?"backwards":"forwards"}),K=R.findIndex(W=>W===A);bx(R.slice(K+1))?w.preventDefault():S?(N=d.current)==null||N.focus():(T=u.current)==null||T.focus()}};return p.addEventListener("keydown",j),()=>p.removeEventListener("keydown",j)}},[o,v]),e.jsxs(dO,{ref:c,role:"region","aria-label":a.replace("{hotkey}",x),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&e.jsx(ag,{ref:d,onFocusFromOutsideViewport:()=>{const p=v({tabbingDirection:"forwards"});bx(p)}}),e.jsx(Zv.Slot,{scope:r,children:e.jsx(me.ol,{tabIndex:-1,...i,ref:f})}),g&&e.jsx(ag,{ref:u,onFocusFromOutsideViewport:()=>{const p=v({tabbingDirection:"backwards"});bx(p)}})]})});h2.displayName=u2;var m2="ToastFocusProxy",ag=h.forwardRef((t,s)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=t,i=Km(m2,r);return e.jsx(Gv,{"aria-hidden":!0,tabIndex:0,...a,ref:s,style:{position:"fixed"},onFocus:l=>{var d;const o=l.relatedTarget;!((d=i.viewport)!=null&&d.contains(o))&&n()}})});ag.displayName=m2;var Jd="Toast",NO="toast.swipeStart",_O="toast.swipeMove",SO="toast.swipeCancel",kO="toast.swipeEnd",f2=h.forwardRef((t,s)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...l}=t,[o,c]=nn({prop:n,defaultProp:a??!0,onChange:i,caller:Jd});return e.jsx(_s,{present:r||o,children:e.jsx(TO,{open:o,...l,ref:s,onClose:()=>c(!1),onPause:Wt(t.onPause),onResume:Wt(t.onResume),onSwipeStart:se(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:se(t.onSwipeMove,d=>{const{x:u,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:se(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:se(t.onSwipeEnd,d=>{const{x:u,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),c(!1)})})})});f2.displayName=Jd;var[CO,EO]=c2(Jd,{onClose(){}}),TO=h.forwardRef((t,s)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:l,onEscapeKeyDown:o,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:m,onSwipeCancel:f,onSwipeEnd:x,...g}=t,v=Km(Jd,r),[p,j]=h.useState(null),w=Me(s,W=>j(W)),y=h.useRef(null),_=h.useRef(null),b=a||v.duration,N=h.useRef(0),T=h.useRef(b),A=h.useRef(0),{onToastAdd:S,onToastRemove:P}=v,C=Wt(()=>{var D;(p==null?void 0:p.contains(document.activeElement))&&((D=v.viewport)==null||D.focus()),l()}),R=h.useCallback(W=>{!W||W===1/0||(window.clearTimeout(A.current),N.current=new Date().getTime(),A.current=window.setTimeout(C,W))},[C]);h.useEffect(()=>{const W=v.viewport;if(W){const D=()=>{R(T.current),d==null||d()},B=()=>{const V=new Date().getTime()-N.current;T.current=T.current-V,window.clearTimeout(A.current),c==null||c()};return W.addEventListener(rg,B),W.addEventListener(ng,D),()=>{W.removeEventListener(rg,B),W.removeEventListener(ng,D)}}},[v.viewport,b,c,d,R]),h.useEffect(()=>{i&&!v.isClosePausedRef.current&&R(b)},[i,b,v.isClosePausedRef,R]),h.useEffect(()=>(S(),()=>P()),[S,P]);const K=h.useMemo(()=>p?w2(p):null,[p]);return v.viewport?e.jsxs(e.Fragment,{children:[K&&e.jsx(PO,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:K}),e.jsx(CO,{scope:r,onClose:C,children:dl.createPortal(e.jsx(Zv.ItemSlot,{scope:r,children:e.jsx(cO,{asChild:!0,onEscapeKeyDown:se(o,()=>{v.isFocusedToastEscapeKeyDownRef.current||C(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:e.jsx(me.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...g,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:se(t.onKeyDown,W=>{W.key==="Escape"&&(o==null||o(W.nativeEvent),W.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,C()))}),onPointerDown:se(t.onPointerDown,W=>{W.button===0&&(y.current={x:W.clientX,y:W.clientY})}),onPointerMove:se(t.onPointerMove,W=>{if(!y.current)return;const D=W.clientX-y.current.x,B=W.clientY-y.current.y,V=!!_.current,O=["left","right"].includes(v.swipeDirection),z=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,U=O?z(0,D):0,G=O?0:z(0,B),q=W.pointerType==="touch"?10:2,ce={x:U,y:G},ye={originalEvent:W,delta:ce};V?(_.current=ce,Wu(_O,m,ye,{discrete:!1})):Y0(ce,v.swipeDirection,q)?(_.current=ce,Wu(NO,u,ye,{discrete:!1}),W.target.setPointerCapture(W.pointerId)):(Math.abs(D)>q||Math.abs(B)>q)&&(y.current=null)}),onPointerUp:se(t.onPointerUp,W=>{const D=_.current,B=W.target;if(B.hasPointerCapture(W.pointerId)&&B.releasePointerCapture(W.pointerId),_.current=null,y.current=null,D){const V=W.currentTarget,O={originalEvent:W,delta:D};Y0(D,v.swipeDirection,v.swipeThreshold)?Wu(kO,x,O,{discrete:!0}):Wu(SO,f,O,{discrete:!0}),V.addEventListener("click",z=>z.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),PO=t=>{const{__scopeToast:s,children:r,...n}=t,a=Km(Jd,s),[i,l]=h.useState(!1),[o,c]=h.useState(!1);return OO(()=>l(!0)),h.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),o?null:e.jsx(ec,{asChild:!0,children:e.jsx(Gv,{...n,children:i&&e.jsxs(e.Fragment,{children:[a.label," ",r]})})})},AO="ToastTitle",x2=h.forwardRef((t,s)=>{const{__scopeToast:r,...n}=t;return e.jsx(me.div,{...n,ref:s})});x2.displayName=AO;var RO="ToastDescription",p2=h.forwardRef((t,s)=>{const{__scopeToast:r,...n}=t;return e.jsx(me.div,{...n,ref:s})});p2.displayName=RO;var g2="ToastAction",v2=h.forwardRef((t,s)=>{const{altText:r,...n}=t;return r.trim()?e.jsx(j2,{altText:r,asChild:!0,children:e.jsx(Yv,{...n,ref:s})}):(console.error(`Invalid prop \`altText\` supplied to \`${g2}\`. Expected non-empty \`string\`.`),null)});v2.displayName=g2;var y2="ToastClose",Yv=h.forwardRef((t,s)=>{const{__scopeToast:r,...n}=t,a=EO(y2,r);return e.jsx(j2,{asChild:!0,children:e.jsx(me.button,{type:"button",...n,ref:s,onClick:se(t.onClick,a.onClose)})})});Yv.displayName=y2;var j2=h.forwardRef((t,s)=>{const{__scopeToast:r,altText:n,...a}=t;return e.jsx(me.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:s})});function w2(t){const s=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&s.push(n.textContent),IO(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const l=n.dataset.radixToastAnnounceAlt;l&&s.push(l)}else s.push(...w2(n))}}),s}function Wu(t,s,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});s&&a.addEventListener(t,s,{once:!0}),n?Kv(a,i):a.dispatchEvent(i)}var Y0=(t,s,r=0)=>{const n=Math.abs(t.x),a=Math.abs(t.y),i=n>a;return s==="left"||s==="right"?i&&n>r:!i&&a>r};function OO(t=()=>{}){const s=Wt(t);es(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(s)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[s])}function IO(t){return t.nodeType===t.ELEMENT_NODE}function DO(t){const s=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)s.push(r.currentNode);return s}function bx(t){const s=document.activeElement;return t.some(r=>r===s?!0:(r.focus(),document.activeElement!==s))}var MO=d2,b2=h2,N2=f2,_2=x2,S2=p2,k2=v2,C2=Yv;function E2(t){var s,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(s=0;s<a;s++)t[s]&&(r=E2(t[s]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function T2(){for(var t,s,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(s=E2(t))&&(n&&(n+=" "),n+=s);return n}const X0=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,J0=T2,tc=(t,s)=>r=>{var n;if((s==null?void 0:s.variants)==null)return J0(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=s,l=Object.keys(a).map(d=>{const u=r==null?void 0:r[d],m=i==null?void 0:i[d];if(u===null)return null;const f=X0(u)||X0(m);return a[d][f]}),o=r&&Object.entries(r).reduce((d,u)=>{let[m,f]=u;return f===void 0||(d[m]=f),d},{}),c=s==null||(n=s.compoundVariants)===null||n===void 0?void 0:n.reduce((d,u)=>{let{class:m,className:f,...x}=u;return Object.entries(x).every(g=>{let[v,p]=g;return Array.isArray(p)?p.includes({...i,...o}[v]):{...i,...o}[v]===p})?[...d,m,f]:d},[]);return J0(t,l,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),P2=(...t)=>t.filter((s,r,n)=>!!s&&n.indexOf(s)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var FO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=h.forwardRef(({color:t="currentColor",size:s=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:l,...o},c)=>h.createElement("svg",{ref:c,...FO,width:s,height:s,stroke:t,strokeWidth:n?Number(r)*24/Number(s):r,className:P2("lucide",a),...o},[...l.map(([d,u])=>h.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=(t,s)=>{const r=h.forwardRef(({className:n,...a},i)=>h.createElement($O,{ref:i,iconNode:s,className:P2(`lucide-${LO(t)}`,n),...a}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=Z("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=Z("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=Z("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=Z("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=Z("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=Z("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=Z("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=Z("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=Z("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=Z("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=Z("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=Z("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=Z("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=Z("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=Z("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=Z("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=Z("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=Z("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=Z("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=Z("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=Z("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=Z("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=Z("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=Z("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=Z("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=Z("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=Z("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=Z("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=Z("CloudRain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=Z("CloudSnow",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M8 15h.01",key:"a7atzg"}],["path",{d:"M8 19h.01",key:"puxtts"}],["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M12 21h.01",key:"h35vbk"}],["path",{d:"M16 15h.01",key:"rnfrdf"}],["path",{d:"M16 19h.01",key:"1vcnzz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=Z("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=Z("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=Z("Compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=Z("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=Z("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=Z("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=Z("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=Z("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=Z("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=Z("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=Z("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=Z("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=Z("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=Z("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=Z("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=Z("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=Z("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=Z("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=Z("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eI=Z("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tI=Z("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sI=Z("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=Z("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=Z("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=Z("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=Z("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=Z("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=Z("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nI=Z("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aI=Z("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iI=Z("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=Z("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=Z("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=Z("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=Z("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=Z("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=Z("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lI=Z("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=Z("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=Z("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=Z("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=Z("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oI=Z("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=Z("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=Z("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=Z("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=Z("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=Z("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=Z("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=Z("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=Z("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=Z("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=Z("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=Z("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=Z("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=Z("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=Z("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nw=Z("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=Z("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=Z("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=Z("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=Z("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=Z("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=Z("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=Z("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=Z("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=Z("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=Z("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=Z("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eu=Z("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=Z("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=Z("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=Z("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=Z("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=Z("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=Z("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=Z("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=Z("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ku=Z("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=Z("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=Z("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=Z("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=Z("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=Z("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=Z("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=Z("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ay=Z("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=Z("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=Z("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=Z("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=Z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nc=Z("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=Z("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jI=Z("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),ly="-",wI=t=>{const s=NI(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:l=>{const o=l.split(ly);return o[0]===""&&o.length!==1&&o.shift(),B2(o,s)||bI(l)},getConflictingClassGroupIds:(l,o)=>{const c=r[l]||[];return o&&n[l]?[...c,...n[l]]:c}}},B2=(t,s)=>{var l;if(t.length===0)return s.classGroupId;const r=t[0],n=s.nextPart.get(r),a=n?B2(t.slice(1),n):void 0;if(a)return a;if(s.validators.length===0)return;const i=t.join(ly);return(l=s.validators.find(({validator:o})=>o(i)))==null?void 0:l.classGroupId},iw=/^\[(.+)\]$/,bI=t=>{if(iw.test(t)){const s=iw.exec(t)[1],r=s==null?void 0:s.substring(0,s.indexOf(":"));if(r)return"arbitrary.."+r}},NI=t=>{const{theme:s,prefix:r}=t,n={nextPart:new Map,validators:[]};return SI(Object.entries(t.classGroups),r).forEach(([i,l])=>{cg(l,n,i,s)}),n},cg=(t,s,r,n)=>{t.forEach(a=>{if(typeof a=="string"){const i=a===""?s:lw(s,a);i.classGroupId=r;return}if(typeof a=="function"){if(_I(a)){cg(a(n),s,r,n);return}s.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,l])=>{cg(l,lw(s,i),r,n)})})},lw=(t,s)=>{let r=t;return s.split(ly).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},_I=t=>t.isThemeGetter,SI=(t,s)=>s?t.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?s+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([l,o])=>[s+l,o])):i);return[r,a]}):t,kI=t=>{if(t<1)return{get:()=>{},set:()=>{}};let s=0,r=new Map,n=new Map;const a=(i,l)=>{r.set(i,l),s++,s>t&&(s=0,n=r,r=new Map)};return{get(i){let l=r.get(i);if(l!==void 0)return l;if((l=n.get(i))!==void 0)return a(i,l),l},set(i,l){r.has(i)?r.set(i,l):a(i,l)}}},q2="!",CI=t=>{const{separator:s,experimentalParseClassName:r}=t,n=s.length===1,a=s[0],i=s.length,l=o=>{const c=[];let d=0,u=0,m;for(let p=0;p<o.length;p++){let j=o[p];if(d===0){if(j===a&&(n||o.slice(p,p+i)===s)){c.push(o.slice(u,p)),u=p+i;continue}if(j==="/"){m=p;continue}}j==="["?d++:j==="]"&&d--}const f=c.length===0?o:o.substring(u),x=f.startsWith(q2),g=x?f.substring(1):f,v=m&&m>u?m-u:void 0;return{modifiers:c,hasImportantModifier:x,baseClassName:g,maybePostfixModifierPosition:v}};return r?o=>r({className:o,parseClassName:l}):l},EI=t=>{if(t.length<=1)return t;const s=[];let r=[];return t.forEach(n=>{n[0]==="["?(s.push(...r.sort(),n),r=[]):r.push(n)}),s.push(...r.sort()),s},TI=t=>({cache:kI(t.cacheSize),parseClassName:CI(t),...wI(t)}),PI=/\s+/,AI=(t,s)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=s,i=[],l=t.trim().split(PI);let o="";for(let c=l.length-1;c>=0;c-=1){const d=l[c],{modifiers:u,hasImportantModifier:m,baseClassName:f,maybePostfixModifierPosition:x}=r(d);let g=!!x,v=n(g?f.substring(0,x):f);if(!v){if(!g){o=d+(o.length>0?" "+o:o);continue}if(v=n(f),!v){o=d+(o.length>0?" "+o:o);continue}g=!1}const p=EI(u).join(":"),j=m?p+q2:p,w=j+v;if(i.includes(w))continue;i.push(w);const y=a(v,g);for(let _=0;_<y.length;++_){const b=y[_];i.push(j+b)}o=d+(o.length>0?" "+o:o)}return o};function RI(){let t=0,s,r,n="";for(;t<arguments.length;)(s=arguments[t++])&&(r=H2(s))&&(n&&(n+=" "),n+=r);return n}const H2=t=>{if(typeof t=="string")return t;let s,r="";for(let n=0;n<t.length;n++)t[n]&&(s=H2(t[n]))&&(r&&(r+=" "),r+=s);return r};function OI(t,...s){let r,n,a,i=l;function l(c){const d=s.reduce((u,m)=>m(u),t());return r=TI(d),n=r.cache.get,a=r.cache.set,i=o,o(c)}function o(c){const d=n(c);if(d)return d;const u=AI(c,r);return a(c,u),u}return function(){return i(RI.apply(null,arguments))}}const kt=t=>{const s=r=>r[t]||[];return s.isThemeGetter=!0,s},W2=/^\[(?:([a-z-]+):)?(.+)\]$/i,II=/^\d+\/\d+$/,DI=new Set(["px","full","screen"]),MI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,LI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,FI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,$I=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,UI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Dn=t=>so(t)||DI.has(t)||II.test(t),va=t=>ac(t,"length",GI),so=t=>!!t&&!Number.isNaN(Number(t)),Nx=t=>ac(t,"number",so),Dc=t=>!!t&&Number.isInteger(Number(t)),zI=t=>t.endsWith("%")&&so(t.slice(0,-1)),Be=t=>W2.test(t),ya=t=>MI.test(t),VI=new Set(["length","size","percentage"]),BI=t=>ac(t,VI,K2),qI=t=>ac(t,"position",K2),HI=new Set(["image","url"]),WI=t=>ac(t,HI,ZI),KI=t=>ac(t,"",QI),Mc=()=>!0,ac=(t,s,r)=>{const n=W2.exec(t);return n?n[1]?typeof s=="string"?n[1]===s:s.has(n[1]):r(n[2]):!1},GI=t=>LI.test(t)&&!FI.test(t),K2=()=>!1,QI=t=>$I.test(t),ZI=t=>UI.test(t),YI=()=>{const t=kt("colors"),s=kt("spacing"),r=kt("blur"),n=kt("brightness"),a=kt("borderColor"),i=kt("borderRadius"),l=kt("borderSpacing"),o=kt("borderWidth"),c=kt("contrast"),d=kt("grayscale"),u=kt("hueRotate"),m=kt("invert"),f=kt("gap"),x=kt("gradientColorStops"),g=kt("gradientColorStopPositions"),v=kt("inset"),p=kt("margin"),j=kt("opacity"),w=kt("padding"),y=kt("saturate"),_=kt("scale"),b=kt("sepia"),N=kt("skew"),T=kt("space"),A=kt("translate"),S=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto",Be,s],R=()=>[Be,s],K=()=>["",Dn,va],W=()=>["auto",so,Be],D=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],B=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",Be],U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>[so,Be];return{cacheSize:500,separator:":",theme:{colors:[Mc],spacing:[Dn,va],blur:["none","",ya,Be],brightness:G(),borderColor:[t],borderRadius:["none","","full",ya,Be],borderSpacing:R(),borderWidth:K(),contrast:G(),grayscale:z(),hueRotate:G(),invert:z(),gap:R(),gradientColorStops:[t],gradientColorStopPositions:[zI,va],inset:C(),margin:C(),opacity:G(),padding:R(),saturate:G(),scale:G(),sepia:z(),skew:G(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",Be]}],container:["container"],columns:[{columns:[ya]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...D(),Be]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Dc,Be]}],basis:[{basis:C()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Be]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",Dc,Be]}],"grid-cols":[{"grid-cols":[Mc]}],"col-start-end":[{col:["auto",{span:["full",Dc,Be]},Be]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[Mc]}],"row-start-end":[{row:["auto",{span:[Dc,Be]},Be]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Be]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Be]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...O()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...O(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...O(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[p]}],mx:[{mx:[p]}],my:[{my:[p]}],ms:[{ms:[p]}],me:[{me:[p]}],mt:[{mt:[p]}],mr:[{mr:[p]}],mb:[{mb:[p]}],ml:[{ml:[p]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Be,s]}],"min-w":[{"min-w":[Be,s,"min","max","fit"]}],"max-w":[{"max-w":[Be,s,"none","full","min","max","fit","prose",{screen:[ya]},ya]}],h:[{h:[Be,s,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Be,s,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Be,s,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Be,s,"auto","min","max","fit"]}],"font-size":[{text:["base",ya,va]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Nx]}],"font-family":[{font:[Mc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Be]}],"line-clamp":[{"line-clamp":["none",so,Nx]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Dn,Be]}],"list-image":[{"list-image":["none",Be]}],"list-style-type":[{list:["none","disc","decimal",Be]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[j]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[j]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Dn,va]}],"underline-offset":[{"underline-offset":["auto",Dn,Be]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Be]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Be]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[j]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...D(),qI]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",BI]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},WI]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[j]}],"border-style":[{border:[...B(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[j]}],"divide-style":[{divide:B()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...B()]}],"outline-offset":[{"outline-offset":[Dn,Be]}],"outline-w":[{outline:[Dn,va]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:K()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[j]}],"ring-offset-w":[{"ring-offset":[Dn,va]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ya,KI]}],"shadow-color":[{shadow:[Mc]}],opacity:[{opacity:[j]}],"mix-blend":[{"mix-blend":[...V(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ya,Be]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[m]}],saturate:[{saturate:[y]}],sepia:[{sepia:[b]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[j]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[b]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Be]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",Be]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",Be]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Dc,Be]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Be]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Be]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Be]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Dn,va,Nx]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},XI=OI(YI);function re(...t){return XI(T2(t))}const JI=MO,G2=h.forwardRef(({className:t,...s},r)=>e.jsx(b2,{ref:r,className:re("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...s}));G2.displayName=b2.displayName;const eD=tc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Q2=h.forwardRef(({className:t,variant:s,...r},n)=>e.jsx(N2,{ref:n,className:re(eD({variant:s}),t),...r}));Q2.displayName=N2.displayName;const tD=h.forwardRef(({className:t,...s},r)=>e.jsx(k2,{ref:r,className:re("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...s}));tD.displayName=k2.displayName;const Z2=h.forwardRef(({className:t,...s},r)=>e.jsx(C2,{ref:r,className:re("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...s,children:e.jsx(rc,{className:"h-4 w-4"})}));Z2.displayName=C2.displayName;const Y2=h.forwardRef(({className:t,...s},r)=>e.jsx(_2,{ref:r,className:re("text-sm font-semibold",t),...s}));Y2.displayName=_2.displayName;const X2=h.forwardRef(({className:t,...s},r)=>e.jsx(S2,{ref:r,className:re("text-sm opacity-90",t),...s}));X2.displayName=S2.displayName;function J2(){const{toasts:t}=Xe();return e.jsxs(JI,{children:[t.map(function({id:s,title:r,description:n,action:a,...i}){return e.jsxs(Q2,{...i,children:[e.jsxs("div",{className:"grid gap-1",children:[r&&e.jsx(Y2,{children:r}),n&&e.jsx(X2,{children:n})]}),a,e.jsx(Z2,{})]},s)}),e.jsx(G2,{})]})}const eS=h.createContext(void 0);function tS({children:t}){const[s,r]=h.useState("light");h.useEffect(()=>{const a=localStorage.getItem("theme");if(a)r(a);else{const i=window.matchMedia("(prefers-color-scheme: dark)").matches;r(i?"dark":"light")}},[]),h.useEffect(()=>{s==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",s)},[s]);const n=()=>{r(a=>a==="light"?"dark":"light")};return e.jsx(eS.Provider,{value:{theme:s,toggleTheme:n},children:t})}function sD(){const t=h.useContext(eS);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t}const sS=h.createContext(void 0);function rD({children:t}){const[s,r]=h.useState(()=>localStorage.getItem("preferred-language")||"en");h.useEffect(()=>{localStorage.setItem("preferred-language",s),document.documentElement.lang=s},[s]);const n=(a,i,l)=>s==="en"?i:l;return e.jsx(sS.Provider,{value:{language:s,setLanguage:r,t:n},children:t})}function Nr(){const t=h.useContext(sS);if(!t)throw new Error("useLanguage must be used within a LanguageProvider");return t}const Ni={siteName:"",logoUrl:"",siteDescription:"   ",siteUrl:"",defaultLanguage:"bn"},rS=h.createContext(void 0),oy=()=>{const t=h.useContext(rS);if(!t)throw new Error("useSiteSettings must be used within a SiteSettingsProvider");return t},nS=({children:t})=>{const[s,r]=h.useState(Ni),[n,a]=h.useState(!0),i=async()=>{try{const{getSiteSettings:d}=await le(async()=>{const{getSiteSettings:m}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getSiteSettings:m}},[]),u=await d();console.log("Fetched dynamic settings:",u),r({siteName:u.siteName||Ni.siteName,logoUrl:u.logoUrl||Ni.logoUrl,siteDescription:u.siteDescription||Ni.siteDescription,siteUrl:u.siteUrl||Ni.siteUrl,defaultLanguage:u.defaultLanguage||Ni.defaultLanguage}),typeof window<"u"&&(window.globalSiteSettings=u)}catch(d){console.error("Error fetching site settings:",d),r(Ni)}finally{a(!1)}},l=async()=>{await i()},o=d=>{r(u=>({...u,...d}))};h.useEffect(()=>{i();const d=m=>{var f;console.log("Site settings updated globally:",m.detail),(f=m.detail)!=null&&f.siteName&&r(x=>({...x,siteName:m.detail.siteName})),l()},u=setInterval(()=>{l()},1e4);return window.addEventListener("siteSettingsUpdated",d),()=>{clearInterval(u),window.removeEventListener("siteSettingsUpdated",d)}},[]);const c={settings:s,updateSettings:o,refreshSettings:l,isLoading:n};return e.jsx(rS.Provider,{value:c,children:t})},aS=h.createContext(void 0);function iS({children:t}){const[s,r]=h.useState(null),[n,a]=h.useState(null),[i,l]=h.useState(!0),{toast:o}=Xe();h.useEffect(()=>{Tt.auth.getSession().then(({data:{session:g},error:v})=>{v?(console.error("Error getting session:",v),localStorage.removeItem("supabase.auth.token"),r(null),a(null)):(r(g),a((g==null?void 0:g.user)??null)),l(!1)}).catch(g=>{console.error("Session retrieval failed:",g),r(null),a(null),l(!1)});const{data:{subscription:x}}=Tt.auth.onAuthStateChange((g,v)=>{try{console.log("Auth state changed:",g),r(v),a((v==null?void 0:v.user)??null),l(!1)}catch(p){console.error("Auth state change error:",p),r(null),a(null),l(!1)}});return()=>{try{x.unsubscribe()}catch(g){console.error("Error unsubscribing from auth changes:",g)}}},[]);const f={session:s,user:n,signIn:async(x,g)=>{try{l(!0);const{error:v}=await Tt.auth.signInWithPassword({email:x,password:g});if(v)throw v;o({title:" ",description:"   "})}catch(v){throw o({title:" ",description:v.message,variant:"destructive"}),v}finally{l(!1)}},signUp:async(x,g,v)=>{try{l(!0);const{error:p}=await Tt.auth.signUp({email:x,password:g,options:{data:v}});if(p)throw p;o({title:"  ",description:"       "})}catch(p){throw o({title:"  ",description:p.message,variant:"destructive"}),p}finally{l(!1)}},signOut:async()=>{try{l(!0);const{error:x}=await Tt.auth.signOut();if(x)throw x;o({title:" ",description:"   "})}catch(x){o({title:" ",description:x.message,variant:"destructive"})}finally{l(!1)}},loading:i,resetPassword:async x=>{try{l(!0);const{error:g}=await Tt.auth.resetPasswordForEmail(x,{redirectTo:`${window.location.origin}/reset-password`});if(g)throw g;o({title:"  ",description:"        "})}catch(g){o({title:"  ",description:g.message,variant:"destructive"})}finally{l(!1)}}};return e.jsx(aS.Provider,{value:f,children:t})}function tt(){const t=h.useContext(aS);if(t===void 0)throw new Error("useSupabaseAuth must be used within an AuthProvider");return t}const lS=h.createContext(void 0),nD=({children:t})=>{const{user:s,signIn:r,signOut:n,loading:a}=tt(),[i,l]=h.useState(!1),[o,c]=h.useState(!0),{toast:d}=Xe(),u=async()=>{var g;if(!s)return l(!1),!1;try{const p=((g=s.user_metadata)==null?void 0:g.role)==="admin";return l(p),p}catch(v){return console.error("Error checking admin status:",v),l(!1),!1}},m=async(g,v)=>{try{c(!0),await r(g,v)}catch(p){throw console.error("Admin login error:",p),new Error(p.message||"   ")}finally{c(!1)}},f=async()=>{try{await n(),l(!1),d({title:" ",description:"      "})}catch(g){console.error("Logout error:",g),d({title:" ",description:"   ",variant:"destructive"})}};h.useEffect(()=>{a||(s?u().finally(()=>c(!1)):(l(!1),c(!1)))},[s,a]);const x={isAdmin:i,loading:o||a,loginAsAdmin:m,logout:f,checkAdminStatus:u};return e.jsx(lS.Provider,{value:x,children:t})},oS=()=>{const t=h.useContext(lS);if(t===void 0)throw new Error("useSupabaseAdminAuth must be used within a SupabaseAdminAuthProvider");return t},k=h.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,className:re("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s}));k.displayName="Card";const I=h.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,className:re("flex flex-col space-y-1.5 p-6",t),...s}));I.displayName="CardHeader";const L=h.forwardRef(({className:t,...s},r)=>e.jsx("h3",{ref:r,className:re("text-2xl font-semibold leading-none tracking-tight",t),...s}));L.displayName="CardTitle";const _e=h.forwardRef(({className:t,...s},r)=>e.jsx("p",{ref:r,className:re("text-sm text-muted-foreground",t),...s}));_e.displayName="CardDescription";const E=h.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,className:re("p-6 pt-0",t),...s}));E.displayName="CardContent";const tl=h.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,className:re("flex items-center p-6 pt-0",t),...s}));tl.displayName="CardFooter";const cy=tc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),M=h.forwardRef(({className:t,variant:s,size:r,asChild:n=!1,...a},i)=>{const l=n?r2:"button";return e.jsx(l,{className:re(cy({variant:s,size:r,className:t})),ref:i,...a})});M.displayName="Button";const J=h.forwardRef(({className:t,type:s,...r},n)=>e.jsx("input",{type:s,className:re("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...r}));J.displayName="Input";var aD="Label",cS=h.forwardRef((t,s)=>e.jsx(me.label,{...t,ref:s,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=t.onMouseDown)==null||a.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));cS.displayName=aD;var dS=cS;const iD=tc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Q=h.forwardRef(({className:t,...s},r)=>e.jsx(dS,{ref:r,className:re(iD(),t),...s}));Q.displayName=dS.displayName;const lD=tc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Ms=h.forwardRef(({className:t,variant:s,...r},n)=>e.jsx("div",{ref:n,role:"alert",className:re(lD({variant:s}),t),...r}));Ms.displayName="Alert";const oD=h.forwardRef(({className:t,...s},r)=>e.jsx("h5",{ref:r,className:re("mb-1 font-medium leading-none tracking-tight",t),...s}));oD.displayName="AlertTitle";const Ls=h.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,className:re("text-sm [&_p]:leading-relaxed",t),...s}));Ls.displayName="AlertDescription";function cD(){const{language:t,setLanguage:s,t:r}=Nr();return e.jsxs(M,{variant:"ghost",size:"sm",onClick:()=>s(t==="en"?"bn":"en"),className:"h-10 w-10 p-0 hover:bg-accent/10","aria-label":r("language-toggle","Toggle language","  "),children:[e.jsx(F2,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:r("current-language",`Current: ${t.toUpperCase()}`,`: ${t==="en"?"":""}`)})]})}const dD="admin2025";function uD(){const[,t]=St(),[s,r]=h.useState(""),[n,a]=h.useState(""),[i,l]=h.useState(!1),[o,c]=h.useState(!1),{t:d}=Nr(),u=async f=>{f.preventDefault(),c(!0),a(""),await new Promise(x=>setTimeout(x,800)),s.trim()===dD?t("/admin-login"):a(d("invalid-code","Invalid access code. Please try again.","     ")),c(!1)},m=f=>{f.key==="Enter"&&u(f)};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-secondary/5 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md space-y-6",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[e.jsx("div",{className:"p-3 bg-primary/10 rounded-full",children:e.jsx(vs,{className:"h-8 w-8 text-primary"})}),e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx(cD,{})})]}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:d("admin-access","Admin Access"," ")}),e.jsx("p",{className:"text-muted-foreground text-sm",children:d("secure-access","Secure access to Bengali News admin panel","     ")})]}),e.jsxs(k,{className:"shadow-lg border-0 bg-card/80 backdrop-blur-sm",children:[e.jsxs(I,{className:"space-y-1",children:[e.jsxs(L,{className:"text-lg flex items-center gap-2",children:[e.jsx(Jh,{className:"h-5 w-5"}),d("enter-access-code","Enter Access Code","   ")]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:d("code-required","A valid access code is required to continue","       ")})]}),e.jsx(E,{className:"space-y-4",children:e.jsxs("form",{onSubmit:u,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Q,{htmlFor:"access-code",className:"text-sm font-medium",children:d("access-code","Access Code"," ")}),e.jsxs("div",{className:"relative",children:[e.jsx(J,{id:"access-code",type:i?"text":"password",value:s,onChange:f=>{r(f.target.value),n&&a("")},onKeyPress:m,placeholder:d("enter-code","Enter your access code","    "),className:"h-12 text-center tracking-widest pr-12",disabled:o,autoComplete:"off",maxLength:20}),e.jsx(M,{type:"button",variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 -translate-y-1/2 h-8 w-8 p-0",onClick:()=>l(!i),disabled:o,children:i?e.jsx(XO,{className:"h-4 w-4"}):e.jsx($t,{className:"h-4 w-4"})})]})]}),n&&e.jsxs(Ms,{variant:"destructive",className:"text-sm",children:[e.jsx(Rs,{className:"h-4 w-4"}),e.jsx(Ls,{children:n})]}),e.jsx(M,{type:"submit",className:"w-full h-12 text-base font-medium",disabled:o||!s.trim(),children:o?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-4 w-4 border-2 border-primary-foreground/30 border-t-primary-foreground rounded-full animate-spin"}),d("verifying","Verifying...","  ...")]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(sy,{className:"h-4 w-4"}),d("access-admin","Access Admin Panel","  "),e.jsx(Gl,{className:"h-4 w-4"})]})})]})})]}),e.jsxs(Ms,{className:"bg-blue-50 border-blue-200 text-blue-800 dark:bg-blue-950/50 dark:border-blue-900 dark:text-blue-200",children:[e.jsx(vs,{className:"h-4 w-4"}),e.jsxs(Ls,{className:"text-sm",children:[e.jsx("strong",{children:d("security-notice","Security Notice:"," :")})," ",d("security-text","This is a secure admin portal. All access attempts are logged and monitored.","            ")]})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-muted-foreground",children:[e.jsx(ny,{className:"h-3 w-3"}),e.jsx("span",{children:d("mobile-optimized","Mobile Optimized"," ")}),e.jsx(Po,{className:"h-3 w-3"}),e.jsx("span",{children:d("multi-language","Multi-Language","")})]}),e.jsx("div",{className:"text-center text-xs text-muted-foreground",children:e.jsxs("p",{children:[d("footer-text","Bengali News Admin Portal","   "),"  "," ",d("powered-by","Powered by Replit","Replit  ")]})})]})})}var uS={exports:{}},hD="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",mD=hD,fD=mD;function hS(){}function mS(){}mS.resetWarningCache=hS;var xD=function(){function t(n,a,i,l,o,c){if(c!==fD){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function s(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:s,element:t,elementType:t,instanceOf:s,node:t,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:mS,resetWarningCache:hS};return r.PropTypes=r,r};uS.exports=xD();var pD=uS.exports;const Ot=Ho(pD);function gD(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var fS=h,vD=gD(fS);function ow(t,s,r){return s in t?Object.defineProperty(t,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[s]=r,t}function yD(t,s){t.prototype=Object.create(s.prototype),t.prototype.constructor=t,t.__proto__=s}var jD=!!(typeof window<"u"&&window.document&&window.document.createElement);function wD(t,s,r){if(typeof t!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof s!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof r<"u"&&typeof r!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function n(a){return a.displayName||a.name||"Component"}return function(i){if(typeof i!="function")throw new Error("Expected WrappedComponent to be a React component.");var l=[],o;function c(){o=t(l.map(function(u){return u.props})),d.canUseDOM?s(o):r&&(o=r(o))}var d=function(u){yD(m,u);function m(){return u.apply(this,arguments)||this}m.peek=function(){return o},m.rewind=function(){if(m.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var g=o;return o=void 0,l=[],g};var f=m.prototype;return f.UNSAFE_componentWillMount=function(){l.push(this),c()},f.componentDidUpdate=function(){c()},f.componentWillUnmount=function(){var g=l.indexOf(this);l.splice(g,1),c()},f.render=function(){return vD.createElement(i,this.props)},m}(fS.PureComponent);return ow(d,"displayName","SideEffect("+n(i)+")"),ow(d,"canUseDOM",jD),d}}var bD=wD;const ND=Ho(bD);var _D=typeof Element<"u",SD=typeof Map=="function",kD=typeof Set=="function",CD=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function xh(t,s){if(t===s)return!0;if(t&&s&&typeof t=="object"&&typeof s=="object"){if(t.constructor!==s.constructor)return!1;var r,n,a;if(Array.isArray(t)){if(r=t.length,r!=s.length)return!1;for(n=r;n--!==0;)if(!xh(t[n],s[n]))return!1;return!0}var i;if(SD&&t instanceof Map&&s instanceof Map){if(t.size!==s.size)return!1;for(i=t.entries();!(n=i.next()).done;)if(!s.has(n.value[0]))return!1;for(i=t.entries();!(n=i.next()).done;)if(!xh(n.value[1],s.get(n.value[0])))return!1;return!0}if(kD&&t instanceof Set&&s instanceof Set){if(t.size!==s.size)return!1;for(i=t.entries();!(n=i.next()).done;)if(!s.has(n.value[0]))return!1;return!0}if(CD&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(s)){if(r=t.length,r!=s.length)return!1;for(n=r;n--!==0;)if(t[n]!==s[n])return!1;return!0}if(t.constructor===RegExp)return t.source===s.source&&t.flags===s.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof s.valueOf=="function")return t.valueOf()===s.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof s.toString=="function")return t.toString()===s.toString();if(a=Object.keys(t),r=a.length,r!==Object.keys(s).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(s,a[n]))return!1;if(_D&&t instanceof Element)return!1;for(n=r;n--!==0;)if(!((a[n]==="_owner"||a[n]==="__v"||a[n]==="__o")&&t.$$typeof)&&!xh(t[a[n]],s[a[n]]))return!1;return!0}return t!==t&&s!==s}var ED=function(s,r){try{return xh(s,r)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}};const TD=Ho(ED);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var cw=Object.getOwnPropertySymbols,PD=Object.prototype.hasOwnProperty,AD=Object.prototype.propertyIsEnumerable;function RD(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function OD(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var s={},r=0;r<10;r++)s["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(s).map(function(i){return s[i]});if(n.join("")!=="0123456789")return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(i){a[i]=i}),Object.keys(Object.assign({},a)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var ID=OD()?Object.assign:function(t,s){for(var r,n=RD(t),a,i=1;i<arguments.length;i++){r=Object(arguments[i]);for(var l in r)PD.call(r,l)&&(n[l]=r[l]);if(cw){a=cw(r);for(var o=0;o<a.length;o++)AD.call(r,a[o])&&(n[a[o]]=r[a[o]])}}return n};const DD=Ho(ID);var Bi={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},Ue={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(Ue).map(function(t){return Ue[t]});var It={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},em={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Od={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},MD=Object.keys(em).reduce(function(t,s){return t[em[s]]=s,t},{}),LD=[Ue.NOSCRIPT,Ue.SCRIPT,Ue.STYLE],Jr="data-react-helmet",FD=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$D=function(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")},UD=function(){function t(s,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(s,a.key,a)}}return function(s,r,n){return r&&t(s.prototype,r),n&&t(s,n),s}}(),Xs=Object.assign||function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zD=function(t,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);t.prototype=Object.create(s&&s.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(t,s):t.__proto__=s)},dw=function(t,s){var r={};for(var n in t)s.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},VD=function(t,s){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s&&(typeof s=="object"||typeof s=="function")?s:t},dg=function(s){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return r===!1?String(s):String(s).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},BD=function(s){var r=ro(s,Ue.TITLE),n=ro(s,Od.TITLE_TEMPLATE);if(n&&r)return n.replace(/%s/g,function(){return Array.isArray(r)?r.join(""):r});var a=ro(s,Od.DEFAULT_TITLE);return r||a||void 0},qD=function(s){return ro(s,Od.ON_CHANGE_CLIENT_STATE)||function(){}},_x=function(s,r){return r.filter(function(n){return typeof n[s]<"u"}).map(function(n){return n[s]}).reduce(function(n,a){return Xs({},n,a)},{})},HD=function(s,r){return r.filter(function(n){return typeof n[Ue.BASE]<"u"}).map(function(n){return n[Ue.BASE]}).reverse().reduce(function(n,a){if(!n.length)for(var i=Object.keys(a),l=0;l<i.length;l++){var o=i[l],c=o.toLowerCase();if(s.indexOf(c)!==-1&&a[c])return n.concat(a)}return n},[])},Lc=function(s,r,n){var a={};return n.filter(function(i){return Array.isArray(i[s])?!0:(typeof i[s]<"u"&&QD("Helmet: "+s+' should be of type "Array". Instead found type "'+FD(i[s])+'"'),!1)}).map(function(i){return i[s]}).reverse().reduce(function(i,l){var o={};l.filter(function(f){for(var x=void 0,g=Object.keys(f),v=0;v<g.length;v++){var p=g[v],j=p.toLowerCase();r.indexOf(j)!==-1&&!(x===It.REL&&f[x].toLowerCase()==="canonical")&&!(j===It.REL&&f[j].toLowerCase()==="stylesheet")&&(x=j),r.indexOf(p)!==-1&&(p===It.INNER_HTML||p===It.CSS_TEXT||p===It.ITEM_PROP)&&(x=p)}if(!x||!f[x])return!1;var w=f[x].toLowerCase();return a[x]||(a[x]={}),o[x]||(o[x]={}),a[x][w]?!1:(o[x][w]=!0,!0)}).reverse().forEach(function(f){return i.push(f)});for(var c=Object.keys(o),d=0;d<c.length;d++){var u=c[d],m=DD({},a[u],o[u]);a[u]=m}return i},[]).reverse()},ro=function(s,r){for(var n=s.length-1;n>=0;n--){var a=s[n];if(a.hasOwnProperty(r))return a[r]}return null},WD=function(s){return{baseTag:HD([It.HREF,It.TARGET],s),bodyAttributes:_x(Bi.BODY,s),defer:ro(s,Od.DEFER),encode:ro(s,Od.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:_x(Bi.HTML,s),linkTags:Lc(Ue.LINK,[It.REL,It.HREF],s),metaTags:Lc(Ue.META,[It.NAME,It.CHARSET,It.HTTPEQUIV,It.PROPERTY,It.ITEM_PROP],s),noscriptTags:Lc(Ue.NOSCRIPT,[It.INNER_HTML],s),onChangeClientState:qD(s),scriptTags:Lc(Ue.SCRIPT,[It.SRC,It.INNER_HTML],s),styleTags:Lc(Ue.STYLE,[It.CSS_TEXT],s),title:BD(s),titleAttributes:_x(Bi.TITLE,s)}},ug=function(){var t=Date.now();return function(s){var r=Date.now();r-t>16?(t=r,s(r)):setTimeout(function(){ug(s)},0)}}(),uw=function(s){return clearTimeout(s)},KD=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||ug:global.requestAnimationFrame||ug,GD=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||uw:global.cancelAnimationFrame||uw,QD=function(s){return console&&typeof console.warn=="function"&&console.warn(s)},Fc=null,ZD=function(s){Fc&&GD(Fc),s.defer?Fc=KD(function(){hw(s,function(){Fc=null})}):(hw(s),Fc=null)},hw=function(s,r){var n=s.baseTag,a=s.bodyAttributes,i=s.htmlAttributes,l=s.linkTags,o=s.metaTags,c=s.noscriptTags,d=s.onChangeClientState,u=s.scriptTags,m=s.styleTags,f=s.title,x=s.titleAttributes;hg(Ue.BODY,a),hg(Ue.HTML,i),YD(f,x);var g={baseTag:Sl(Ue.BASE,n),linkTags:Sl(Ue.LINK,l),metaTags:Sl(Ue.META,o),noscriptTags:Sl(Ue.NOSCRIPT,c),scriptTags:Sl(Ue.SCRIPT,u),styleTags:Sl(Ue.STYLE,m)},v={},p={};Object.keys(g).forEach(function(j){var w=g[j],y=w.newTags,_=w.oldTags;y.length&&(v[j]=y),_.length&&(p[j]=g[j].oldTags)}),r&&r(),d(s,v,p)},xS=function(s){return Array.isArray(s)?s.join(""):s},YD=function(s,r){typeof s<"u"&&document.title!==s&&(document.title=xS(s)),hg(Ue.TITLE,r)},hg=function(s,r){var n=document.getElementsByTagName(s)[0];if(n){for(var a=n.getAttribute(Jr),i=a?a.split(","):[],l=[].concat(i),o=Object.keys(r),c=0;c<o.length;c++){var d=o[c],u=r[d]||"";n.getAttribute(d)!==u&&n.setAttribute(d,u),i.indexOf(d)===-1&&i.push(d);var m=l.indexOf(d);m!==-1&&l.splice(m,1)}for(var f=l.length-1;f>=0;f--)n.removeAttribute(l[f]);i.length===l.length?n.removeAttribute(Jr):n.getAttribute(Jr)!==o.join(",")&&n.setAttribute(Jr,o.join(","))}},Sl=function(s,r){var n=document.head||document.querySelector(Ue.HEAD),a=n.querySelectorAll(s+"["+Jr+"]"),i=Array.prototype.slice.call(a),l=[],o=void 0;return r&&r.length&&r.forEach(function(c){var d=document.createElement(s);for(var u in c)if(c.hasOwnProperty(u))if(u===It.INNER_HTML)d.innerHTML=c.innerHTML;else if(u===It.CSS_TEXT)d.styleSheet?d.styleSheet.cssText=c.cssText:d.appendChild(document.createTextNode(c.cssText));else{var m=typeof c[u]>"u"?"":c[u];d.setAttribute(u,m)}d.setAttribute(Jr,"true"),i.some(function(f,x){return o=x,d.isEqualNode(f)})?i.splice(o,1):l.push(d)}),i.forEach(function(c){return c.parentNode.removeChild(c)}),l.forEach(function(c){return n.appendChild(c)}),{oldTags:i,newTags:l}},pS=function(s){return Object.keys(s).reduce(function(r,n){var a=typeof s[n]<"u"?n+'="'+s[n]+'"':""+n;return r?r+" "+a:a},"")},XD=function(s,r,n,a){var i=pS(n),l=xS(r);return i?"<"+s+" "+Jr+'="true" '+i+">"+dg(l,a)+"</"+s+">":"<"+s+" "+Jr+'="true">'+dg(l,a)+"</"+s+">"},JD=function(s,r,n){return r.reduce(function(a,i){var l=Object.keys(i).filter(function(d){return!(d===It.INNER_HTML||d===It.CSS_TEXT)}).reduce(function(d,u){var m=typeof i[u]>"u"?u:u+'="'+dg(i[u],n)+'"';return d?d+" "+m:m},""),o=i.innerHTML||i.cssText||"",c=LD.indexOf(s)===-1;return a+"<"+s+" "+Jr+'="true" '+l+(c?"/>":">"+o+"</"+s+">")},"")},gS=function(s){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(s).reduce(function(n,a){return n[em[a]||a]=s[a],n},r)},eM=function(s){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(s).reduce(function(n,a){return n[MD[a]||a]=s[a],n},r)},tM=function(s,r,n){var a,i=(a={key:r},a[Jr]=!0,a),l=gS(n,i);return[ze.createElement(Ue.TITLE,l,r)]},sM=function(s,r){return r.map(function(n,a){var i,l=(i={key:a},i[Jr]=!0,i);return Object.keys(n).forEach(function(o){var c=em[o]||o;if(c===It.INNER_HTML||c===It.CSS_TEXT){var d=n.innerHTML||n.cssText;l.dangerouslySetInnerHTML={__html:d}}else l[c]=n[o]}),ze.createElement(s,l)})},Mn=function(s,r,n){switch(s){case Ue.TITLE:return{toComponent:function(){return tM(s,r.title,r.titleAttributes)},toString:function(){return XD(s,r.title,r.titleAttributes,n)}};case Bi.BODY:case Bi.HTML:return{toComponent:function(){return gS(r)},toString:function(){return pS(r)}};default:return{toComponent:function(){return sM(s,r)},toString:function(){return JD(s,r,n)}}}},vS=function(s){var r=s.baseTag,n=s.bodyAttributes,a=s.encode,i=s.htmlAttributes,l=s.linkTags,o=s.metaTags,c=s.noscriptTags,d=s.scriptTags,u=s.styleTags,m=s.title,f=m===void 0?"":m,x=s.titleAttributes;return{base:Mn(Ue.BASE,r,a),bodyAttributes:Mn(Bi.BODY,n,a),htmlAttributes:Mn(Bi.HTML,i,a),link:Mn(Ue.LINK,l,a),meta:Mn(Ue.META,o,a),noscript:Mn(Ue.NOSCRIPT,c,a),script:Mn(Ue.SCRIPT,d,a),style:Mn(Ue.STYLE,u,a),title:Mn(Ue.TITLE,{title:f,titleAttributes:x},a)}},rM=function(s){var r,n;return n=r=function(a){zD(i,a);function i(){return $D(this,i),VD(this,a.apply(this,arguments))}return i.prototype.shouldComponentUpdate=function(o){return!TD(this.props,o)},i.prototype.mapNestedChildrenToProps=function(o,c){if(!c)return null;switch(o.type){case Ue.SCRIPT:case Ue.NOSCRIPT:return{innerHTML:c};case Ue.STYLE:return{cssText:c}}throw new Error("<"+o.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},i.prototype.flattenArrayTypeChildren=function(o){var c,d=o.child,u=o.arrayTypeChildren,m=o.newChildProps,f=o.nestedChildren;return Xs({},u,(c={},c[d.type]=[].concat(u[d.type]||[],[Xs({},m,this.mapNestedChildrenToProps(d,f))]),c))},i.prototype.mapObjectTypeChildren=function(o){var c,d,u=o.child,m=o.newProps,f=o.newChildProps,x=o.nestedChildren;switch(u.type){case Ue.TITLE:return Xs({},m,(c={},c[u.type]=x,c.titleAttributes=Xs({},f),c));case Ue.BODY:return Xs({},m,{bodyAttributes:Xs({},f)});case Ue.HTML:return Xs({},m,{htmlAttributes:Xs({},f)})}return Xs({},m,(d={},d[u.type]=Xs({},f),d))},i.prototype.mapArrayTypeChildrenToProps=function(o,c){var d=Xs({},c);return Object.keys(o).forEach(function(u){var m;d=Xs({},d,(m={},m[u]=o[u],m))}),d},i.prototype.warnOnInvalidChildren=function(o,c){return!0},i.prototype.mapChildrenToProps=function(o,c){var d=this,u={};return ze.Children.forEach(o,function(m){if(!(!m||!m.props)){var f=m.props,x=f.children,g=dw(f,["children"]),v=eM(g);switch(d.warnOnInvalidChildren(m,x),m.type){case Ue.LINK:case Ue.META:case Ue.NOSCRIPT:case Ue.SCRIPT:case Ue.STYLE:u=d.flattenArrayTypeChildren({child:m,arrayTypeChildren:u,newChildProps:v,nestedChildren:x});break;default:c=d.mapObjectTypeChildren({child:m,newProps:c,newChildProps:v,nestedChildren:x});break}}}),c=this.mapArrayTypeChildrenToProps(u,c),c},i.prototype.render=function(){var o=this.props,c=o.children,d=dw(o,["children"]),u=Xs({},d);return c&&(u=this.mapChildrenToProps(c,u)),ze.createElement(s,u)},UD(i,null,[{key:"canUseDOM",set:function(o){s.canUseDOM=o}}]),i}(ze.Component),r.propTypes={base:Ot.object,bodyAttributes:Ot.object,children:Ot.oneOfType([Ot.arrayOf(Ot.node),Ot.node]),defaultTitle:Ot.string,defer:Ot.bool,encodeSpecialCharacters:Ot.bool,htmlAttributes:Ot.object,link:Ot.arrayOf(Ot.object),meta:Ot.arrayOf(Ot.object),noscript:Ot.arrayOf(Ot.object),onChangeClientState:Ot.func,script:Ot.arrayOf(Ot.object),style:Ot.arrayOf(Ot.object),title:Ot.string,titleAttributes:Ot.object,titleTemplate:Ot.string},r.defaultProps={defer:!0,encodeSpecialCharacters:!0},r.peek=s.peek,r.rewind=function(){var a=s.rewind();return a||(a=vS({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),a},n},nM=function(){return null},aM=ND(WD,ZD,vS)(nM),Ws=rM(aM);Ws.renderStatic=Ws.rewind;var at;(function(t){t.assertEqual=a=>{};function s(a){}t.assertIs=s;function r(a){throw new Error}t.assertNever=r,t.arrayToEnum=a=>{const i={};for(const l of a)i[l]=l;return i},t.getValidEnumValues=a=>{const i=t.objectKeys(a).filter(o=>typeof a[a[o]]!="number"),l={};for(const o of i)l[o]=a[o];return t.objectValues(l)},t.objectValues=a=>t.objectKeys(a).map(function(i){return a[i]}),t.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const l in a)Object.prototype.hasOwnProperty.call(a,l)&&i.push(l);return i},t.find=(a,i)=>{for(const l of a)if(i(l))return l},t.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(l=>typeof l=="string"?`'${l}'`:l).join(i)}t.joinValues=n,t.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(at||(at={}));var mw;(function(t){t.mergeShapes=(s,r)=>({...s,...r})})(mw||(mw={}));const ke=at.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ka=t=>{switch(typeof t){case"undefined":return ke.undefined;case"string":return ke.string;case"number":return Number.isNaN(t)?ke.nan:ke.number;case"boolean":return ke.boolean;case"function":return ke.function;case"bigint":return ke.bigint;case"symbol":return ke.symbol;case"object":return Array.isArray(t)?ke.array:t===null?ke.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ke.promise:typeof Map<"u"&&t instanceof Map?ke.map:typeof Set<"u"&&t instanceof Set?ke.set:typeof Date<"u"&&t instanceof Date?ke.date:ke.object;default:return ke.unknown}},ne=at.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class oa extends Error{get errors(){return this.issues}constructor(s){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=s}format(s){const r=s||function(i){return i.message},n={_errors:[]},a=i=>{for(const l of i.issues)if(l.code==="invalid_union")l.unionErrors.map(a);else if(l.code==="invalid_return_type")a(l.returnTypeError);else if(l.code==="invalid_arguments")a(l.argumentsError);else if(l.path.length===0)n._errors.push(r(l));else{let o=n,c=0;for(;c<l.path.length;){const d=l.path[c];c===l.path.length-1?(o[d]=o[d]||{_errors:[]},o[d]._errors.push(r(l))):o[d]=o[d]||{_errors:[]},o=o[d],c++}}};return a(this),n}static assert(s){if(!(s instanceof oa))throw new Error(`Not a ZodError: ${s}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,at.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(s=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];r[i]=r[i]||[],r[i].push(s(a))}else n.push(s(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}oa.create=t=>new oa(t);const mg=(t,s)=>{let r;switch(t.code){case ne.invalid_type:t.received===ke.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case ne.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,at.jsonStringifyReplacer)}`;break;case ne.unrecognized_keys:r=`Unrecognized key(s) in object: ${at.joinValues(t.keys,", ")}`;break;case ne.invalid_union:r="Invalid input";break;case ne.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${at.joinValues(t.options)}`;break;case ne.invalid_enum_value:r=`Invalid enum value. Expected ${at.joinValues(t.options)}, received '${t.received}'`;break;case ne.invalid_arguments:r="Invalid function arguments";break;case ne.invalid_return_type:r="Invalid function return type";break;case ne.invalid_date:r="Invalid date";break;case ne.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:at.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case ne.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case ne.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case ne.custom:r="Invalid input";break;case ne.invalid_intersection_types:r="Intersection results could not be merged";break;case ne.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case ne.not_finite:r="Number must be finite";break;default:r=s.defaultError,at.assertNever(t)}return{message:r}};let iM=mg;function lM(){return iM}const oM=t=>{const{data:s,path:r,errorMaps:n,issueData:a}=t,i=[...r,...a.path||[]],l={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let o="";const c=n.filter(d=>!!d).slice().reverse();for(const d of c)o=d(l,{data:s,defaultError:o}).message;return{...a,path:i,message:o}};function ve(t,s){const r=lM(),n=oM({issueData:s,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===mg?void 0:mg].filter(a=>!!a)});t.common.issues.push(n)}class jr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(s,r){const n=[];for(const a of r){if(a.status==="aborted")return Fe;a.status==="dirty"&&s.dirty(),n.push(a.value)}return{status:s.value,value:n}}static async mergeObjectAsync(s,r){const n=[];for(const a of r){const i=await a.key,l=await a.value;n.push({key:i,value:l})}return jr.mergeObjectSync(s,n)}static mergeObjectSync(s,r){const n={};for(const a of r){const{key:i,value:l}=a;if(i.status==="aborted"||l.status==="aborted")return Fe;i.status==="dirty"&&s.dirty(),l.status==="dirty"&&s.dirty(),i.value!=="__proto__"&&(typeof l.value<"u"||a.alwaysSet)&&(n[i.value]=l.value)}return{status:s.value,value:n}}}const Fe=Object.freeze({status:"aborted"}),Qc=t=>({status:"dirty",value:t}),Fr=t=>({status:"valid",value:t}),fw=t=>t.status==="aborted",xw=t=>t.status==="dirty",Lo=t=>t.status==="valid",tm=t=>typeof Promise<"u"&&t instanceof Promise;var Ee;(function(t){t.errToObj=s=>typeof s=="string"?{message:s}:s||{},t.toString=s=>typeof s=="string"?s:s==null?void 0:s.message})(Ee||(Ee={}));class oi{constructor(s,r,n,a){this._cachedPath=[],this.parent=s,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const pw=(t,s)=>{if(Lo(s))return{success:!0,data:s.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new oa(t.common.issues);return this._error=r,this._error}}};function Ke(t){if(!t)return{};const{errorMap:s,invalid_type_error:r,required_error:n,description:a}=t;if(s&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return s?{errorMap:s,description:a}:{errorMap:(l,o)=>{const{message:c}=t;return l.code==="invalid_enum_value"?{message:c??o.defaultError}:typeof o.data>"u"?{message:c??n??o.defaultError}:l.code!=="invalid_type"?{message:o.defaultError}:{message:c??r??o.defaultError}},description:a}}class rt{get description(){return this._def.description}_getType(s){return ka(s.data)}_getOrReturnCtx(s,r){return r||{common:s.parent.common,data:s.data,parsedType:ka(s.data),schemaErrorMap:this._def.errorMap,path:s.path,parent:s.parent}}_processInputParams(s){return{status:new jr,ctx:{common:s.parent.common,data:s.data,parsedType:ka(s.data),schemaErrorMap:this._def.errorMap,path:s.path,parent:s.parent}}}_parseSync(s){const r=this._parse(s);if(tm(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(s){const r=this._parse(s);return Promise.resolve(r)}parse(s,r){const n=this.safeParse(s,r);if(n.success)return n.data;throw n.error}safeParse(s,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:s,parsedType:ka(s)},a=this._parseSync({data:s,path:n.path,parent:n});return pw(n,a)}"~validate"(s){var n,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:s,parsedType:ka(s)};if(!this["~standard"].async)try{const i=this._parseSync({data:s,path:[],parent:r});return Lo(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(a=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:s,path:[],parent:r}).then(i=>Lo(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(s,r){const n=await this.safeParseAsync(s,r);if(n.success)return n.data;throw n.error}async safeParseAsync(s,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:s,parsedType:ka(s)},a=this._parse({data:s,path:n.path,parent:n}),i=await(tm(a)?a:Promise.resolve(a));return pw(n,i)}refine(s,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const l=s(a),o=()=>i.addIssue({code:ne.custom,...n(a)});return typeof Promise<"u"&&l instanceof Promise?l.then(c=>c?!0:(o(),!1)):l?!0:(o(),!1)})}refinement(s,r){return this._refinement((n,a)=>s(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(s){return new Uo({schema:this,typeName:$e.ZodEffects,effect:{type:"refinement",refinement:s}})}superRefine(s){return this._refinement(s)}constructor(s){this.spa=this.safeParseAsync,this._def=s,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return ei.create(this,this._def)}nullable(){return zo.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Sn.create(this)}promise(){return am.create(this,this._def)}or(s){return rm.create([this,s],this._def)}and(s){return nm.create(this,s,this._def)}transform(s){return new Uo({...Ke(this._def),schema:this,typeName:$e.ZodEffects,effect:{type:"transform",transform:s}})}default(s){const r=typeof s=="function"?s:()=>s;return new pg({...Ke(this._def),innerType:this,defaultValue:r,typeName:$e.ZodDefault})}brand(){return new AM({typeName:$e.ZodBranded,type:this,...Ke(this._def)})}catch(s){const r=typeof s=="function"?s:()=>s;return new gg({...Ke(this._def),innerType:this,catchValue:r,typeName:$e.ZodCatch})}describe(s){const r=this.constructor;return new r({...this._def,description:s})}pipe(s){return dy.create(this,s)}readonly(){return vg.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cM=/^c[^\s-]{8,}$/i,dM=/^[0-9a-z]+$/,uM=/^[0-9A-HJKMNP-TV-Z]{26}$/i,hM=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,mM=/^[a-z0-9_-]{21}$/i,fM=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,xM=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,pM=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,gM="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Sx;const vM=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,yM=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,jM=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,wM=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,bM=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,NM=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,yS="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",_M=new RegExp(`^${yS}$`);function jS(t){let s="[0-5]\\d";t.precision?s=`${s}\\.\\d{${t.precision}}`:t.precision==null&&(s=`${s}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${s})${r}`}function SM(t){return new RegExp(`^${jS(t)}$`)}function kM(t){let s=`${yS}T${jS(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),s=`${s}(${r.join("|")})`,new RegExp(`^${s}$`)}function CM(t,s){return!!((s==="v4"||!s)&&vM.test(t)||(s==="v6"||!s)&&jM.test(t))}function EM(t,s){if(!fM.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||s&&a.alg!==s)}catch{return!1}}function TM(t,s){return!!((s==="v4"||!s)&&yM.test(t)||(s==="v6"||!s)&&wM.test(t))}class Ba extends rt{_parse(s){if(this._def.coerce&&(s.data=String(s.data)),this._getType(s)!==ke.string){const i=this._getOrReturnCtx(s);return ve(i,{code:ne.invalid_type,expected:ke.string,received:i.parsedType}),Fe}const n=new jr;let a;for(const i of this._def.checks)if(i.kind==="min")s.data.length<i.value&&(a=this._getOrReturnCtx(s,a),ve(a,{code:ne.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")s.data.length>i.value&&(a=this._getOrReturnCtx(s,a),ve(a,{code:ne.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const l=s.data.length>i.value,o=s.data.length<i.value;(l||o)&&(a=this._getOrReturnCtx(s,a),l?ve(a,{code:ne.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&ve(a,{code:ne.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")pM.test(s.data)||(a=this._getOrReturnCtx(s,a),ve(a,{validation:"email",code:ne.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Sx||(Sx=new RegExp(gM,"u")),Sx.test(s.data)||(a=this._getOrReturnCtx(s,a),ve(a,{validation:"emoji",code:ne.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")hM.test(s.data)||(a=this._getOrReturnCtx(s,a),ve(a,{validation:"uuid",code:ne.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")mM.test(s.data)||(a=this._getOrReturnCtx(s,a),ve(a,{validation:"nanoid",code:ne.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")cM.test(s.data)||(a=this._getOrReturnCtx(s,a),ve(a,{validation:"cuid",code:ne.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")dM.test(s.data)||(a=this._getOrReturnCtx(s,a),ve(a,{validation:"cuid2",code:ne.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")uM.test(s.data)||(a=this._getOrReturnCtx(s,a),ve(a,{validation:"ulid",code:ne.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(s.data)}catch{a=this._getOrReturnCtx(s,a),ve(a,{validation:"url",code:ne.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(s.data)||(a=this._getOrReturnCtx(s,a),ve(a,{validation:"regex",code:ne.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?s.data=s.data.trim():i.kind==="includes"?s.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(s,a),ve(a,{code:ne.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?s.data=s.data.toLowerCase():i.kind==="toUpperCase"?s.data=s.data.toUpperCase():i.kind==="startsWith"?s.data.startsWith(i.value)||(a=this._getOrReturnCtx(s,a),ve(a,{code:ne.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?s.data.endsWith(i.value)||(a=this._getOrReturnCtx(s,a),ve(a,{code:ne.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?kM(i).test(s.data)||(a=this._getOrReturnCtx(s,a),ve(a,{code:ne.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?_M.test(s.data)||(a=this._getOrReturnCtx(s,a),ve(a,{code:ne.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?SM(i).test(s.data)||(a=this._getOrReturnCtx(s,a),ve(a,{code:ne.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?xM.test(s.data)||(a=this._getOrReturnCtx(s,a),ve(a,{validation:"duration",code:ne.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?CM(s.data,i.version)||(a=this._getOrReturnCtx(s,a),ve(a,{validation:"ip",code:ne.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?EM(s.data,i.alg)||(a=this._getOrReturnCtx(s,a),ve(a,{validation:"jwt",code:ne.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?TM(s.data,i.version)||(a=this._getOrReturnCtx(s,a),ve(a,{validation:"cidr",code:ne.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?bM.test(s.data)||(a=this._getOrReturnCtx(s,a),ve(a,{validation:"base64",code:ne.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?NM.test(s.data)||(a=this._getOrReturnCtx(s,a),ve(a,{validation:"base64url",code:ne.invalid_string,message:i.message}),n.dirty()):at.assertNever(i);return{status:n.value,value:s.data}}_regex(s,r,n){return this.refinement(a=>s.test(a),{validation:r,code:ne.invalid_string,...Ee.errToObj(n)})}_addCheck(s){return new Ba({...this._def,checks:[...this._def.checks,s]})}email(s){return this._addCheck({kind:"email",...Ee.errToObj(s)})}url(s){return this._addCheck({kind:"url",...Ee.errToObj(s)})}emoji(s){return this._addCheck({kind:"emoji",...Ee.errToObj(s)})}uuid(s){return this._addCheck({kind:"uuid",...Ee.errToObj(s)})}nanoid(s){return this._addCheck({kind:"nanoid",...Ee.errToObj(s)})}cuid(s){return this._addCheck({kind:"cuid",...Ee.errToObj(s)})}cuid2(s){return this._addCheck({kind:"cuid2",...Ee.errToObj(s)})}ulid(s){return this._addCheck({kind:"ulid",...Ee.errToObj(s)})}base64(s){return this._addCheck({kind:"base64",...Ee.errToObj(s)})}base64url(s){return this._addCheck({kind:"base64url",...Ee.errToObj(s)})}jwt(s){return this._addCheck({kind:"jwt",...Ee.errToObj(s)})}ip(s){return this._addCheck({kind:"ip",...Ee.errToObj(s)})}cidr(s){return this._addCheck({kind:"cidr",...Ee.errToObj(s)})}datetime(s){return typeof s=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:s}):this._addCheck({kind:"datetime",precision:typeof(s==null?void 0:s.precision)>"u"?null:s==null?void 0:s.precision,offset:(s==null?void 0:s.offset)??!1,local:(s==null?void 0:s.local)??!1,...Ee.errToObj(s==null?void 0:s.message)})}date(s){return this._addCheck({kind:"date",message:s})}time(s){return typeof s=="string"?this._addCheck({kind:"time",precision:null,message:s}):this._addCheck({kind:"time",precision:typeof(s==null?void 0:s.precision)>"u"?null:s==null?void 0:s.precision,...Ee.errToObj(s==null?void 0:s.message)})}duration(s){return this._addCheck({kind:"duration",...Ee.errToObj(s)})}regex(s,r){return this._addCheck({kind:"regex",regex:s,...Ee.errToObj(r)})}includes(s,r){return this._addCheck({kind:"includes",value:s,position:r==null?void 0:r.position,...Ee.errToObj(r==null?void 0:r.message)})}startsWith(s,r){return this._addCheck({kind:"startsWith",value:s,...Ee.errToObj(r)})}endsWith(s,r){return this._addCheck({kind:"endsWith",value:s,...Ee.errToObj(r)})}min(s,r){return this._addCheck({kind:"min",value:s,...Ee.errToObj(r)})}max(s,r){return this._addCheck({kind:"max",value:s,...Ee.errToObj(r)})}length(s,r){return this._addCheck({kind:"length",value:s,...Ee.errToObj(r)})}nonempty(s){return this.min(1,Ee.errToObj(s))}trim(){return new Ba({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ba({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ba({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(s=>s.kind==="datetime")}get isDate(){return!!this._def.checks.find(s=>s.kind==="date")}get isTime(){return!!this._def.checks.find(s=>s.kind==="time")}get isDuration(){return!!this._def.checks.find(s=>s.kind==="duration")}get isEmail(){return!!this._def.checks.find(s=>s.kind==="email")}get isURL(){return!!this._def.checks.find(s=>s.kind==="url")}get isEmoji(){return!!this._def.checks.find(s=>s.kind==="emoji")}get isUUID(){return!!this._def.checks.find(s=>s.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(s=>s.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(s=>s.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(s=>s.kind==="cuid2")}get isULID(){return!!this._def.checks.find(s=>s.kind==="ulid")}get isIP(){return!!this._def.checks.find(s=>s.kind==="ip")}get isCIDR(){return!!this._def.checks.find(s=>s.kind==="cidr")}get isBase64(){return!!this._def.checks.find(s=>s.kind==="base64")}get isBase64url(){return!!this._def.checks.find(s=>s.kind==="base64url")}get minLength(){let s=null;for(const r of this._def.checks)r.kind==="min"&&(s===null||r.value>s)&&(s=r.value);return s}get maxLength(){let s=null;for(const r of this._def.checks)r.kind==="max"&&(s===null||r.value<s)&&(s=r.value);return s}}Ba.create=t=>new Ba({checks:[],typeName:$e.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Ke(t)});function PM(t,s){const r=(t.toString().split(".")[1]||"").length,n=(s.toString().split(".")[1]||"").length,a=r>n?r:n,i=Number.parseInt(t.toFixed(a).replace(".","")),l=Number.parseInt(s.toFixed(a).replace(".",""));return i%l/10**a}class Fo extends rt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(s){if(this._def.coerce&&(s.data=Number(s.data)),this._getType(s)!==ke.number){const i=this._getOrReturnCtx(s);return ve(i,{code:ne.invalid_type,expected:ke.number,received:i.parsedType}),Fe}let n;const a=new jr;for(const i of this._def.checks)i.kind==="int"?at.isInteger(s.data)||(n=this._getOrReturnCtx(s,n),ve(n,{code:ne.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?s.data<i.value:s.data<=i.value)&&(n=this._getOrReturnCtx(s,n),ve(n,{code:ne.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?s.data>i.value:s.data>=i.value)&&(n=this._getOrReturnCtx(s,n),ve(n,{code:ne.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?PM(s.data,i.value)!==0&&(n=this._getOrReturnCtx(s,n),ve(n,{code:ne.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(s.data)||(n=this._getOrReturnCtx(s,n),ve(n,{code:ne.not_finite,message:i.message}),a.dirty()):at.assertNever(i);return{status:a.value,value:s.data}}gte(s,r){return this.setLimit("min",s,!0,Ee.toString(r))}gt(s,r){return this.setLimit("min",s,!1,Ee.toString(r))}lte(s,r){return this.setLimit("max",s,!0,Ee.toString(r))}lt(s,r){return this.setLimit("max",s,!1,Ee.toString(r))}setLimit(s,r,n,a){return new Fo({...this._def,checks:[...this._def.checks,{kind:s,value:r,inclusive:n,message:Ee.toString(a)}]})}_addCheck(s){return new Fo({...this._def,checks:[...this._def.checks,s]})}int(s){return this._addCheck({kind:"int",message:Ee.toString(s)})}positive(s){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ee.toString(s)})}negative(s){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ee.toString(s)})}nonpositive(s){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ee.toString(s)})}nonnegative(s){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ee.toString(s)})}multipleOf(s,r){return this._addCheck({kind:"multipleOf",value:s,message:Ee.toString(r)})}finite(s){return this._addCheck({kind:"finite",message:Ee.toString(s)})}safe(s){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ee.toString(s)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ee.toString(s)})}get minValue(){let s=null;for(const r of this._def.checks)r.kind==="min"&&(s===null||r.value>s)&&(s=r.value);return s}get maxValue(){let s=null;for(const r of this._def.checks)r.kind==="max"&&(s===null||r.value<s)&&(s=r.value);return s}get isInt(){return!!this._def.checks.find(s=>s.kind==="int"||s.kind==="multipleOf"&&at.isInteger(s.value))}get isFinite(){let s=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(s===null||n.value<s)&&(s=n.value)}return Number.isFinite(r)&&Number.isFinite(s)}}Fo.create=t=>new Fo({checks:[],typeName:$e.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Ke(t)});class Id extends rt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(s){if(this._def.coerce)try{s.data=BigInt(s.data)}catch{return this._getInvalidInput(s)}if(this._getType(s)!==ke.bigint)return this._getInvalidInput(s);let n;const a=new jr;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?s.data<i.value:s.data<=i.value)&&(n=this._getOrReturnCtx(s,n),ve(n,{code:ne.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?s.data>i.value:s.data>=i.value)&&(n=this._getOrReturnCtx(s,n),ve(n,{code:ne.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?s.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(s,n),ve(n,{code:ne.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):at.assertNever(i);return{status:a.value,value:s.data}}_getInvalidInput(s){const r=this._getOrReturnCtx(s);return ve(r,{code:ne.invalid_type,expected:ke.bigint,received:r.parsedType}),Fe}gte(s,r){return this.setLimit("min",s,!0,Ee.toString(r))}gt(s,r){return this.setLimit("min",s,!1,Ee.toString(r))}lte(s,r){return this.setLimit("max",s,!0,Ee.toString(r))}lt(s,r){return this.setLimit("max",s,!1,Ee.toString(r))}setLimit(s,r,n,a){return new Id({...this._def,checks:[...this._def.checks,{kind:s,value:r,inclusive:n,message:Ee.toString(a)}]})}_addCheck(s){return new Id({...this._def,checks:[...this._def.checks,s]})}positive(s){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ee.toString(s)})}negative(s){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ee.toString(s)})}nonpositive(s){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ee.toString(s)})}nonnegative(s){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ee.toString(s)})}multipleOf(s,r){return this._addCheck({kind:"multipleOf",value:s,message:Ee.toString(r)})}get minValue(){let s=null;for(const r of this._def.checks)r.kind==="min"&&(s===null||r.value>s)&&(s=r.value);return s}get maxValue(){let s=null;for(const r of this._def.checks)r.kind==="max"&&(s===null||r.value<s)&&(s=r.value);return s}}Id.create=t=>new Id({checks:[],typeName:$e.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Ke(t)});class fg extends rt{_parse(s){if(this._def.coerce&&(s.data=!!s.data),this._getType(s)!==ke.boolean){const n=this._getOrReturnCtx(s);return ve(n,{code:ne.invalid_type,expected:ke.boolean,received:n.parsedType}),Fe}return Fr(s.data)}}fg.create=t=>new fg({typeName:$e.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Ke(t)});class sm extends rt{_parse(s){if(this._def.coerce&&(s.data=new Date(s.data)),this._getType(s)!==ke.date){const i=this._getOrReturnCtx(s);return ve(i,{code:ne.invalid_type,expected:ke.date,received:i.parsedType}),Fe}if(Number.isNaN(s.data.getTime())){const i=this._getOrReturnCtx(s);return ve(i,{code:ne.invalid_date}),Fe}const n=new jr;let a;for(const i of this._def.checks)i.kind==="min"?s.data.getTime()<i.value&&(a=this._getOrReturnCtx(s,a),ve(a,{code:ne.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?s.data.getTime()>i.value&&(a=this._getOrReturnCtx(s,a),ve(a,{code:ne.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):at.assertNever(i);return{status:n.value,value:new Date(s.data.getTime())}}_addCheck(s){return new sm({...this._def,checks:[...this._def.checks,s]})}min(s,r){return this._addCheck({kind:"min",value:s.getTime(),message:Ee.toString(r)})}max(s,r){return this._addCheck({kind:"max",value:s.getTime(),message:Ee.toString(r)})}get minDate(){let s=null;for(const r of this._def.checks)r.kind==="min"&&(s===null||r.value>s)&&(s=r.value);return s!=null?new Date(s):null}get maxDate(){let s=null;for(const r of this._def.checks)r.kind==="max"&&(s===null||r.value<s)&&(s=r.value);return s!=null?new Date(s):null}}sm.create=t=>new sm({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:$e.ZodDate,...Ke(t)});class gw extends rt{_parse(s){if(this._getType(s)!==ke.symbol){const n=this._getOrReturnCtx(s);return ve(n,{code:ne.invalid_type,expected:ke.symbol,received:n.parsedType}),Fe}return Fr(s.data)}}gw.create=t=>new gw({typeName:$e.ZodSymbol,...Ke(t)});class vw extends rt{_parse(s){if(this._getType(s)!==ke.undefined){const n=this._getOrReturnCtx(s);return ve(n,{code:ne.invalid_type,expected:ke.undefined,received:n.parsedType}),Fe}return Fr(s.data)}}vw.create=t=>new vw({typeName:$e.ZodUndefined,...Ke(t)});class yw extends rt{_parse(s){if(this._getType(s)!==ke.null){const n=this._getOrReturnCtx(s);return ve(n,{code:ne.invalid_type,expected:ke.null,received:n.parsedType}),Fe}return Fr(s.data)}}yw.create=t=>new yw({typeName:$e.ZodNull,...Ke(t)});class jw extends rt{constructor(){super(...arguments),this._any=!0}_parse(s){return Fr(s.data)}}jw.create=t=>new jw({typeName:$e.ZodAny,...Ke(t)});class ww extends rt{constructor(){super(...arguments),this._unknown=!0}_parse(s){return Fr(s.data)}}ww.create=t=>new ww({typeName:$e.ZodUnknown,...Ke(t)});class ci extends rt{_parse(s){const r=this._getOrReturnCtx(s);return ve(r,{code:ne.invalid_type,expected:ke.never,received:r.parsedType}),Fe}}ci.create=t=>new ci({typeName:$e.ZodNever,...Ke(t)});class bw extends rt{_parse(s){if(this._getType(s)!==ke.undefined){const n=this._getOrReturnCtx(s);return ve(n,{code:ne.invalid_type,expected:ke.void,received:n.parsedType}),Fe}return Fr(s.data)}}bw.create=t=>new bw({typeName:$e.ZodVoid,...Ke(t)});class Sn extends rt{_parse(s){const{ctx:r,status:n}=this._processInputParams(s),a=this._def;if(r.parsedType!==ke.array)return ve(r,{code:ne.invalid_type,expected:ke.array,received:r.parsedType}),Fe;if(a.exactLength!==null){const l=r.data.length>a.exactLength.value,o=r.data.length<a.exactLength.value;(l||o)&&(ve(r,{code:l?ne.too_big:ne.too_small,minimum:o?a.exactLength.value:void 0,maximum:l?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(ve(r,{code:ne.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(ve(r,{code:ne.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((l,o)=>a.type._parseAsync(new oi(r,l,r.path,o)))).then(l=>jr.mergeArray(n,l));const i=[...r.data].map((l,o)=>a.type._parseSync(new oi(r,l,r.path,o)));return jr.mergeArray(n,i)}get element(){return this._def.type}min(s,r){return new Sn({...this._def,minLength:{value:s,message:Ee.toString(r)}})}max(s,r){return new Sn({...this._def,maxLength:{value:s,message:Ee.toString(r)}})}length(s,r){return new Sn({...this._def,exactLength:{value:s,message:Ee.toString(r)}})}nonempty(s){return this.min(1,s)}}Sn.create=(t,s)=>new Sn({type:t,minLength:null,maxLength:null,exactLength:null,typeName:$e.ZodArray,...Ke(s)});function Rl(t){if(t instanceof ss){const s={};for(const r in t.shape){const n=t.shape[r];s[r]=ei.create(Rl(n))}return new ss({...t._def,shape:()=>s})}else return t instanceof Sn?new Sn({...t._def,type:Rl(t.element)}):t instanceof ei?ei.create(Rl(t.unwrap())):t instanceof zo?zo.create(Rl(t.unwrap())):t instanceof sl?sl.create(t.items.map(s=>Rl(s))):t}class ss extends rt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const s=this._def.shape(),r=at.objectKeys(s);return this._cached={shape:s,keys:r},this._cached}_parse(s){if(this._getType(s)!==ke.object){const d=this._getOrReturnCtx(s);return ve(d,{code:ne.invalid_type,expected:ke.object,received:d.parsedType}),Fe}const{status:n,ctx:a}=this._processInputParams(s),{shape:i,keys:l}=this._getCached(),o=[];if(!(this._def.catchall instanceof ci&&this._def.unknownKeys==="strip"))for(const d in a.data)l.includes(d)||o.push(d);const c=[];for(const d of l){const u=i[d],m=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new oi(a,m,a.path,d)),alwaysSet:d in a.data})}if(this._def.catchall instanceof ci){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of o)c.push({key:{status:"valid",value:u},value:{status:"valid",value:a.data[u]}});else if(d==="strict")o.length>0&&(ve(a,{code:ne.unrecognized_keys,keys:o}),n.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of o){const m=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new oi(a,m,a.path,u)),alwaysSet:u in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const m=await u.key,f=await u.value;d.push({key:m,value:f,alwaysSet:u.alwaysSet})}return d}).then(d=>jr.mergeObjectSync(n,d)):jr.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(s){return Ee.errToObj,new ss({...this._def,unknownKeys:"strict",...s!==void 0?{errorMap:(r,n)=>{var i,l;const a=((l=(i=this._def).errorMap)==null?void 0:l.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:Ee.errToObj(s).message??a}:{message:a}}}:{}})}strip(){return new ss({...this._def,unknownKeys:"strip"})}passthrough(){return new ss({...this._def,unknownKeys:"passthrough"})}extend(s){return new ss({...this._def,shape:()=>({...this._def.shape(),...s})})}merge(s){return new ss({unknownKeys:s._def.unknownKeys,catchall:s._def.catchall,shape:()=>({...this._def.shape(),...s._def.shape()}),typeName:$e.ZodObject})}setKey(s,r){return this.augment({[s]:r})}catchall(s){return new ss({...this._def,catchall:s})}pick(s){const r={};for(const n of at.objectKeys(s))s[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new ss({...this._def,shape:()=>r})}omit(s){const r={};for(const n of at.objectKeys(this.shape))s[n]||(r[n]=this.shape[n]);return new ss({...this._def,shape:()=>r})}deepPartial(){return Rl(this)}partial(s){const r={};for(const n of at.objectKeys(this.shape)){const a=this.shape[n];s&&!s[n]?r[n]=a:r[n]=a.optional()}return new ss({...this._def,shape:()=>r})}required(s){const r={};for(const n of at.objectKeys(this.shape))if(s&&!s[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof ei;)i=i._def.innerType;r[n]=i}return new ss({...this._def,shape:()=>r})}keyof(){return wS(at.objectKeys(this.shape))}}ss.create=(t,s)=>new ss({shape:()=>t,unknownKeys:"strip",catchall:ci.create(),typeName:$e.ZodObject,...Ke(s)});ss.strictCreate=(t,s)=>new ss({shape:()=>t,unknownKeys:"strict",catchall:ci.create(),typeName:$e.ZodObject,...Ke(s)});ss.lazycreate=(t,s)=>new ss({shape:t,unknownKeys:"strip",catchall:ci.create(),typeName:$e.ZodObject,...Ke(s)});class rm extends rt{_parse(s){const{ctx:r}=this._processInputParams(s),n=this._def.options;function a(i){for(const o of i)if(o.result.status==="valid")return o.result;for(const o of i)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const l=i.map(o=>new oa(o.ctx.common.issues));return ve(r,{code:ne.invalid_union,unionErrors:l}),Fe}if(r.common.async)return Promise.all(n.map(async i=>{const l={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:l}),ctx:l}})).then(a);{let i;const l=[];for(const c of n){const d={...r,common:{...r.common,issues:[]},parent:null},u=c._parseSync({data:r.data,path:r.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:d}),d.common.issues.length&&l.push(d.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const o=l.map(c=>new oa(c));return ve(r,{code:ne.invalid_union,unionErrors:o}),Fe}}get options(){return this._def.options}}rm.create=(t,s)=>new rm({options:t,typeName:$e.ZodUnion,...Ke(s)});function xg(t,s){const r=ka(t),n=ka(s);if(t===s)return{valid:!0,data:t};if(r===ke.object&&n===ke.object){const a=at.objectKeys(s),i=at.objectKeys(t).filter(o=>a.indexOf(o)!==-1),l={...t,...s};for(const o of i){const c=xg(t[o],s[o]);if(!c.valid)return{valid:!1};l[o]=c.data}return{valid:!0,data:l}}else if(r===ke.array&&n===ke.array){if(t.length!==s.length)return{valid:!1};const a=[];for(let i=0;i<t.length;i++){const l=t[i],o=s[i],c=xg(l,o);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===ke.date&&n===ke.date&&+t==+s?{valid:!0,data:t}:{valid:!1}}class nm extends rt{_parse(s){const{status:r,ctx:n}=this._processInputParams(s),a=(i,l)=>{if(fw(i)||fw(l))return Fe;const o=xg(i.value,l.value);return o.valid?((xw(i)||xw(l))&&r.dirty(),{status:r.value,value:o.data}):(ve(n,{code:ne.invalid_intersection_types}),Fe)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,l])=>a(i,l)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}nm.create=(t,s,r)=>new nm({left:t,right:s,typeName:$e.ZodIntersection,...Ke(r)});class sl extends rt{_parse(s){const{status:r,ctx:n}=this._processInputParams(s);if(n.parsedType!==ke.array)return ve(n,{code:ne.invalid_type,expected:ke.array,received:n.parsedType}),Fe;if(n.data.length<this._def.items.length)return ve(n,{code:ne.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Fe;!this._def.rest&&n.data.length>this._def.items.length&&(ve(n,{code:ne.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((l,o)=>{const c=this._def.items[o]||this._def.rest;return c?c._parse(new oi(n,l,n.path,o)):null}).filter(l=>!!l);return n.common.async?Promise.all(i).then(l=>jr.mergeArray(r,l)):jr.mergeArray(r,i)}get items(){return this._def.items}rest(s){return new sl({...this._def,rest:s})}}sl.create=(t,s)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new sl({items:t,typeName:$e.ZodTuple,rest:null,...Ke(s)})};class Nw extends rt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(s){const{status:r,ctx:n}=this._processInputParams(s);if(n.parsedType!==ke.map)return ve(n,{code:ne.invalid_type,expected:ke.map,received:n.parsedType}),Fe;const a=this._def.keyType,i=this._def.valueType,l=[...n.data.entries()].map(([o,c],d)=>({key:a._parse(new oi(n,o,n.path,[d,"key"])),value:i._parse(new oi(n,c,n.path,[d,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of l){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return Fe;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(d.value,u.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const c of l){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return Fe;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(d.value,u.value)}return{status:r.value,value:o}}}}Nw.create=(t,s,r)=>new Nw({valueType:s,keyType:t,typeName:$e.ZodMap,...Ke(r)});class Dd extends rt{_parse(s){const{status:r,ctx:n}=this._processInputParams(s);if(n.parsedType!==ke.set)return ve(n,{code:ne.invalid_type,expected:ke.set,received:n.parsedType}),Fe;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(ve(n,{code:ne.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(ve(n,{code:ne.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function l(c){const d=new Set;for(const u of c){if(u.status==="aborted")return Fe;u.status==="dirty"&&r.dirty(),d.add(u.value)}return{status:r.value,value:d}}const o=[...n.data.values()].map((c,d)=>i._parse(new oi(n,c,n.path,d)));return n.common.async?Promise.all(o).then(c=>l(c)):l(o)}min(s,r){return new Dd({...this._def,minSize:{value:s,message:Ee.toString(r)}})}max(s,r){return new Dd({...this._def,maxSize:{value:s,message:Ee.toString(r)}})}size(s,r){return this.min(s,r).max(s,r)}nonempty(s){return this.min(1,s)}}Dd.create=(t,s)=>new Dd({valueType:t,minSize:null,maxSize:null,typeName:$e.ZodSet,...Ke(s)});class _w extends rt{get schema(){return this._def.getter()}_parse(s){const{ctx:r}=this._processInputParams(s);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}_w.create=(t,s)=>new _w({getter:t,typeName:$e.ZodLazy,...Ke(s)});class Sw extends rt{_parse(s){if(s.data!==this._def.value){const r=this._getOrReturnCtx(s);return ve(r,{received:r.data,code:ne.invalid_literal,expected:this._def.value}),Fe}return{status:"valid",value:s.data}}get value(){return this._def.value}}Sw.create=(t,s)=>new Sw({value:t,typeName:$e.ZodLiteral,...Ke(s)});function wS(t,s){return new $o({values:t,typeName:$e.ZodEnum,...Ke(s)})}class $o extends rt{_parse(s){if(typeof s.data!="string"){const r=this._getOrReturnCtx(s),n=this._def.values;return ve(r,{expected:at.joinValues(n),received:r.parsedType,code:ne.invalid_type}),Fe}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(s.data)){const r=this._getOrReturnCtx(s),n=this._def.values;return ve(r,{received:r.data,code:ne.invalid_enum_value,options:n}),Fe}return Fr(s.data)}get options(){return this._def.values}get enum(){const s={};for(const r of this._def.values)s[r]=r;return s}get Values(){const s={};for(const r of this._def.values)s[r]=r;return s}get Enum(){const s={};for(const r of this._def.values)s[r]=r;return s}extract(s,r=this._def){return $o.create(s,{...this._def,...r})}exclude(s,r=this._def){return $o.create(this.options.filter(n=>!s.includes(n)),{...this._def,...r})}}$o.create=wS;class kw extends rt{_parse(s){const r=at.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(s);if(n.parsedType!==ke.string&&n.parsedType!==ke.number){const a=at.objectValues(r);return ve(n,{expected:at.joinValues(a),received:n.parsedType,code:ne.invalid_type}),Fe}if(this._cache||(this._cache=new Set(at.getValidEnumValues(this._def.values))),!this._cache.has(s.data)){const a=at.objectValues(r);return ve(n,{received:n.data,code:ne.invalid_enum_value,options:a}),Fe}return Fr(s.data)}get enum(){return this._def.values}}kw.create=(t,s)=>new kw({values:t,typeName:$e.ZodNativeEnum,...Ke(s)});class am extends rt{unwrap(){return this._def.type}_parse(s){const{ctx:r}=this._processInputParams(s);if(r.parsedType!==ke.promise&&r.common.async===!1)return ve(r,{code:ne.invalid_type,expected:ke.promise,received:r.parsedType}),Fe;const n=r.parsedType===ke.promise?r.data:Promise.resolve(r.data);return Fr(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}am.create=(t,s)=>new am({type:t,typeName:$e.ZodPromise,...Ke(s)});class Uo extends rt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===$e.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(s){const{status:r,ctx:n}=this._processInputParams(s),a=this._def.effect||null,i={addIssue:l=>{ve(n,l),l.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const l=a.transform(n.data,i);if(n.common.async)return Promise.resolve(l).then(async o=>{if(r.value==="aborted")return Fe;const c=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return c.status==="aborted"?Fe:c.status==="dirty"||r.value==="dirty"?Qc(c.value):c});{if(r.value==="aborted")return Fe;const o=this._def.schema._parseSync({data:l,path:n.path,parent:n});return o.status==="aborted"?Fe:o.status==="dirty"||r.value==="dirty"?Qc(o.value):o}}if(a.type==="refinement"){const l=o=>{const c=a.refinement(o,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?Fe:(o.status==="dirty"&&r.dirty(),l(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?Fe:(o.status==="dirty"&&r.dirty(),l(o.value).then(()=>({status:r.value,value:o.value}))))}if(a.type==="transform")if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Lo(l))return Fe;const o=a.transform(l.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>Lo(l)?Promise.resolve(a.transform(l.value,i)).then(o=>({status:r.value,value:o})):Fe);at.assertNever(a)}}Uo.create=(t,s,r)=>new Uo({schema:t,typeName:$e.ZodEffects,effect:s,...Ke(r)});Uo.createWithPreprocess=(t,s,r)=>new Uo({schema:s,effect:{type:"preprocess",transform:t},typeName:$e.ZodEffects,...Ke(r)});class ei extends rt{_parse(s){return this._getType(s)===ke.undefined?Fr(void 0):this._def.innerType._parse(s)}unwrap(){return this._def.innerType}}ei.create=(t,s)=>new ei({innerType:t,typeName:$e.ZodOptional,...Ke(s)});class zo extends rt{_parse(s){return this._getType(s)===ke.null?Fr(null):this._def.innerType._parse(s)}unwrap(){return this._def.innerType}}zo.create=(t,s)=>new zo({innerType:t,typeName:$e.ZodNullable,...Ke(s)});class pg extends rt{_parse(s){const{ctx:r}=this._processInputParams(s);let n=r.data;return r.parsedType===ke.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}pg.create=(t,s)=>new pg({innerType:t,typeName:$e.ZodDefault,defaultValue:typeof s.default=="function"?s.default:()=>s.default,...Ke(s)});class gg extends rt{_parse(s){const{ctx:r}=this._processInputParams(s),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return tm(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new oa(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new oa(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}gg.create=(t,s)=>new gg({innerType:t,typeName:$e.ZodCatch,catchValue:typeof s.catch=="function"?s.catch:()=>s.catch,...Ke(s)});class Cw extends rt{_parse(s){if(this._getType(s)!==ke.nan){const n=this._getOrReturnCtx(s);return ve(n,{code:ne.invalid_type,expected:ke.nan,received:n.parsedType}),Fe}return{status:"valid",value:s.data}}}Cw.create=t=>new Cw({typeName:$e.ZodNaN,...Ke(t)});class AM extends rt{_parse(s){const{ctx:r}=this._processInputParams(s),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class dy extends rt{_parse(s){const{status:r,ctx:n}=this._processInputParams(s);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Fe:i.status==="dirty"?(r.dirty(),Qc(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Fe:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(s,r){return new dy({in:s,out:r,typeName:$e.ZodPipeline})}}class vg extends rt{_parse(s){const r=this._def.innerType._parse(s),n=a=>(Lo(a)&&(a.value=Object.freeze(a.value)),a);return tm(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}vg.create=(t,s)=>new vg({innerType:t,typeName:$e.ZodReadonly,...Ke(s)});var $e;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})($e||($e={}));const Zt=Ba.create,RM=Fo.create,bS=fg.create;ci.create;Sn.create;const ma=ss.create;rm.create;nm.create;sl.create;const OM=$o.create;am.create;ei.create;zo.create;var tu=t=>t.type==="checkbox",Ai=t=>t instanceof Date,Vs=t=>t==null;const NS=t=>typeof t=="object";var Jt=t=>!Vs(t)&&!Array.isArray(t)&&NS(t)&&!Ai(t),_S=t=>Jt(t)&&t.target?tu(t.target)?t.target.checked:t.target.value:t,IM=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,SS=(t,s)=>t.has(IM(s)),DM=t=>{const s=t.constructor&&t.constructor.prototype;return Jt(s)&&s.hasOwnProperty("isPrototypeOf")},uy=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ls(t){let s;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)s=new Date(t);else if(!(uy&&(t instanceof Blob||n))&&(r||Jt(t)))if(s=r?[]:{},!r&&!DM(t))s=t;else for(const a in t)t.hasOwnProperty(a)&&(s[a]=ls(t[a]));else return t;return s}var tf=t=>/^\w*$/.test(t),Gt=t=>t===void 0,hy=t=>Array.isArray(t)?t.filter(Boolean):[],my=t=>hy(t.replace(/["|']|\]/g,"").split(/\.|\[/)),he=(t,s,r)=>{if(!s||!Jt(t))return r;const n=(tf(s)?[s]:my(s)).reduce((a,i)=>Vs(a)?a:a[i],t);return Gt(n)||n===t?Gt(t[s])?r:t[s]:n},dr=t=>typeof t=="boolean",ft=(t,s,r)=>{let n=-1;const a=tf(s)?[s]:my(s),i=a.length,l=i-1;for(;++n<i;){const o=a[n];let c=r;if(n!==l){const d=t[o];c=Jt(d)||Array.isArray(d)?d:isNaN(+a[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=c,t=t[o]}};const im={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Zr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ln={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},fy=ze.createContext(null);fy.displayName="HookFormContext";const sf=()=>ze.useContext(fy),MM=t=>{const{children:s,...r}=t;return ze.createElement(fy.Provider,{value:r},s)};var kS=(t,s,r,n=!0)=>{const a={defaultValues:s._defaultValues};for(const i in t)Object.defineProperty(a,i,{get:()=>{const l=i;return s._proxyFormState[l]!==Zr.all&&(s._proxyFormState[l]=!n||Zr.all),r&&(r[l]=!0),t[l]}});return a};const xy=typeof window<"u"?h.useLayoutEffect:h.useEffect;function LM(t){const s=sf(),{control:r=s.control,disabled:n,name:a,exact:i}=t||{},[l,o]=ze.useState(r._formState),c=ze.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return xy(()=>r._subscribe({name:a,formState:c.current,exact:i,callback:d=>{!n&&o({...r._formState,...d})}}),[a,n,i]),ze.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),ze.useMemo(()=>kS(l,r,c.current,!1),[l,r])}var vn=t=>typeof t=="string",CS=(t,s,r,n,a)=>vn(t)?(n&&s.watch.add(t),he(r,t,a)):Array.isArray(t)?t.map(i=>(n&&s.watch.add(i),he(r,i))):(n&&(s.watchAll=!0),r);function FM(t){const s=sf(),{control:r=s.control,name:n,defaultValue:a,disabled:i,exact:l}=t||{},o=ze.useRef(a),[c,d]=ze.useState(r._getWatch(n,o.current));return xy(()=>r._subscribe({name:n,formState:{values:!0},exact:l,callback:u=>!i&&d(CS(n,r._names,u.values||r._formValues,!1,o.current))}),[n,r,i,l]),ze.useEffect(()=>r._removeUnmounted()),c}function $M(t){const s=sf(),{name:r,disabled:n,control:a=s.control,shouldUnregister:i}=t,l=SS(a._names.array,r),o=FM({control:a,name:r,defaultValue:he(a._formValues,r,he(a._defaultValues,r,t.defaultValue)),exact:!0}),c=LM({control:a,name:r,exact:!0}),d=ze.useRef(t),u=ze.useRef(a.register(r,{...t.rules,value:o,...dr(t.disabled)?{disabled:t.disabled}:{}})),m=ze.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!he(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!he(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!he(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!he(c.validatingFields,r)},error:{enumerable:!0,get:()=>he(c.errors,r)}}),[c,r]),f=ze.useCallback(p=>u.current.onChange({target:{value:_S(p),name:r},type:im.CHANGE}),[r]),x=ze.useCallback(()=>u.current.onBlur({target:{value:he(a._formValues,r),name:r},type:im.BLUR}),[r,a._formValues]),g=ze.useCallback(p=>{const j=he(a._fields,r);j&&p&&(j._f.ref={focus:()=>p.focus&&p.focus(),select:()=>p.select&&p.select(),setCustomValidity:w=>p.setCustomValidity(w),reportValidity:()=>p.reportValidity()})},[a._fields,r]),v=ze.useMemo(()=>({name:r,value:o,...dr(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:f,onBlur:x,ref:g}),[r,n,c.disabled,f,x,g,o]);return ze.useEffect(()=>{const p=a._options.shouldUnregister||i;a.register(r,{...d.current.rules,...dr(d.current.disabled)?{disabled:d.current.disabled}:{}});const j=(w,y)=>{const _=he(a._fields,w);_&&_._f&&(_._f.mount=y)};if(j(r,!0),p){const w=ls(he(a._options.defaultValues,r));ft(a._defaultValues,r,w),Gt(he(a._formValues,r))&&ft(a._formValues,r,w)}return!l&&a.register(r),()=>{(l?p&&!a._state.action:p)?a.unregister(r):j(r,!1)}},[r,a,l,i]),ze.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),ze.useMemo(()=>({field:v,formState:c,fieldState:m}),[v,c,m])}const UM=t=>t.render($M(t));var py=(t,s,r,n,a)=>s?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:a||!0}}:{},hd=t=>Array.isArray(t)?t:[t],Ew=()=>{let t=[];return{get observers(){return t},next:a=>{for(const i of t)i.next&&i.next(a)},subscribe:a=>(t.push(a),{unsubscribe:()=>{t=t.filter(i=>i!==a)}}),unsubscribe:()=>{t=[]}}},yg=t=>Vs(t)||!NS(t);function Pa(t,s,r=new WeakSet){if(yg(t)||yg(s))return t===s;if(Ai(t)&&Ai(s))return t.getTime()===s.getTime();const n=Object.keys(t),a=Object.keys(s);if(n.length!==a.length)return!1;if(r.has(t)||r.has(s))return!0;r.add(t),r.add(s);for(const i of n){const l=t[i];if(!a.includes(i))return!1;if(i!=="ref"){const o=s[i];if(Ai(l)&&Ai(o)||Jt(l)&&Jt(o)||Array.isArray(l)&&Array.isArray(o)?!Pa(l,o,r):l!==o)return!1}}return!0}var tr=t=>Jt(t)&&!Object.keys(t).length,gy=t=>t.type==="file",Yr=t=>typeof t=="function",lm=t=>{if(!uy)return!1;const s=t?t.ownerDocument:0;return t instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},ES=t=>t.type==="select-multiple",vy=t=>t.type==="radio",zM=t=>vy(t)||tu(t),kx=t=>lm(t)&&t.isConnected;function VM(t,s){const r=s.slice(0,-1).length;let n=0;for(;n<r;)t=Gt(t)?n++:t[s[n++]];return t}function BM(t){for(const s in t)if(t.hasOwnProperty(s)&&!Gt(t[s]))return!1;return!0}function ts(t,s){const r=Array.isArray(s)?s:tf(s)?[s]:my(s),n=r.length===1?t:VM(t,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(Jt(n)&&tr(n)||Array.isArray(n)&&BM(n))&&ts(t,r.slice(0,-1)),t}var TS=t=>{for(const s in t)if(Yr(t[s]))return!0;return!1};function om(t,s={}){const r=Array.isArray(t);if(Jt(t)||r)for(const n in t)Array.isArray(t[n])||Jt(t[n])&&!TS(t[n])?(s[n]=Array.isArray(t[n])?[]:{},om(t[n],s[n])):Vs(t[n])||(s[n]=!0);return s}function PS(t,s,r){const n=Array.isArray(t);if(Jt(t)||n)for(const a in t)Array.isArray(t[a])||Jt(t[a])&&!TS(t[a])?Gt(s)||yg(r[a])?r[a]=Array.isArray(t[a])?om(t[a],[]):{...om(t[a])}:PS(t[a],Vs(s)?{}:s[a],r[a]):r[a]=!Pa(t[a],s[a]);return r}var $c=(t,s)=>PS(t,s,om(s));const Tw={value:!1,isValid:!1},Pw={value:!0,isValid:!0};var AS=t=>{if(Array.isArray(t)){if(t.length>1){const s=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:s,isValid:!!s.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Gt(t[0].attributes.value)?Gt(t[0].value)||t[0].value===""?Pw:{value:t[0].value,isValid:!0}:Pw:Tw}return Tw},RS=(t,{valueAsNumber:s,valueAsDate:r,setValueAs:n})=>Gt(t)?t:s?t===""?NaN:t&&+t:r&&vn(t)?new Date(t):n?n(t):t;const Aw={isValid:!1,value:null};var OS=t=>Array.isArray(t)?t.reduce((s,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:s,Aw):Aw;function Rw(t){const s=t.ref;return gy(s)?s.files:vy(s)?OS(t.refs).value:ES(s)?[...s.selectedOptions].map(({value:r})=>r):tu(s)?AS(t.refs).value:RS(Gt(s.value)?t.ref.value:s.value,t)}var qM=(t,s,r,n)=>{const a={};for(const i of t){const l=he(s,i);l&&ft(a,i,l._f)}return{criteriaMode:r,names:[...t],fields:a,shouldUseNativeValidation:n}},cm=t=>t instanceof RegExp,Uc=t=>Gt(t)?t:cm(t)?t.source:Jt(t)?cm(t.value)?t.value.source:t.value:t,Ow=t=>({isOnSubmit:!t||t===Zr.onSubmit,isOnBlur:t===Zr.onBlur,isOnChange:t===Zr.onChange,isOnAll:t===Zr.all,isOnTouch:t===Zr.onTouched});const Iw="AsyncFunction";var HM=t=>!!t&&!!t.validate&&!!(Yr(t.validate)&&t.validate.constructor.name===Iw||Jt(t.validate)&&Object.values(t.validate).find(s=>s.constructor.name===Iw)),WM=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Dw=(t,s,r)=>!r&&(s.watchAll||s.watch.has(t)||[...s.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const md=(t,s,r,n)=>{for(const a of r||Object.keys(t)){const i=he(t,a);if(i){const{_f:l,...o}=i;if(l){if(l.refs&&l.refs[0]&&s(l.refs[0],a)&&!n)return!0;if(l.ref&&s(l.ref,l.name)&&!n)return!0;if(md(o,s))break}else if(Jt(o)&&md(o,s))break}}};function Mw(t,s,r){const n=he(t,r);if(n||tf(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),l=he(s,i),o=he(t,i);if(l&&!Array.isArray(l)&&r!==i)return{name:r};if(o&&o.type)return{name:i,error:o};if(o&&o.root&&o.root.type)return{name:`${i}.root`,error:o.root};a.pop()}return{name:r}}var KM=(t,s,r,n)=>{r(t);const{name:a,...i}=t;return tr(i)||Object.keys(i).length>=Object.keys(s).length||Object.keys(i).find(l=>s[l]===(!n||Zr.all))},GM=(t,s,r)=>!t||!s||t===s||hd(t).some(n=>n&&(r?n===s:n.startsWith(s)||s.startsWith(n))),QM=(t,s,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(s||t):(r?n.isOnBlur:a.isOnBlur)?!t:(r?n.isOnChange:a.isOnChange)?t:!0,ZM=(t,s)=>!hy(he(t,s)).length&&ts(t,s),YM=(t,s,r)=>{const n=hd(he(t,r));return ft(n,"root",s[r]),ft(t,r,n),t},ph=t=>vn(t);function Lw(t,s,r="validate"){if(ph(t)||Array.isArray(t)&&t.every(ph)||dr(t)&&!t)return{type:r,message:ph(t)?t:"",ref:s}}var kl=t=>Jt(t)&&!cm(t)?t:{value:t,message:""},Fw=async(t,s,r,n,a,i)=>{const{ref:l,refs:o,required:c,maxLength:d,minLength:u,min:m,max:f,pattern:x,validate:g,name:v,valueAsNumber:p,mount:j}=t._f,w=he(r,v);if(!j||s.has(v))return{};const y=o?o[0]:l,_=R=>{a&&y.reportValidity&&(y.setCustomValidity(dr(R)?"":R||""),y.reportValidity())},b={},N=vy(l),T=tu(l),A=N||T,S=(p||gy(l))&&Gt(l.value)&&Gt(w)||lm(l)&&l.value===""||w===""||Array.isArray(w)&&!w.length,P=py.bind(null,v,n,b),C=(R,K,W,D=Ln.maxLength,B=Ln.minLength)=>{const V=R?K:W;b[v]={type:R?D:B,message:V,ref:l,...P(R?D:B,V)}};if(i?!Array.isArray(w)||!w.length:c&&(!A&&(S||Vs(w))||dr(w)&&!w||T&&!AS(o).isValid||N&&!OS(o).isValid)){const{value:R,message:K}=ph(c)?{value:!!c,message:c}:kl(c);if(R&&(b[v]={type:Ln.required,message:K,ref:y,...P(Ln.required,K)},!n))return _(K),b}if(!S&&(!Vs(m)||!Vs(f))){let R,K;const W=kl(f),D=kl(m);if(!Vs(w)&&!isNaN(w)){const B=l.valueAsNumber||w&&+w;Vs(W.value)||(R=B>W.value),Vs(D.value)||(K=B<D.value)}else{const B=l.valueAsDate||new Date(w),V=U=>new Date(new Date().toDateString()+" "+U),O=l.type=="time",z=l.type=="week";vn(W.value)&&w&&(R=O?V(w)>V(W.value):z?w>W.value:B>new Date(W.value)),vn(D.value)&&w&&(K=O?V(w)<V(D.value):z?w<D.value:B<new Date(D.value))}if((R||K)&&(C(!!R,W.message,D.message,Ln.max,Ln.min),!n))return _(b[v].message),b}if((d||u)&&!S&&(vn(w)||i&&Array.isArray(w))){const R=kl(d),K=kl(u),W=!Vs(R.value)&&w.length>+R.value,D=!Vs(K.value)&&w.length<+K.value;if((W||D)&&(C(W,R.message,K.message),!n))return _(b[v].message),b}if(x&&!S&&vn(w)){const{value:R,message:K}=kl(x);if(cm(R)&&!w.match(R)&&(b[v]={type:Ln.pattern,message:K,ref:l,...P(Ln.pattern,K)},!n))return _(K),b}if(g){if(Yr(g)){const R=await g(w,r),K=Lw(R,y);if(K&&(b[v]={...K,...P(Ln.validate,K.message)},!n))return _(K.message),b}else if(Jt(g)){let R={};for(const K in g){if(!tr(R)&&!n)break;const W=Lw(await g[K](w,r),y,K);W&&(R={...W,...P(K,W.message)},_(W.message),n&&(b[v]=R))}if(!tr(R)&&(b[v]={ref:y,...R},!n))return b}}return _(!0),b};const XM={mode:Zr.onSubmit,reValidateMode:Zr.onChange,shouldFocusError:!0};function JM(t={}){let s={...XM,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Yr(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1},n={},a=Jt(s.defaultValues)||Jt(s.values)?ls(s.defaultValues||s.values)||{}:{},i=s.shouldUnregister?{}:ls(a),l={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let m={...u};const f={array:Ew(),state:Ew()},x=s.criteriaMode===Zr.all,g=$=>H=>{clearTimeout(d),d=setTimeout($,H)},v=async $=>{if(!s.disabled&&(u.isValid||m.isValid||$)){const H=s.resolver?tr((await T()).errors):await S(n,!0);H!==r.isValid&&f.state.next({isValid:H})}},p=($,H)=>{!s.disabled&&(u.isValidating||u.validatingFields||m.isValidating||m.validatingFields)&&(($||Array.from(o.mount)).forEach(Y=>{Y&&(H?ft(r.validatingFields,Y,H):ts(r.validatingFields,Y))}),f.state.next({validatingFields:r.validatingFields,isValidating:!tr(r.validatingFields)}))},j=($,H=[],Y,fe,de=!0,ae=!0)=>{if(fe&&Y&&!s.disabled){if(l.action=!0,ae&&Array.isArray(he(n,$))){const Pe=Y(he(n,$),fe.argA,fe.argB);de&&ft(n,$,Pe)}if(ae&&Array.isArray(he(r.errors,$))){const Pe=Y(he(r.errors,$),fe.argA,fe.argB);de&&ft(r.errors,$,Pe),ZM(r.errors,$)}if((u.touchedFields||m.touchedFields)&&ae&&Array.isArray(he(r.touchedFields,$))){const Pe=Y(he(r.touchedFields,$),fe.argA,fe.argB);de&&ft(r.touchedFields,$,Pe)}(u.dirtyFields||m.dirtyFields)&&(r.dirtyFields=$c(a,i)),f.state.next({name:$,isDirty:C($,H),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ft(i,$,H)},w=($,H)=>{ft(r.errors,$,H),f.state.next({errors:r.errors})},y=$=>{r.errors=$,f.state.next({errors:r.errors,isValid:!1})},_=($,H,Y,fe)=>{const de=he(n,$);if(de){const ae=he(i,$,Gt(Y)?he(a,$):Y);Gt(ae)||fe&&fe.defaultChecked||H?ft(i,$,H?ae:Rw(de._f)):W($,ae),l.mount&&v()}},b=($,H,Y,fe,de)=>{let ae=!1,Pe=!1;const it={name:$};if(!s.disabled){if(!Y||fe){(u.isDirty||m.isDirty)&&(Pe=r.isDirty,r.isDirty=it.isDirty=C(),ae=Pe!==it.isDirty);const ht=Pa(he(a,$),H);Pe=!!he(r.dirtyFields,$),ht?ts(r.dirtyFields,$):ft(r.dirtyFields,$,!0),it.dirtyFields=r.dirtyFields,ae=ae||(u.dirtyFields||m.dirtyFields)&&Pe!==!ht}if(Y){const ht=he(r.touchedFields,$);ht||(ft(r.touchedFields,$,Y),it.touchedFields=r.touchedFields,ae=ae||(u.touchedFields||m.touchedFields)&&ht!==Y)}ae&&de&&f.state.next(it)}return ae?it:{}},N=($,H,Y,fe)=>{const de=he(r.errors,$),ae=(u.isValid||m.isValid)&&dr(H)&&r.isValid!==H;if(s.delayError&&Y?(c=g(()=>w($,Y)),c(s.delayError)):(clearTimeout(d),c=null,Y?ft(r.errors,$,Y):ts(r.errors,$)),(Y?!Pa(de,Y):de)||!tr(fe)||ae){const Pe={...fe,...ae&&dr(H)?{isValid:H}:{},errors:r.errors,name:$};r={...r,...Pe},f.state.next(Pe)}},T=async $=>{p($,!0);const H=await s.resolver(i,s.context,qM($||o.mount,n,s.criteriaMode,s.shouldUseNativeValidation));return p($),H},A=async $=>{const{errors:H}=await T($);if($)for(const Y of $){const fe=he(H,Y);fe?ft(r.errors,Y,fe):ts(r.errors,Y)}else r.errors=H;return H},S=async($,H,Y={valid:!0})=>{for(const fe in $){const de=$[fe];if(de){const{_f:ae,...Pe}=de;if(ae){const it=o.array.has(ae.name),ht=de._f&&HM(de._f);ht&&u.validatingFields&&p([fe],!0);const Zs=await Fw(de,o.disabled,i,x,s.shouldUseNativeValidation&&!H,it);if(ht&&u.validatingFields&&p([fe]),Zs[ae.name]&&(Y.valid=!1,H))break;!H&&(he(Zs,ae.name)?it?YM(r.errors,Zs,ae.name):ft(r.errors,ae.name,Zs[ae.name]):ts(r.errors,ae.name))}!tr(Pe)&&await S(Pe,H,Y)}}return Y.valid},P=()=>{for(const $ of o.unMount){const H=he(n,$);H&&(H._f.refs?H._f.refs.every(Y=>!kx(Y)):!kx(H._f.ref))&&ie($)}o.unMount=new Set},C=($,H)=>!s.disabled&&($&&H&&ft(i,$,H),!Pa(U(),a)),R=($,H,Y)=>CS($,o,{...l.mount?i:Gt(H)?a:vn($)?{[$]:H}:H},Y,H),K=$=>hy(he(l.mount?i:a,$,s.shouldUnregister?he(a,$,[]):[])),W=($,H,Y={})=>{const fe=he(n,$);let de=H;if(fe){const ae=fe._f;ae&&(!ae.disabled&&ft(i,$,RS(H,ae)),de=lm(ae.ref)&&Vs(H)?"":H,ES(ae.ref)?[...ae.ref.options].forEach(Pe=>Pe.selected=de.includes(Pe.value)):ae.refs?tu(ae.ref)?ae.refs.forEach(Pe=>{(!Pe.defaultChecked||!Pe.disabled)&&(Array.isArray(de)?Pe.checked=!!de.find(it=>it===Pe.value):Pe.checked=de===Pe.value||!!de)}):ae.refs.forEach(Pe=>Pe.checked=Pe.value===de):gy(ae.ref)?ae.ref.value="":(ae.ref.value=de,ae.ref.type||f.state.next({name:$,values:ls(i)})))}(Y.shouldDirty||Y.shouldTouch)&&b($,de,Y.shouldTouch,Y.shouldDirty,!0),Y.shouldValidate&&z($)},D=($,H,Y)=>{for(const fe in H){if(!H.hasOwnProperty(fe))return;const de=H[fe],ae=$+"."+fe,Pe=he(n,ae);(o.array.has($)||Jt(de)||Pe&&!Pe._f)&&!Ai(de)?D(ae,de,Y):W(ae,de,Y)}},B=($,H,Y={})=>{const fe=he(n,$),de=o.array.has($),ae=ls(H);ft(i,$,ae),de?(f.array.next({name:$,values:ls(i)}),(u.isDirty||u.dirtyFields||m.isDirty||m.dirtyFields)&&Y.shouldDirty&&f.state.next({name:$,dirtyFields:$c(a,i),isDirty:C($,ae)})):fe&&!fe._f&&!Vs(ae)?D($,ae,Y):W($,ae,Y),Dw($,o)&&f.state.next({...r}),f.state.next({name:l.mount?$:void 0,values:ls(i)})},V=async $=>{l.mount=!0;const H=$.target;let Y=H.name,fe=!0;const de=he(n,Y),ae=ht=>{fe=Number.isNaN(ht)||Ai(ht)&&isNaN(ht.getTime())||Pa(ht,he(i,Y,ht))},Pe=Ow(s.mode),it=Ow(s.reValidateMode);if(de){let ht,Zs;const In=H.type?Rw(de._f):_S($),Ur=$.type===im.BLUR||$.type===im.FOCUS_OUT,vu=!WM(de._f)&&!s.resolver&&!he(r.errors,Y)&&!de._f.deps||QM(Ur,he(r.touchedFields,Y),r.isSubmitted,it,Pe),_c=Dw(Y,o,Ur);ft(i,Y,In),Ur?(de._f.onBlur&&de._f.onBlur($),c&&c(0)):de._f.onChange&&de._f.onChange($);const Sc=b(Y,In,Ur),Lf=!tr(Sc)||_c;if(!Ur&&f.state.next({name:Y,type:$.type,values:ls(i)}),vu)return(u.isValid||m.isValid)&&(s.mode==="onBlur"?Ur&&v():Ur||v()),Lf&&f.state.next({name:Y,..._c?{}:Sc});if(!Ur&&_c&&f.state.next({...r}),s.resolver){const{errors:yu}=await T([Y]);if(ae(In),fe){const ju=Mw(r.errors,n,Y),wu=Mw(yu,n,ju.name||Y);ht=wu.error,Y=wu.name,Zs=tr(yu)}}else p([Y],!0),ht=(await Fw(de,o.disabled,i,x,s.shouldUseNativeValidation))[Y],p([Y]),ae(In),fe&&(ht?Zs=!1:(u.isValid||m.isValid)&&(Zs=await S(n,!0)));fe&&(de._f.deps&&z(de._f.deps),N(Y,Zs,ht,Sc))}},O=($,H)=>{if(he(r.errors,H)&&$.focus)return $.focus(),1},z=async($,H={})=>{let Y,fe;const de=hd($);if(s.resolver){const ae=await A(Gt($)?$:de);Y=tr(ae),fe=$?!de.some(Pe=>he(ae,Pe)):Y}else $?(fe=(await Promise.all(de.map(async ae=>{const Pe=he(n,ae);return await S(Pe&&Pe._f?{[ae]:Pe}:Pe)}))).every(Boolean),!(!fe&&!r.isValid)&&v()):fe=Y=await S(n);return f.state.next({...!vn($)||(u.isValid||m.isValid)&&Y!==r.isValid?{}:{name:$},...s.resolver||!$?{isValid:Y}:{},errors:r.errors}),H.shouldFocus&&!fe&&md(n,O,$?de:o.mount),fe},U=$=>{const H={...l.mount?i:a};return Gt($)?H:vn($)?he(H,$):$.map(Y=>he(H,Y))},G=($,H)=>({invalid:!!he((H||r).errors,$),isDirty:!!he((H||r).dirtyFields,$),error:he((H||r).errors,$),isValidating:!!he(r.validatingFields,$),isTouched:!!he((H||r).touchedFields,$)}),q=$=>{$&&hd($).forEach(H=>ts(r.errors,H)),f.state.next({errors:$?r.errors:{}})},ce=($,H,Y)=>{const fe=(he(n,$,{_f:{}})._f||{}).ref,de=he(r.errors,$)||{},{ref:ae,message:Pe,type:it,...ht}=de;ft(r.errors,$,{...ht,...H,ref:fe}),f.state.next({name:$,errors:r.errors,isValid:!1}),Y&&Y.shouldFocus&&fe&&fe.focus&&fe.focus()},ye=($,H)=>Yr($)?f.state.subscribe({next:Y=>$(R(void 0,H),Y)}):R($,H,!0),ue=$=>f.state.subscribe({next:H=>{GM($.name,H.name,$.exact)&&KM(H,$.formState||u,Rn,$.reRenderRoot)&&$.callback({values:{...i},...r,...H})}}).unsubscribe,Se=$=>(l.mount=!0,m={...m,...$.formState},ue({...$,formState:m})),ie=($,H={})=>{for(const Y of $?hd($):o.mount)o.mount.delete(Y),o.array.delete(Y),H.keepValue||(ts(n,Y),ts(i,Y)),!H.keepError&&ts(r.errors,Y),!H.keepDirty&&ts(r.dirtyFields,Y),!H.keepTouched&&ts(r.touchedFields,Y),!H.keepIsValidating&&ts(r.validatingFields,Y),!s.shouldUnregister&&!H.keepDefaultValue&&ts(a,Y);f.state.next({values:ls(i)}),f.state.next({...r,...H.keepDirty?{isDirty:C()}:{}}),!H.keepIsValid&&v()},Re=({disabled:$,name:H})=>{(dr($)&&l.mount||$||o.disabled.has(H))&&($?o.disabled.add(H):o.disabled.delete(H))},Le=($,H={})=>{let Y=he(n,$);const fe=dr(H.disabled)||dr(s.disabled);return ft(n,$,{...Y||{},_f:{...Y&&Y._f?Y._f:{ref:{name:$}},name:$,mount:!0,...H}}),o.mount.add($),Y?Re({disabled:dr(H.disabled)?H.disabled:s.disabled,name:$}):_($,!0,H.value),{...fe?{disabled:H.disabled||s.disabled}:{},...s.progressive?{required:!!H.required,min:Uc(H.min),max:Uc(H.max),minLength:Uc(H.minLength),maxLength:Uc(H.maxLength),pattern:Uc(H.pattern)}:{},name:$,onChange:V,onBlur:V,ref:de=>{if(de){Le($,H),Y=he(n,$);const ae=Gt(de.value)&&de.querySelectorAll&&de.querySelectorAll("input,select,textarea")[0]||de,Pe=zM(ae),it=Y._f.refs||[];if(Pe?it.find(ht=>ht===ae):ae===Y._f.ref)return;ft(n,$,{_f:{...Y._f,...Pe?{refs:[...it.filter(kx),ae,...Array.isArray(he(a,$))?[{}]:[]],ref:{type:ae.type,name:$}}:{ref:ae}}}),_($,!1,void 0,ae)}else Y=he(n,$,{}),Y._f&&(Y._f.mount=!1),(s.shouldUnregister||H.shouldUnregister)&&!(SS(o.array,$)&&l.action)&&o.unMount.add($)}}},Ce=()=>s.shouldFocusError&&md(n,O,o.mount),nt=$=>{dr($)&&(f.state.next({disabled:$}),md(n,(H,Y)=>{const fe=he(n,Y);fe&&(H.disabled=fe._f.disabled||$,Array.isArray(fe._f.refs)&&fe._f.refs.forEach(de=>{de.disabled=fe._f.disabled||$}))},0,!1))},We=($,H)=>async Y=>{let fe;Y&&(Y.preventDefault&&Y.preventDefault(),Y.persist&&Y.persist());let de=ls(i);if(f.state.next({isSubmitting:!0}),s.resolver){const{errors:ae,values:Pe}=await T();r.errors=ae,de=ls(Pe)}else await S(n);if(o.disabled.size)for(const ae of o.disabled)ts(de,ae);if(ts(r.errors,"root"),tr(r.errors)){f.state.next({errors:{}});try{await $(de,Y)}catch(ae){fe=ae}}else H&&await H({...r.errors},Y),Ce(),setTimeout(Ce);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:tr(r.errors)&&!fe,submitCount:r.submitCount+1,errors:r.errors}),fe)throw fe},Rt=($,H={})=>{he(n,$)&&(Gt(H.defaultValue)?B($,ls(he(a,$))):(B($,H.defaultValue),ft(a,$,ls(H.defaultValue))),H.keepTouched||ts(r.touchedFields,$),H.keepDirty||(ts(r.dirtyFields,$),r.isDirty=H.defaultValue?C($,ls(he(a,$))):C()),H.keepError||(ts(r.errors,$),u.isValid&&v()),f.state.next({...r}))},fs=($,H={})=>{const Y=$?ls($):a,fe=ls(Y),de=tr($),ae=de?a:fe;if(H.keepDefaultValues||(a=Y),!H.keepValues){if(H.keepDirtyValues){const Pe=new Set([...o.mount,...Object.keys($c(a,i))]);for(const it of Array.from(Pe))he(r.dirtyFields,it)?ft(ae,it,he(i,it)):B(it,he(ae,it))}else{if(uy&&Gt($))for(const Pe of o.mount){const it=he(n,Pe);if(it&&it._f){const ht=Array.isArray(it._f.refs)?it._f.refs[0]:it._f.ref;if(lm(ht)){const Zs=ht.closest("form");if(Zs){Zs.reset();break}}}}if(H.keepFieldsRef)for(const Pe of o.mount)B(Pe,he(ae,Pe));else n={}}i=s.shouldUnregister?H.keepDefaultValues?ls(a):{}:ls(ae),f.array.next({values:{...ae}}),f.state.next({values:{...ae}})}o={mount:H.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!u.isValid||!!H.keepIsValid||!!H.keepDirtyValues,l.watch=!!s.shouldUnregister,f.state.next({submitCount:H.keepSubmitCount?r.submitCount:0,isDirty:de?!1:H.keepDirty?r.isDirty:!!(H.keepDefaultValues&&!Pa($,a)),isSubmitted:H.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:de?{}:H.keepDirtyValues?H.keepDefaultValues&&i?$c(a,i):r.dirtyFields:H.keepDefaultValues&&$?$c(a,$):H.keepDirty?r.dirtyFields:{},touchedFields:H.keepTouched?r.touchedFields:{},errors:H.keepErrors?r.errors:{},isSubmitSuccessful:H.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},dn=($,H)=>fs(Yr($)?$(i):$,H),_r=($,H={})=>{const Y=he(n,$),fe=Y&&Y._f;if(fe){const de=fe.refs?fe.refs[0]:fe.ref;de.focus&&(de.focus(),H.shouldSelect&&Yr(de.select)&&de.select())}},Rn=$=>{r={...r,...$}},On={control:{register:Le,unregister:ie,getFieldState:G,handleSubmit:We,setError:ce,_subscribe:ue,_runSchema:T,_focusError:Ce,_getWatch:R,_getDirty:C,_setValid:v,_setFieldArray:j,_setDisabledField:Re,_setErrors:y,_getFieldArray:K,_reset:fs,_resetDefaultValues:()=>Yr(s.defaultValues)&&s.defaultValues().then($=>{dn($,s.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:P,_disableForm:nt,_subjects:f,_proxyFormState:u,get _fields(){return n},get _formValues(){return i},get _state(){return l},set _state($){l=$},get _defaultValues(){return a},get _names(){return o},set _names($){o=$},get _formState(){return r},get _options(){return s},set _options($){s={...s,...$}}},subscribe:Se,trigger:z,register:Le,handleSubmit:We,watch:ye,setValue:B,getValues:U,reset:dn,resetField:Rt,clearErrors:q,unregister:ie,setError:ce,setFocus:_r,getFieldState:G};return{...On,formControl:On}}function Yn(t={}){const s=ze.useRef(void 0),r=ze.useRef(void 0),[n,a]=ze.useState({isDirty:!1,isValidating:!1,isLoading:Yr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Yr(t.defaultValues)?void 0:t.defaultValues});if(!s.current)if(t.formControl)s.current={...t.formControl,formState:n},t.defaultValues&&!Yr(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:l,...o}=JM(t);s.current={...o,formState:n}}const i=s.current.control;return i._options=t,xy(()=>{const l=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(o=>({...o,isReady:!0})),i._formState.isReady=!0,l},[i]),ze.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),ze.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),ze.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),ze.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),ze.useEffect(()=>{if(i._proxyFormState.isDirty){const l=i._getDirty();l!==n.isDirty&&i._subjects.state.next({isDirty:l})}},[i,n.isDirty]),ze.useEffect(()=>{t.values&&!Pa(t.values,r.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=t.values,a(l=>({...l}))):i._resetDefaultValues()},[i,t.values]),ze.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),s.current.formState=kS(n,i),s.current}const $w=(t,s,r)=>{if(t&&"reportValidity"in t){const n=he(r,s);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},jg=(t,s)=>{for(const r in s.fields){const n=s.fields[r];n&&n.ref&&"reportValidity"in n.ref?$w(n.ref,r,t):n&&n.refs&&n.refs.forEach(a=>$w(a,r,t))}},Uw=(t,s)=>{s.shouldUseNativeValidation&&jg(t,s);const r={};for(const n in t){const a=he(s.fields,n),i=Object.assign(t[n]||{},{ref:a&&a.ref});if(eL(s.names||Object.keys(t),n)){const l=Object.assign({},he(r,n));ft(l,"root",i),ft(r,n,l)}else ft(r,n,i)}return r},eL=(t,s)=>{const r=zw(s);return t.some(n=>zw(n).match(`^${r}\\.\\d+`))};function zw(t){return t.replace(/\]|\[/g,"")}function IS(t,s,r){function n(o,c){var d;Object.defineProperty(o,"_zod",{value:o._zod??{},enumerable:!1}),(d=o._zod).traits??(d.traits=new Set),o._zod.traits.add(t),s(o,c);for(const u in l.prototype)u in o||Object.defineProperty(o,u,{value:l.prototype[u].bind(o)});o._zod.constr=l,o._zod.def=c}const a=(r==null?void 0:r.Parent)??Object;class i extends a{}Object.defineProperty(i,"name",{value:t});function l(o){var c;const d=r!=null&&r.Parent?new i:this;n(d,o),(c=d._zod).deferred??(c.deferred=[]);for(const u of d._zod.deferred)u();return d}return Object.defineProperty(l,"init",{value:n}),Object.defineProperty(l,Symbol.hasInstance,{value:o=>{var c,d;return r!=null&&r.Parent&&o instanceof r.Parent?!0:(d=(c=o==null?void 0:o._zod)==null?void 0:c.traits)==null?void 0:d.has(t)}}),Object.defineProperty(l,"name",{value:t}),l}class tL extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const sL={};function DS(t){return sL}function rL(t,s){return typeof s=="bigint"?s.toString():s}const MS=Error.captureStackTrace?Error.captureStackTrace:(...t)=>{};function Gu(t){return typeof t=="string"?t:t==null?void 0:t.message}function LS(t,s,r){var a,i,l,o,c,d;const n={...t,path:t.path??[]};if(!t.message){const u=Gu((l=(i=(a=t.inst)==null?void 0:a._zod.def)==null?void 0:i.error)==null?void 0:l.call(i,t))??Gu((o=s==null?void 0:s.error)==null?void 0:o.call(s,t))??Gu((c=r.customError)==null?void 0:c.call(r,t))??Gu((d=r.localeError)==null?void 0:d.call(r,t))??"Invalid input";n.message=u}return delete n.inst,delete n.continue,s!=null&&s.reportInput||delete n.input,n}const FS=(t,s)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:s,enumerable:!1}),Object.defineProperty(t,"message",{get(){return JSON.stringify(s,rL,2)},enumerable:!0}),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},nL=IS("$ZodError",FS),$S=IS("$ZodError",FS,{Parent:Error}),aL=t=>(s,r,n,a)=>{const i=n?Object.assign(n,{async:!1}):{async:!1},l=s._zod.run({value:r,issues:[]},i);if(l instanceof Promise)throw new tL;if(l.issues.length){const o=new((a==null?void 0:a.Err)??t)(l.issues.map(c=>LS(c,i,DS())));throw MS(o,a==null?void 0:a.callee),o}return l.value},iL=aL($S),lL=t=>async(s,r,n,a)=>{const i=n?Object.assign(n,{async:!0}):{async:!0};let l=s._zod.run({value:r,issues:[]},i);if(l instanceof Promise&&(l=await l),l.issues.length){const o=new((a==null?void 0:a.Err)??t)(l.issues.map(c=>LS(c,i,DS())));throw MS(o,a==null?void 0:a.callee),o}return l.value},oL=lL($S);function Vw(t,s){try{var r=t()}catch(n){return s(n)}return r&&r.then?r.then(void 0,s):r}function cL(t,s){for(var r={};t.length;){var n=t[0],a=n.code,i=n.message,l=n.path.join(".");if(!r[l])if("unionErrors"in n){var o=n.unionErrors[0].errors[0];r[l]={message:o.message,type:o.code}}else r[l]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(u){return u.errors.forEach(function(m){return t.push(m)})}),s){var c=r[l].types,d=c&&c[n.code];r[l]=py(l,s,r,a,d?[].concat(d,n.message):n.message)}t.shift()}return r}function dL(t,s){for(var r={};t.length;){var n=t[0],a=n.code,i=n.message,l=n.path.join(".");if(!r[l])if(n.code==="invalid_union"){var o=n.errors[0][0];r[l]={message:o.message,type:o.code}}else r[l]={message:i,type:a};if(n.code==="invalid_union"&&n.errors.forEach(function(u){return u.forEach(function(m){return t.push(m)})}),s){var c=r[l].types,d=c&&c[n.code];r[l]=py(l,s,r,a,d?[].concat(d,n.message):n.message)}t.shift()}return r}function Xn(t,s,r){if(r===void 0&&(r={}),function(n){return"_def"in n&&typeof n._def=="object"&&"typeName"in n._def}(t))return function(n,a,i){try{return Promise.resolve(Vw(function(){return Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,s)).then(function(l){return i.shouldUseNativeValidation&&jg({},i),{errors:{},values:r.raw?Object.assign({},n):l}})},function(l){if(function(o){return Array.isArray(o==null?void 0:o.issues)}(l))return{values:{},errors:Uw(cL(l.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw l}))}catch(l){return Promise.reject(l)}};if(function(n){return"_zod"in n&&typeof n._zod=="object"}(t))return function(n,a,i){try{return Promise.resolve(Vw(function(){return Promise.resolve((r.mode==="sync"?iL:oL)(t,n,s)).then(function(l){return i.shouldUseNativeValidation&&jg({},i),{errors:{},values:r.raw?Object.assign({},n):l}})},function(l){if(function(o){return o instanceof nL}(l))return{values:{},errors:Uw(dL(l.issues,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw l}))}catch(l){return Promise.reject(l)}};throw new Error("Invalid input: not a Zod schema")}const Jn=MM,US=h.createContext({}),Et=({...t})=>e.jsx(US.Provider,{value:{name:t.name},children:e.jsx(UM,{...t})}),rf=()=>{const t=h.useContext(US),s=h.useContext(zS),{getFieldState:r,formState:n}=sf(),a=r(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=s;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},zS=h.createContext({}),wt=h.forwardRef(({className:t,...s},r)=>{const n=h.useId();return e.jsx(zS.Provider,{value:{id:n},children:e.jsx("div",{ref:r,className:re("space-y-2",t),...s})})});wt.displayName="FormItem";const bt=h.forwardRef(({className:t,...s},r)=>{const{error:n,formItemId:a}=rf();return e.jsx(Q,{ref:r,className:re(n&&"text-destructive",t),htmlFor:a,...s})});bt.displayName="FormLabel";const Nt=h.forwardRef(({...t},s)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:i}=rf();return e.jsx(r2,{ref:s,id:n,"aria-describedby":r?`${a} ${i}`:`${a}`,"aria-invalid":!!r,...t})});Nt.displayName="FormControl";const VS=h.forwardRef(({className:t,...s},r)=>{const{formDescriptionId:n}=rf();return e.jsx("p",{ref:r,id:n,className:re("text-sm text-muted-foreground",t),...s})});VS.displayName="FormDescription";const zt=h.forwardRef(({className:t,children:s,...r},n)=>{const{error:a,formMessageId:i}=rf(),l=a?String(a==null?void 0:a.message):s;return l?e.jsx("p",{ref:n,id:i,className:re("text-sm font-medium text-destructive",t),...r,children:l}):null});zt.displayName="FormMessage";const uL=ma({email:Zt().email("   "),password:Zt().min(6,"     ")}),hL=()=>{const{isAdmin:t,loading:s,loginAsAdmin:r,logout:n}=oS(),[,a]=St(),[i,l]=h.useState(null),[o,c]=h.useState(!1);h.useEffect(()=>{!s&&t&&a("/admin-dashboard")},[s,t,a]);const d=Yn({resolver:Xn(uL),defaultValues:{email:"",password:""}}),u=async f=>{try{c(!0),l(null),await r(f.email,f.password),setTimeout(()=>{t?a("/admin-dashboard"):l("          ")},1e3)}catch(x){console.error("Admin login error:",x),l(x.message||"       ")}finally{c(!1)}},m=async()=>{try{await n(),a("/")}catch(f){console.error("Logout error:",f)}};return s?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(oe,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{children:" ..."})]})}):t?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs(k,{className:"w-full max-w-md",children:[e.jsxs(I,{className:"text-center",children:[e.jsx("div",{className:"mx-auto bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mb-4",children:e.jsx(vs,{className:"h-8 w-8 text-green-600"})}),e.jsx(L,{className:"text-2xl",children:" "}),e.jsx(_e,{children:"     "})]}),e.jsxs(E,{className:"space-y-4",children:[e.jsx(M,{onClick:()=>a("/admin-dashboard"),className:"w-full",size:"lg",children:" "}),e.jsxs(M,{onClick:m,variant:"outline",className:"w-full",size:"lg",children:[e.jsx(ry,{className:"w-4 h-4 mr-2"}),""]})]})]})}):e.jsxs(e.Fragment,{children:[e.jsxs(Ws,{children:[e.jsx("title",{children:"  | "}),e.jsx("meta",{name:"description",content:"   "})]}),e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs(k,{className:"w-full max-w-md",children:[e.jsxs(I,{className:"text-center",children:[e.jsx("div",{className:"mx-auto bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mb-4",children:e.jsx(vs,{className:"h-8 w-8 text-blue-600"})}),e.jsx(L,{className:"text-2xl",children:" "}),e.jsx(_e,{children:"      "})]}),e.jsxs(E,{children:[i&&e.jsx(Ms,{variant:"destructive",className:"mb-4",children:e.jsx(Ls,{children:i})}),e.jsx(Jn,{...d,children:e.jsxs("form",{onSubmit:d.handleSubmit(u),className:"space-y-4",children:[e.jsx(Et,{control:d.control,name:"email",render:({field:f})=>e.jsxs(wt,{children:[e.jsx(bt,{children:""}),e.jsx(Nt,{children:e.jsx(J,{...f,type:"email",placeholder:"your@email.com",disabled:o})}),e.jsx(zt,{})]})}),e.jsx(Et,{control:d.control,name:"password",render:({field:f})=>e.jsxs(wt,{children:[e.jsx(bt,{children:""}),e.jsx(Nt,{children:e.jsx(J,{...f,type:"password",placeholder:"",disabled:o})}),e.jsx(zt,{})]})}),e.jsx(M,{type:"submit",className:"w-full",size:"lg",disabled:o,children:o?e.jsxs(e.Fragment,{children:[e.jsx(oe,{className:"w-4 h-4 mr-2 animate-spin"})," ..."]}):" "})]})}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["    "," ",e.jsx("button",{onClick:()=>a("/auth?tab=login"),className:"text-blue-600 hover:underline",children:"  "})]})})]})]})})]})},mL=tc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ee({className:t,variant:s,...r}){return e.jsx("div",{className:re(mL({variant:s}),t),...r})}var yy="Progress",jy=100,[fL,wB]=Ns(yy),[xL,pL]=fL(yy),BS=h.forwardRef((t,s)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:i=gL,...l}=t;(a||a===0)&&!Bw(a)&&console.error(vL(`${a}`,"Progress"));const o=Bw(a)?a:jy;n!==null&&!qw(n,o)&&console.error(yL(`${n}`,"Progress"));const c=qw(n,o)?n:null,d=dm(c)?i(c,o):void 0;return e.jsx(xL,{scope:r,value:c,max:o,children:e.jsx(me.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":dm(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":WS(c,o),"data-value":c??void 0,"data-max":o,...l,ref:s})})});BS.displayName=yy;var qS="ProgressIndicator",HS=h.forwardRef((t,s)=>{const{__scopeProgress:r,...n}=t,a=pL(qS,r);return e.jsx(me.div,{"data-state":WS(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:s})});HS.displayName=qS;function gL(t,s){return`${Math.round(t/s*100)}%`}function WS(t,s){return t==null?"indeterminate":t===s?"complete":"loading"}function dm(t){return typeof t=="number"}function Bw(t){return dm(t)&&!isNaN(t)&&t>0}function qw(t,s){return dm(t)&&!isNaN(t)&&t<=s&&t>=0}function vL(t,s){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${s}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${jy}\`.`}function yL(t,s){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${s}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${jy} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var KS=BS,jL=HS;const Os=h.forwardRef(({className:t,value:s,...r},n)=>e.jsx(KS,{ref:n,className:re("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:e.jsx(jL,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})}));Os.displayName=KS.displayName;var wL=Vg[" useId ".trim().toString()]||(()=>{}),bL=0;function ws(t){const[s,r]=h.useState(wL());return es(()=>{r(n=>n??String(bL++))},[t]),s?`radix-${s}`:""}var NL=h.createContext(void 0);function ic(t){const s=h.useContext(NL);return t||s||"ltr"}var Cx="rovingFocusGroup.onEntryFocus",_L={bubbles:!1,cancelable:!0},su="RovingFocusGroup",[wg,GS,SL]=Xd(su),[kL,nf]=Ns(su,[SL]),[CL,EL]=kL(su),QS=h.forwardRef((t,s)=>e.jsx(wg.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(wg.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(TL,{...t,ref:s})})}));QS.displayName=su;var TL=h.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:l,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...m}=t,f=h.useRef(null),x=Me(s,f),g=ic(i),[v,p]=nn({prop:l,defaultProp:o??null,onChange:c,caller:su}),[j,w]=h.useState(!1),y=Wt(d),_=GS(r),b=h.useRef(!1),[N,T]=h.useState(0);return h.useEffect(()=>{const A=f.current;if(A)return A.addEventListener(Cx,y),()=>A.removeEventListener(Cx,y)},[y]),e.jsx(CL,{scope:r,orientation:n,dir:g,loop:a,currentTabStopId:v,onItemFocus:h.useCallback(A=>p(A),[p]),onItemShiftTab:h.useCallback(()=>w(!0),[]),onFocusableItemAdd:h.useCallback(()=>T(A=>A+1),[]),onFocusableItemRemove:h.useCallback(()=>T(A=>A-1),[]),children:e.jsx(me.div,{tabIndex:j||N===0?-1:0,"data-orientation":n,...m,ref:x,style:{outline:"none",...t.style},onMouseDown:se(t.onMouseDown,()=>{b.current=!0}),onFocus:se(t.onFocus,A=>{const S=!b.current;if(A.target===A.currentTarget&&S&&!j){const P=new CustomEvent(Cx,_L);if(A.currentTarget.dispatchEvent(P),!P.defaultPrevented){const C=_().filter(B=>B.focusable),R=C.find(B=>B.active),K=C.find(B=>B.id===v),D=[R,K,...C].filter(Boolean).map(B=>B.ref.current);XS(D,u)}}b.current=!1}),onBlur:se(t.onBlur,()=>w(!1))})})}),ZS="RovingFocusGroupItem",YS=h.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:l,...o}=t,c=ws(),d=i||c,u=EL(ZS,r),m=u.currentTabStopId===d,f=GS(r),{onFocusableItemAdd:x,onFocusableItemRemove:g,currentTabStopId:v}=u;return h.useEffect(()=>{if(n)return x(),()=>g()},[n,x,g]),e.jsx(wg.ItemSlot,{scope:r,id:d,focusable:n,active:a,children:e.jsx(me.span,{tabIndex:m?0:-1,"data-orientation":u.orientation,...o,ref:s,onMouseDown:se(t.onMouseDown,p=>{n?u.onItemFocus(d):p.preventDefault()}),onFocus:se(t.onFocus,()=>u.onItemFocus(d)),onKeyDown:se(t.onKeyDown,p=>{if(p.key==="Tab"&&p.shiftKey){u.onItemShiftTab();return}if(p.target!==p.currentTarget)return;const j=RL(p,u.orientation,u.dir);if(j!==void 0){if(p.metaKey||p.ctrlKey||p.altKey||p.shiftKey)return;p.preventDefault();let y=f().filter(_=>_.focusable).map(_=>_.ref.current);if(j==="last")y.reverse();else if(j==="prev"||j==="next"){j==="prev"&&y.reverse();const _=y.indexOf(p.currentTarget);y=u.loop?OL(y,_+1):y.slice(_+1)}setTimeout(()=>XS(y))}}),children:typeof l=="function"?l({isCurrentTabStop:m,hasTabStop:v!=null}):l})})});YS.displayName=ZS;var PL={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function AL(t,s){return s!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function RL(t,s,r){const n=AL(t.key,r);if(!(s==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(s==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return PL[n]}function XS(t,s=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:s}),document.activeElement!==r))return}function OL(t,s){return t.map((r,n)=>t[(s+n)%t.length])}var JS=QS,ek=YS,af="Tabs",[IL,bB]=Ns(af,[nf]),tk=nf(),[DL,wy]=IL(af),sk=h.forwardRef((t,s)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:l="horizontal",dir:o,activationMode:c="automatic",...d}=t,u=ic(o),[m,f]=nn({prop:n,onChange:a,defaultProp:i??"",caller:af});return e.jsx(DL,{scope:r,baseId:ws(),value:m,onValueChange:f,orientation:l,dir:u,activationMode:c,children:e.jsx(me.div,{dir:u,"data-orientation":l,...d,ref:s})})});sk.displayName=af;var rk="TabsList",nk=h.forwardRef((t,s)=>{const{__scopeTabs:r,loop:n=!0,...a}=t,i=wy(rk,r),l=tk(r);return e.jsx(JS,{asChild:!0,...l,orientation:i.orientation,dir:i.dir,loop:n,children:e.jsx(me.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:s})})});nk.displayName=rk;var ak="TabsTrigger",ik=h.forwardRef((t,s)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=t,l=wy(ak,r),o=tk(r),c=ck(l.baseId,n),d=dk(l.baseId,n),u=n===l.value;return e.jsx(ek,{asChild:!0,...o,focusable:!a,active:u,children:e.jsx(me.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:s,onMouseDown:se(t.onMouseDown,m=>{!a&&m.button===0&&m.ctrlKey===!1?l.onValueChange(n):m.preventDefault()}),onKeyDown:se(t.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&l.onValueChange(n)}),onFocus:se(t.onFocus,()=>{const m=l.activationMode!=="manual";!u&&!a&&m&&l.onValueChange(n)})})})});ik.displayName=ak;var lk="TabsContent",ok=h.forwardRef((t,s)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...l}=t,o=wy(lk,r),c=ck(o.baseId,n),d=dk(o.baseId,n),u=n===o.value,m=h.useRef(u);return h.useEffect(()=>{const f=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(f)},[]),e.jsx(_s,{present:a||u,children:({present:f})=>e.jsx(me.div,{"data-state":u?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:d,tabIndex:0,...l,ref:s,style:{...t.style,animationDuration:m.current?"0s":void 0},children:f&&i})})});ok.displayName=lk;function ck(t,s){return`${t}-trigger-${s}`}function dk(t,s){return`${t}-content-${s}`}var ML=sk,uk=nk,hk=ik,mk=ok;const ms=ML,is=h.forwardRef(({className:t,...s},r)=>e.jsx(uk,{ref:r,className:re("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...s}));is.displayName=uk.displayName;const we=h.forwardRef(({className:t,...s},r)=>e.jsx(hk,{ref:r,className:re("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...s}));we.displayName=hk.displayName;const je=h.forwardRef(({className:t,...s},r)=>e.jsx(mk,{ref:r,className:re("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...s}));je.displayName=mk.displayName;function Qe({className:t,...s}){return e.jsx("div",{className:re("animate-pulse rounded-md bg-primary/10 dark:bg-primary/5 skeleton-loading",t),...s})}var Ex="focusScope.autoFocusOnMount",Tx="focusScope.autoFocusOnUnmount",Hw={bubbles:!1,cancelable:!0},LL="FocusScope",ru=h.forwardRef((t,s)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...l}=t,[o,c]=h.useState(null),d=Wt(a),u=Wt(i),m=h.useRef(null),f=Me(s,v=>c(v)),x=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(n){let v=function(y){if(x.paused||!o)return;const _=y.target;o.contains(_)?m.current=_:ba(m.current,{select:!0})},p=function(y){if(x.paused||!o)return;const _=y.relatedTarget;_!==null&&(o.contains(_)||ba(m.current,{select:!0}))},j=function(y){if(document.activeElement===document.body)for(const b of y)b.removedNodes.length>0&&ba(o)};document.addEventListener("focusin",v),document.addEventListener("focusout",p);const w=new MutationObserver(j);return o&&w.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",p),w.disconnect()}}},[n,o,x.paused]),h.useEffect(()=>{if(o){Kw.add(x);const v=document.activeElement;if(!o.contains(v)){const j=new CustomEvent(Ex,Hw);o.addEventListener(Ex,d),o.dispatchEvent(j),j.defaultPrevented||(FL(BL(fk(o)),{select:!0}),document.activeElement===v&&ba(o))}return()=>{o.removeEventListener(Ex,d),setTimeout(()=>{const j=new CustomEvent(Tx,Hw);o.addEventListener(Tx,u),o.dispatchEvent(j),j.defaultPrevented||ba(v??document.body,{select:!0}),o.removeEventListener(Tx,u),Kw.remove(x)},0)}}},[o,d,u,x]);const g=h.useCallback(v=>{if(!r&&!n||x.paused)return;const p=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,j=document.activeElement;if(p&&j){const w=v.currentTarget,[y,_]=$L(w);y&&_?!v.shiftKey&&j===_?(v.preventDefault(),r&&ba(y,{select:!0})):v.shiftKey&&j===y&&(v.preventDefault(),r&&ba(_,{select:!0})):j===w&&v.preventDefault()}},[r,n,x.paused]);return e.jsx(me.div,{tabIndex:-1,...l,ref:f,onKeyDown:g})});ru.displayName=LL;function FL(t,{select:s=!1}={}){const r=document.activeElement;for(const n of t)if(ba(n,{select:s}),document.activeElement!==r)return}function $L(t){const s=fk(t),r=Ww(s,t),n=Ww(s.reverse(),t);return[r,n]}function fk(t){const s=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)s.push(r.currentNode);return s}function Ww(t,s){for(const r of t)if(!UL(r,{upTo:s}))return r}function UL(t,{upTo:s}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(s!==void 0&&t===s)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function zL(t){return t instanceof HTMLInputElement&&"select"in t}function ba(t,{select:s=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&zL(t)&&s&&t.select()}}var Kw=VL();function VL(){let t=[];return{add(s){const r=t[0];s!==r&&(r==null||r.pause()),t=Gw(t,s),t.unshift(s)},remove(s){var r;t=Gw(t,s),(r=t[0])==null||r.resume()}}}function Gw(t,s){const r=[...t],n=r.indexOf(s);return n!==-1&&r.splice(n,1),r}function BL(t){return t.filter(s=>s.tagName!=="A")}var Px=0;function lf(){h.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Qw()),document.body.insertAdjacentElement("beforeend",t[1]??Qw()),Px++,()=>{Px===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),Px--}},[])}function Qw(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var gn=function(){return gn=Object.assign||function(s){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(s[i]=r[i])}return s},gn.apply(this,arguments)};function xk(t,s){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&s.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)s.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function qL(t,s,r){if(r||arguments.length===2)for(var n=0,a=s.length,i;n<a;n++)(i||!(n in s))&&(i||(i=Array.prototype.slice.call(s,0,n)),i[n]=s[n]);return t.concat(i||Array.prototype.slice.call(s))}var gh="right-scroll-bar-position",vh="width-before-scroll-bar",HL="with-scroll-bars-hidden",WL="--removed-body-scroll-bar-size";function Ax(t,s){return typeof t=="function"?t(s):t&&(t.current=s),t}function KL(t,s){var r=h.useState(function(){return{value:t,callback:s,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=s,r.facade}var GL=typeof window<"u"?h.useLayoutEffect:h.useEffect,Zw=new WeakMap;function QL(t,s){var r=KL(null,function(n){return t.forEach(function(a){return Ax(a,n)})});return GL(function(){var n=Zw.get(r);if(n){var a=new Set(n),i=new Set(t),l=r.current;a.forEach(function(o){i.has(o)||Ax(o,null)}),i.forEach(function(o){a.has(o)||Ax(o,l)})}Zw.set(r,t)},[t]),r}function ZL(t){return t}function YL(t,s){s===void 0&&(s=ZL);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(i){var l=s(i,n);return r.push(l),function(){r=r.filter(function(o){return o!==l})}},assignSyncMedium:function(i){for(n=!0;r.length;){var l=r;r=[],l.forEach(i)}r={push:function(o){return i(o)},filter:function(){return r}}},assignMedium:function(i){n=!0;var l=[];if(r.length){var o=r;r=[],o.forEach(i),l=r}var c=function(){var u=l;l=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(u){l.push(u),d()},filter:function(u){return l=l.filter(u),r}}}};return a}function XL(t){t===void 0&&(t={});var s=YL(null);return s.options=gn({async:!0,ssr:!1},t),s}var pk=function(t){var s=t.sideCar,r=xk(t,["sideCar"]);if(!s)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=s.read();if(!n)throw new Error("Sidecar medium not found");return h.createElement(n,gn({},r))};pk.isSideCarExport=!0;function JL(t,s){return t.useMedium(s),pk}var gk=XL(),Rx=function(){},of=h.forwardRef(function(t,s){var r=h.useRef(null),n=h.useState({onScrollCapture:Rx,onWheelCapture:Rx,onTouchMoveCapture:Rx}),a=n[0],i=n[1],l=t.forwardProps,o=t.children,c=t.className,d=t.removeScrollBar,u=t.enabled,m=t.shards,f=t.sideCar,x=t.noIsolation,g=t.inert,v=t.allowPinchZoom,p=t.as,j=p===void 0?"div":p,w=t.gapMode,y=xk(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=f,b=QL([r,s]),N=gn(gn({},y),a);return h.createElement(h.Fragment,null,u&&h.createElement(_,{sideCar:gk,removeScrollBar:d,shards:m,noIsolation:x,inert:g,setCallbacks:i,allowPinchZoom:!!v,lockRef:r,gapMode:w}),l?h.cloneElement(h.Children.only(o),gn(gn({},N),{ref:b})):h.createElement(j,gn({},N,{className:c,ref:b}),o))});of.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};of.classNames={fullWidth:vh,zeroRight:gh};var eF=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function tF(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var s=eF();return s&&t.setAttribute("nonce",s),t}function sF(t,s){t.styleSheet?t.styleSheet.cssText=s:t.appendChild(document.createTextNode(s))}function rF(t){var s=document.head||document.getElementsByTagName("head")[0];s.appendChild(t)}var nF=function(){var t=0,s=null;return{add:function(r){t==0&&(s=tF())&&(sF(s,r),rF(s)),t++},remove:function(){t--,!t&&s&&(s.parentNode&&s.parentNode.removeChild(s),s=null)}}},aF=function(){var t=nF();return function(s,r){h.useEffect(function(){return t.add(s),function(){t.remove()}},[s&&r])}},vk=function(){var t=aF(),s=function(r){var n=r.styles,a=r.dynamic;return t(n,a),null};return s},iF={left:0,top:0,right:0,gap:0},Ox=function(t){return parseInt(t||"",10)||0},lF=function(t){var s=window.getComputedStyle(document.body),r=s[t==="padding"?"paddingLeft":"marginLeft"],n=s[t==="padding"?"paddingTop":"marginTop"],a=s[t==="padding"?"paddingRight":"marginRight"];return[Ox(r),Ox(n),Ox(a)]},oF=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return iF;var s=lF(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:s[0],top:s[1],right:s[2],gap:Math.max(0,n-r+s[2]-s[0])}},cF=vk(),no="data-scroll-locked",dF=function(t,s,r,n){var a=t.left,i=t.top,l=t.right,o=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(HL,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(o,"px ").concat(n,`;
  }
  body[`).concat(no,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([s&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(o,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(gh,` {
    right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(vh,` {
    margin-right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(gh," .").concat(gh,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(vh," .").concat(vh,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(no,`] {
    `).concat(WL,": ").concat(o,`px;
  }
`)},Yw=function(){var t=parseInt(document.body.getAttribute(no)||"0",10);return isFinite(t)?t:0},uF=function(){h.useEffect(function(){return document.body.setAttribute(no,(Yw()+1).toString()),function(){var t=Yw()-1;t<=0?document.body.removeAttribute(no):document.body.setAttribute(no,t.toString())}},[])},hF=function(t){var s=t.noRelative,r=t.noImportant,n=t.gapMode,a=n===void 0?"margin":n;uF();var i=h.useMemo(function(){return oF(a)},[a]);return h.createElement(cF,{styles:dF(i,!s,a,r?"":"!important")})},bg=!1;if(typeof window<"u")try{var Qu=Object.defineProperty({},"passive",{get:function(){return bg=!0,!0}});window.addEventListener("test",Qu,Qu),window.removeEventListener("test",Qu,Qu)}catch{bg=!1}var Cl=bg?{passive:!1}:!1,mF=function(t){return t.tagName==="TEXTAREA"},yk=function(t,s){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[s]!=="hidden"&&!(r.overflowY===r.overflowX&&!mF(t)&&r[s]==="visible")},fF=function(t){return yk(t,"overflowY")},xF=function(t){return yk(t,"overflowX")},Xw=function(t,s){var r=s.ownerDocument,n=s;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=jk(t,n);if(a){var i=wk(t,n),l=i[1],o=i[2];if(l>o)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},pF=function(t){var s=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[s,r,n]},gF=function(t){var s=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[s,r,n]},jk=function(t,s){return t==="v"?fF(s):xF(s)},wk=function(t,s){return t==="v"?pF(s):gF(s)},vF=function(t,s){return t==="h"&&s==="rtl"?-1:1},yF=function(t,s,r,n,a){var i=vF(t,window.getComputedStyle(s).direction),l=i*n,o=r.target,c=s.contains(o),d=!1,u=l>0,m=0,f=0;do{var x=wk(t,o),g=x[0],v=x[1],p=x[2],j=v-p-i*g;(g||j)&&jk(t,o)&&(m+=j,f+=g),o instanceof ShadowRoot?o=o.host:o=o.parentNode}while(!c&&o!==document.body||c&&(s.contains(o)||s===o));return(u&&Math.abs(m)<1||!u&&Math.abs(f)<1)&&(d=!0),d},Zu=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Jw=function(t){return[t.deltaX,t.deltaY]},eb=function(t){return t&&"current"in t?t.current:t},jF=function(t,s){return t[0]===s[0]&&t[1]===s[1]},wF=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},bF=0,El=[];function NF(t){var s=h.useRef([]),r=h.useRef([0,0]),n=h.useRef(),a=h.useState(bF++)[0],i=h.useState(vk)[0],l=h.useRef(t);h.useEffect(function(){l.current=t},[t]),h.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var v=qL([t.lockRef.current],(t.shards||[]).map(eb),!0).filter(Boolean);return v.forEach(function(p){return p.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),v.forEach(function(p){return p.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var o=h.useCallback(function(v,p){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!l.current.allowPinchZoom;var j=Zu(v),w=r.current,y="deltaX"in v?v.deltaX:w[0]-j[0],_="deltaY"in v?v.deltaY:w[1]-j[1],b,N=v.target,T=Math.abs(y)>Math.abs(_)?"h":"v";if("touches"in v&&T==="h"&&N.type==="range")return!1;var A=Xw(T,N);if(!A)return!0;if(A?b=T:(b=T==="v"?"h":"v",A=Xw(T,N)),!A)return!1;if(!n.current&&"changedTouches"in v&&(y||_)&&(n.current=b),!b)return!0;var S=n.current||b;return yF(S,p,v,S==="h"?y:_)},[]),c=h.useCallback(function(v){var p=v;if(!(!El.length||El[El.length-1]!==i)){var j="deltaY"in p?Jw(p):Zu(p),w=s.current.filter(function(b){return b.name===p.type&&(b.target===p.target||p.target===b.shadowParent)&&jF(b.delta,j)})[0];if(w&&w.should){p.cancelable&&p.preventDefault();return}if(!w){var y=(l.current.shards||[]).map(eb).filter(Boolean).filter(function(b){return b.contains(p.target)}),_=y.length>0?o(p,y[0]):!l.current.noIsolation;_&&p.cancelable&&p.preventDefault()}}},[]),d=h.useCallback(function(v,p,j,w){var y={name:v,delta:p,target:j,should:w,shadowParent:_F(j)};s.current.push(y),setTimeout(function(){s.current=s.current.filter(function(_){return _!==y})},1)},[]),u=h.useCallback(function(v){r.current=Zu(v),n.current=void 0},[]),m=h.useCallback(function(v){d(v.type,Jw(v),v.target,o(v,t.lockRef.current))},[]),f=h.useCallback(function(v){d(v.type,Zu(v),v.target,o(v,t.lockRef.current))},[]);h.useEffect(function(){return El.push(i),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Cl),document.addEventListener("touchmove",c,Cl),document.addEventListener("touchstart",u,Cl),function(){El=El.filter(function(v){return v!==i}),document.removeEventListener("wheel",c,Cl),document.removeEventListener("touchmove",c,Cl),document.removeEventListener("touchstart",u,Cl)}},[]);var x=t.removeScrollBar,g=t.inert;return h.createElement(h.Fragment,null,g?h.createElement(i,{styles:wF(a)}):null,x?h.createElement(hF,{gapMode:t.gapMode}):null)}function _F(t){for(var s=null;t!==null;)t instanceof ShadowRoot&&(s=t.host,t=t.host),t=t.parentNode;return s}const SF=JL(gk,NF);var nu=h.forwardRef(function(t,s){return h.createElement(of,gn({},t,{ref:s,sideCar:SF}))});nu.classNames=of.classNames;var kF=function(t){if(typeof document>"u")return null;var s=Array.isArray(t)?t[0]:t;return s.ownerDocument.body},Tl=new WeakMap,Yu=new WeakMap,Xu={},Ix=0,bk=function(t){return t&&(t.host||bk(t.parentNode))},CF=function(t,s){return s.map(function(r){if(t.contains(r))return r;var n=bk(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},EF=function(t,s,r,n){var a=CF(s,Array.isArray(t)?t:[t]);Xu[r]||(Xu[r]=new WeakMap);var i=Xu[r],l=[],o=new Set,c=new Set(a),d=function(m){!m||o.has(m)||(o.add(m),d(m.parentNode))};a.forEach(d);var u=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(f){if(o.has(f))u(f);else try{var x=f.getAttribute(n),g=x!==null&&x!=="false",v=(Tl.get(f)||0)+1,p=(i.get(f)||0)+1;Tl.set(f,v),i.set(f,p),l.push(f),v===1&&g&&Yu.set(f,!0),p===1&&f.setAttribute(r,"true"),g||f.setAttribute(n,"true")}catch(j){console.error("aria-hidden: cannot operate on ",f,j)}})};return u(s),o.clear(),Ix++,function(){l.forEach(function(m){var f=Tl.get(m)-1,x=i.get(m)-1;Tl.set(m,f),i.set(m,x),f||(Yu.has(m)||m.removeAttribute(n),Yu.delete(m)),x||m.removeAttribute(r)}),Ix--,Ix||(Tl=new WeakMap,Tl=new WeakMap,Yu=new WeakMap,Xu={})}},cf=function(t,s,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),a=kF(t);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),EF(n,a,r,"aria-hidden")):function(){return null}},df="Dialog",[Nk,_k]=Ns(df),[TF,cn]=Nk(df),Sk=t=>{const{__scopeDialog:s,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:l=!0}=t,o=h.useRef(null),c=h.useRef(null),[d,u]=nn({prop:n,defaultProp:a??!1,onChange:i,caller:df});return e.jsx(TF,{scope:s,triggerRef:o,contentRef:c,contentId:ws(),titleId:ws(),descriptionId:ws(),open:d,onOpenChange:u,onOpenToggle:h.useCallback(()=>u(m=>!m),[u]),modal:l,children:r})};Sk.displayName=df;var kk="DialogTrigger",Ck=h.forwardRef((t,s)=>{const{__scopeDialog:r,...n}=t,a=cn(kk,r),i=Me(s,a.triggerRef);return e.jsx(me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":_y(a.open),...n,ref:i,onClick:se(t.onClick,a.onOpenToggle)})});Ck.displayName=kk;var by="DialogPortal",[PF,Ek]=Nk(by,{forceMount:void 0}),Tk=t=>{const{__scopeDialog:s,forceMount:r,children:n,container:a}=t,i=cn(by,s);return e.jsx(PF,{scope:s,forceMount:r,children:h.Children.map(n,l=>e.jsx(_s,{present:r||i.open,children:e.jsx(ec,{asChild:!0,container:a,children:l})}))})};Tk.displayName=by;var um="DialogOverlay",Pk=h.forwardRef((t,s)=>{const r=Ek(um,t.__scopeDialog),{forceMount:n=r.forceMount,...a}=t,i=cn(um,t.__scopeDialog);return i.modal?e.jsx(_s,{present:n||i.open,children:e.jsx(RF,{...a,ref:s})}):null});Pk.displayName=um;var AF=ni("DialogOverlay.RemoveScroll"),RF=h.forwardRef((t,s)=>{const{__scopeDialog:r,...n}=t,a=cn(um,r);return e.jsx(nu,{as:AF,allowPinchZoom:!0,shards:[a.contentRef],children:e.jsx(me.div,{"data-state":_y(a.open),...n,ref:s,style:{pointerEvents:"auto",...n.style}})})}),rl="DialogContent",Ak=h.forwardRef((t,s)=>{const r=Ek(rl,t.__scopeDialog),{forceMount:n=r.forceMount,...a}=t,i=cn(rl,t.__scopeDialog);return e.jsx(_s,{present:n||i.open,children:i.modal?e.jsx(OF,{...a,ref:s}):e.jsx(IF,{...a,ref:s})})});Ak.displayName=rl;var OF=h.forwardRef((t,s)=>{const r=cn(rl,t.__scopeDialog),n=h.useRef(null),a=Me(s,r.contentRef,n);return h.useEffect(()=>{const i=n.current;if(i)return cf(i)},[]),e.jsx(Rk,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:se(t.onCloseAutoFocus,i=>{var l;i.preventDefault(),(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:se(t.onPointerDownOutside,i=>{const l=i.detail.originalEvent,o=l.button===0&&l.ctrlKey===!0;(l.button===2||o)&&i.preventDefault()}),onFocusOutside:se(t.onFocusOutside,i=>i.preventDefault())})}),IF=h.forwardRef((t,s)=>{const r=cn(rl,t.__scopeDialog),n=h.useRef(!1),a=h.useRef(!1);return e.jsx(Rk,{...t,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var l,o;(l=t.onCloseAutoFocus)==null||l.call(t,i),i.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const l=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(l))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),Rk=h.forwardRef((t,s)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...l}=t,o=cn(rl,r),c=h.useRef(null),d=Me(s,c);return lf(),e.jsxs(e.Fragment,{children:[e.jsx(ru,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:e.jsx(Jo,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":_y(o.open),...l,ref:d,onDismiss:()=>o.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(MF,{titleId:o.titleId}),e.jsx(FF,{contentRef:c,descriptionId:o.descriptionId})]})]})}),Ny="DialogTitle",Ok=h.forwardRef((t,s)=>{const{__scopeDialog:r,...n}=t,a=cn(Ny,r);return e.jsx(me.h2,{id:a.titleId,...n,ref:s})});Ok.displayName=Ny;var Ik="DialogDescription",Dk=h.forwardRef((t,s)=>{const{__scopeDialog:r,...n}=t,a=cn(Ik,r);return e.jsx(me.p,{id:a.descriptionId,...n,ref:s})});Dk.displayName=Ik;var Mk="DialogClose",Lk=h.forwardRef((t,s)=>{const{__scopeDialog:r,...n}=t,a=cn(Mk,r);return e.jsx(me.button,{type:"button",...n,ref:s,onClick:se(t.onClick,()=>a.onOpenChange(!1))})});Lk.displayName=Mk;function _y(t){return t?"open":"closed"}var Fk="DialogTitleWarning",[DF,$k]=G6(Fk,{contentName:rl,titleName:Ny,docsSlug:"dialog"}),MF=({titleId:t})=>{const s=$k(Fk),r=`\`${s.contentName}\` requires a \`${s.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${s.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${s.docsSlug}`;return h.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},LF="DialogDescriptionWarning",FF=({contentRef:t,descriptionId:s})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${$k(LF).contentName}}.`;return h.useEffect(()=>{var i;const a=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");s&&a&&(document.getElementById(s)||console.warn(n))},[n,t,s]),null},uf=Sk,Sy=Ck,hf=Tk,lc=Pk,oc=Ak,au=Ok,iu=Dk,mf=Lk;const Uk=uf,zk=Sy,$F=hf,Vk=h.forwardRef(({className:t,...s},r)=>e.jsx(lc,{className:re("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s,ref:r}));Vk.displayName=lc.displayName;const UF=tc("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),ky=h.forwardRef(({side:t="right",className:s,children:r,...n},a)=>e.jsxs($F,{children:[e.jsx(Vk,{}),e.jsxs(oc,{ref:a,className:re(UF({side:t}),s),...n,children:[r,e.jsxs(mf,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[e.jsx(rc,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ky.displayName=oc.displayName;const Bk=h.forwardRef(({className:t,...s},r)=>e.jsx(au,{ref:r,className:re("text-lg font-semibold text-foreground",t),...s}));Bk.displayName=au.displayName;const zF=h.forwardRef(({className:t,...s},r)=>e.jsx(iu,{ref:r,className:re("text-sm text-muted-foreground",t),...s}));zF.displayName=iu.displayName;const VF=[{id:"main",enTitle:"Main",bnTitle:"",items:[{id:"dashboard",href:"/admin-dashboard",icon:nI,enLabel:"Dashboard",bnLabel:""},{id:"articles",href:"/admin/articles",icon:Xt,enLabel:"Articles",bnLabel:""},{id:"breaking-news",href:"/admin/breaking-news",icon:nc,enLabel:"Breaking News",bnLabel:" ",badge:"3"}]},{id:"content",enTitle:"Content",bnTitle:"",items:[{id:"categories",href:"/admin/categories",icon:JO,enLabel:"Categories",bnLabel:""},{id:"videos",href:"/admin/videos",icon:ay,enLabel:"Videos",bnLabel:""},{id:"images",href:"/admin/images",icon:rI,enLabel:"Images",bnLabel:""},{id:"epapers",href:"/admin/epapers",icon:cI,enLabel:"E-Papers",bnLabel:"-"}]},{id:"system",enTitle:"System",bnTitle:"",items:[{id:"users",href:"/admin/users",icon:gt,enLabel:"Users",bnLabel:""},{id:"analytics",href:"/admin/analytics",icon:yr,enLabel:"Analytics",bnLabel:""},{id:"weather",href:"/admin/weather",icon:Zm,enLabel:"Weather",bnLabel:""},{id:"settings",href:"/admin/settings",icon:qs,enLabel:"Settings",bnLabel:""}]}];function ut({children:t}){const[s]=St(),[r,n]=h.useState(!1),[a,i]=h.useState(!1),[l,o]=h.useState("light"),[c,d]=h.useState(3),{t:u}=Nr(),{user:m,logout:f}=tt();h.useEffect(()=>{const p=()=>{i(window.innerWidth<768)};return p(),window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[]);const x=async()=>{try{await f()}catch(p){console.error("Logout error:",p)}},g=()=>{o(l==="light"?"dark":"light"),document.documentElement.classList.toggle("dark")},v=()=>{var p,j;return e.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-gray-900",children:[e.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-600 to-red-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-sm",children:""})}),e.jsx("div",{children:e.jsx("h2",{className:"font-bold text-gray-900 dark:text-white text-sm",children:u("admin-panel","Admin Panel"," ")})})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsx("nav",{className:"p-3 space-y-6",children:VF.map(w=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase px-3",children:u(`section-${w.id}`,w.enTitle,w.bnTitle)}),e.jsx("div",{className:"space-y-1",children:w.items.map(y=>{const _=s===y.href;return e.jsx(X,{href:y.href,children:e.jsxs("div",{className:`flex items-center gap-3 px-3 py-3 rounded-lg cursor-pointer transition-all ${_?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 border-l-4 border-blue-500":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800"}`,onClick:()=>a&&n(!1),children:[e.jsx("div",{className:`p-2 rounded-md ${_?"bg-blue-100 dark:bg-blue-800 text-blue-600 dark:text-blue-300":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400"}`,children:e.jsx(y.icon,{className:"h-4 w-4"})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium text-sm truncate",children:u(`nav-${y.id}`,y.enLabel,y.bnLabel)}),y.badge&&e.jsx("span",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:y.badge})]})}),_&&e.jsx(sc,{className:"h-4 w-4 text-blue-500"})]})},y.id)})})]},w.id))})}),e.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-sm font-bold",children:((p=m==null?void 0:m.email)==null?void 0:p.charAt(0).toUpperCase())||"A"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:((j=m==null?void 0:m.email)==null?void 0:j.split("@")[0])||"Admin"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:u("admin-role","Administrator","")})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(M,{variant:"ghost",size:"sm",onClick:g,className:"h-8 w-8 p-0",children:l==="light"?e.jsx(U2,{className:"h-4 w-4"}):e.jsx(eu,{className:"h-4 w-4"})}),e.jsx(M,{variant:"ghost",size:"sm",onClick:x,className:"h-8 w-8 p-0 text-red-600",children:e.jsx(ry,{className:"h-4 w-4"})})]})]})})]})};return e.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900 bangladesh-colors",children:[a&&e.jsxs(Uk,{open:r,onOpenChange:n,children:[e.jsx(zk,{asChild:!0,children:e.jsx(M,{variant:"outline",size:"icon",className:"fixed top-4 left-4 z-50 h-10 w-10 touch-target interactive-element","aria-label":u("open-menu","Open menu"," "),children:e.jsx(ig,{className:"h-4 w-4"})})}),e.jsx(ky,{side:"left",className:"p-0 w-80",children:e.jsx(v,{})})]}),!a&&e.jsx("aside",{className:"w-80 border-r bg-white dark:bg-gray-900 border-gray-200 dark:border-gray-700",children:e.jsx(v,{})}),e.jsxs("main",{className:"flex-1 overflow-auto",children:[e.jsx("header",{className:"admin-header sticky top-0 z-40 bg-white/95 dark:bg-gray-900/95 backdrop-blur-md border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[a&&e.jsx(M,{variant:"ghost",size:"sm",onClick:()=>n(!0),className:"touch-target",children:e.jsx(ig,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 cultural-gradient rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-sm",children:""})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white bangla-text",children:u("dashboard-title"," Admin"," ")}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:u("news-management","News Management System","  ")})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"hidden sm:flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{className:"bangla-text text-xs",children:u("server-status","All Systems Operational","  ")})]})}),e.jsx("div",{className:"relative",children:e.jsxs(M,{variant:"ghost",size:"sm",className:"touch-target","aria-label":u("notifications","Notifications",""),children:[e.jsx(sn,{className:"h-4 w-4"}),c>0&&e.jsx(ee,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs bg-red-500 hover:bg-red-600",children:c})]})})]})]})}),e.jsx("div",{className:`admin-main minimal-interface ${a?"pt-4":""}`,children:e.jsx("div",{className:"container mx-auto px-4 md:px-6 py-4 md:py-6",children:t})})]})]})}const BF=[{id:"create-article",enLabel:"Create Article",bnLabel:"  ",enDescription:"Write and publish new content",bnDescription:"     ",icon:Xt,href:"/admin/articles",priority:"high"},{id:"manage-users",enLabel:"User Management",bnLabel:" ",enDescription:"Monitor and manage user accounts",bnDescription:"    ",icon:gt,href:"/admin/users",priority:"medium"},{id:"breaking-news",enLabel:"Breaking News",bnLabel:" ",enDescription:"Manage urgent news updates",bnDescription:"   ",icon:sn,href:"/admin/breaking-news",priority:"high",status:"pending"},{id:"analytics",enLabel:"Analytics",bnLabel:"",enDescription:"View detailed website analytics",bnDescription:"   ",icon:yr,href:"/admin/analytics",priority:"medium"},{id:"database",enLabel:"Database Status",bnLabel:" ",enDescription:"Monitor database health",bnDescription:"  ",icon:Zn,href:"/admin/database",priority:"low",status:"active"},{id:"security",enLabel:"Security",bnLabel:"",enDescription:"Review security settings",bnDescription:"  ",icon:vs,href:"/admin/security",priority:"high"}];function qF(){var g,v,p,j,w,y,_;const{t}=Nr(),s=hs(),[r,n]=h.useState(!1),{data:a,isLoading:i,error:l}=xe({queryKey:["/api/admin/stats"],refetchInterval:3e4}),{data:o,isLoading:c}=xe({queryKey:["/api/admin/analytics"],refetchInterval:6e4}),{data:d,isLoading:u}=xe({queryKey:["/api/admin/recent-activity"],refetchInterval:15e3}),m=Ie({mutationFn:async()=>{n(!0),await Promise.all([s.invalidateQueries({queryKey:["/api/admin/stats"]}),s.invalidateQueries({queryKey:["/api/admin/analytics"]}),s.invalidateQueries({queryKey:["/api/admin/recent-activity"]})]),n(!1)}}),f=({title:b,value:N,change:T,icon:A,trend:S,loading:P=!1})=>e.jsxs(k,{className:"relative overflow-hidden",children:[e.jsxs(I,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(L,{className:"text-sm font-medium text-muted-foreground",children:b}),e.jsx(A,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(E,{children:P?e.jsxs("div",{className:"space-y-2",children:[e.jsx(Qe,{className:"h-8 w-20"}),e.jsx(Qe,{className:"h-4 w-16"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-2xl font-bold",children:N}),T&&e.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[S==="up"&&e.jsx(BO,{className:"h-3 w-3 mr-1 text-green-500"}),S==="down"&&e.jsx(zO,{className:"h-3 w-3 mr-1 text-red-500"}),T]})]})})]}),x=({action:b})=>e.jsxs(k,{className:`cursor-pointer transition-all duration-200 hover:shadow-md ${b.priority==="high"?"ring-2 ring-primary/20":""}`,children:[e.jsx(I,{className:"pb-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`p-2 rounded-lg ${b.priority==="high"?"bg-primary/10 text-primary":b.priority==="medium"?"bg-blue-100 text-blue-600 dark:bg-blue-900/20 dark:text-blue-400":"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400"}`,children:e.jsx(b.icon,{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsx(L,{className:"text-sm font-medium",children:t(`action-${b.id}`,b.enLabel,b.bnLabel)}),b.status&&e.jsx(ee,{variant:b.status==="active"?"default":"secondary",className:"text-xs mt-1",children:b.status})]})]}),e.jsx(sc,{className:"h-4 w-4 text-muted-foreground"})]})}),e.jsx(E,{children:e.jsx("p",{className:"text-xs text-muted-foreground",children:t(`action-desc-${b.id}`,b.enDescription,b.bnDescription)})})]});return l?e.jsx(ut,{children:e.jsxs(Ms,{className:"mb-6",children:[e.jsx(Yt,{className:"h-4 w-4"}),e.jsx(Ls,{children:t("dashboard-error","Unable to load dashboard data. Please try again.","       ")})]})}):e.jsx(ut,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:t("dashboard-title","Admin Dashboard"," ")}),e.jsx("p",{className:"text-muted-foreground",children:t("dashboard-subtitle","Monitor and manage your Bengali news platform","       ")})]}),e.jsxs(M,{onClick:()=>m.mutate(),disabled:r,className:"min-w-fit",children:[e.jsx(an,{className:`h-4 w-4 mr-2 ${r?"animate-spin":""}`}),t("refresh","Refresh","")]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(f,{title:t("total-articles","Total Articles"," "),value:(a==null?void 0:a.totalArticles)||0,change:t("last-week","+12% from last week","   +%"),icon:Xt,trend:"up",loading:i}),e.jsx(f,{title:t("total-users","Total Users"," "),value:(a==null?void 0:a.totalUsers)||0,change:t("new-users","+5% new users","+%  "),icon:gt,trend:"up",loading:i}),e.jsx(f,{title:t("total-views","Total Views"," "),value:(o==null?void 0:o.totalViews)||0,change:t("today","Today",""),icon:$t,trend:"stable",loading:c}),e.jsx(f,{title:t("avg-read-time","Avg. Read Time","  "),value:o!=null&&o.avgReadTime?`${o.avgReadTime}min`:"0min",change:t("engagement","Good engagement"," "),icon:ot,trend:"up",loading:c})]}),e.jsxs(k,{children:[e.jsx(I,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(nc,{className:"h-5 w-5"}),t("quick-actions","Quick Actions"," ")]})}),e.jsx(E,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:BF.map(b=>e.jsx("a",{href:b.href,className:"block",children:e.jsx(x,{action:b})},b.id))})})]}),e.jsxs(ms,{defaultValue:"overview",className:"space-y-4",children:[e.jsxs(is,{className:"grid w-full grid-cols-3 lg:w-auto lg:grid-cols-3",children:[e.jsx(we,{value:"overview",children:t("overview","Overview"," ")}),e.jsx(we,{value:"activity",children:t("activity","Activity","")}),e.jsx(we,{value:"analytics",children:t("analytics","Analytics","")})]}),e.jsx(je,{value:"overview",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(k,{children:[e.jsx(I,{children:e.jsx(L,{className:"text-base",children:t("device-usage","Device Usage"," ")})}),e.jsx(E,{className:"space-y-3",children:c?e.jsxs("div",{className:"space-y-2",children:[e.jsx(Qe,{className:"h-4 w-full"}),e.jsx(Qe,{className:"h-4 w-full"}),e.jsx(Qe,{className:"h-4 w-full"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:t("mobile","Mobile","")}),e.jsxs("span",{children:[((g=o==null?void 0:o.deviceStats)==null?void 0:g.mobile)||0,"%"]})]}),e.jsx(Os,{value:((v=o==null?void 0:o.deviceStats)==null?void 0:v.mobile)||0,className:"h-2"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:t("desktop","Desktop","")}),e.jsxs("span",{children:[((p=o==null?void 0:o.deviceStats)==null?void 0:p.desktop)||0,"%"]})]}),e.jsx(Os,{value:((j=o==null?void 0:o.deviceStats)==null?void 0:j.desktop)||0,className:"h-2"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:t("tablet","Tablet","")}),e.jsxs("span",{children:[((w=o==null?void 0:o.deviceStats)==null?void 0:w.tablet)||0,"%"]})]}),e.jsx(Os,{value:((y=o==null?void 0:o.deviceStats)==null?void 0:y.tablet)||0,className:"h-2"})]})]})})]}),e.jsxs(k,{children:[e.jsx(I,{children:e.jsx(L,{className:"text-base",children:t("top-categories","Top Categories"," ")})}),e.jsx(E,{children:c?e.jsxs("div",{className:"space-y-2",children:[e.jsx(Qe,{className:"h-4 w-full"}),e.jsx(Qe,{className:"h-4 w-full"}),e.jsx(Qe,{className:"h-4 w-full"})]}):e.jsx("div",{className:"space-y-3",children:(_=o==null?void 0:o.topCategories)==null?void 0:_.map((b,N)=>e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"truncate",children:b.name}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-muted-foreground",children:b.count}),e.jsxs(ee,{variant:"secondary",children:[b.percentage,"%"]})]})]},N))})})]})]})}),e.jsx(je,{value:"activity",className:"space-y-4",children:e.jsxs(k,{children:[e.jsx(I,{children:e.jsx(L,{className:"text-base",children:t("recent-activity","Recent Activity"," ")})}),e.jsx(E,{children:u?e.jsx("div",{className:"space-y-3",children:[...Array(5)].map((b,N)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Qe,{className:"h-8 w-8 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx(Qe,{className:"h-4 w-3/4"}),e.jsx(Qe,{className:"h-3 w-1/2 mt-1"})]})]},N))}):e.jsx("div",{className:"space-y-3",children:d==null?void 0:d.map((b,N)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border",children:[e.jsxs("div",{className:`p-2 rounded-full ${b.type==="article"?"bg-blue-100 text-blue-600 dark:bg-blue-900/20 dark:text-blue-400":b.type==="user"?"bg-green-100 text-green-600 dark:bg-green-900/20 dark:text-green-400":b.type==="comment"?"bg-yellow-100 text-yellow-600 dark:bg-yellow-900/20 dark:text-yellow-400":"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400"}`,children:[b.type==="article"&&e.jsx(Xt,{className:"h-4 w-4"}),b.type==="user"&&e.jsx(gt,{className:"h-4 w-4"}),b.type==="comment"&&e.jsx(Xm,{className:"h-4 w-4"}),b.type==="system"&&e.jsx(Bs,{className:"h-4 w-4"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:b.action}),e.jsx("p",{className:"text-xs text-muted-foreground truncate",children:b.target})]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(b.timestamp).toLocaleDateString()})]},N))})})]})}),e.jsx(je,{value:"analytics",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(k,{children:[e.jsx(I,{children:e.jsx(L,{className:"text-base",children:t("content-performance","Content Performance"," ")})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:t("avg-engagement","Average Engagement"," ")}),e.jsx(ee,{variant:"secondary",children:"85%"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:t("bounce-rate","Bounce Rate"," ")}),e.jsx(ee,{variant:"secondary",children:"25%"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:t("return-visitors","Return Visitors"," ")}),e.jsx(ee,{variant:"secondary",children:"60%"})]})]})})]}),e.jsxs(k,{children:[e.jsx(I,{children:e.jsx(L,{className:"text-base",children:t("system-health","System Health"," ")})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:t("uptime","Uptime","")}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O2,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm",children:"99.9%"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:t("response-time","Response Time"," ")}),e.jsx(ee,{variant:"secondary",children:"120ms"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:t("error-rate","Error Rate"," ")}),e.jsx(ee,{variant:"secondary",children:"0.1%"})]})]})})]})]})})]})]})})}const Kt=h.forwardRef(({className:t,...s},r)=>e.jsx("textarea",{className:re("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...s}));Kt.displayName="Textarea";function Md(t,[s,r]){return Math.min(r,Math.max(s,t))}const HF=["top","right","bottom","left"],di=Math.min,ur=Math.max,hm=Math.round,Ju=Math.floor,kn=t=>({x:t,y:t}),WF={left:"right",right:"left",bottom:"top",top:"bottom"},KF={start:"end",end:"start"};function Ng(t,s,r){return ur(t,di(s,r))}function ca(t,s){return typeof t=="function"?t(s):t}function da(t){return t.split("-")[0]}function cc(t){return t.split("-")[1]}function Cy(t){return t==="x"?"y":"x"}function Ey(t){return t==="y"?"height":"width"}const GF=new Set(["top","bottom"]);function yn(t){return GF.has(da(t))?"y":"x"}function Ty(t){return Cy(yn(t))}function QF(t,s,r){r===void 0&&(r=!1);const n=cc(t),a=Ty(t),i=Ey(a);let l=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return s.reference[i]>s.floating[i]&&(l=mm(l)),[l,mm(l)]}function ZF(t){const s=mm(t);return[_g(t),s,_g(s)]}function _g(t){return t.replace(/start|end/g,s=>KF[s])}const tb=["left","right"],sb=["right","left"],YF=["top","bottom"],XF=["bottom","top"];function JF(t,s,r){switch(t){case"top":case"bottom":return r?s?sb:tb:s?tb:sb;case"left":case"right":return s?YF:XF;default:return[]}}function e$(t,s,r,n){const a=cc(t);let i=JF(da(t),r==="start",n);return a&&(i=i.map(l=>l+"-"+a),s&&(i=i.concat(i.map(_g)))),i}function mm(t){return t.replace(/left|right|bottom|top/g,s=>WF[s])}function t$(t){return{top:0,right:0,bottom:0,left:0,...t}}function qk(t){return typeof t!="number"?t$(t):{top:t,right:t,bottom:t,left:t}}function fm(t){const{x:s,y:r,width:n,height:a}=t;return{width:n,height:a,top:r,left:s,right:s+n,bottom:r+a,x:s,y:r}}function rb(t,s,r){let{reference:n,floating:a}=t;const i=yn(s),l=Ty(s),o=Ey(l),c=da(s),d=i==="y",u=n.x+n.width/2-a.width/2,m=n.y+n.height/2-a.height/2,f=n[o]/2-a[o]/2;let x;switch(c){case"top":x={x:u,y:n.y-a.height};break;case"bottom":x={x:u,y:n.y+n.height};break;case"right":x={x:n.x+n.width,y:m};break;case"left":x={x:n.x-a.width,y:m};break;default:x={x:n.x,y:n.y}}switch(cc(s)){case"start":x[l]-=f*(r&&d?-1:1);break;case"end":x[l]+=f*(r&&d?-1:1);break}return x}const s$=async(t,s,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:l}=r,o=i.filter(Boolean),c=await(l.isRTL==null?void 0:l.isRTL(s));let d=await l.getElementRects({reference:t,floating:s,strategy:a}),{x:u,y:m}=rb(d,n,c),f=n,x={},g=0;for(let v=0;v<o.length;v++){const{name:p,fn:j}=o[v],{x:w,y,data:_,reset:b}=await j({x:u,y:m,initialPlacement:n,placement:f,strategy:a,middlewareData:x,rects:d,platform:l,elements:{reference:t,floating:s}});u=w??u,m=y??m,x={...x,[p]:{...x[p],..._}},b&&g<=50&&(g++,typeof b=="object"&&(b.placement&&(f=b.placement),b.rects&&(d=b.rects===!0?await l.getElementRects({reference:t,floating:s,strategy:a}):b.rects),{x:u,y:m}=rb(d,f,c)),v=-1)}return{x:u,y:m,placement:f,strategy:a,middlewareData:x}};async function Ld(t,s){var r;s===void 0&&(s={});const{x:n,y:a,platform:i,rects:l,elements:o,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:m="floating",altBoundary:f=!1,padding:x=0}=ca(s,t),g=qk(x),p=o[f?m==="floating"?"reference":"floating":m],j=fm(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(p)))==null||r?p:p.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(o.floating)),boundary:d,rootBoundary:u,strategy:c})),w=m==="floating"?{x:n,y:a,width:l.floating.width,height:l.floating.height}:l.reference,y=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o.floating)),_=await(i.isElement==null?void 0:i.isElement(y))?await(i.getScale==null?void 0:i.getScale(y))||{x:1,y:1}:{x:1,y:1},b=fm(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:w,offsetParent:y,strategy:c}):w);return{top:(j.top-b.top+g.top)/_.y,bottom:(b.bottom-j.bottom+g.bottom)/_.y,left:(j.left-b.left+g.left)/_.x,right:(b.right-j.right+g.right)/_.x}}const r$=t=>({name:"arrow",options:t,async fn(s){const{x:r,y:n,placement:a,rects:i,platform:l,elements:o,middlewareData:c}=s,{element:d,padding:u=0}=ca(t,s)||{};if(d==null)return{};const m=qk(u),f={x:r,y:n},x=Ty(a),g=Ey(x),v=await l.getDimensions(d),p=x==="y",j=p?"top":"left",w=p?"bottom":"right",y=p?"clientHeight":"clientWidth",_=i.reference[g]+i.reference[x]-f[x]-i.floating[g],b=f[x]-i.reference[x],N=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d));let T=N?N[y]:0;(!T||!await(l.isElement==null?void 0:l.isElement(N)))&&(T=o.floating[y]||i.floating[g]);const A=_/2-b/2,S=T/2-v[g]/2-1,P=di(m[j],S),C=di(m[w],S),R=P,K=T-v[g]-C,W=T/2-v[g]/2+A,D=Ng(R,W,K),B=!c.arrow&&cc(a)!=null&&W!==D&&i.reference[g]/2-(W<R?P:C)-v[g]/2<0,V=B?W<R?W-R:W-K:0;return{[x]:f[x]+V,data:{[x]:D,centerOffset:W-D-V,...B&&{alignmentOffset:V}},reset:B}}}),n$=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(s){var r,n;const{placement:a,middlewareData:i,rects:l,initialPlacement:o,platform:c,elements:d}=s,{mainAxis:u=!0,crossAxis:m=!0,fallbackPlacements:f,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,...p}=ca(t,s);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const j=da(a),w=yn(o),y=da(o)===o,_=await(c.isRTL==null?void 0:c.isRTL(d.floating)),b=f||(y||!v?[mm(o)]:ZF(o)),N=g!=="none";!f&&N&&b.push(...e$(o,v,g,_));const T=[o,...b],A=await Ld(s,p),S=[];let P=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&S.push(A[j]),m){const W=QF(a,l,_);S.push(A[W[0]],A[W[1]])}if(P=[...P,{placement:a,overflows:S}],!S.every(W=>W<=0)){var C,R;const W=(((C=i.flip)==null?void 0:C.index)||0)+1,D=T[W];if(D&&(!(m==="alignment"?w!==yn(D):!1)||P.every(O=>O.overflows[0]>0&&yn(O.placement)===w)))return{data:{index:W,overflows:P},reset:{placement:D}};let B=(R=P.filter(V=>V.overflows[0]<=0).sort((V,O)=>V.overflows[1]-O.overflows[1])[0])==null?void 0:R.placement;if(!B)switch(x){case"bestFit":{var K;const V=(K=P.filter(O=>{if(N){const z=yn(O.placement);return z===w||z==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(z=>z>0).reduce((z,U)=>z+U,0)]).sort((O,z)=>O[1]-z[1])[0])==null?void 0:K[0];V&&(B=V);break}case"initialPlacement":B=o;break}if(a!==B)return{reset:{placement:B}}}return{}}}};function nb(t,s){return{top:t.top-s.height,right:t.right-s.width,bottom:t.bottom-s.height,left:t.left-s.width}}function ab(t){return HF.some(s=>t[s]>=0)}const a$=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(s){const{rects:r}=s,{strategy:n="referenceHidden",...a}=ca(t,s);switch(n){case"referenceHidden":{const i=await Ld(s,{...a,elementContext:"reference"}),l=nb(i,r.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:ab(l)}}}case"escaped":{const i=await Ld(s,{...a,altBoundary:!0}),l=nb(i,r.floating);return{data:{escapedOffsets:l,escaped:ab(l)}}}default:return{}}}}},Hk=new Set(["left","top"]);async function i$(t,s){const{placement:r,platform:n,elements:a}=t,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),l=da(r),o=cc(r),c=yn(r)==="y",d=Hk.has(l)?-1:1,u=i&&c?-1:1,m=ca(s,t);let{mainAxis:f,crossAxis:x,alignmentAxis:g}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return o&&typeof g=="number"&&(x=o==="end"?g*-1:g),c?{x:x*u,y:f*d}:{x:f*d,y:x*u}}const l$=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(s){var r,n;const{x:a,y:i,placement:l,middlewareData:o}=s,c=await i$(s,t);return l===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:l}}}}},o$=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(s){const{x:r,y:n,placement:a}=s,{mainAxis:i=!0,crossAxis:l=!1,limiter:o={fn:p=>{let{x:j,y:w}=p;return{x:j,y:w}}},...c}=ca(t,s),d={x:r,y:n},u=await Ld(s,c),m=yn(da(a)),f=Cy(m);let x=d[f],g=d[m];if(i){const p=f==="y"?"top":"left",j=f==="y"?"bottom":"right",w=x+u[p],y=x-u[j];x=Ng(w,x,y)}if(l){const p=m==="y"?"top":"left",j=m==="y"?"bottom":"right",w=g+u[p],y=g-u[j];g=Ng(w,g,y)}const v=o.fn({...s,[f]:x,[m]:g});return{...v,data:{x:v.x-r,y:v.y-n,enabled:{[f]:i,[m]:l}}}}}},c$=function(t){return t===void 0&&(t={}),{options:t,fn(s){const{x:r,y:n,placement:a,rects:i,middlewareData:l}=s,{offset:o=0,mainAxis:c=!0,crossAxis:d=!0}=ca(t,s),u={x:r,y:n},m=yn(a),f=Cy(m);let x=u[f],g=u[m];const v=ca(o,s),p=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const y=f==="y"?"height":"width",_=i.reference[f]-i.floating[y]+p.mainAxis,b=i.reference[f]+i.reference[y]-p.mainAxis;x<_?x=_:x>b&&(x=b)}if(d){var j,w;const y=f==="y"?"width":"height",_=Hk.has(da(a)),b=i.reference[m]-i.floating[y]+(_&&((j=l.offset)==null?void 0:j[m])||0)+(_?0:p.crossAxis),N=i.reference[m]+i.reference[y]+(_?0:((w=l.offset)==null?void 0:w[m])||0)-(_?p.crossAxis:0);g<b?g=b:g>N&&(g=N)}return{[f]:x,[m]:g}}}},d$=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(s){var r,n;const{placement:a,rects:i,platform:l,elements:o}=s,{apply:c=()=>{},...d}=ca(t,s),u=await Ld(s,d),m=da(a),f=cc(a),x=yn(a)==="y",{width:g,height:v}=i.floating;let p,j;m==="top"||m==="bottom"?(p=m,j=f===(await(l.isRTL==null?void 0:l.isRTL(o.floating))?"start":"end")?"left":"right"):(j=m,p=f==="end"?"top":"bottom");const w=v-u.top-u.bottom,y=g-u.left-u.right,_=di(v-u[p],w),b=di(g-u[j],y),N=!s.middlewareData.shift;let T=_,A=b;if((r=s.middlewareData.shift)!=null&&r.enabled.x&&(A=y),(n=s.middlewareData.shift)!=null&&n.enabled.y&&(T=w),N&&!f){const P=ur(u.left,0),C=ur(u.right,0),R=ur(u.top,0),K=ur(u.bottom,0);x?A=g-2*(P!==0||C!==0?P+C:ur(u.left,u.right)):T=v-2*(R!==0||K!==0?R+K:ur(u.top,u.bottom))}await c({...s,availableWidth:A,availableHeight:T});const S=await l.getDimensions(o.floating);return g!==S.width||v!==S.height?{reset:{rects:!0}}:{}}}};function ff(){return typeof window<"u"}function dc(t){return Wk(t)?(t.nodeName||"").toLowerCase():"#document"}function gr(t){var s;return(t==null||(s=t.ownerDocument)==null?void 0:s.defaultView)||window}function Pn(t){var s;return(s=(Wk(t)?t.ownerDocument:t.document)||window.document)==null?void 0:s.documentElement}function Wk(t){return ff()?t instanceof Node||t instanceof gr(t).Node:!1}function ln(t){return ff()?t instanceof Element||t instanceof gr(t).Element:!1}function En(t){return ff()?t instanceof HTMLElement||t instanceof gr(t).HTMLElement:!1}function ib(t){return!ff()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof gr(t).ShadowRoot}const u$=new Set(["inline","contents"]);function lu(t){const{overflow:s,overflowX:r,overflowY:n,display:a}=on(t);return/auto|scroll|overlay|hidden|clip/.test(s+n+r)&&!u$.has(a)}const h$=new Set(["table","td","th"]);function m$(t){return h$.has(dc(t))}const f$=[":popover-open",":modal"];function xf(t){return f$.some(s=>{try{return t.matches(s)}catch{return!1}})}const x$=["transform","translate","scale","rotate","perspective"],p$=["transform","translate","scale","rotate","perspective","filter"],g$=["paint","layout","strict","content"];function Py(t){const s=Ay(),r=ln(t)?on(t):t;return x$.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!s&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!s&&(r.filter?r.filter!=="none":!1)||p$.some(n=>(r.willChange||"").includes(n))||g$.some(n=>(r.contain||"").includes(n))}function v$(t){let s=ui(t);for(;En(s)&&!Vo(s);){if(Py(s))return s;if(xf(s))return null;s=ui(s)}return null}function Ay(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const y$=new Set(["html","body","#document"]);function Vo(t){return y$.has(dc(t))}function on(t){return gr(t).getComputedStyle(t)}function pf(t){return ln(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ui(t){if(dc(t)==="html")return t;const s=t.assignedSlot||t.parentNode||ib(t)&&t.host||Pn(t);return ib(s)?s.host:s}function Kk(t){const s=ui(t);return Vo(s)?t.ownerDocument?t.ownerDocument.body:t.body:En(s)&&lu(s)?s:Kk(s)}function Fd(t,s,r){var n;s===void 0&&(s=[]),r===void 0&&(r=!0);const a=Kk(t),i=a===((n=t.ownerDocument)==null?void 0:n.body),l=gr(a);if(i){const o=Sg(l);return s.concat(l,l.visualViewport||[],lu(a)?a:[],o&&r?Fd(o):[])}return s.concat(a,Fd(a,[],r))}function Sg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Gk(t){const s=on(t);let r=parseFloat(s.width)||0,n=parseFloat(s.height)||0;const a=En(t),i=a?t.offsetWidth:r,l=a?t.offsetHeight:n,o=hm(r)!==i||hm(n)!==l;return o&&(r=i,n=l),{width:r,height:n,$:o}}function Ry(t){return ln(t)?t:t.contextElement}function ao(t){const s=Ry(t);if(!En(s))return kn(1);const r=s.getBoundingClientRect(),{width:n,height:a,$:i}=Gk(s);let l=(i?hm(r.width):r.width)/n,o=(i?hm(r.height):r.height)/a;return(!l||!Number.isFinite(l))&&(l=1),(!o||!Number.isFinite(o))&&(o=1),{x:l,y:o}}const j$=kn(0);function Qk(t){const s=gr(t);return!Ay()||!s.visualViewport?j$:{x:s.visualViewport.offsetLeft,y:s.visualViewport.offsetTop}}function w$(t,s,r){return s===void 0&&(s=!1),!r||s&&r!==gr(t)?!1:s}function nl(t,s,r,n){s===void 0&&(s=!1),r===void 0&&(r=!1);const a=t.getBoundingClientRect(),i=Ry(t);let l=kn(1);s&&(n?ln(n)&&(l=ao(n)):l=ao(t));const o=w$(i,r,n)?Qk(i):kn(0);let c=(a.left+o.x)/l.x,d=(a.top+o.y)/l.y,u=a.width/l.x,m=a.height/l.y;if(i){const f=gr(i),x=n&&ln(n)?gr(n):n;let g=f,v=Sg(g);for(;v&&n&&x!==g;){const p=ao(v),j=v.getBoundingClientRect(),w=on(v),y=j.left+(v.clientLeft+parseFloat(w.paddingLeft))*p.x,_=j.top+(v.clientTop+parseFloat(w.paddingTop))*p.y;c*=p.x,d*=p.y,u*=p.x,m*=p.y,c+=y,d+=_,g=gr(v),v=Sg(g)}}return fm({width:u,height:m,x:c,y:d})}function Oy(t,s){const r=pf(t).scrollLeft;return s?s.left+r:nl(Pn(t)).left+r}function Zk(t,s,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),a=n.left+s.scrollLeft-(r?0:Oy(t,n)),i=n.top+s.scrollTop;return{x:a,y:i}}function b$(t){let{elements:s,rect:r,offsetParent:n,strategy:a}=t;const i=a==="fixed",l=Pn(n),o=s?xf(s.floating):!1;if(n===l||o&&i)return r;let c={scrollLeft:0,scrollTop:0},d=kn(1);const u=kn(0),m=En(n);if((m||!m&&!i)&&((dc(n)!=="body"||lu(l))&&(c=pf(n)),En(n))){const x=nl(n);d=ao(n),u.x=x.x+n.clientLeft,u.y=x.y+n.clientTop}const f=l&&!m&&!i?Zk(l,c,!0):kn(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x+f.x,y:r.y*d.y-c.scrollTop*d.y+u.y+f.y}}function N$(t){return Array.from(t.getClientRects())}function _$(t){const s=Pn(t),r=pf(t),n=t.ownerDocument.body,a=ur(s.scrollWidth,s.clientWidth,n.scrollWidth,n.clientWidth),i=ur(s.scrollHeight,s.clientHeight,n.scrollHeight,n.clientHeight);let l=-r.scrollLeft+Oy(t);const o=-r.scrollTop;return on(n).direction==="rtl"&&(l+=ur(s.clientWidth,n.clientWidth)-a),{width:a,height:i,x:l,y:o}}function S$(t,s){const r=gr(t),n=Pn(t),a=r.visualViewport;let i=n.clientWidth,l=n.clientHeight,o=0,c=0;if(a){i=a.width,l=a.height;const d=Ay();(!d||d&&s==="fixed")&&(o=a.offsetLeft,c=a.offsetTop)}return{width:i,height:l,x:o,y:c}}const k$=new Set(["absolute","fixed"]);function C$(t,s){const r=nl(t,!0,s==="fixed"),n=r.top+t.clientTop,a=r.left+t.clientLeft,i=En(t)?ao(t):kn(1),l=t.clientWidth*i.x,o=t.clientHeight*i.y,c=a*i.x,d=n*i.y;return{width:l,height:o,x:c,y:d}}function lb(t,s,r){let n;if(s==="viewport")n=S$(t,r);else if(s==="document")n=_$(Pn(t));else if(ln(s))n=C$(s,r);else{const a=Qk(t);n={x:s.x-a.x,y:s.y-a.y,width:s.width,height:s.height}}return fm(n)}function Yk(t,s){const r=ui(t);return r===s||!ln(r)||Vo(r)?!1:on(r).position==="fixed"||Yk(r,s)}function E$(t,s){const r=s.get(t);if(r)return r;let n=Fd(t,[],!1).filter(o=>ln(o)&&dc(o)!=="body"),a=null;const i=on(t).position==="fixed";let l=i?ui(t):t;for(;ln(l)&&!Vo(l);){const o=on(l),c=Py(l);!c&&o.position==="fixed"&&(a=null),(i?!c&&!a:!c&&o.position==="static"&&!!a&&k$.has(a.position)||lu(l)&&!c&&Yk(t,l))?n=n.filter(u=>u!==l):a=o,l=ui(l)}return s.set(t,n),n}function T$(t){let{element:s,boundary:r,rootBoundary:n,strategy:a}=t;const l=[...r==="clippingAncestors"?xf(s)?[]:E$(s,this._c):[].concat(r),n],o=l[0],c=l.reduce((d,u)=>{const m=lb(s,u,a);return d.top=ur(m.top,d.top),d.right=di(m.right,d.right),d.bottom=di(m.bottom,d.bottom),d.left=ur(m.left,d.left),d},lb(s,o,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function P$(t){const{width:s,height:r}=Gk(t);return{width:s,height:r}}function A$(t,s,r){const n=En(s),a=Pn(s),i=r==="fixed",l=nl(t,!0,i,s);let o={scrollLeft:0,scrollTop:0};const c=kn(0);function d(){c.x=Oy(a)}if(n||!n&&!i)if((dc(s)!=="body"||lu(a))&&(o=pf(s)),n){const x=nl(s,!0,i,s);c.x=x.x+s.clientLeft,c.y=x.y+s.clientTop}else a&&d();i&&!n&&a&&d();const u=a&&!n&&!i?Zk(a,o):kn(0),m=l.left+o.scrollLeft-c.x-u.x,f=l.top+o.scrollTop-c.y-u.y;return{x:m,y:f,width:l.width,height:l.height}}function Dx(t){return on(t).position==="static"}function ob(t,s){if(!En(t)||on(t).position==="fixed")return null;if(s)return s(t);let r=t.offsetParent;return Pn(t)===r&&(r=r.ownerDocument.body),r}function Xk(t,s){const r=gr(t);if(xf(t))return r;if(!En(t)){let a=ui(t);for(;a&&!Vo(a);){if(ln(a)&&!Dx(a))return a;a=ui(a)}return r}let n=ob(t,s);for(;n&&m$(n)&&Dx(n);)n=ob(n,s);return n&&Vo(n)&&Dx(n)&&!Py(n)?r:n||v$(t)||r}const R$=async function(t){const s=this.getOffsetParent||Xk,r=this.getDimensions,n=await r(t.floating);return{reference:A$(t.reference,await s(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function O$(t){return on(t).direction==="rtl"}const I$={convertOffsetParentRelativeRectToViewportRelativeRect:b$,getDocumentElement:Pn,getClippingRect:T$,getOffsetParent:Xk,getElementRects:R$,getClientRects:N$,getDimensions:P$,getScale:ao,isElement:ln,isRTL:O$};function Jk(t,s){return t.x===s.x&&t.y===s.y&&t.width===s.width&&t.height===s.height}function D$(t,s){let r=null,n;const a=Pn(t);function i(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function l(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),i();const d=t.getBoundingClientRect(),{left:u,top:m,width:f,height:x}=d;if(o||s(),!f||!x)return;const g=Ju(m),v=Ju(a.clientWidth-(u+f)),p=Ju(a.clientHeight-(m+x)),j=Ju(u),y={rootMargin:-g+"px "+-v+"px "+-p+"px "+-j+"px",threshold:ur(0,di(1,c))||1};let _=!0;function b(N){const T=N[0].intersectionRatio;if(T!==c){if(!_)return l();T?l(!1,T):n=setTimeout(()=>{l(!1,1e-7)},1e3)}T===1&&!Jk(d,t.getBoundingClientRect())&&l(),_=!1}try{r=new IntersectionObserver(b,{...y,root:a.ownerDocument})}catch{r=new IntersectionObserver(b,y)}r.observe(t)}return l(!0),i}function M$(t,s,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=Ry(t),u=a||i?[...d?Fd(d):[],...Fd(s)]:[];u.forEach(j=>{a&&j.addEventListener("scroll",r,{passive:!0}),i&&j.addEventListener("resize",r)});const m=d&&o?D$(d,r):null;let f=-1,x=null;l&&(x=new ResizeObserver(j=>{let[w]=j;w&&w.target===d&&x&&(x.unobserve(s),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var y;(y=x)==null||y.observe(s)})),r()}),d&&!c&&x.observe(d),x.observe(s));let g,v=c?nl(t):null;c&&p();function p(){const j=nl(t);v&&!Jk(v,j)&&r(),v=j,g=requestAnimationFrame(p)}return r(),()=>{var j;u.forEach(w=>{a&&w.removeEventListener("scroll",r),i&&w.removeEventListener("resize",r)}),m==null||m(),(j=x)==null||j.disconnect(),x=null,c&&cancelAnimationFrame(g)}}const L$=l$,F$=o$,$$=n$,U$=d$,z$=a$,cb=r$,V$=c$,B$=(t,s,r)=>{const n=new Map,a={platform:I$,...r},i={...a.platform,_c:n};return s$(t,s,{...a,platform:i})};var q$=typeof document<"u",H$=function(){},yh=q$?h.useLayoutEffect:H$;function xm(t,s){if(t===s)return!0;if(typeof t!=typeof s)return!1;if(typeof t=="function"&&t.toString()===s.toString())return!0;let r,n,a;if(t&&s&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==s.length)return!1;for(n=r;n--!==0;)if(!xm(t[n],s[n]))return!1;return!0}if(a=Object.keys(t),r=a.length,r!==Object.keys(s).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(s,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&t.$$typeof)&&!xm(t[i],s[i]))return!1}return!0}return t!==t&&s!==s}function e4(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function db(t,s){const r=e4(t);return Math.round(s*r)/r}function Mx(t){const s=h.useRef(t);return yh(()=>{s.current=t}),s}function W$(t){t===void 0&&(t={});const{placement:s="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:l}={},transform:o=!0,whileElementsMounted:c,open:d}=t,[u,m]=h.useState({x:0,y:0,strategy:r,placement:s,middlewareData:{},isPositioned:!1}),[f,x]=h.useState(n);xm(f,n)||x(n);const[g,v]=h.useState(null),[p,j]=h.useState(null),w=h.useCallback(O=>{O!==N.current&&(N.current=O,v(O))},[]),y=h.useCallback(O=>{O!==T.current&&(T.current=O,j(O))},[]),_=i||g,b=l||p,N=h.useRef(null),T=h.useRef(null),A=h.useRef(u),S=c!=null,P=Mx(c),C=Mx(a),R=Mx(d),K=h.useCallback(()=>{if(!N.current||!T.current)return;const O={placement:s,strategy:r,middleware:f};C.current&&(O.platform=C.current),B$(N.current,T.current,O).then(z=>{const U={...z,isPositioned:R.current!==!1};W.current&&!xm(A.current,U)&&(A.current=U,dl.flushSync(()=>{m(U)}))})},[f,s,r,C,R]);yh(()=>{d===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,m(O=>({...O,isPositioned:!1})))},[d]);const W=h.useRef(!1);yh(()=>(W.current=!0,()=>{W.current=!1}),[]),yh(()=>{if(_&&(N.current=_),b&&(T.current=b),_&&b){if(P.current)return P.current(_,b,K);K()}},[_,b,K,P,S]);const D=h.useMemo(()=>({reference:N,floating:T,setReference:w,setFloating:y}),[w,y]),B=h.useMemo(()=>({reference:_,floating:b}),[_,b]),V=h.useMemo(()=>{const O={position:r,left:0,top:0};if(!B.floating)return O;const z=db(B.floating,u.x),U=db(B.floating,u.y);return o?{...O,transform:"translate("+z+"px, "+U+"px)",...e4(B.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:z,top:U}},[r,o,B.floating,u.x,u.y]);return h.useMemo(()=>({...u,update:K,refs:D,elements:B,floatingStyles:V}),[u,K,D,B,V])}const K$=t=>{function s(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:a}=typeof t=="function"?t(r):t;return n&&s(n)?n.current!=null?cb({element:n.current,padding:a}).fn(r):{}:n?cb({element:n,padding:a}).fn(r):{}}}},G$=(t,s)=>({...L$(t),options:[t,s]}),Q$=(t,s)=>({...F$(t),options:[t,s]}),Z$=(t,s)=>({...V$(t),options:[t,s]}),Y$=(t,s)=>({...$$(t),options:[t,s]}),X$=(t,s)=>({...U$(t),options:[t,s]}),J$=(t,s)=>({...z$(t),options:[t,s]}),e8=(t,s)=>({...K$(t),options:[t,s]});var t8="Arrow",t4=h.forwardRef((t,s)=>{const{children:r,width:n=10,height:a=5,...i}=t;return e.jsx(me.svg,{...i,ref:s,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});t4.displayName=t8;var s8=t4;function gf(t){const[s,r]=h.useState(void 0);return es(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let l,o;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;l=d.inlineSize,o=d.blockSize}else l=t.offsetWidth,o=t.offsetHeight;r({width:l,height:o})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),s}var Iy="Popper",[s4,uc]=Ns(Iy),[r8,r4]=s4(Iy),n4=t=>{const{__scopePopper:s,children:r}=t,[n,a]=h.useState(null);return e.jsx(r8,{scope:s,anchor:n,onAnchorChange:a,children:r})};n4.displayName=Iy;var a4="PopperAnchor",i4=h.forwardRef((t,s)=>{const{__scopePopper:r,virtualRef:n,...a}=t,i=r4(a4,r),l=h.useRef(null),o=Me(s,l);return h.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||l.current)}),n?null:e.jsx(me.div,{...a,ref:o})});i4.displayName=a4;var Dy="PopperContent",[n8,a8]=s4(Dy),l4=h.forwardRef((t,s)=>{var ie,Re,Le,Ce,nt,We;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:l=0,arrowPadding:o=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:m="partial",hideWhenDetached:f=!1,updatePositionStrategy:x="optimized",onPlaced:g,...v}=t,p=r4(Dy,r),[j,w]=h.useState(null),y=Me(s,Rt=>w(Rt)),[_,b]=h.useState(null),N=gf(_),T=(N==null?void 0:N.width)??0,A=(N==null?void 0:N.height)??0,S=n+(i!=="center"?"-"+i:""),P=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},C=Array.isArray(d)?d:[d],R=C.length>0,K={padding:P,boundary:C.filter(l8),altBoundary:R},{refs:W,floatingStyles:D,placement:B,isPositioned:V,middlewareData:O}=W$({strategy:"fixed",placement:S,whileElementsMounted:(...Rt)=>M$(...Rt,{animationFrame:x==="always"}),elements:{reference:p.anchor},middleware:[G$({mainAxis:a+A,alignmentAxis:l}),c&&Q$({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?Z$():void 0,...K}),c&&Y$({...K}),X$({...K,apply:({elements:Rt,rects:fs,availableWidth:dn,availableHeight:_r})=>{const{width:Rn,height:gu}=fs.reference,On=Rt.floating.style;On.setProperty("--radix-popper-available-width",`${dn}px`),On.setProperty("--radix-popper-available-height",`${_r}px`),On.setProperty("--radix-popper-anchor-width",`${Rn}px`),On.setProperty("--radix-popper-anchor-height",`${gu}px`)}}),_&&e8({element:_,padding:o}),o8({arrowWidth:T,arrowHeight:A}),f&&J$({strategy:"referenceHidden",...K})]}),[z,U]=d4(B),G=Wt(g);es(()=>{V&&(G==null||G())},[V,G]);const q=(ie=O.arrow)==null?void 0:ie.x,ce=(Re=O.arrow)==null?void 0:Re.y,ye=((Le=O.arrow)==null?void 0:Le.centerOffset)!==0,[ue,Se]=h.useState();return es(()=>{j&&Se(window.getComputedStyle(j).zIndex)},[j]),e.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...D,transform:V?D.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ue,"--radix-popper-transform-origin":[(Ce=O.transformOrigin)==null?void 0:Ce.x,(nt=O.transformOrigin)==null?void 0:nt.y].join(" "),...((We=O.hide)==null?void 0:We.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:e.jsx(n8,{scope:r,placedSide:z,onArrowChange:b,arrowX:q,arrowY:ce,shouldHideArrow:ye,children:e.jsx(me.div,{"data-side":z,"data-align":U,...v,ref:y,style:{...v.style,animation:V?void 0:"none"}})})})});l4.displayName=Dy;var o4="PopperArrow",i8={top:"bottom",right:"left",bottom:"top",left:"right"},c4=h.forwardRef(function(s,r){const{__scopePopper:n,...a}=s,i=a8(o4,n),l=i8[i.placedSide];return e.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:e.jsx(s8,{...a,ref:r,style:{...a.style,display:"block"}})})});c4.displayName=o4;function l8(t){return t!==null}var o8=t=>({name:"transformOrigin",options:t,fn(s){var p,j,w;const{placement:r,rects:n,middlewareData:a}=s,l=((p=a.arrow)==null?void 0:p.centerOffset)!==0,o=l?0:t.arrowWidth,c=l?0:t.arrowHeight,[d,u]=d4(r),m={start:"0%",center:"50%",end:"100%"}[u],f=(((j=a.arrow)==null?void 0:j.x)??0)+o/2,x=(((w=a.arrow)==null?void 0:w.y)??0)+c/2;let g="",v="";return d==="bottom"?(g=l?m:`${f}px`,v=`${-c}px`):d==="top"?(g=l?m:`${f}px`,v=`${n.floating.height+c}px`):d==="right"?(g=`${-c}px`,v=l?m:`${x}px`):d==="left"&&(g=`${n.floating.width+c}px`,v=l?m:`${x}px`),{data:{x:g,y:v}}}});function d4(t){const[s,r="center"]=t.split("-");return[s,r]}var My=n4,vf=i4,Ly=l4,Fy=c4;function yf(t){const s=h.useRef({value:t,previous:t});return h.useMemo(()=>(s.current.value!==t&&(s.current.previous=s.current.value,s.current.value=t),s.current.previous),[t])}var c8=[" ","Enter","ArrowUp","ArrowDown"],d8=[" ","Enter"],al="Select",[jf,wf,u8]=Xd(al),[hc,NB]=Ns(al,[u8,uc]),bf=uc(),[h8,gi]=hc(al),[m8,f8]=hc(al),u4=t=>{const{__scopeSelect:s,children:r,open:n,defaultOpen:a,onOpenChange:i,value:l,defaultValue:o,onValueChange:c,dir:d,name:u,autoComplete:m,disabled:f,required:x,form:g}=t,v=bf(s),[p,j]=h.useState(null),[w,y]=h.useState(null),[_,b]=h.useState(!1),N=ic(d),[T,A]=nn({prop:n,defaultProp:a??!1,onChange:i,caller:al}),[S,P]=nn({prop:l,defaultProp:o,onChange:c,caller:al}),C=h.useRef(null),R=p?g||!!p.closest("form"):!0,[K,W]=h.useState(new Set),D=Array.from(K).map(B=>B.props.value).join(";");return e.jsx(My,{...v,children:e.jsxs(h8,{required:x,scope:s,trigger:p,onTriggerChange:j,valueNode:w,onValueNodeChange:y,valueNodeHasChildren:_,onValueNodeHasChildrenChange:b,contentId:ws(),value:S,onValueChange:P,open:T,onOpenChange:A,dir:N,triggerPointerDownPosRef:C,disabled:f,children:[e.jsx(jf.Provider,{scope:s,children:e.jsx(m8,{scope:t.__scopeSelect,onNativeOptionAdd:h.useCallback(B=>{W(V=>new Set(V).add(B))},[]),onNativeOptionRemove:h.useCallback(B=>{W(V=>{const O=new Set(V);return O.delete(B),O})},[]),children:r})}),R?e.jsxs(D4,{"aria-hidden":!0,required:x,tabIndex:-1,name:u,autoComplete:m,value:S,onChange:B=>P(B.target.value),disabled:f,form:g,children:[S===void 0?e.jsx("option",{value:""}):null,Array.from(K)]},D):null]})})};u4.displayName=al;var h4="SelectTrigger",m4=h.forwardRef((t,s)=>{const{__scopeSelect:r,disabled:n=!1,...a}=t,i=bf(r),l=gi(h4,r),o=l.disabled||n,c=Me(s,l.onTriggerChange),d=wf(r),u=h.useRef("touch"),[m,f,x]=L4(v=>{const p=d().filter(y=>!y.disabled),j=p.find(y=>y.value===l.value),w=F4(p,v,j);w!==void 0&&l.onValueChange(w.value)}),g=v=>{o||(l.onOpenChange(!0),x()),v&&(l.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return e.jsx(vf,{asChild:!0,...i,children:e.jsx(me.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":M4(l.value)?"":void 0,...a,ref:c,onClick:se(a.onClick,v=>{v.currentTarget.focus(),u.current!=="mouse"&&g(v)}),onPointerDown:se(a.onPointerDown,v=>{u.current=v.pointerType;const p=v.target;p.hasPointerCapture(v.pointerId)&&p.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(g(v),v.preventDefault())}),onKeyDown:se(a.onKeyDown,v=>{const p=m.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&f(v.key),!(p&&v.key===" ")&&c8.includes(v.key)&&(g(),v.preventDefault())})})})});m4.displayName=h4;var f4="SelectValue",x4=h.forwardRef((t,s)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:l="",...o}=t,c=gi(f4,r),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,m=Me(s,c.onValueNodeChange);return es(()=>{d(u)},[d,u]),e.jsx(me.span,{...o,ref:m,style:{pointerEvents:"none"},children:M4(c.value)?e.jsx(e.Fragment,{children:l}):i})});x4.displayName=f4;var x8="SelectIcon",p4=h.forwardRef((t,s)=>{const{__scopeSelect:r,children:n,...a}=t;return e.jsx(me.span,{"aria-hidden":!0,...a,ref:s,children:n||""})});p4.displayName=x8;var p8="SelectPortal",g4=t=>e.jsx(ec,{asChild:!0,...t});g4.displayName=p8;var il="SelectContent",v4=h.forwardRef((t,s)=>{const r=gi(il,t.__scopeSelect),[n,a]=h.useState();if(es(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?dl.createPortal(e.jsx(y4,{scope:t.__scopeSelect,children:e.jsx(jf.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),i):null}return e.jsx(j4,{...t,ref:s})});v4.displayName=il;var Br=10,[y4,vi]=hc(il),g8="SelectContentImpl",v8=ni("SelectContent.RemoveScroll"),j4=h.forwardRef((t,s)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:l,side:o,sideOffset:c,align:d,alignOffset:u,arrowPadding:m,collisionBoundary:f,collisionPadding:x,sticky:g,hideWhenDetached:v,avoidCollisions:p,...j}=t,w=gi(il,r),[y,_]=h.useState(null),[b,N]=h.useState(null),T=Me(s,ie=>_(ie)),[A,S]=h.useState(null),[P,C]=h.useState(null),R=wf(r),[K,W]=h.useState(!1),D=h.useRef(!1);h.useEffect(()=>{if(y)return cf(y)},[y]),lf();const B=h.useCallback(ie=>{const[Re,...Le]=R().map(We=>We.ref.current),[Ce]=Le.slice(-1),nt=document.activeElement;for(const We of ie)if(We===nt||(We==null||We.scrollIntoView({block:"nearest"}),We===Re&&b&&(b.scrollTop=0),We===Ce&&b&&(b.scrollTop=b.scrollHeight),We==null||We.focus(),document.activeElement!==nt))return},[R,b]),V=h.useCallback(()=>B([A,y]),[B,A,y]);h.useEffect(()=>{K&&V()},[K,V]);const{onOpenChange:O,triggerPointerDownPosRef:z}=w;h.useEffect(()=>{if(y){let ie={x:0,y:0};const Re=Ce=>{var nt,We;ie={x:Math.abs(Math.round(Ce.pageX)-(((nt=z.current)==null?void 0:nt.x)??0)),y:Math.abs(Math.round(Ce.pageY)-(((We=z.current)==null?void 0:We.y)??0))}},Le=Ce=>{ie.x<=10&&ie.y<=10?Ce.preventDefault():y.contains(Ce.target)||O(!1),document.removeEventListener("pointermove",Re),z.current=null};return z.current!==null&&(document.addEventListener("pointermove",Re),document.addEventListener("pointerup",Le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Re),document.removeEventListener("pointerup",Le,{capture:!0})}}},[y,O,z]),h.useEffect(()=>{const ie=()=>O(!1);return window.addEventListener("blur",ie),window.addEventListener("resize",ie),()=>{window.removeEventListener("blur",ie),window.removeEventListener("resize",ie)}},[O]);const[U,G]=L4(ie=>{const Re=R().filter(nt=>!nt.disabled),Le=Re.find(nt=>nt.ref.current===document.activeElement),Ce=F4(Re,ie,Le);Ce&&setTimeout(()=>Ce.ref.current.focus())}),q=h.useCallback((ie,Re,Le)=>{const Ce=!D.current&&!Le;(w.value!==void 0&&w.value===Re||Ce)&&(S(ie),Ce&&(D.current=!0))},[w.value]),ce=h.useCallback(()=>y==null?void 0:y.focus(),[y]),ye=h.useCallback((ie,Re,Le)=>{const Ce=!D.current&&!Le;(w.value!==void 0&&w.value===Re||Ce)&&C(ie)},[w.value]),ue=n==="popper"?kg:w4,Se=ue===kg?{side:o,sideOffset:c,align:d,alignOffset:u,arrowPadding:m,collisionBoundary:f,collisionPadding:x,sticky:g,hideWhenDetached:v,avoidCollisions:p}:{};return e.jsx(y4,{scope:r,content:y,viewport:b,onViewportChange:N,itemRefCallback:q,selectedItem:A,onItemLeave:ce,itemTextRefCallback:ye,focusSelectedItem:V,selectedItemText:P,position:n,isPositioned:K,searchRef:U,children:e.jsx(nu,{as:v8,allowPinchZoom:!0,children:e.jsx(ru,{asChild:!0,trapped:w.open,onMountAutoFocus:ie=>{ie.preventDefault()},onUnmountAutoFocus:se(a,ie=>{var Re;(Re=w.trigger)==null||Re.focus({preventScroll:!0}),ie.preventDefault()}),children:e.jsx(Jo,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:ie=>ie.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:e.jsx(ue,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:ie=>ie.preventDefault(),...j,...Se,onPlaced:()=>W(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:se(j.onKeyDown,ie=>{const Re=ie.ctrlKey||ie.altKey||ie.metaKey;if(ie.key==="Tab"&&ie.preventDefault(),!Re&&ie.key.length===1&&G(ie.key),["ArrowUp","ArrowDown","Home","End"].includes(ie.key)){let Ce=R().filter(nt=>!nt.disabled).map(nt=>nt.ref.current);if(["ArrowUp","End"].includes(ie.key)&&(Ce=Ce.slice().reverse()),["ArrowUp","ArrowDown"].includes(ie.key)){const nt=ie.target,We=Ce.indexOf(nt);Ce=Ce.slice(We+1)}setTimeout(()=>B(Ce)),ie.preventDefault()}})})})})})})});j4.displayName=g8;var y8="SelectItemAlignedPosition",w4=h.forwardRef((t,s)=>{const{__scopeSelect:r,onPlaced:n,...a}=t,i=gi(il,r),l=vi(il,r),[o,c]=h.useState(null),[d,u]=h.useState(null),m=Me(s,T=>u(T)),f=wf(r),x=h.useRef(!1),g=h.useRef(!0),{viewport:v,selectedItem:p,selectedItemText:j,focusSelectedItem:w}=l,y=h.useCallback(()=>{if(i.trigger&&i.valueNode&&o&&d&&v&&p&&j){const T=i.trigger.getBoundingClientRect(),A=d.getBoundingClientRect(),S=i.valueNode.getBoundingClientRect(),P=j.getBoundingClientRect();if(i.dir!=="rtl"){const nt=P.left-A.left,We=S.left-nt,Rt=T.left-We,fs=T.width+Rt,dn=Math.max(fs,A.width),_r=window.innerWidth-Br,Rn=Md(We,[Br,Math.max(Br,_r-dn)]);o.style.minWidth=fs+"px",o.style.left=Rn+"px"}else{const nt=A.right-P.right,We=window.innerWidth-S.right-nt,Rt=window.innerWidth-T.right-We,fs=T.width+Rt,dn=Math.max(fs,A.width),_r=window.innerWidth-Br,Rn=Md(We,[Br,Math.max(Br,_r-dn)]);o.style.minWidth=fs+"px",o.style.right=Rn+"px"}const C=f(),R=window.innerHeight-Br*2,K=v.scrollHeight,W=window.getComputedStyle(d),D=parseInt(W.borderTopWidth,10),B=parseInt(W.paddingTop,10),V=parseInt(W.borderBottomWidth,10),O=parseInt(W.paddingBottom,10),z=D+B+K+O+V,U=Math.min(p.offsetHeight*5,z),G=window.getComputedStyle(v),q=parseInt(G.paddingTop,10),ce=parseInt(G.paddingBottom,10),ye=T.top+T.height/2-Br,ue=R-ye,Se=p.offsetHeight/2,ie=p.offsetTop+Se,Re=D+B+ie,Le=z-Re;if(Re<=ye){const nt=C.length>0&&p===C[C.length-1].ref.current;o.style.bottom="0px";const We=d.clientHeight-v.offsetTop-v.offsetHeight,Rt=Math.max(ue,Se+(nt?ce:0)+We+V),fs=Re+Rt;o.style.height=fs+"px"}else{const nt=C.length>0&&p===C[0].ref.current;o.style.top="0px";const Rt=Math.max(ye,D+v.offsetTop+(nt?q:0)+Se)+Le;o.style.height=Rt+"px",v.scrollTop=Re-ye+v.offsetTop}o.style.margin=`${Br}px 0`,o.style.minHeight=U+"px",o.style.maxHeight=R+"px",n==null||n(),requestAnimationFrame(()=>x.current=!0)}},[f,i.trigger,i.valueNode,o,d,v,p,j,i.dir,n]);es(()=>y(),[y]);const[_,b]=h.useState();es(()=>{d&&b(window.getComputedStyle(d).zIndex)},[d]);const N=h.useCallback(T=>{T&&g.current===!0&&(y(),w==null||w(),g.current=!1)},[y,w]);return e.jsx(w8,{scope:r,contentWrapper:o,shouldExpandOnScrollRef:x,onScrollButtonChange:N,children:e.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:e.jsx(me.div,{...a,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});w4.displayName=y8;var j8="SelectPopperPosition",kg=h.forwardRef((t,s)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Br,...i}=t,l=bf(r);return e.jsx(Ly,{...l,...i,ref:s,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});kg.displayName=j8;var[w8,$y]=hc(il,{}),Cg="SelectViewport",b4=h.forwardRef((t,s)=>{const{__scopeSelect:r,nonce:n,...a}=t,i=vi(Cg,r),l=$y(Cg,r),o=Me(s,i.onViewportChange),c=h.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),e.jsx(jf.Slot,{scope:r,children:e.jsx(me.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:se(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:f}=l;if(f!=null&&f.current&&m){const x=Math.abs(c.current-u.scrollTop);if(x>0){const g=window.innerHeight-Br*2,v=parseFloat(m.style.minHeight),p=parseFloat(m.style.height),j=Math.max(v,p);if(j<g){const w=j+x,y=Math.min(g,w),_=w-y;m.style.height=y+"px",m.style.bottom==="0px"&&(u.scrollTop=_>0?_:0,m.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});b4.displayName=Cg;var N4="SelectGroup",[b8,N8]=hc(N4),_8=h.forwardRef((t,s)=>{const{__scopeSelect:r,...n}=t,a=ws();return e.jsx(b8,{scope:r,id:a,children:e.jsx(me.div,{role:"group","aria-labelledby":a,...n,ref:s})})});_8.displayName=N4;var _4="SelectLabel",S4=h.forwardRef((t,s)=>{const{__scopeSelect:r,...n}=t,a=N8(_4,r);return e.jsx(me.div,{id:a.id,...n,ref:s})});S4.displayName=_4;var pm="SelectItem",[S8,k4]=hc(pm),C4=h.forwardRef((t,s)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...l}=t,o=gi(pm,r),c=vi(pm,r),d=o.value===n,[u,m]=h.useState(i??""),[f,x]=h.useState(!1),g=Me(s,w=>{var y;return(y=c.itemRefCallback)==null?void 0:y.call(c,w,n,a)}),v=ws(),p=h.useRef("touch"),j=()=>{a||(o.onValueChange(n),o.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(S8,{scope:r,value:n,disabled:a,textId:v,isSelected:d,onItemTextChange:h.useCallback(w=>{m(y=>y||((w==null?void 0:w.textContent)??"").trim())},[]),children:e.jsx(jf.ItemSlot,{scope:r,value:n,disabled:a,textValue:u,children:e.jsx(me.div,{role:"option","aria-labelledby":v,"data-highlighted":f?"":void 0,"aria-selected":d&&f,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...l,ref:g,onFocus:se(l.onFocus,()=>x(!0)),onBlur:se(l.onBlur,()=>x(!1)),onClick:se(l.onClick,()=>{p.current!=="mouse"&&j()}),onPointerUp:se(l.onPointerUp,()=>{p.current==="mouse"&&j()}),onPointerDown:se(l.onPointerDown,w=>{p.current=w.pointerType}),onPointerMove:se(l.onPointerMove,w=>{var y;p.current=w.pointerType,a?(y=c.onItemLeave)==null||y.call(c):p.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:se(l.onPointerLeave,w=>{var y;w.currentTarget===document.activeElement&&((y=c.onItemLeave)==null||y.call(c))}),onKeyDown:se(l.onKeyDown,w=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&w.key===" "||(d8.includes(w.key)&&j(),w.key===" "&&w.preventDefault())})})})})});C4.displayName=pm;var Zc="SelectItemText",E4=h.forwardRef((t,s)=>{const{__scopeSelect:r,className:n,style:a,...i}=t,l=gi(Zc,r),o=vi(Zc,r),c=k4(Zc,r),d=f8(Zc,r),[u,m]=h.useState(null),f=Me(s,j=>m(j),c.onItemTextChange,j=>{var w;return(w=o.itemTextRefCallback)==null?void 0:w.call(o,j,c.value,c.disabled)}),x=u==null?void 0:u.textContent,g=h.useMemo(()=>e.jsx("option",{value:c.value,disabled:c.disabled,children:x},c.value),[c.disabled,c.value,x]),{onNativeOptionAdd:v,onNativeOptionRemove:p}=d;return es(()=>(v(g),()=>p(g)),[v,p,g]),e.jsxs(e.Fragment,{children:[e.jsx(me.span,{id:c.textId,...i,ref:f}),c.isSelected&&l.valueNode&&!l.valueNodeHasChildren?dl.createPortal(i.children,l.valueNode):null]})});E4.displayName=Zc;var T4="SelectItemIndicator",P4=h.forwardRef((t,s)=>{const{__scopeSelect:r,...n}=t;return k4(T4,r).isSelected?e.jsx(me.span,{"aria-hidden":!0,...n,ref:s}):null});P4.displayName=T4;var Eg="SelectScrollUpButton",A4=h.forwardRef((t,s)=>{const r=vi(Eg,t.__scopeSelect),n=$y(Eg,t.__scopeSelect),[a,i]=h.useState(!1),l=Me(s,n.onScrollButtonChange);return es(()=>{if(r.viewport&&r.isPositioned){let o=function(){const d=c.scrollTop>0;i(d)};const c=r.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),a?e.jsx(O4,{...t,ref:l,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=r;o&&c&&(o.scrollTop=o.scrollTop-c.offsetHeight)}}):null});A4.displayName=Eg;var Tg="SelectScrollDownButton",R4=h.forwardRef((t,s)=>{const r=vi(Tg,t.__scopeSelect),n=$y(Tg,t.__scopeSelect),[a,i]=h.useState(!1),l=Me(s,n.onScrollButtonChange);return es(()=>{if(r.viewport&&r.isPositioned){let o=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=r.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),a?e.jsx(O4,{...t,ref:l,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=r;o&&c&&(o.scrollTop=o.scrollTop+c.offsetHeight)}}):null});R4.displayName=Tg;var O4=h.forwardRef((t,s)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=t,i=vi("SelectScrollButton",r),l=h.useRef(null),o=wf(r),c=h.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),es(()=>{var u;const d=o().find(m=>m.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[o]),e.jsx(me.div,{"aria-hidden":!0,...a,ref:s,style:{flexShrink:0,...a.style},onPointerDown:se(a.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(n,50))}),onPointerMove:se(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),l.current===null&&(l.current=window.setInterval(n,50))}),onPointerLeave:se(a.onPointerLeave,()=>{c()})})}),k8="SelectSeparator",I4=h.forwardRef((t,s)=>{const{__scopeSelect:r,...n}=t;return e.jsx(me.div,{"aria-hidden":!0,...n,ref:s})});I4.displayName=k8;var Pg="SelectArrow",C8=h.forwardRef((t,s)=>{const{__scopeSelect:r,...n}=t,a=bf(r),i=gi(Pg,r),l=vi(Pg,r);return i.open&&l.position==="popper"?e.jsx(Fy,{...a,...n,ref:s}):null});C8.displayName=Pg;var E8="SelectBubbleInput",D4=h.forwardRef(({__scopeSelect:t,value:s,...r},n)=>{const a=h.useRef(null),i=Me(n,a),l=yf(s);return h.useEffect(()=>{const o=a.current;if(!o)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(l!==s&&u){const m=new Event("change",{bubbles:!0});u.call(o,s),o.dispatchEvent(m)}},[l,s]),e.jsx(me.select,{...r,style:{...o2,...r.style},ref:i,defaultValue:s})});D4.displayName=E8;function M4(t){return t===""||t===void 0}function L4(t){const s=Wt(t),r=h.useRef(""),n=h.useRef(0),a=h.useCallback(l=>{const o=r.current+l;s(o),function c(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(o)},[s]),i=h.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function F4(t,s,r){const a=s.length>1&&Array.from(s).every(d=>d===s[0])?s[0]:s,i=r?t.indexOf(r):-1;let l=T8(t,Math.max(i,0));a.length===1&&(l=l.filter(d=>d!==r));const c=l.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function T8(t,s){return t.map((r,n)=>t[(s+n)%t.length])}var P8=u4,$4=m4,A8=x4,R8=p4,O8=g4,U4=v4,I8=b4,z4=S4,V4=C4,D8=E4,M8=P4,B4=A4,q4=R4,H4=I4;const Tr=P8,Pr=A8,hr=h.forwardRef(({className:t,children:s,...r},n)=>e.jsxs($4,{ref:n,className:re("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[s,e.jsx(R8,{asChild:!0,children:e.jsx(Gm,{className:"h-4 w-4 opacity-50"})})]}));hr.displayName=$4.displayName;const W4=h.forwardRef(({className:t,...s},r)=>e.jsx(B4,{ref:r,className:re("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(R2,{className:"h-4 w-4"})}));W4.displayName=B4.displayName;const K4=h.forwardRef(({className:t,...s},r)=>e.jsx(q4,{ref:r,className:re("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(Gm,{className:"h-4 w-4"})}));K4.displayName=q4.displayName;const mr=h.forwardRef(({className:t,children:s,position:r="popper",...n},a)=>e.jsx(O8,{children:e.jsxs(U4,{ref:a,className:re("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[e.jsx(W4,{}),e.jsx(I8,{className:re("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),e.jsx(K4,{})]})}));mr.displayName=U4.displayName;const L8=h.forwardRef(({className:t,...s},r)=>e.jsx(z4,{ref:r,className:re("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...s}));L8.displayName=z4.displayName;const lt=h.forwardRef(({className:t,children:s,...r},n)=>e.jsxs(V4,{ref:n,className:re("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(M8,{children:e.jsx(Ja,{className:"h-4 w-4"})})}),e.jsx(D8,{children:s})]}));lt.displayName=V4.displayName;const F8=h.forwardRef(({className:t,...s},r)=>e.jsx(H4,{ref:r,className:re("-mx-1 my-1 h-px bg-muted",t),...s}));F8.displayName=H4.displayName;var Nf="Switch",[$8,_B]=Ns(Nf),[U8,z8]=$8(Nf),G4=h.forwardRef((t,s)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:l,disabled:o,value:c="on",onCheckedChange:d,form:u,...m}=t,[f,x]=h.useState(null),g=Me(s,y=>x(y)),v=h.useRef(!1),p=f?u||!!f.closest("form"):!0,[j,w]=nn({prop:a,defaultProp:i??!1,onChange:d,caller:Nf});return e.jsxs(U8,{scope:r,checked:j,disabled:o,children:[e.jsx(me.button,{type:"button",role:"switch","aria-checked":j,"aria-required":l,"data-state":X4(j),"data-disabled":o?"":void 0,disabled:o,value:c,...m,ref:g,onClick:se(t.onClick,y=>{w(_=>!_),p&&(v.current=y.isPropagationStopped(),v.current||y.stopPropagation())})}),p&&e.jsx(Y4,{control:f,bubbles:!v.current,name:n,value:c,checked:j,required:l,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});G4.displayName=Nf;var Q4="SwitchThumb",Z4=h.forwardRef((t,s)=>{const{__scopeSwitch:r,...n}=t,a=z8(Q4,r);return e.jsx(me.span,{"data-state":X4(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:s})});Z4.displayName=Q4;var V8="SwitchBubbleInput",Y4=h.forwardRef(({__scopeSwitch:t,control:s,checked:r,bubbles:n=!0,...a},i)=>{const l=h.useRef(null),o=Me(l,i),c=yf(r),d=gf(s);return h.useEffect(()=>{const u=l.current;if(!u)return;const m=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(m,"checked").set;if(c!==r&&x){const g=new Event("click",{bubbles:n});x.call(u,r),u.dispatchEvent(g)}},[c,r,n]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:o,style:{...a.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Y4.displayName=V8;function X4(t){return t?"checked":"unchecked"}var J4=G4,B8=Z4;const Ze=h.forwardRef(({className:t,...s},r)=>e.jsx(J4,{className:re("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...s,ref:r,children:e.jsx(B8,{className:re("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Ze.displayName=J4.displayName;async function eC(t){if(!t.ok){const s=await t.text()||t.statusText;throw new Error(`${t.status}: ${s}`)}}async function tC(){var n;const{data:t}=await Tt.auth.getSession(),s=(n=t==null?void 0:t.session)==null?void 0:n.access_token,r={"Content-Type":"application/json"};return s&&(r.Authorization=`Bearer ${s}`),r}async function Ae(t,s,r){const n=await tC(),a=await fetch(s,{method:t,headers:n,body:r?JSON.stringify(r):void 0,credentials:"include"});return await eC(a),a}const q8=({on401:t})=>async({queryKey:s})=>{const r=await tC(),n=await fetch(s[0],{credentials:"include",headers:r});return await eC(n),await n.json()},Cn=new i_({defaultOptions:{queries:{queryFn:q8({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}});function H8(){const{t}=Nr(),{toast:s}=Xe(),r=hs(),{user:n,loading:a}=tt(),[i,l]=h.useState(""),[o,c]=h.useState("all"),[d,u]=h.useState("all"),[m,f]=h.useState(!1),[x,g]=h.useState(null),[v,p]=h.useState([]),[j,w]=h.useState("grid"),[y,_]=h.useState({title:"",excerpt:"",content:"",categoryId:"",author:"",isFeatured:!1,isBreaking:!1,status:"draft",priority:"medium",imageUrl:"",tags:[],readTime:5}),{data:b,isLoading:N}=xe({queryKey:["/api/articles"],queryFn:async()=>{const{getArticles:U}=await le(async()=>{const{getArticles:G}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getArticles:G}},[]);return await U(100)},refetchInterval:3e4}),{data:T,isLoading:A}=xe({queryKey:["/api/categories"]}),{data:S}=xe({queryKey:["/api/admin/analytics"]}),P=Ie({mutationFn:async U=>(await Ae("POST","/api/articles",U)).json(),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/articles"]}),s({title:t("success","Success",""),description:t("article-created","Article created successfully","   ")}),f(!1),K()},onError:U=>{console.error("Article creation error:",U),s({title:t("error","Error",""),description:U.message||t("create-failed","Failed to create article","   "),variant:"destructive"})}}),C=Ie({mutationFn:async U=>(await Ae("PUT",`/api/articles/${x==null?void 0:x.id}`,U)).json(),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/articles"]}),s({title:t("success","Success",""),description:t("article-updated","Article updated successfully","   ")}),g(null),K()}}),R=Ie({mutationFn:async U=>(await Ae("DELETE",`/api/articles/${U}`)).json(),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/articles"]}),s({title:t("success","Success",""),description:t("article-deleted","Article deleted successfully","    ")})}}),K=()=>{_({title:"",excerpt:"",content:"",categoryId:"",author:"",isFeatured:!1,isBreaking:!1,status:"draft",priority:"medium",imageUrl:"",tags:[],readTime:5})},W=U=>{var q,ce;if(U.preventDefault(),!y.title||!y.content||!y.categoryId||!y.author){s({title:t("error","Error",""),description:"Please fill in all required fields (Title, Author, Content, Category)",variant:"destructive"});return}const G={title:y.title.trim(),slug:y.title.toLowerCase().trim().replace(/[^a-z0-9\u0985-\u09FF]+/g,"-"),content:y.content.trim(),excerpt:((q=y.excerpt)==null?void 0:q.trim())||"",imageUrl:((ce=y.imageUrl)==null?void 0:ce.trim())||"",categoryId:parseInt(y.categoryId),author:y.author.trim()||"Admin",isFeatured:y.isFeatured,readTime:y.readTime||5,publishedAt:new Date().toISOString()};console.log("Submitting article data:",G),x?C.mutate(G):P.mutate(G)},D=U=>{g(U),_({title:U.title,excerpt:U.excerpt,content:U.content,categoryId:U.categoryId.toString(),author:U.author||"Admin",isFeatured:U.isFeatured,isBreaking:U.isBreaking,status:U.status,priority:U.priority,imageUrl:U.imageUrl||"",tags:U.tags||[],readTime:U.readTime||5}),f(!0)},B=U=>{confirm(t("confirm-delete","Are you sure you want to delete this article?","       ?"))&&R.mutate(U)},V=(b==null?void 0:b.filter(U=>{var ye,ue,Se;const G=((ye=U.title)==null?void 0:ye.toLowerCase().includes(i.toLowerCase()))||((ue=U.author)==null?void 0:ue.toLowerCase().includes(i.toLowerCase())),q=o==="all"||((Se=U.categoryId)==null?void 0:Se.toString())===o,ce=d==="all"||U.status===d;return G&&q&&ce}))||[],O=({article:U})=>{var G;return e.jsxs(k,{className:"group hover:shadow-lg transition-all duration-200 border-l-4 border-l-primary/20 hover:border-l-primary",children:[e.jsx(I,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ee,{variant:U.status==="published"?"default":"secondary",children:U.status}),U.isFeatured&&e.jsx(li,{className:"h-4 w-4 text-yellow-500 fill-yellow-500"}),U.isBreaking&&e.jsx(ee,{variant:"destructive",children:"Breaking"})]}),e.jsx(L,{className:"text-lg line-clamp-2 group-hover:text-primary transition-colors",children:U.title}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[typeof U.category=="object"?(G=U.category)==null?void 0:G.name:U.category,"  ",U.author||"Admin"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(M,{variant:"ghost",size:"sm",onClick:()=>D(U),className:"opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(lg,{className:"h-4 w-4"})}),e.jsx(M,{variant:"ghost",size:"sm",onClick:()=>B(U.id),className:"opacity-0 group-hover:opacity-100 transition-opacity text-destructive hover:text-destructive",children:e.jsx(As,{className:"h-4 w-4"})})]})]})}),e.jsxs(E,{children:[e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-3 mb-3",children:U.excerpt}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx($t,{className:"h-3 w-3"}),U.viewCount||0]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ot,{className:"h-3 w-3"}),U.readTime||5,"min"]})]}),e.jsx("span",{children:U.publishDate?new Date(U.publishDate).toLocaleDateString():"Draft"})]})]})]})},z=()=>e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[e.jsx(k,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:t("total-articles","Total Articles"," ")}),e.jsx("p",{className:"text-2xl font-bold",children:(b==null?void 0:b.length)||0})]}),e.jsx(Xt,{className:"h-8 w-8 text-muted-foreground"})]})})}),e.jsx(k,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:t("published","Published","")}),e.jsx("p",{className:"text-2xl font-bold",children:(b==null?void 0:b.filter(U=>U.status==="published").length)||0})]}),e.jsx(O2,{className:"h-8 w-8 text-green-500"})]})})}),e.jsx(k,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:t("drafts","Drafts","")}),e.jsx("p",{className:"text-2xl font-bold",children:(b==null?void 0:b.filter(U=>U.status==="draft").length)||0})]}),e.jsx(lg,{className:"h-8 w-8 text-orange-500"})]})})}),e.jsx(k,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:t("total-views","Total Views"," ")}),e.jsx("p",{className:"text-2xl font-bold",children:(b==null?void 0:b.reduce((U,G)=>U+(G.viewCount||0),0))||0})]}),e.jsx(Ft,{className:"h-8 w-8 text-blue-500"})]})})})]});return N?e.jsx(ut,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Qe,{className:"h-8 w-48"}),e.jsx(Qe,{className:"h-10 w-32"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[...Array(4)].map((U,G)=>e.jsx(Qe,{className:"h-24"},G))}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:[...Array(6)].map((U,G)=>e.jsx(Qe,{className:"h-48"},G))})]})}):e.jsx(ut,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:t("articles-management","Articles Management"," ")}),e.jsx("p",{className:"text-muted-foreground",children:t("manage-articles-desc","Create, edit, and manage your news articles","   ,    ")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(M,{variant:"outline",onClick:()=>r.invalidateQueries({queryKey:["/api/articles"]}),children:[e.jsx(an,{className:"h-4 w-4 mr-2"}),t("refresh","Refresh","")]}),e.jsxs(M,{onClick:()=>f(!0),children:[e.jsx(Ps,{className:"h-4 w-4 mr-2"}),t("create-article","Create Article","  ")]})]})]}),e.jsx(z,{}),e.jsxs(k,{children:[e.jsx(I,{children:e.jsx(L,{className:"text-lg",children:t("filters","Filters","")})}),e.jsx(E,{children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Mt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(J,{placeholder:t("search-articles","Search articles..."," ..."),value:i,onChange:U=>l(U.target.value),className:"pl-10"})]})}),e.jsxs(Tr,{value:o,onValueChange:c,children:[e.jsx(hr,{className:"w-full sm:w-48",children:e.jsx(Pr,{placeholder:t("select-category","Select Category","  ")})}),e.jsxs(mr,{children:[e.jsx(lt,{value:"all",children:t("all-categories","All Categories"," ")}),T==null?void 0:T.map(U=>e.jsx(lt,{value:U.id.toString(),children:U.name},U.id))]})]}),e.jsxs(Tr,{value:d,onValueChange:u,children:[e.jsx(hr,{className:"w-full sm:w-48",children:e.jsx(Pr,{placeholder:t("select-status","Select Status","  ")})}),e.jsxs(mr,{children:[e.jsx(lt,{value:"all",children:t("all-status","All Status"," ")}),e.jsx(lt,{value:"published",children:t("published","Published","")}),e.jsx(lt,{value:"draft",children:t("draft","Draft","")}),e.jsx(lt,{value:"archived",children:t("archived","Archived","")})]})]})]})})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:V.map(U=>e.jsx(O,{article:U},U.id))}),V.length===0&&e.jsx(k,{children:e.jsxs(E,{className:"text-center py-12",children:[e.jsx(Xt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:t("no-articles","No Articles Found","   ")}),e.jsx("p",{className:"text-muted-foreground mb-4",children:t("no-articles-desc","Start by creating your first article","      ")}),e.jsxs(M,{onClick:()=>f(!0),children:[e.jsx(Ps,{className:"h-4 w-4 mr-2"}),t("create-first-article","Create First Article","   ")]})]})}),m&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsxs(k,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(I,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(L,{children:x?t("edit-article","Edit Article","  "):t("create-article","Create Article","  ")}),e.jsx(M,{variant:"ghost",size:"sm",onClick:()=>{f(!1),g(null),K()},children:e.jsx(rc,{className:"h-4 w-4"})})]})}),e.jsx(E,{children:e.jsxs("form",{onSubmit:W,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(Q,{htmlFor:"title",children:[t("title","Title","")," *"]}),e.jsx(J,{id:"title",value:y.title,onChange:U=>_(G=>({...G,title:U.target.value})),placeholder:t("enter-title","Enter article title","   "),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(Q,{htmlFor:"author",children:[t("author","Author","")," *"]}),e.jsx(J,{id:"author",value:y.author,onChange:U=>_(G=>({...G,author:U.target.value})),placeholder:t("enter-author","Enter author name","   "),required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(Q,{htmlFor:"category",children:[t("category","Category","")," *"]}),e.jsxs(Tr,{value:y.categoryId,onValueChange:U=>_(G=>({...G,categoryId:U})),children:[e.jsx(hr,{children:e.jsx(Pr,{placeholder:t("select-category","Select Category","  ")})}),e.jsx(mr,{children:T==null?void 0:T.map(U=>e.jsx(lt,{value:U.id.toString(),children:U.name},U.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Q,{htmlFor:"readTime",children:t("read-time","Read Time (minutes)","  ()")}),e.jsx(J,{id:"readTime",type:"number",value:y.readTime,onChange:U=>_(G=>({...G,readTime:parseInt(U.target.value)||5})),placeholder:"5",min:"1",max:"60"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Q,{htmlFor:"excerpt",children:t("excerpt","Excerpt"," ")}),e.jsx(Kt,{id:"excerpt",value:y.excerpt,onChange:U=>_(G=>({...G,excerpt:U.target.value})),placeholder:t("enter-excerpt","Enter article excerpt","    "),rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(Q,{htmlFor:"content",children:[t("content","Content","")," *"]}),e.jsx(Kt,{id:"content",value:y.content,onChange:U=>_(G=>({...G,content:U.target.value})),placeholder:t("enter-content","Enter article content","   "),rows:8,required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Q,{htmlFor:"status",children:t("status","Status","")}),e.jsxs(Tr,{value:y.status,onValueChange:U=>_(G=>({...G,status:U})),children:[e.jsx(hr,{children:e.jsx(Pr,{})}),e.jsxs(mr,{children:[e.jsx(lt,{value:"draft",children:t("draft","Draft","")}),e.jsx(lt,{value:"published",children:t("published","Published","")}),e.jsx(lt,{value:"archived",children:t("archived","Archived","")})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Q,{htmlFor:"priority",children:t("priority","Priority","")}),e.jsxs(Tr,{value:y.priority,onValueChange:U=>_(G=>({...G,priority:U})),children:[e.jsx(hr,{children:e.jsx(Pr,{})}),e.jsxs(mr,{children:[e.jsx(lt,{value:"low",children:t("low","Low","")}),e.jsx(lt,{value:"medium",children:t("medium","Medium","")}),e.jsx(lt,{value:"high",children:t("high","High","")})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Q,{htmlFor:"imageUrl",children:t("image-url","Image URL"," URL")}),e.jsx(J,{id:"imageUrl",value:y.imageUrl,onChange:U=>_(G=>({...G,imageUrl:U.target.value})),placeholder:t("enter-image-url","Enter image URL"," URL  ")})]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{id:"featured",checked:y.isFeatured,onCheckedChange:U=>_(G=>({...G,isFeatured:U}))}),e.jsx(Q,{htmlFor:"featured",children:t("featured","Featured","")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{id:"breaking",checked:y.isBreaking,onCheckedChange:U=>_(G=>({...G,isBreaking:U}))}),e.jsx(Q,{htmlFor:"breaking",children:t("breaking-news","Breaking News"," ")})]})]}),e.jsxs("div",{className:"flex items-center gap-2 pt-4",children:[e.jsx(M,{type:"submit",disabled:P.isPending||C.isPending,className:"flex-1",children:P.isPending||C.isPending?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-4 w-4 border-2 border-primary-foreground/30 border-t-primary-foreground rounded-full animate-spin"}),t("saving","Saving...","  ...")]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ql,{className:"h-4 w-4"}),x?t("update-article","Update Article","  "):t("create-article","Create Article","  ")]})}),e.jsx(M,{type:"button",variant:"outline",onClick:()=>{f(!1),g(null),K()},children:t("cancel","Cancel","")})]})]})})]})})]})})}const mc=h.forwardRef(({className:t,...s},r)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:r,className:re("w-full caption-bottom text-sm",t),...s})}));mc.displayName="Table";const fc=h.forwardRef(({className:t,...s},r)=>e.jsx("thead",{ref:r,className:re("[&_tr]:border-b",t),...s}));fc.displayName="TableHeader";const xc=h.forwardRef(({className:t,...s},r)=>e.jsx("tbody",{ref:r,className:re("[&_tr:last-child]:border-0",t),...s}));xc.displayName="TableBody";const W8=h.forwardRef(({className:t,...s},r)=>e.jsx("tfoot",{ref:r,className:re("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...s}));W8.displayName="TableFooter";const ns=h.forwardRef(({className:t,...s},r)=>e.jsx("tr",{ref:r,className:re("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...s}));ns.displayName="TableRow";const Pt=h.forwardRef(({className:t,...s},r)=>e.jsx("th",{ref:r,className:re("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...s}));Pt.displayName="TableHead";const et=h.forwardRef(({className:t,...s},r)=>e.jsx("td",{ref:r,className:re("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...s}));et.displayName="TableCell";const K8=h.forwardRef(({className:t,...s},r)=>e.jsx("caption",{ref:r,className:re("mt-4 text-sm text-muted-foreground",t),...s}));K8.displayName="TableCaption";var Ag=["Enter"," "],G8=["ArrowDown","PageUp","Home"],sC=["ArrowUp","PageDown","End"],Q8=[...G8,...sC],Z8={ltr:[...Ag,"ArrowRight"],rtl:[...Ag,"ArrowLeft"]},Y8={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ou="Menu",[$d,X8,J8]=Xd(ou),[hl,rC]=Ns(ou,[J8,uc,nf]),_f=uc(),nC=nf(),[eU,ml]=hl(ou),[tU,cu]=hl(ou),aC=t=>{const{__scopeMenu:s,open:r=!1,children:n,dir:a,onOpenChange:i,modal:l=!0}=t,o=_f(s),[c,d]=h.useState(null),u=h.useRef(!1),m=Wt(i),f=ic(a);return h.useEffect(()=>{const x=()=>{u.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>u.current=!1;return document.addEventListener("keydown",x,{capture:!0}),()=>{document.removeEventListener("keydown",x,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),e.jsx(My,{...o,children:e.jsx(eU,{scope:s,open:r,onOpenChange:m,content:c,onContentChange:d,children:e.jsx(tU,{scope:s,onClose:h.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:u,dir:f,modal:l,children:n})})})};aC.displayName=ou;var sU="MenuAnchor",Uy=h.forwardRef((t,s)=>{const{__scopeMenu:r,...n}=t,a=_f(r);return e.jsx(vf,{...a,...n,ref:s})});Uy.displayName=sU;var zy="MenuPortal",[rU,iC]=hl(zy,{forceMount:void 0}),lC=t=>{const{__scopeMenu:s,forceMount:r,children:n,container:a}=t,i=ml(zy,s);return e.jsx(rU,{scope:s,forceMount:r,children:e.jsx(_s,{present:r||i.open,children:e.jsx(ec,{asChild:!0,container:a,children:n})})})};lC.displayName=zy;var Ir="MenuContent",[nU,Vy]=hl(Ir),oC=h.forwardRef((t,s)=>{const r=iC(Ir,t.__scopeMenu),{forceMount:n=r.forceMount,...a}=t,i=ml(Ir,t.__scopeMenu),l=cu(Ir,t.__scopeMenu);return e.jsx($d.Provider,{scope:t.__scopeMenu,children:e.jsx(_s,{present:n||i.open,children:e.jsx($d.Slot,{scope:t.__scopeMenu,children:l.modal?e.jsx(aU,{...a,ref:s}):e.jsx(iU,{...a,ref:s})})})})}),aU=h.forwardRef((t,s)=>{const r=ml(Ir,t.__scopeMenu),n=h.useRef(null),a=Me(s,n);return h.useEffect(()=>{const i=n.current;if(i)return cf(i)},[]),e.jsx(By,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:se(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),iU=h.forwardRef((t,s)=>{const r=ml(Ir,t.__scopeMenu);return e.jsx(By,{...t,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),lU=ni("MenuContent.ScrollLock"),By=h.forwardRef((t,s)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:l,disableOutsidePointerEvents:o,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:m,onInteractOutside:f,onDismiss:x,disableOutsideScroll:g,...v}=t,p=ml(Ir,r),j=cu(Ir,r),w=_f(r),y=nC(r),_=X8(r),[b,N]=h.useState(null),T=h.useRef(null),A=Me(s,T,p.onContentChange),S=h.useRef(0),P=h.useRef(""),C=h.useRef(0),R=h.useRef(null),K=h.useRef("right"),W=h.useRef(0),D=g?nu:h.Fragment,B=g?{as:lU,allowPinchZoom:!0}:void 0,V=z=>{var ie,Re;const U=P.current+z,G=_().filter(Le=>!Le.disabled),q=document.activeElement,ce=(ie=G.find(Le=>Le.ref.current===q))==null?void 0:ie.textValue,ye=G.map(Le=>Le.textValue),ue=yU(ye,U,ce),Se=(Re=G.find(Le=>Le.textValue===ue))==null?void 0:Re.ref.current;(function Le(Ce){P.current=Ce,window.clearTimeout(S.current),Ce!==""&&(S.current=window.setTimeout(()=>Le(""),1e3))})(U),Se&&setTimeout(()=>Se.focus())};h.useEffect(()=>()=>window.clearTimeout(S.current),[]),lf();const O=h.useCallback(z=>{var G,q;return K.current===((G=R.current)==null?void 0:G.side)&&wU(z,(q=R.current)==null?void 0:q.area)},[]);return e.jsx(nU,{scope:r,searchRef:P,onItemEnter:h.useCallback(z=>{O(z)&&z.preventDefault()},[O]),onItemLeave:h.useCallback(z=>{var U;O(z)||((U=T.current)==null||U.focus(),N(null))},[O]),onTriggerLeave:h.useCallback(z=>{O(z)&&z.preventDefault()},[O]),pointerGraceTimerRef:C,onPointerGraceIntentChange:h.useCallback(z=>{R.current=z},[]),children:e.jsx(D,{...B,children:e.jsx(ru,{asChild:!0,trapped:a,onMountAutoFocus:se(i,z=>{var U;z.preventDefault(),(U=T.current)==null||U.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:e.jsx(Jo,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:m,onInteractOutside:f,onDismiss:x,children:e.jsx(JS,{asChild:!0,...y,dir:j.dir,orientation:"vertical",loop:n,currentTabStopId:b,onCurrentTabStopIdChange:N,onEntryFocus:se(c,z=>{j.isUsingKeyboardRef.current||z.preventDefault()}),preventScrollOnEntryFocus:!0,children:e.jsx(Ly,{role:"menu","aria-orientation":"vertical","data-state":_C(p.open),"data-radix-menu-content":"",dir:j.dir,...w,...v,ref:A,style:{outline:"none",...v.style},onKeyDown:se(v.onKeyDown,z=>{const G=z.target.closest("[data-radix-menu-content]")===z.currentTarget,q=z.ctrlKey||z.altKey||z.metaKey,ce=z.key.length===1;G&&(z.key==="Tab"&&z.preventDefault(),!q&&ce&&V(z.key));const ye=T.current;if(z.target!==ye||!Q8.includes(z.key))return;z.preventDefault();const Se=_().filter(ie=>!ie.disabled).map(ie=>ie.ref.current);sC.includes(z.key)&&Se.reverse(),gU(Se)}),onBlur:se(t.onBlur,z=>{z.currentTarget.contains(z.target)||(window.clearTimeout(S.current),P.current="")}),onPointerMove:se(t.onPointerMove,Ud(z=>{const U=z.target,G=W.current!==z.clientX;if(z.currentTarget.contains(U)&&G){const q=z.clientX>W.current?"right":"left";K.current=q,W.current=z.clientX}}))})})})})})})});oC.displayName=Ir;var oU="MenuGroup",qy=h.forwardRef((t,s)=>{const{__scopeMenu:r,...n}=t;return e.jsx(me.div,{role:"group",...n,ref:s})});qy.displayName=oU;var cU="MenuLabel",cC=h.forwardRef((t,s)=>{const{__scopeMenu:r,...n}=t;return e.jsx(me.div,{...n,ref:s})});cC.displayName=cU;var gm="MenuItem",ub="menu.itemSelect",Sf=h.forwardRef((t,s)=>{const{disabled:r=!1,onSelect:n,...a}=t,i=h.useRef(null),l=cu(gm,t.__scopeMenu),o=Vy(gm,t.__scopeMenu),c=Me(s,i),d=h.useRef(!1),u=()=>{const m=i.current;if(!r&&m){const f=new CustomEvent(ub,{bubbles:!0,cancelable:!0});m.addEventListener(ub,x=>n==null?void 0:n(x),{once:!0}),Kv(m,f),f.defaultPrevented?d.current=!1:l.onClose()}};return e.jsx(dC,{...a,ref:c,disabled:r,onClick:se(t.onClick,u),onPointerDown:m=>{var f;(f=t.onPointerDown)==null||f.call(t,m),d.current=!0},onPointerUp:se(t.onPointerUp,m=>{var f;d.current||(f=m.currentTarget)==null||f.click()}),onKeyDown:se(t.onKeyDown,m=>{const f=o.searchRef.current!=="";r||f&&m.key===" "||Ag.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});Sf.displayName=gm;var dC=h.forwardRef((t,s)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=t,l=Vy(gm,r),o=nC(r),c=h.useRef(null),d=Me(s,c),[u,m]=h.useState(!1),[f,x]=h.useState("");return h.useEffect(()=>{const g=c.current;g&&x((g.textContent??"").trim())},[i.children]),e.jsx($d.ItemSlot,{scope:r,disabled:n,textValue:a??f,children:e.jsx(ek,{asChild:!0,...o,focusable:!n,children:e.jsx(me.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:d,onPointerMove:se(t.onPointerMove,Ud(g=>{n?l.onItemLeave(g):(l.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:se(t.onPointerLeave,Ud(g=>l.onItemLeave(g))),onFocus:se(t.onFocus,()=>m(!0)),onBlur:se(t.onBlur,()=>m(!1))})})})}),dU="MenuCheckboxItem",uC=h.forwardRef((t,s)=>{const{checked:r=!1,onCheckedChange:n,...a}=t;return e.jsx(pC,{scope:t.__scopeMenu,checked:r,children:e.jsx(Sf,{role:"menuitemcheckbox","aria-checked":vm(r)?"mixed":r,...a,ref:s,"data-state":Wy(r),onSelect:se(a.onSelect,()=>n==null?void 0:n(vm(r)?!0:!r),{checkForDefaultPrevented:!1})})})});uC.displayName=dU;var hC="MenuRadioGroup",[uU,hU]=hl(hC,{value:void 0,onValueChange:()=>{}}),mC=h.forwardRef((t,s)=>{const{value:r,onValueChange:n,...a}=t,i=Wt(n);return e.jsx(uU,{scope:t.__scopeMenu,value:r,onValueChange:i,children:e.jsx(qy,{...a,ref:s})})});mC.displayName=hC;var fC="MenuRadioItem",xC=h.forwardRef((t,s)=>{const{value:r,...n}=t,a=hU(fC,t.__scopeMenu),i=r===a.value;return e.jsx(pC,{scope:t.__scopeMenu,checked:i,children:e.jsx(Sf,{role:"menuitemradio","aria-checked":i,...n,ref:s,"data-state":Wy(i),onSelect:se(n.onSelect,()=>{var l;return(l=a.onValueChange)==null?void 0:l.call(a,r)},{checkForDefaultPrevented:!1})})})});xC.displayName=fC;var Hy="MenuItemIndicator",[pC,mU]=hl(Hy,{checked:!1}),gC=h.forwardRef((t,s)=>{const{__scopeMenu:r,forceMount:n,...a}=t,i=mU(Hy,r);return e.jsx(_s,{present:n||vm(i.checked)||i.checked===!0,children:e.jsx(me.span,{...a,ref:s,"data-state":Wy(i.checked)})})});gC.displayName=Hy;var fU="MenuSeparator",vC=h.forwardRef((t,s)=>{const{__scopeMenu:r,...n}=t;return e.jsx(me.div,{role:"separator","aria-orientation":"horizontal",...n,ref:s})});vC.displayName=fU;var xU="MenuArrow",yC=h.forwardRef((t,s)=>{const{__scopeMenu:r,...n}=t,a=_f(r);return e.jsx(Fy,{...a,...n,ref:s})});yC.displayName=xU;var pU="MenuSub",[SB,jC]=hl(pU),Yc="MenuSubTrigger",wC=h.forwardRef((t,s)=>{const r=ml(Yc,t.__scopeMenu),n=cu(Yc,t.__scopeMenu),a=jC(Yc,t.__scopeMenu),i=Vy(Yc,t.__scopeMenu),l=h.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:c}=i,d={__scopeMenu:t.__scopeMenu},u=h.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return h.useEffect(()=>u,[u]),h.useEffect(()=>{const m=o.current;return()=>{window.clearTimeout(m),c(null)}},[o,c]),e.jsx(Uy,{asChild:!0,...d,children:e.jsx(dC,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":_C(r.open),...t,ref:ia(s,a.onTriggerChange),onClick:m=>{var f;(f=t.onClick)==null||f.call(t,m),!(t.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:se(t.onPointerMove,Ud(m=>{i.onItemEnter(m),!m.defaultPrevented&&!t.disabled&&!r.open&&!l.current&&(i.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{r.onOpenChange(!0),u()},100))})),onPointerLeave:se(t.onPointerLeave,Ud(m=>{var x,g;u();const f=(x=r.content)==null?void 0:x.getBoundingClientRect();if(f){const v=(g=r.content)==null?void 0:g.dataset.side,p=v==="right",j=p?-5:5,w=f[p?"left":"right"],y=f[p?"right":"left"];i.onPointerGraceIntentChange({area:[{x:m.clientX+j,y:m.clientY},{x:w,y:f.top},{x:y,y:f.top},{x:y,y:f.bottom},{x:w,y:f.bottom}],side:v}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(m),m.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:se(t.onKeyDown,m=>{var x;const f=i.searchRef.current!=="";t.disabled||f&&m.key===" "||Z8[n.dir].includes(m.key)&&(r.onOpenChange(!0),(x=r.content)==null||x.focus(),m.preventDefault())})})})});wC.displayName=Yc;var bC="MenuSubContent",NC=h.forwardRef((t,s)=>{const r=iC(Ir,t.__scopeMenu),{forceMount:n=r.forceMount,...a}=t,i=ml(Ir,t.__scopeMenu),l=cu(Ir,t.__scopeMenu),o=jC(bC,t.__scopeMenu),c=h.useRef(null),d=Me(s,c);return e.jsx($d.Provider,{scope:t.__scopeMenu,children:e.jsx(_s,{present:n||i.open,children:e.jsx($d.Slot,{scope:t.__scopeMenu,children:e.jsx(By,{id:o.contentId,"aria-labelledby":o.triggerId,...a,ref:d,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var m;l.isUsingKeyboardRef.current&&((m=c.current)==null||m.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:se(t.onFocusOutside,u=>{u.target!==o.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:se(t.onEscapeKeyDown,u=>{l.onClose(),u.preventDefault()}),onKeyDown:se(t.onKeyDown,u=>{var x;const m=u.currentTarget.contains(u.target),f=Y8[l.dir].includes(u.key);m&&f&&(i.onOpenChange(!1),(x=o.trigger)==null||x.focus(),u.preventDefault())})})})})})});NC.displayName=bC;function _C(t){return t?"open":"closed"}function vm(t){return t==="indeterminate"}function Wy(t){return vm(t)?"indeterminate":t?"checked":"unchecked"}function gU(t){const s=document.activeElement;for(const r of t)if(r===s||(r.focus(),document.activeElement!==s))return}function vU(t,s){return t.map((r,n)=>t[(s+n)%t.length])}function yU(t,s,r){const a=s.length>1&&Array.from(s).every(d=>d===s[0])?s[0]:s,i=r?t.indexOf(r):-1;let l=vU(t,Math.max(i,0));a.length===1&&(l=l.filter(d=>d!==r));const c=l.find(d=>d.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function jU(t,s){const{x:r,y:n}=t;let a=!1;for(let i=0,l=s.length-1;i<s.length;l=i++){const o=s[i],c=s[l],d=o.x,u=o.y,m=c.x,f=c.y;u>n!=f>n&&r<(m-d)*(n-u)/(f-u)+d&&(a=!a)}return a}function wU(t,s){if(!s)return!1;const r={x:t.clientX,y:t.clientY};return jU(r,s)}function Ud(t){return s=>s.pointerType==="mouse"?t(s):void 0}var bU=aC,NU=Uy,_U=lC,SU=oC,kU=qy,CU=cC,EU=Sf,TU=uC,PU=mC,AU=xC,RU=gC,OU=vC,IU=yC,DU=wC,MU=NC,kf="DropdownMenu",[LU,kB]=Ns(kf,[rC]),Qs=rC(),[FU,SC]=LU(kf),kC=t=>{const{__scopeDropdownMenu:s,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:l,modal:o=!0}=t,c=Qs(s),d=h.useRef(null),[u,m]=nn({prop:a,defaultProp:i??!1,onChange:l,caller:kf});return e.jsx(FU,{scope:s,triggerId:ws(),triggerRef:d,contentId:ws(),open:u,onOpenChange:m,onOpenToggle:h.useCallback(()=>m(f=>!f),[m]),modal:o,children:e.jsx(bU,{...c,open:u,onOpenChange:m,dir:n,modal:o,children:r})})};kC.displayName=kf;var CC="DropdownMenuTrigger",EC=h.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=t,i=SC(CC,r),l=Qs(r);return e.jsx(NU,{asChild:!0,...l,children:e.jsx(me.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:ia(s,i.triggerRef),onPointerDown:se(t.onPointerDown,o=>{!n&&o.button===0&&o.ctrlKey===!1&&(i.onOpenToggle(),i.open||o.preventDefault())}),onKeyDown:se(t.onKeyDown,o=>{n||(["Enter"," "].includes(o.key)&&i.onOpenToggle(),o.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});EC.displayName=CC;var $U="DropdownMenuPortal",TC=t=>{const{__scopeDropdownMenu:s,...r}=t,n=Qs(s);return e.jsx(_U,{...n,...r})};TC.displayName=$U;var PC="DropdownMenuContent",AC=h.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=SC(PC,r),i=Qs(r),l=h.useRef(!1);return e.jsx(SU,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:s,onCloseAutoFocus:se(t.onCloseAutoFocus,o=>{var c;l.current||(c=a.triggerRef.current)==null||c.focus(),l.current=!1,o.preventDefault()}),onInteractOutside:se(t.onInteractOutside,o=>{const c=o.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!a.modal||u)&&(l.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});AC.displayName=PC;var UU="DropdownMenuGroup",zU=h.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=Qs(r);return e.jsx(kU,{...a,...n,ref:s})});zU.displayName=UU;var VU="DropdownMenuLabel",RC=h.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=Qs(r);return e.jsx(CU,{...a,...n,ref:s})});RC.displayName=VU;var BU="DropdownMenuItem",OC=h.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=Qs(r);return e.jsx(EU,{...a,...n,ref:s})});OC.displayName=BU;var qU="DropdownMenuCheckboxItem",IC=h.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=Qs(r);return e.jsx(TU,{...a,...n,ref:s})});IC.displayName=qU;var HU="DropdownMenuRadioGroup",WU=h.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=Qs(r);return e.jsx(PU,{...a,...n,ref:s})});WU.displayName=HU;var KU="DropdownMenuRadioItem",DC=h.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=Qs(r);return e.jsx(AU,{...a,...n,ref:s})});DC.displayName=KU;var GU="DropdownMenuItemIndicator",MC=h.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=Qs(r);return e.jsx(RU,{...a,...n,ref:s})});MC.displayName=GU;var QU="DropdownMenuSeparator",LC=h.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=Qs(r);return e.jsx(OU,{...a,...n,ref:s})});LC.displayName=QU;var ZU="DropdownMenuArrow",YU=h.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=Qs(r);return e.jsx(IU,{...a,...n,ref:s})});YU.displayName=ZU;var XU="DropdownMenuSubTrigger",FC=h.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=Qs(r);return e.jsx(DU,{...a,...n,ref:s})});FC.displayName=XU;var JU="DropdownMenuSubContent",$C=h.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=Qs(r);return e.jsx(MU,{...a,...n,ref:s,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});$C.displayName=JU;var e9=kC,t9=EC,s9=TC,UC=AC,zC=RC,VC=OC,BC=IC,qC=DC,HC=MC,WC=LC,KC=FC,GC=$C;const fl=e9,xl=t9,r9=h.forwardRef(({className:t,inset:s,children:r,...n},a)=>e.jsxs(KC,{ref:a,className:re("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",s&&"pl-8",t),...n,children:[r,e.jsx(sc,{className:"ml-auto h-4 w-4"})]}));r9.displayName=KC.displayName;const n9=h.forwardRef(({className:t,...s},r)=>e.jsx(GC,{ref:r,className:re("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s}));n9.displayName=GC.displayName;const yi=h.forwardRef(({className:t,sideOffset:s=4,...r},n)=>e.jsx(s9,{children:e.jsx(UC,{ref:n,sideOffset:s,className:re("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));yi.displayName=UC.displayName;const Lt=h.forwardRef(({className:t,inset:s,...r},n)=>e.jsx(VC,{ref:n,className:re("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s&&"pl-8",t),...r}));Lt.displayName=VC.displayName;const a9=h.forwardRef(({className:t,children:s,checked:r,...n},a)=>e.jsxs(BC,{ref:a,className:re("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...n,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(HC,{children:e.jsx(Ja,{className:"h-4 w-4"})})}),s]}));a9.displayName=BC.displayName;const i9=h.forwardRef(({className:t,children:s,...r},n)=>e.jsxs(qC,{ref:n,className:re("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(HC,{children:e.jsx(KO,{className:"h-2 w-2 fill-current"})})}),s]}));i9.displayName=qC.displayName;const du=h.forwardRef(({className:t,inset:s,...r},n)=>e.jsx(zC,{ref:n,className:re("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",t),...r}));du.displayName=zC.displayName;const ua=h.forwardRef(({className:t,...s},r)=>e.jsx(WC,{ref:r,className:re("-mx-1 my-1 h-px bg-muted",t),...s}));ua.displayName=WC.displayName;const l9={0:"",1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:""},o9=["","","","","","","","","","","",""];function io(t){return String(t).replace(/[0-9]/g,s=>l9[s]||s)}const Lx=io;function hb(t){if(!t)return!1;const s=new Date(t);return s instanceof Date&&!isNaN(s.getTime())}function QC(t){if(!t||t===null||t===void 0||t===""||t==="null"||t==="undefined")return null;if(t instanceof Date)return hb(t)?t:null;const s=new Date(t);return hb(s)?s:(console.warn("[Date] Invalid date input:",t,"Type:",typeof t),null)}function ZC(t){try{const s=QC(t);if(!s)return" ";const r=io(s.getDate()),n=o9[s.getMonth()],a=io(s.getFullYear());return`${r} ${n}, ${a}`}catch(s){return console.error("[Date] Error formatting Bengali date:",s,"Input:",t)," "}}const ea=ZC;function us(t){try{const s=QC(t);if(!s)return" ";const n=new Date().getTime()-s.getTime(),a=Math.floor(n/(1e3*60)),i=Math.floor(n/(1e3*60*60)),l=Math.floor(n/(1e3*60*60*24));return n<0?"":a<1?"":a<60?`${io(a)}  `:i<24?`${io(i)}  `:l<7?`${io(l)}  `:ZC(s)}catch(s){return console.error("[Date] Error calculating relative time:",s,"Input:",t)," "}}const vt=({date:t,type:s="relative",fallback:r=" "})=>{try{return!t||t===null||t===void 0||t==="null"||t===""?r:s==="relative"?us(t):ea(t)}catch(n){return console.error("Date formatting error:",n),r}};function Cf({data:t,columns:s,searchPlaceholder:r="Search...",onEdit:n,onDelete:a,onView:i,itemsPerPage:l=10,loading:o=!1}){const[c,d]=h.useState(""),[u,m]=h.useState(""),[f,x]=h.useState("asc"),[g,v]=h.useState(1),[p,j]=h.useState(l),y=[...(t==null?void 0:t.filter(S=>Object.values(S).some(P=>String(P).toLowerCase().includes(c.toLowerCase()))))||[]].sort((S,P)=>{if(!u)return 0;const C=S[u],R=P[u];if(C===R)return 0;const K=C<R?-1:1;return f==="asc"?K:-K}),_=Math.ceil(y.length/p),b=(g-1)*p,N=y.slice(b,b+p),T=S=>{u===S?x(f==="asc"?"desc":"asc"):(m(S),x("asc"))},A=(S,P)=>{const C=P[S.key];if(S.render)return S.render(C,P);switch(S.key){case"publishedAt":case"createdAt":case"updatedAt":return e.jsx(vt,{date:C,type:"relative"});case"isFeatured":return e.jsx(ee,{variant:C?"default":"secondary",children:C?"Featured":"Normal"});case"isActive":return e.jsx(ee,{variant:C?"default":"destructive",children:C?"Active":"Inactive"});case"viewCount":case"view_count":return e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx($t,{className:"h-3 w-3 text-muted-foreground"}),C||0]});default:return typeof C=="object"&&C!==null?C.name?C.name:C.title?C.title:C.id?`#${C.id}`:JSON.stringify(C):C}};return o?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"h-9 w-64 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"}),e.jsx("div",{className:"h-9 w-24 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"})]}),e.jsx("div",{className:"border rounded-lg",children:[...Array(5)].map((S,P)=>e.jsx("div",{className:"border-b last:border-b-0 p-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded flex-1 animate-pulse"}),e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-24 animate-pulse"}),e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-16 animate-pulse"})]})},P))})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[e.jsxs("div",{className:"relative max-w-sm",children:[e.jsx(Mt,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(J,{placeholder:r,value:c,onChange:S=>d(S.target.value),className:"pl-8"})]}),e.jsxs(M,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[e.jsx(M2,{className:"h-4 w-4"}),"Filter"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Show"}),e.jsxs(Tr,{value:p.toString(),onValueChange:S=>{j(parseInt(S)),v(1)},children:[e.jsx(hr,{className:"w-20",children:e.jsx(Pr,{})}),e.jsxs(mr,{children:[e.jsx(lt,{value:"5",children:"5"}),e.jsx(lt,{value:"10",children:"10"}),e.jsx(lt,{value:"20",children:"20"}),e.jsx(lt,{value:"50",children:"50"})]})]})]})]}),e.jsx("div",{className:"border rounded-lg",children:e.jsxs(mc,{children:[e.jsx(fc,{children:e.jsxs(ns,{children:[s.map(S=>e.jsx(Pt,{children:S.sortable?e.jsxs(M,{variant:"ghost",onClick:()=>T(S.key),className:"h-auto p-0 font-medium hover:bg-transparent",children:[S.label,e.jsx(VO,{className:"ml-2 h-4 w-4"})]}):S.label},S.key)),(n||a||i)&&e.jsx(Pt,{className:"w-[100px]",children:"Actions"})]})}),e.jsx(xc,{children:N.length===0?e.jsx(ns,{children:e.jsx(et,{colSpan:s.length+(n||a||i?1:0),className:"h-24 text-center",children:"No data found."})}):N.map((S,P)=>e.jsxs(ns,{children:[s.map(C=>e.jsx(et,{children:A(C,S)},C.key)),(n||a||i)&&e.jsx(et,{children:e.jsxs(fl,{children:[e.jsx(xl,{asChild:!0,children:e.jsxs(M,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx(Jv,{className:"h-4 w-4"})]})}),e.jsxs(yi,{align:"end",children:[e.jsx(du,{children:"Actions"}),i&&e.jsxs(Lt,{onClick:()=>i(S),children:[e.jsx($t,{className:"mr-2 h-4 w-4"}),"View"]}),n&&e.jsxs(Lt,{onClick:()=>n(S),children:[e.jsx(dI,{className:"mr-2 h-4 w-4"}),"Edit"]}),a&&e.jsxs(e.Fragment,{children:[e.jsx(ua,{}),e.jsxs(Lt,{onClick:()=>a(S),className:"text-red-600",children:[e.jsx(As,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]})})]},S.id||P))})]})}),_>1&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",b+1," to"," ",Math.min(b+p,y.length)," of"," ",y.length," entries"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(M,{variant:"outline",size:"sm",onClick:()=>v(1),disabled:g===1,children:e.jsx(HO,{className:"h-4 w-4"})}),e.jsx(M,{variant:"outline",size:"sm",onClick:()=>v(Math.max(1,g-1)),disabled:g===1,children:e.jsx(qO,{className:"h-4 w-4"})}),e.jsxs("span",{className:"text-sm",children:["Page ",g," of ",_]}),e.jsx(M,{variant:"outline",size:"sm",onClick:()=>v(Math.min(_,g+1)),disabled:g===_,children:e.jsx(sc,{className:"h-4 w-4"})}),e.jsx(M,{variant:"outline",size:"sm",onClick:()=>v(_),disabled:g===_,children:e.jsx(WO,{className:"h-4 w-4"})})]})]})]})}const Gn=uf,Xc=Sy,c9=hf,YC=h.forwardRef(({className:t,...s},r)=>e.jsx(lc,{ref:r,className:re("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s}));YC.displayName=lc.displayName;const jn=h.forwardRef(({className:t,children:s,...r},n)=>e.jsxs(c9,{children:[e.jsx(YC,{}),e.jsxs(oc,{ref:n,className:re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[s,e.jsxs(mf,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(rc,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));jn.displayName=oc.displayName;const wn=({className:t,...s})=>e.jsx("div",{className:re("flex flex-col space-y-1.5 text-center sm:text-left",t),...s});wn.displayName="DialogHeader";const uu=({className:t,...s})=>e.jsx("div",{className:re("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s});uu.displayName="DialogFooter";const bn=h.forwardRef(({className:t,...s},r)=>e.jsx(au,{ref:r,className:re("text-lg font-semibold leading-none tracking-tight",t),...s}));bn.displayName=au.displayName;const XC=h.forwardRef(({className:t,...s},r)=>e.jsx(iu,{ref:r,className:re("text-sm text-muted-foreground",t),...s}));XC.displayName=iu.displayName;var JC="AlertDialog",[d9,CB]=Ns(JC,[_k]),fa=_k(),eE=t=>{const{__scopeAlertDialog:s,...r}=t,n=fa(s);return e.jsx(uf,{...n,...r,modal:!0})};eE.displayName=JC;var u9="AlertDialogTrigger",h9=h.forwardRef((t,s)=>{const{__scopeAlertDialog:r,...n}=t,a=fa(r);return e.jsx(Sy,{...a,...n,ref:s})});h9.displayName=u9;var m9="AlertDialogPortal",tE=t=>{const{__scopeAlertDialog:s,...r}=t,n=fa(s);return e.jsx(hf,{...n,...r})};tE.displayName=m9;var f9="AlertDialogOverlay",sE=h.forwardRef((t,s)=>{const{__scopeAlertDialog:r,...n}=t,a=fa(r);return e.jsx(lc,{...a,...n,ref:s})});sE.displayName=f9;var lo="AlertDialogContent",[x9,p9]=d9(lo),g9=Y6("AlertDialogContent"),rE=h.forwardRef((t,s)=>{const{__scopeAlertDialog:r,children:n,...a}=t,i=fa(r),l=h.useRef(null),o=Me(s,l),c=h.useRef(null);return e.jsx(DF,{contentName:lo,titleName:nE,docsSlug:"alert-dialog",children:e.jsx(x9,{scope:r,cancelRef:c,children:e.jsxs(oc,{role:"alertdialog",...i,...a,ref:o,onOpenAutoFocus:se(a.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[e.jsx(g9,{children:n}),e.jsx(y9,{contentRef:l})]})})})});rE.displayName=lo;var nE="AlertDialogTitle",aE=h.forwardRef((t,s)=>{const{__scopeAlertDialog:r,...n}=t,a=fa(r);return e.jsx(au,{...a,...n,ref:s})});aE.displayName=nE;var iE="AlertDialogDescription",lE=h.forwardRef((t,s)=>{const{__scopeAlertDialog:r,...n}=t,a=fa(r);return e.jsx(iu,{...a,...n,ref:s})});lE.displayName=iE;var v9="AlertDialogAction",oE=h.forwardRef((t,s)=>{const{__scopeAlertDialog:r,...n}=t,a=fa(r);return e.jsx(mf,{...a,...n,ref:s})});oE.displayName=v9;var cE="AlertDialogCancel",dE=h.forwardRef((t,s)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:a}=p9(cE,r),i=fa(r),l=Me(s,a);return e.jsx(mf,{...i,...n,ref:l})});dE.displayName=cE;var y9=({contentRef:t})=>{const s=`\`${lo}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${lo}\` by passing a \`${iE}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${lo}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return h.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(s)},[s,t]),null},j9=eE,w9=tE,uE=sE,hE=rE,mE=oE,fE=dE,xE=aE,pE=lE;const hu=j9,b9=w9,gE=h.forwardRef(({className:t,...s},r)=>e.jsx(uE,{className:re("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s,ref:r}));gE.displayName=uE.displayName;const pc=h.forwardRef(({className:t,...s},r)=>e.jsxs(b9,{children:[e.jsx(gE,{}),e.jsx(hE,{ref:r,className:re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...s})]}));pc.displayName=hE.displayName;const gc=({className:t,...s})=>e.jsx("div",{className:re("flex flex-col space-y-2 text-center sm:text-left",t),...s});gc.displayName="AlertDialogHeader";const vc=({className:t,...s})=>e.jsx("div",{className:re("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s});vc.displayName="AlertDialogFooter";const yc=h.forwardRef(({className:t,...s},r)=>e.jsx(xE,{ref:r,className:re("text-lg font-semibold",t),...s}));yc.displayName=xE.displayName;const jc=h.forwardRef(({className:t,...s},r)=>e.jsx(pE,{ref:r,className:re("text-sm text-muted-foreground",t),...s}));jc.displayName=pE.displayName;const wc=h.forwardRef(({className:t,...s},r)=>e.jsx(mE,{ref:r,className:re(cy(),t),...s}));wc.displayName=mE.displayName;const bc=h.forwardRef(({className:t,...s},r)=>e.jsx(fE,{ref:r,className:re(cy({variant:"outline"}),"mt-2 sm:mt-0",t),...s}));bc.displayName=fE.displayName;const N9=ma({name:Zt().min(1,"Category name is required"),slug:Zt().min(1,"Slug is required")}),_9=t=>[{key:"id",label:t("id","ID",""),sortable:!0},{key:"name",label:t("name","Name",""),sortable:!0,render:s=>e.jsx("div",{className:"font-medium",children:s})},{key:"slug",label:t("slug","Slug",""),sortable:!0,render:s=>e.jsx(ee,{variant:"outline",children:s})},{key:"articleCount",label:t("articles","Articles",""),sortable:!0,render:s=>e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Xt,{className:"h-3 w-3 text-muted-foreground"}),s||0]})}];function S9(){var S,P;const{toast:t}=Xe(),{t:s}=Nr(),[r,n]=h.useState(!1),[a,i]=h.useState(null),[l,o]=h.useState("create"),[c,d]=h.useState(!1),[u,m]=h.useState(null),f=Yn({resolver:Xn(N9),defaultValues:{name:"",slug:""}}),{data:x,isLoading:g,error:v}=xe({queryKey:["/api/categories"],queryFn:async()=>{const{getCategories:C}=await le(async()=>{const{getCategories:R}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getCategories:R}},[]);return await C()}}),{data:p}=xe({queryKey:["/api/articles"],queryFn:async()=>{const{getArticles:C}=await le(async()=>{const{getArticles:R}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getArticles:R}},[]);return await C()}}),j=(x==null?void 0:x.map(C=>({...C,articleCount:(p==null?void 0:p.filter(R=>R.categoryId===C.id).length)||0})))||[],w=Ie({mutationFn:async C=>{const R=l==="create"?"/api/categories":`/api/categories/${a.id}`,W=await Ae(l==="create"?"POST":"PUT",R,C);if(!W.ok){const D=await W.json();throw new Error(D.error||`Failed to ${l} category`)}return await W.json()},onSuccess:()=>{t({title:`Category ${l==="create"?"created":"updated"}`,description:`The category has been ${l==="create"?"created":"updated"} successfully.`}),n(!1),f.reset(),Cn.invalidateQueries({queryKey:["/api/categories"]})},onError:C=>{t({title:"Error",description:C.message,variant:"destructive"})}}),y=Ie({mutationFn:async C=>{const R=await Ae("DELETE",`/api/categories/${C}`);if(!R.ok)throw new Error("Failed to delete category");return R.json()},onSuccess:()=>{t({title:"Category deleted",description:"The category has been successfully deleted."}),Cn.invalidateQueries({queryKey:["/api/categories"]}),d(!1),m(null)},onError:C=>{t({title:"Error",description:C.message,variant:"destructive"})}}),_=()=>{i(null),o("create"),f.reset(),n(!0)},b=C=>{i(C),o("edit"),f.setValue("name",C.name),f.setValue("slug",C.slug),n(!0)},N=C=>{m(C),d(!0)},T=C=>{w.mutate(C)},A=C=>C.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-");return v?e.jsx(ut,{children:e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Yt,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Error Loading Categories"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:v.message||"An error occurred while loading categories"})]})})}):e.jsx(ut,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:s("categories_management","Categories Management"," ")}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:s("categories_description","Create and manage article categories","     ")})]}),e.jsxs(M,{onClick:_,className:"flex items-center gap-2",children:[e.jsx(Ps,{className:"h-4 w-4"}),s("create_category","Create Category","  ")]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs(k,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:"Total Categories"}),e.jsx(el,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(x==null?void 0:x.length)||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Active categories"})]})]}),e.jsxs(k,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:"Total Articles"}),e.jsx(Xt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(p==null?void 0:p.length)||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Categorized articles"})]})]}),e.jsxs(k,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:"Most Used"}),e.jsx(el,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:j.length>0?((P=(S=j.sort((C,R)=>R.articleCount-C.articleCount)[0])==null?void 0:S.name)==null?void 0:P.slice(0,8))+"...":"None"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Most articles"})]})]})]}),e.jsxs(k,{children:[e.jsxs(I,{children:[e.jsx(L,{children:s("all_categories","All Categories"," ")}),e.jsx(_e,{children:s("manage_categories_description","Manage and organize your article categories","      ")})]}),e.jsx(E,{children:g?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(oe,{className:"h-8 w-8 animate-spin"})}):e.jsx(Cf,{data:j,columns:_9(s),searchPlaceholder:"Search categories...",onEdit:b,onDelete:N,loading:g})})]}),e.jsx(Gn,{open:r,onOpenChange:n,children:e.jsxs(jn,{children:[e.jsx(wn,{children:e.jsx(bn,{children:l==="create"?"Create New Category":"Edit Category"})}),e.jsx(Jn,{...f,children:e.jsxs("form",{onSubmit:f.handleSubmit(T),className:"space-y-4",children:[e.jsx(Et,{control:f.control,name:"name",render:({field:C})=>e.jsxs(wt,{children:[e.jsx(bt,{children:"Category Name *"}),e.jsx(Nt,{children:e.jsx(J,{placeholder:"Enter category name",...C,onChange:R=>{C.onChange(R),l==="create"&&f.setValue("slug",A(R.target.value))}})}),e.jsx(zt,{})]})}),e.jsx(Et,{control:f.control,name:"slug",render:({field:C})=>e.jsxs(wt,{children:[e.jsx(bt,{children:"URL Slug *"}),e.jsx(Nt,{children:e.jsx(J,{placeholder:"category-slug",...C})}),e.jsx(zt,{})]})}),e.jsxs(uu,{children:[e.jsx(M,{type:"button",variant:"outline",onClick:()=>n(!1),children:"Cancel"}),e.jsx(M,{type:"submit",disabled:w.isPending,children:w.isPending?e.jsxs(e.Fragment,{children:[e.jsx(oe,{className:"h-4 w-4 animate-spin mr-2"}),"Saving..."]}):l==="create"?"Create Category":"Update Category"})]})]})})]})}),e.jsx(hu,{open:c,onOpenChange:d,children:e.jsxs(pc,{children:[e.jsxs(gc,{children:[e.jsx(yc,{children:"Are you sure?"}),e.jsxs(jc,{children:['This action cannot be undone. This will permanently delete the category "',u==null?void 0:u.name,'" and may affect articles using this category.']})]}),e.jsxs(vc,{children:[e.jsx(bc,{children:"Cancel"}),e.jsx(wc,{onClick:()=>u&&y.mutate(u.id),className:"bg-red-600 hover:bg-red-700",children:"Delete Category"})]})]})})]})})}var Ef="Checkbox",[k9,EB]=Ns(Ef),[C9,Ky]=k9(Ef);function E9(t){const{__scopeCheckbox:s,checked:r,children:n,defaultChecked:a,disabled:i,form:l,name:o,onCheckedChange:c,required:d,value:u="on",internal_do_not_use_render:m}=t,[f,x]=nn({prop:r,defaultProp:a??!1,onChange:c,caller:Ef}),[g,v]=h.useState(null),[p,j]=h.useState(null),w=h.useRef(!1),y=g?!!l||!!g.closest("form"):!0,_={checked:f,disabled:i,setChecked:x,control:g,setControl:v,name:o,form:l,value:u,hasConsumerStoppedPropagationRef:w,required:d,defaultChecked:ti(a)?!1:a,isFormControl:y,bubbleInput:p,setBubbleInput:j};return e.jsx(C9,{scope:s,..._,children:T9(m)?m(_):n})}var vE="CheckboxTrigger",yE=h.forwardRef(({__scopeCheckbox:t,onKeyDown:s,onClick:r,...n},a)=>{const{control:i,value:l,disabled:o,checked:c,required:d,setControl:u,setChecked:m,hasConsumerStoppedPropagationRef:f,isFormControl:x,bubbleInput:g}=Ky(vE,t),v=Me(a,u),p=h.useRef(c);return h.useEffect(()=>{const j=i==null?void 0:i.form;if(j){const w=()=>m(p.current);return j.addEventListener("reset",w),()=>j.removeEventListener("reset",w)}},[i,m]),e.jsx(me.button,{type:"button",role:"checkbox","aria-checked":ti(c)?"mixed":c,"aria-required":d,"data-state":_E(c),"data-disabled":o?"":void 0,disabled:o,value:l,...n,ref:v,onKeyDown:se(s,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:se(r,j=>{m(w=>ti(w)?!0:!w),g&&x&&(f.current=j.isPropagationStopped(),f.current||j.stopPropagation())})})});yE.displayName=vE;var Gy=h.forwardRef((t,s)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:l,disabled:o,value:c,onCheckedChange:d,form:u,...m}=t;return e.jsx(E9,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:o,required:l,onCheckedChange:d,name:n,form:u,value:c,internal_do_not_use_render:({isFormControl:f})=>e.jsxs(e.Fragment,{children:[e.jsx(yE,{...m,ref:s,__scopeCheckbox:r}),f&&e.jsx(NE,{__scopeCheckbox:r})]})})});Gy.displayName=Ef;var jE="CheckboxIndicator",wE=h.forwardRef((t,s)=>{const{__scopeCheckbox:r,forceMount:n,...a}=t,i=Ky(jE,r);return e.jsx(_s,{present:n||ti(i.checked)||i.checked===!0,children:e.jsx(me.span,{"data-state":_E(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:s,style:{pointerEvents:"none",...t.style}})})});wE.displayName=jE;var bE="CheckboxBubbleInput",NE=h.forwardRef(({__scopeCheckbox:t,...s},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:l,required:o,disabled:c,name:d,value:u,form:m,bubbleInput:f,setBubbleInput:x}=Ky(bE,t),g=Me(r,x),v=yf(i),p=gf(n);h.useEffect(()=>{const w=f;if(!w)return;const y=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(y,"checked").set,N=!a.current;if(v!==i&&b){const T=new Event("click",{bubbles:N});w.indeterminate=ti(i),b.call(w,ti(i)?!1:i),w.dispatchEvent(T)}},[f,v,i,a]);const j=h.useRef(ti(i)?!1:i);return e.jsx(me.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??j.current,required:o,disabled:c,name:d,value:u,form:m,...s,tabIndex:-1,ref:g,style:{...s.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});NE.displayName=bE;function T9(t){return typeof t=="function"}function ti(t){return t==="indeterminate"}function _E(t){return ti(t)?"indeterminate":t?"checked":"unchecked"}const SE=h.forwardRef(({className:t,...s},r)=>e.jsx(Gy,{ref:r,className:re("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...s,children:e.jsx(wE,{className:re("flex items-center justify-center text-current"),children:e.jsx(Ja,{className:"h-4 w-4"})})}));SE.displayName=Gy.displayName;const P9=ma({title:Zt().min(1,"Title is required"),publish_date:Zt().min(1,"Publish date is required"),image_url:Zt().url("Please enter a valid image URL"),pdf_url:Zt().url("Please enter a valid PDF URL"),is_latest:bS().default(!1)}),A9=[{key:"id",label:"ID",sortable:!0},{key:"title",label:"Title",sortable:!0,render:t=>e.jsx("div",{className:"font-medium",children:t})},{key:"publishDate",label:"Publish Date",sortable:!0,render:t=>e.jsx(vt,{date:t,type:"relative"})},{key:"isLatest",label:"Status",sortable:!0,render:t=>e.jsx(ee,{variant:t?"default":"secondary",children:t?e.jsxs(e.Fragment,{children:[e.jsx(li,{className:"h-3 w-3 mr-1"})," Latest"]}):"Archived"})},{key:"imageUrl",label:"Preview",render:t=>e.jsx("div",{className:"w-12 h-12 bg-gray-100 dark:bg-gray-800 rounded overflow-hidden",children:e.jsx("img",{src:t,alt:"E-paper preview",className:"w-full h-full object-cover",onError:s=>{const r=s.target;r.style.display="none"}})})}];function R9(){var T,A;const{toast:t}=Xe(),{t:s}=Nr(),[r,n]=h.useState(!1),[a,i]=h.useState(null),[l,o]=h.useState("create"),[c,d]=h.useState(!1),[u,m]=h.useState(null),f=Yn({resolver:Xn(P9),defaultValues:{title:"",publish_date:new Date().toISOString().split("T")[0],image_url:"",pdf_url:"",is_latest:!1}}),{data:x,isLoading:g,error:v}=xe({queryKey:["/api/epapers"],queryFn:async()=>{const{getEpapers:S}=await le(async()=>{const{getEpapers:P}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getEpapers:P}},[]);return await S()}}),p=Ie({mutationFn:async S=>{const P=l==="create"?"/api/epapers":`/api/epapers/${a.id}`,R=await Ae(l==="create"?"POST":"PUT",P,S);if(!R.ok){const K=await R.json();throw new Error(K.error||`Failed to ${l} e-paper`)}return await R.json()},onSuccess:()=>{t({title:`E-paper ${l==="create"?"created":"updated"}`,description:`The e-paper has been ${l==="create"?"created":"updated"} successfully.`}),n(!1),f.reset(),Cn.invalidateQueries({queryKey:["/api/epapers"]})},onError:S=>{t({title:"Error",description:S.message,variant:"destructive"})}}),j=Ie({mutationFn:async S=>{const P=await Ae("DELETE",`/api/epapers/${S}`);if(!P.ok)throw new Error("Failed to delete e-paper");return P.json()},onSuccess:()=>{t({title:"E-paper deleted",description:"The e-paper has been successfully deleted."}),Cn.invalidateQueries({queryKey:["/api/epapers"]}),d(!1),m(null)},onError:S=>{t({title:"Error",description:S.message,variant:"destructive"})}});Ie({mutationFn:async S=>{const P=await Ae("PATCH",`/api/epapers/${S}/set-latest`);if(!P.ok)throw new Error("Failed to set e-paper as latest");return P.json()},onSuccess:()=>{t({title:"E-paper updated",description:"The e-paper has been set as the latest edition."}),Cn.invalidateQueries({queryKey:["/api/epapers"]})},onError:S=>{t({title:"Error",description:S.message,variant:"destructive"})}});const w=()=>{i(null),o("create"),f.reset(),n(!0)},y=S=>{i(S),o("edit"),f.setValue("title",S.title),f.setValue("publish_date",S.publishDate.split("T")[0]),f.setValue("image_url",S.imageUrl),f.setValue("pdf_url",S.pdfUrl),f.setValue("is_latest",S.isLatest),n(!0)},_=S=>{m(S),d(!0)},b=S=>{window.open(S.pdfUrl,"_blank")},N=S=>{p.mutate(S)};return v?e.jsx(ut,{children:e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Yt,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Error Loading E-Papers"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:v.message||"An error occurred while loading e-papers"})]})})}):e.jsx(ut,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"E-Papers Management"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage digital newspaper editions"})]}),e.jsxs(M,{onClick:w,className:"flex items-center gap-2",children:[e.jsx(Ps,{className:"h-4 w-4"}),"Upload E-Paper"]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(k,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:"Total E-Papers"}),e.jsx(Xt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(x==null?void 0:x.length)||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Digital editions"})]})]}),e.jsxs(k,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:"Latest Edition"}),e.jsx(li,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:((A=(T=x==null?void 0:x.find(S=>S.isLatest))==null?void 0:T.title)==null?void 0:A.slice(0,10))||"None"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Current edition"})]})]}),e.jsxs(k,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:"This Month"}),e.jsx(Ds,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(x==null?void 0:x.filter(S=>{const P=new Date(S.publishDate),C=new Date;return P.getMonth()===C.getMonth()&&P.getFullYear()===C.getFullYear()}).length)||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Published this month"})]})]}),e.jsxs(k,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:"Downloads"}),e.jsx(ii,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(x==null?void 0:x.reduce((S,P)=>S+(P.download_count||0),0))||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total downloads"})]})]})]}),e.jsxs(k,{children:[e.jsxs(I,{children:[e.jsx(L,{children:"All E-Papers"}),e.jsx(_e,{children:"Manage your digital newspaper editions"})]}),e.jsx(E,{children:g?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(oe,{className:"h-8 w-8 animate-spin"})}):e.jsx(Cf,{data:x||[],columns:A9,searchPlaceholder:"Search e-papers...",onEdit:y,onDelete:_,onView:b,loading:g})})]}),e.jsx(Gn,{open:r,onOpenChange:n,children:e.jsxs(jn,{className:"max-w-2xl",children:[e.jsx(wn,{children:e.jsx(bn,{children:l==="create"?"Upload New E-Paper":"Edit E-Paper"})}),e.jsx(Jn,{...f,children:e.jsxs("form",{onSubmit:f.handleSubmit(N),className:"space-y-4",children:[e.jsx(Et,{control:f.control,name:"title",render:({field:S})=>e.jsxs(wt,{children:[e.jsx(bt,{children:"Title *"}),e.jsx(Nt,{children:e.jsx(J,{placeholder:"Enter e-paper title",...S})}),e.jsx(zt,{})]})}),e.jsx(Et,{control:f.control,name:"publish_date",render:({field:S})=>e.jsxs(wt,{children:[e.jsx(bt,{children:"Publish Date *"}),e.jsx(Nt,{children:e.jsx(J,{type:"date",...S})}),e.jsx(zt,{})]})}),e.jsx(Et,{control:f.control,name:"image_url",render:({field:S})=>e.jsxs(wt,{children:[e.jsx(bt,{children:"Preview Image URL *"}),e.jsx(Nt,{children:e.jsx(J,{placeholder:"https://example.com/image.jpg",...S})}),e.jsx(zt,{})]})}),e.jsx(Et,{control:f.control,name:"pdf_url",render:({field:S})=>e.jsxs(wt,{children:[e.jsx(bt,{children:"PDF URL *"}),e.jsx(Nt,{children:e.jsx(J,{placeholder:"https://example.com/epaper.pdf",...S})}),e.jsx(zt,{})]})}),e.jsx(Et,{control:f.control,name:"is_latest",render:({field:S})=>e.jsxs(wt,{className:"flex flex-row items-start space-x-3 space-y-0",children:[e.jsx(Nt,{children:e.jsx(SE,{checked:S.value,onCheckedChange:S.onChange})}),e.jsxs("div",{className:"space-y-1 leading-none",children:[e.jsx(bt,{children:"Set as Latest Edition"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"This will be displayed as the current edition"})]})]})}),e.jsxs(uu,{children:[e.jsx(M,{type:"button",variant:"outline",onClick:()=>n(!1),children:"Cancel"}),e.jsx(M,{type:"submit",disabled:p.isPending,children:p.isPending?e.jsxs(e.Fragment,{children:[e.jsx(oe,{className:"h-4 w-4 animate-spin mr-2"}),"Saving..."]}):l==="create"?"Upload E-Paper":"Update E-Paper"})]})]})})]})}),e.jsx(hu,{open:c,onOpenChange:d,children:e.jsxs(pc,{children:[e.jsxs(gc,{children:[e.jsx(yc,{children:"Are you sure?"}),e.jsxs(jc,{children:['This action cannot be undone. This will permanently delete the e-paper "',u==null?void 0:u.title,'" and remove it from the website.']})]}),e.jsxs(vc,{children:[e.jsx(bc,{children:"Cancel"}),e.jsx(wc,{onClick:()=>u&&j.mutate(u.id),className:"bg-red-600 hover:bg-red-700",children:"Delete E-Paper"})]})]})})]})})}const O9=ma({content:Zt().min(10,"Content must be at least 10 characters"),is_active:bS().default(!0),article_id:RM().optional(),creation_type:OM(["new","existing"]).default("new")}),I9=t=>[{key:"id",label:t("id","ID",""),sortable:!0},{key:"content",label:t("content","Content",""),sortable:!0,render:s=>e.jsx("div",{className:"max-w-[400px] truncate font-medium",children:s})},{key:"is_active",label:t("status","Status",""),sortable:!0,render:s=>e.jsx(ee,{variant:s?"default":"secondary",children:s?e.jsxs(e.Fragment,{children:[e.jsx(Jm,{className:"h-3 w-3 mr-1"})," ",t("live","Live","")]}):e.jsxs(e.Fragment,{children:[e.jsx(Qm,{className:"h-3 w-3 mr-1"})," ",t("inactive","Inactive","")]})})},{key:"created_at",label:t("created","Created",""),sortable:!0,render:s=>e.jsx(vt,{date:s,type:"relative"})},{key:"updated_at",label:t("updated","Updated",""),sortable:!0,render:s=>e.jsx(vt,{date:s,type:"relative"})}];function D9(){const{toast:t}=Xe(),{t:s}=Nr(),[r,n]=h.useState(!1),[a,i]=h.useState(null),[l,o]=h.useState("create"),[c,d]=h.useState(!1),[u,m]=h.useState(null),[f,x]=h.useState("new"),g=Yn({resolver:Xn(O9),defaultValues:{content:"",is_active:!0,creation_type:"new",article_id:void 0}}),{data:v,isLoading:p,error:j}=xe({queryKey:["/api/breaking-news"],queryFn:async()=>{const{getBreakingNews:D}=await le(async()=>{const{getBreakingNews:B}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getBreakingNews:B}},[]);return await D()}}),{data:w}=xe({queryKey:["/api/articles"],queryFn:async()=>{const{getArticles:D}=await le(async()=>{const{getArticles:B}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getArticles:B}},[]);return await D(50)},enabled:f==="existing"}),y=Ie({mutationFn:async D=>{const B=l==="create"?"/api/breaking-news":`/api/breaking-news/${a.id}`,O=await Ae(l==="create"?"POST":"PUT",B,D);if(!O.ok){const z=await O.json();throw new Error(z.error||`Failed to ${l} breaking news`)}return await O.json()},onSuccess:()=>{t({title:`Breaking news ${l==="create"?"created":"updated"}`,description:`The breaking news has been ${l==="create"?"created":"updated"} successfully.`}),n(!1),g.reset(),Cn.invalidateQueries({queryKey:["/api/breaking-news"]})},onError:D=>{t({title:"Error",description:D.message,variant:"destructive"})}}),_=Ie({mutationFn:async D=>{const B=await Ae("DELETE",`/api/breaking-news/${D}`);if(!B.ok)throw new Error("Failed to delete breaking news");return B.json()},onSuccess:()=>{t({title:"Breaking news deleted",description:"The breaking news has been successfully deleted."}),Cn.invalidateQueries({queryKey:["/api/breaking-news"]}),d(!1),m(null)},onError:D=>{t({title:"Error",description:D.message,variant:"destructive"})}}),b=Ie({mutationFn:async({id:D,is_active:B})=>{const V=await Ae("PATCH",`/api/breaking-news/${D}`,{is_active:B});if(!V.ok)throw new Error("Failed to update breaking news status");return V.json()},onSuccess:()=>{t({title:"Status updated",description:"The breaking news status has been updated."}),Cn.invalidateQueries({queryKey:["/api/breaking-news"]})},onError:D=>{t({title:"Error",description:D.message,variant:"destructive"})}}),N=()=>{i(null),o("create"),g.reset(),n(!0)},T=D=>{i(D),o("edit"),g.setValue("content",D.content),g.setValue("is_active",D.is_active),n(!0)},A=D=>{m(D),d(!0)},S=D=>{b.mutate({id:D.id,is_active:!D.is_active})},P=D=>{y.mutate(D)},C=(v==null?void 0:v.length)||0,R=(v==null?void 0:v.filter(D=>D.is_active).length)||0,K=C-R,W=(v==null?void 0:v.filter(D=>{const B=new Date(D.created_at),V=new Date;return V.setHours(V.getHours()-24),B>V}).length)||0;return j?e.jsx(ut,{children:e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Rs,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Error Loading Breaking News"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:j.message||"An error occurred while loading breaking news"})]})})}):e.jsx(ut,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(sn,{className:"h-8 w-8"}),s("breaking-news-management","Breaking News Management","  ")]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:s("manage-breaking-news-desc","Manage urgent news alerts and breaking news","       ")})]}),e.jsxs(M,{onClick:N,className:"flex items-center gap-2",children:[e.jsx(Ps,{className:"h-4 w-4"}),s("create-breaking-news","Create Breaking News","   ")]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(k,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:s("total-news","Total News"," ")}),e.jsx(sn,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:C}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("breaking-news-items","Breaking news items","  ")})]})]}),e.jsxs(k,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:s("active-live","Active/Live","/")}),e.jsx(Jm,{className:"h-4 w-4 text-green-500"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:R}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("currently-visible","Currently visible"," ")})]})]}),e.jsxs(k,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:s("inactive","Inactive","")}),e.jsx(Qm,{className:"h-4 w-4 text-gray-500"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold text-gray-600",children:K}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("hidden-from-public","Hidden from public","   ")})]})]}),e.jsxs(k,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:s("last-24h","Last 24h","  ")}),e.jsx(ot,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:W}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("recent-updates","Recent updates"," ")})]})]})]}),R>0&&e.jsxs(k,{className:"border-orange-200 bg-orange-50 dark:bg-orange-950 dark:border-orange-800",children:[e.jsx(I,{children:e.jsxs(L,{className:"text-orange-800 dark:text-orange-200 flex items-center gap-2",children:[e.jsx(Rs,{className:"h-5 w-5"}),"Live Breaking News"]})}),e.jsx(E,{className:"space-y-3",children:v==null?void 0:v.filter(D=>D.is_active).map(D=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-gray-800 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:D.content}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Created: ",e.jsx(vt,{date:D.created_at,type:"relative"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ze,{checked:D.is_active,onCheckedChange:()=>S(D)}),e.jsx(M,{variant:"ghost",size:"sm",onClick:()=>T(D),children:"Edit"})]})]},D.id))})]}),e.jsxs(k,{children:[e.jsxs(I,{children:[e.jsx(L,{children:s("all-breaking-news","All Breaking News","  ")}),e.jsx(_e,{children:s("manage-breaking-news-alerts","Manage all breaking news alerts and their status","        ")})]}),e.jsx(E,{children:p?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(oe,{className:"h-8 w-8 animate-spin"})}):e.jsx(Cf,{data:v||[],columns:I9(s),searchPlaceholder:s("search-breaking-news","Search breaking news...","  ..."),onEdit:T,onDelete:A,loading:p})})]}),e.jsx(Gn,{open:r,onOpenChange:n,children:e.jsxs(jn,{className:"max-w-2xl",children:[e.jsx(wn,{children:e.jsx(bn,{children:l==="create"?s("create-breaking-news","Create Breaking News","   "):s("edit-breaking-news","Edit Breaking News","   ")})}),e.jsx(Jn,{...g,children:e.jsxs("form",{onSubmit:g.handleSubmit(P),className:"space-y-4",children:[e.jsx(Et,{control:g.control,name:"creation_type",render:({field:D})=>e.jsxs(wt,{className:"space-y-3",children:[e.jsx(bt,{children:s("creation-type","Creation Type"," ")}),e.jsx(Nt,{children:e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",id:"new",value:"new",checked:D.value==="new",onChange:B=>{D.onChange(B.target.value),x("new")}}),e.jsx("label",{htmlFor:"new",className:"text-sm font-medium",children:s("create-new","Create New","  ")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",id:"existing",value:"existing",checked:D.value==="existing",onChange:B=>{D.onChange(B.target.value),x("existing")}}),e.jsx("label",{htmlFor:"existing",className:"text-sm font-medium",children:s("use-existing","Use Existing Article","   ")})]})]})})]})}),f==="existing"&&e.jsx(Et,{control:g.control,name:"article_id",render:({field:D})=>e.jsxs(wt,{children:[e.jsx(bt,{children:s("select-article","Select Article","  ")}),e.jsx(Nt,{children:e.jsxs(Tr,{onValueChange:B=>D.onChange(parseInt(B)),children:[e.jsx(hr,{children:e.jsx(Pr,{placeholder:s("choose-article","Choose an article...","   ...")})}),e.jsx(mr,{children:w==null?void 0:w.map(B=>e.jsx(lt,{value:B.id.toString(),children:B.title},B.id))})]})}),e.jsx(zt,{})]})}),e.jsx(Et,{control:g.control,name:"content",render:({field:D})=>e.jsxs(wt,{children:[e.jsxs(bt,{children:[s("breaking-news-content","Breaking News Content","  ")," *"]}),e.jsx(Nt,{children:e.jsx(Kt,{placeholder:s("enter-breaking-news","Enter breaking news content...","   ..."),className:"min-h-[100px]",...D})}),e.jsx(zt,{})]})}),e.jsx(Et,{control:g.control,name:"is_active",render:({field:D})=>e.jsxs(wt,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(bt,{className:"text-base",children:s("publish-immediately","Publish Immediately","  ")}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s("breaking-news-visible","This breaking news will be visible to all users","       ")})]}),e.jsx(Nt,{children:e.jsx(Ze,{checked:D.value,onCheckedChange:D.onChange})})]})}),e.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-950 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Rs,{className:"h-4 w-4 text-yellow-600"}),e.jsx("p",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:s("important-notice","Important Notice"," ")})]}),e.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:s("breaking-news-warning","Breaking news will appear at the top of the website and in the ticker. Only activate when necessary to avoid overwhelming users.","                ")})]}),e.jsxs(uu,{children:[e.jsx(M,{type:"button",variant:"outline",onClick:()=>n(!1),children:s("cancel","Cancel","")}),e.jsx(M,{type:"submit",disabled:y.isPending,children:y.isPending?e.jsxs(e.Fragment,{children:[e.jsx(oe,{className:"h-4 w-4 animate-spin mr-2"}),s("saving","Saving...","  ...")]}):l==="create"?s("create-publish","Create & Publish","   "):s("update-breaking-news","Update Breaking News","   ")})]})]})})]})}),e.jsx(hu,{open:c,onOpenChange:d,children:e.jsxs(pc,{children:[e.jsxs(gc,{children:[e.jsx(yc,{children:"Are you sure?"}),e.jsx(jc,{children:"This action cannot be undone. This will permanently delete the breaking news and remove it from all displays."})]}),e.jsxs(vc,{children:[e.jsx(bc,{children:"Cancel"}),e.jsx(wc,{onClick:()=>u&&_.mutate(u.id),className:"bg-red-600 hover:bg-red-700",children:"Delete Breaking News"})]})]})})]})})}function M9(){return W_.useSyncExternalStore(L9,()=>!0,()=>!1)}function L9(){return()=>{}}var Qy="Avatar",[F9,TB]=Ns(Qy),[$9,kE]=F9(Qy),CE=h.forwardRef((t,s)=>{const{__scopeAvatar:r,...n}=t,[a,i]=h.useState("idle");return e.jsx($9,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:e.jsx(me.span,{...n,ref:s})})});CE.displayName=Qy;var EE="AvatarImage",TE=h.forwardRef((t,s)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=t,l=kE(EE,r),o=U9(n,i),c=Wt(d=>{a(d),l.onImageLoadingStatusChange(d)});return es(()=>{o!=="idle"&&c(o)},[o,c]),o==="loaded"?e.jsx(me.img,{...i,ref:s,src:n}):null});TE.displayName=EE;var PE="AvatarFallback",AE=h.forwardRef((t,s)=>{const{__scopeAvatar:r,delayMs:n,...a}=t,i=kE(PE,r),[l,o]=h.useState(n===void 0);return h.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>o(!0),n);return()=>window.clearTimeout(c)}},[n]),l&&i.imageLoadingStatus!=="loaded"?e.jsx(me.span,{...a,ref:s}):null});AE.displayName=PE;function mb(t,s){return t?s?(t.src!==s&&(t.src=s),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function U9(t,{referrerPolicy:s,crossOrigin:r}){const n=M9(),a=h.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[l,o]=h.useState(()=>mb(i,t));return es(()=>{o(mb(i,t))},[i,t]),es(()=>{const c=m=>()=>{o(m)};if(!i)return;const d=c("loaded"),u=c("error");return i.addEventListener("load",d),i.addEventListener("error",u),s&&(i.referrerPolicy=s),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",d),i.removeEventListener("error",u)}},[i,r,s]),l}var RE=CE,OE=TE,IE=AE;const pl=h.forwardRef(({className:t,...s},r)=>e.jsx(RE,{ref:r,className:re("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...s}));pl.displayName=RE.displayName;const gl=h.forwardRef(({className:t,...s},r)=>e.jsx(OE,{ref:r,className:re("aspect-square h-full w-full",t),...s}));gl.displayName=OE.displayName;const vl=h.forwardRef(({className:t,...s},r)=>e.jsx(IE,{ref:r,className:re("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...s}));vl.displayName=IE.displayName;const z9=[{key:"id",label:"ID",sortable:!0},{key:"email",label:"User",sortable:!0,render:(t,s)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(pl,{className:"h-8 w-8",children:[e.jsx(gl,{src:s.avatar_url}),e.jsx(vl,{children:s.name?s.name.charAt(0).toUpperCase():t.charAt(0).toUpperCase()})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.name||t}),e.jsx("div",{className:"text-sm text-muted-foreground",children:t})]})]})},{key:"role",label:"Role",sortable:!0,render:t=>e.jsx(ee,{variant:t==="admin"?"default":"secondary",children:t==="admin"?e.jsxs(e.Fragment,{children:[e.jsx(hI,{className:"h-3 w-3 mr-1"})," Admin"]}):e.jsxs(e.Fragment,{children:[e.jsx(gt,{className:"h-3 w-3 mr-1"})," User"]})})},{key:"created_at",label:"Joined",sortable:!0,render:t=>e.jsx(vt,{date:t,type:"relative"})},{key:"last_sign_in_at",label:"Last Active",sortable:!0,render:t=>t?e.jsx(vt,{date:t,type:"relative"}):"Never"}];function V9(){const{toast:t}=Xe(),{t:s}=Nr(),[r,n]=h.useState(!1),[a,i]=h.useState(null),[l,o]=h.useState(""),{data:c,isLoading:d,error:u}=xe({queryKey:["/api/admin/users"],retry:!1,queryFn:async()=>{const{getUsers:w}=await le(async()=>{const{getUsers:y}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getUsers:y}},[]);return await w()}}),{data:m}=xe({queryKey:["/api/admin/users/stats"],retry:!1,queryFn:async()=>{try{const{getAdminUserStats:w}=await le(async()=>{const{getAdminUserStats:_}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getAdminUserStats:_}},[]),y=await w("all");if(y)return y;if(c&&Array.isArray(c)){const _=c.length,b=c.filter(A=>A.role==="admin").length,N=c.filter(A=>{const S=new Date(A.last_sign_in_at),P=new Date;return P.setDate(P.getDate()-30),S>P}).length,T=c.filter(A=>{const S=new Date(A.created_at),P=new Date;return P.setDate(P.getDate()-7),S>P}).length;return{totalUsers:_,adminUsers:b,activeUsers:N,newUsers:T}}return{totalUsers:0,adminUsers:0,activeUsers:0,newUsers:0}}catch{if(c&&Array.isArray(c)){const y=c.length,_=c.filter(b=>b.role==="admin").length;return{totalUsers:y,adminUsers:_,activeUsers:0,newUsers:0}}return{totalUsers:0,adminUsers:0,activeUsers:0,newUsers:0}}}}),f=Ie({mutationFn:async({userId:w,role:y})=>{const _=await Ae("PUT",`/api/admin/users/${w}/role`,{role:y});if(!_.ok)throw new Error("Failed to update user role");return _.json()},onSuccess:()=>{t({title:"User role updated",description:"The user role has been successfully updated."}),Cn.invalidateQueries({queryKey:["/api/admin/users"]}),n(!1),i(null)},onError:w=>{t({title:"Error",description:w.message,variant:"destructive"})}}),x=Ie({mutationFn:async w=>{const y=await Ae("DELETE",`/api/admin/users/${w}`);if(!y.ok)throw new Error("Failed to delete user");return y.json()},onSuccess:()=>{t({title:"User deleted",description:"The user has been successfully deleted."}),Cn.invalidateQueries({queryKey:["/api/admin/users"]})},onError:w=>{t({title:"Error",description:w.message,variant:"destructive"})}}),g=(w,y)=>{i(w),o(y),n(!0)},v=w=>{confirm(`Are you sure you want to delete user "${w.email}"?`)&&x.mutate(w.id)},p=({user:w})=>e.jsxs(fl,{children:[e.jsx(xl,{asChild:!0,children:e.jsx(M,{variant:"ghost",className:"h-8 w-8 p-0",children:e.jsx(Jv,{className:"h-4 w-4"})})}),e.jsxs(yi,{align:"end",children:[e.jsx(du,{children:"Actions"}),e.jsx(Lt,{onClick:()=>navigator.clipboard.writeText(w.email),children:"Copy email"}),e.jsx(ua,{}),e.jsx(Lt,{onClick:()=>g(w,w.role==="admin"?"user":"admin"),children:w.role==="admin"?"Remove Admin":"Make Admin"}),e.jsx(ua,{}),e.jsx(Lt,{onClick:()=>v(w),className:"text-red-600",children:"Delete User"})]})]}),j=[...z9,{key:"actions",label:"Actions",render:(w,y)=>e.jsx(p,{user:y})}];return u?e.jsx(ut,{children:e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Yt,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:s("error_loading_users","Error Loading Users","   ")}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:u.message||s("error_loading_users_description","An error occurred while loading users","      ")})]})})}):e.jsx(ut,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:s("users_management","Users Management"," ")}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:s("users_management_description","Manage users, roles, and permissions",",     ")})]}),e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx(aw,{className:"h-4 w-4"}),s("invite_user","Invite User","  ")]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(k,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:"Total Users"}),e.jsx(gt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(m==null?void 0:m.totalUsers)||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Registered users"})]})]}),e.jsxs(k,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:"Admin Users"}),e.jsx(vs,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(m==null?void 0:m.adminUsers)||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Admin privileges"})]})]}),e.jsxs(k,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:"Active Users"}),e.jsx(Ds,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(m==null?void 0:m.activeUsers)||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Active this month"})]})]}),e.jsxs(k,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:"New Users"}),e.jsx(aw,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(m==null?void 0:m.newUsers)||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Joined this week"})]})]})]}),e.jsxs(k,{children:[e.jsxs(I,{children:[e.jsx(L,{children:"All Users"}),e.jsx(_e,{children:"Manage user accounts and permissions"})]}),e.jsx(E,{children:e.jsx(Cf,{data:c||[],columns:j,searchPlaceholder:"Search users...",loading:d})})]}),e.jsx(hu,{open:r,onOpenChange:n,children:e.jsxs(pc,{children:[e.jsxs(gc,{children:[e.jsx(yc,{children:"Change User Role"}),e.jsxs(jc,{children:['Are you sure you want to change the role of "',a==null?void 0:a.email,'" to "',l,'"? This will ',l==="admin"?"grant admin privileges":"remove admin privileges","."]})]}),e.jsxs(vc,{children:[e.jsx(bc,{children:"Cancel"}),e.jsx(wc,{onClick:()=>a&&f.mutate({userId:a.id,role:l}),children:"Change Role"})]})]})})]})})}async function fb(){try{const{data:t,error:s}=await qe.storage.listBuckets();if(s)return console.error("Error listing buckets:",s),{success:!1,error:s.message};if(t==null?void 0:t.some(i=>i.name==="media"))return console.log("Media bucket already exists"),{success:!0,message:"Bucket already exists"};const{data:n,error:a}=await qe.storage.createBucket("media",{public:!0,allowedMimeTypes:["image/jpeg","image/jpg","image/png","image/webp","video/mp4","video/webm","video/ogg","audio/mp3","audio/wav","audio/ogg","audio/mpeg"],fileSizeLimit:524288e3});return a?(console.error("Error creating bucket:",a),{success:!1,error:a.message}):(console.log("Media bucket created successfully"),{success:!0,data:n})}catch(t){return console.error("Error in createMediaBucket:",t),{success:!1,error:t.message}}}class B9{static async uploadFile(s,r,n){var a;try{const i=await fb();if(!i.success&&!((a=i.message)!=null&&a.includes("already exists")))return{success:!1,error:`Bucket setup failed: ${i.error}`};const l=s.name.split(".").pop(),o=n||`${Date.now()}-${Math.random().toString(36).substring(7)}.${l}`,c=`${r}/${o}`,{data:d,error:u}=await qe.storage.from("media").upload(c,s,{cacheControl:"3600",upsert:!1});if(u){if(console.error("Upload error:",u),u.message.includes("Bucket not found")&&(console.log("Bucket not found, creating media bucket..."),(await fb()).success)){const{data:x,error:g}=await qe.storage.from("media").upload(c,s,{cacheControl:"3600",upsert:!1});if(g)return{success:!1,error:g.message};const{data:v}=qe.storage.from("media").getPublicUrl(c);return{success:!0,url:v.publicUrl,path:c}}return{success:!1,error:u.message}}const{data:m}=qe.storage.from("media").getPublicUrl(c);return{success:!0,url:m.publicUrl,path:c}}catch(i){return console.error("Upload error:",i),{success:!1,error:i.message}}}static async deleteFile(s){try{const{error:r}=await qe.storage.from("media").remove([s]);return r?(console.error("Delete error:",r),!1):!0}catch(r){return console.error("Delete error:",r),!1}}static getPublicUrl(s){const{data:r}=qe.storage.from("media").getPublicUrl(s);return r.publicUrl}static async listFiles(s,r=100){try{const{data:n,error:a}=await qe.storage.from("media").list(s,{limit:r,sortBy:{column:"created_at",order:"desc"}});return a?(console.error("List files error:",a),[]):n||[]}catch(n){return console.error("List files error:",n),[]}}static async getFileInfo(s){try{const{data:r,error:n}=await qe.storage.from("media").list(s.split("/")[0],{search:s.split("/")[1]});return n?(console.error("Get file info error:",n),null):(r==null?void 0:r[0])||null}catch(r){return console.error("Get file info error:",r),null}}}function q9(){const[t,s]=h.useState(!1),[r,n]=h.useState(!1),[a,i]=h.useState(null),{toast:l}=Xe(),o=async()=>{s(!0),i(null);try{const c=await Ae("/api/admin/setup-storage",{method:"POST"});c.success?(n(!0),l({title:"Storage setup complete",description:"Media bucket has been configured successfully"})):i(c.error||"Failed to setup storage")}catch(c){i(c.message||"Failed to setup storage")}finally{s(!1)}};return r?e.jsxs(Ms,{className:"border-green-200 bg-green-50 dark:bg-green-900/20",children:[e.jsx(as,{className:"h-4 w-4 text-green-600"}),e.jsx(Ls,{className:"text-green-800 dark:text-green-200",children:"Storage setup is complete. You can now upload files."})]}):e.jsxs(k,{className:"border-orange-200 bg-orange-50 dark:bg-orange-900/20",children:[e.jsxs(I,{children:[e.jsxs(L,{className:"flex items-center gap-2 text-orange-800 dark:text-orange-200",children:[e.jsx(Zn,{className:"h-5 w-5"}),"Storage Setup Required"]}),e.jsx(_e,{className:"text-orange-700 dark:text-orange-300",children:"The media storage bucket needs to be configured before you can upload files."})]}),e.jsxs(E,{className:"space-y-4",children:[a&&e.jsxs(Ms,{variant:"destructive",children:[e.jsx(Yt,{className:"h-4 w-4"}),e.jsx(Ls,{children:a})]}),e.jsx(M,{onClick:o,disabled:t,className:"w-full",children:t?e.jsxs(e.Fragment,{children:[e.jsx(oe,{className:"h-4 w-4 mr-2 animate-spin"}),"Setting up storage..."]}):"Setup Storage Bucket"})]})]})}function ym({label:t,type:s,mediaType:r,value:n,onChange:a,placeholder:i="Select file to upload or enter URL",accept:l,maxSize:o="500MB",description:c}){const[d,u]=h.useState(!1),[m,f]=h.useState(!1),[x,g]=h.useState("url"),{toast:v}=Xe(),p=s||r,j=async y=>{var _,b,N,T;u(!0);try{const A=await B9.uploadFile(y,p);A.success&&A.url?(a==null||a(A.url),v({title:"Upload successful",description:`${y.name} uploaded successfully`})):(_=A.error)!=null&&_.includes("Bucket not found")||(b=A.error)!=null&&b.includes("bucket")?(f(!0),v({title:"Storage setup required",description:"Please set up the media storage bucket first",variant:"destructive"})):v({title:"Upload failed",description:A.error||"Unknown error occurred",variant:"destructive"})}catch(A){(N=A.message)!=null&&N.includes("Bucket not found")||(T=A.message)!=null&&T.includes("bucket")?(f(!0),v({title:"Storage setup required",description:"Please set up the media storage bucket first",variant:"destructive"})):v({title:"Upload failed",description:A.message,variant:"destructive"})}finally{u(!1)}},w=y=>{var b;const _=(b=y.target.files)==null?void 0:b[0];_&&j(_)};return m?e.jsxs("div",{className:"space-y-4",children:[e.jsx(Q,{children:t}),e.jsx(q9,{}),e.jsx(M,{variant:"outline",onClick:()=>f(!1),className:"w-full",children:"Try Upload Again"})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(Q,{children:t}),c&&e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:c})]}),e.jsxs("div",{className:"flex rounded-md border",children:[e.jsx(M,{type:"button",variant:x==="url"?"default":"ghost",size:"sm",onClick:()=>g("url"),className:"rounded-r-none",children:"URL"}),e.jsx(M,{type:"button",variant:x==="upload"?"default":"ghost",size:"sm",onClick:()=>g("upload"),className:"rounded-l-none",children:"Upload"})]})]}),e.jsxs("div",{className:"space-y-2",children:[n&&e.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-green-50 dark:bg-green-900/20 rounded",children:[e.jsx(as,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm text-green-800 dark:text-green-200",children:x==="upload"?"File uploaded successfully":"URL set successfully"})]}),x==="url"?e.jsx(J,{type:"url",value:n||"",onChange:y=>a==null?void 0:a(y.target.value),placeholder:`Enter ${p?p.slice(0,-1):"media"} URL...`,className:"w-full"}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(J,{type:"file",accept:l,onChange:w,disabled:d,className:"flex-1"}),d&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(oe,{className:"h-4 w-4 animate-spin"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Uploading..."})]})]}),e.jsx("p",{className:"text-sm text-gray-500",children:x==="upload"?`Max size: ${o}. ${l?`Accepted formats: ${l}`:""}`:"Enter a direct URL to the media file"})]})]})}function H9(){var T;const{user:t,loading:s}=tt(),{t:r}=Nr(),[,n]=St(),[a,i]=h.useState(null),[l,o]=h.useState(!1),[c,d]=h.useState(""),[u,m]=h.useState(""),f=hs(),{toast:x}=Xe();h.useEffect(()=>{var A;(!s&&!t||!s&&t&&((A=t.user_metadata)==null?void 0:A.role)!=="admin")&&n("/admin-login")},[s,t,n]);const{data:g,isLoading:v,error:p}=xe({queryKey:["/api/videos"],enabled:!!t&&((T=t.user_metadata)==null?void 0:T.role)==="admin"}),j=Ie({mutationFn:async A=>await Ae("POST","/api/videos",A),onSuccess:()=>{f.invalidateQueries({queryKey:["/api/videos"]}),x({title:r("success","Success",""),description:r("video_created_successfully","Video created successfully","   ")}),o(!1),i(null)},onError:A=>{x({title:r("error","Error",""),description:A.message||r("failed_to_create_video","Failed to create video","   "),variant:"destructive"})}}),w=Ie({mutationFn:async({id:A,...S})=>await Ae("PUT",`/api/videos/${A}`,S),onSuccess:()=>{f.invalidateQueries({queryKey:["/api/videos"]}),x({title:"Success",description:"Video updated successfully"}),o(!1),i(null)},onError:A=>{x({title:"Error",description:A.message||"Failed to update video",variant:"destructive"})}}),y=Ie({mutationFn:async A=>await Ae("DELETE",`/api/videos/${A}`),onSuccess:()=>{f.invalidateQueries({queryKey:["/api/videos"]}),x({title:"Success",description:"Video deleted successfully"})},onError:A=>{x({title:"Error",description:A.message||"Failed to delete video",variant:"destructive"})}}),_=async A=>{A.preventDefault();const S=new FormData(A.currentTarget),P={title:S.get("title"),slug:S.get("title").toLowerCase().replace(/\s+/g,"-"),description:S.get("description"),thumbnail_url:u,video_url:c,duration:S.get("duration"),published_at:new Date().toISOString(),view_count:0};a?w.mutate({id:a.id,...P}):j.mutate(P)},b=A=>{A?(i(A),d(A.videoUrl),m(A.thumbnailUrl)):(i(null),d(""),m("")),o(!0)},N=()=>{o(!1),i(null),d(""),m("")};return s?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(oe,{className:"h-8 w-8 animate-spin"})}):e.jsx(ut,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:r("video_management","Video Management"," ")}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:r("video_management_description","Manage video content for your Bengali news website","        ")})]}),e.jsxs(M,{onClick:()=>b(),className:"flex items-center gap-2",children:[e.jsx(Ps,{className:"h-4 w-4"}),r("add_new_video","Add New Video","   ")]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(k,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ay,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Videos"}),e.jsx("p",{className:"text-2xl font-bold",children:(g==null?void 0:g.length)||0})]})]})})}),e.jsx(k,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($t,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Views"}),e.jsx("p",{className:"text-2xl font-bold",children:(g==null?void 0:g.reduce((A,S)=>A+S.viewCount,0))||0})]})]})})}),e.jsx(k,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ds,{className:"h-8 w-8 text-purple-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Published Today"}),e.jsx("p",{className:"text-2xl font-bold",children:(g==null?void 0:g.filter(A=>new Date(A.publishedAt).toDateString()===new Date().toDateString()).length)||0})]})]})})}),e.jsx(k,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ot,{className:"h-8 w-8 text-orange-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Avg Duration"}),e.jsxs("p",{className:"text-2xl font-bold",children:[g!=null&&g.length?Math.round(g.reduce((A,S)=>{const P=S.duration.split(":").reduce((C,R)=>60*C+ +R,0);return A+P},0)/g.length/60):0,"m"]})]})]})})})]}),e.jsxs(k,{children:[e.jsxs(I,{children:[e.jsx(L,{children:"All Videos"}),e.jsx(_e,{children:"Manage your video content library"})]}),e.jsx(E,{children:v?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(oe,{className:"h-8 w-8 animate-spin"})}):p?e.jsxs("div",{className:"text-center py-8 text-red-500",children:["Error loading videos: ",p.message]}):(g==null?void 0:g.length)===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No videos found. Create your first video!"}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:g==null?void 0:g.map(A=>e.jsxs(k,{className:"overflow-hidden",children:[e.jsx("div",{className:"aspect-video bg-gray-100 dark:bg-gray-800 flex items-center justify-center",children:A.thumbnailUrl?e.jsx("img",{src:A.thumbnailUrl,alt:A.title,className:"w-full h-full object-cover"}):e.jsx(Ji,{className:"h-12 w-12 text-gray-400"})}),e.jsxs(E,{className:"p-4",children:[e.jsx("h3",{className:"font-semibold text-lg mb-2 line-clamp-2",children:A.title}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2 line-clamp-2",children:A.description}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-3",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ot,{className:"h-3 w-3"}),A.duration]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx($t,{className:"h-3 w-3"}),A.viewCount]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(M,{size:"sm",variant:"outline",onClick:()=>b(A),children:e.jsx(Rr,{className:"h-3 w-3"})}),e.jsx(M,{size:"sm",variant:"outline",onClick:()=>y.mutate(A.id),children:e.jsx(As,{className:"h-3 w-3"})})]})]})]},A.id))})})]}),l&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs(k,{className:"w-full max-w-md",children:[e.jsx(I,{children:e.jsx(L,{children:a?"Edit Video":"Add New Video"})}),e.jsx(E,{children:e.jsxs("form",{onSubmit:_,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"title",children:"Title"}),e.jsx(J,{id:"title",name:"title",required:!0,defaultValue:(a==null?void 0:a.title)||""})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"description",children:"Description"}),e.jsx(Kt,{id:"description",name:"description",required:!0,defaultValue:(a==null?void 0:a.description)||""})]}),e.jsx(ym,{label:"Video File",description:"Upload video file or provide URL",mediaType:"videos",value:c,onChange:d,placeholder:"https://example.com/video.mp4",required:!0}),e.jsx(ym,{label:"Thumbnail Image",description:"Upload thumbnail image or provide URL",mediaType:"images",value:u,onChange:m,placeholder:"https://example.com/thumbnail.jpg"}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"duration",children:"Duration (MM:SS)"}),e.jsx(J,{id:"duration",name:"duration",placeholder:"05:30",required:!0,defaultValue:(a==null?void 0:a.duration)||""})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(M,{type:"submit",disabled:j.isPending||w.isPending,children:j.isPending||w.isPending?e.jsx(oe,{className:"h-4 w-4 animate-spin"}):a?"Update":"Create"}),e.jsx(M,{type:"button",variant:"outline",onClick:N,children:"Cancel"})]})]})})]})})]})})}function W9(){var P;const{user:t,loading:s}=tt(),{t:r}=Nr(),[,n]=St(),[a,i]=h.useState(null),[l,o]=h.useState(!1),[c,d]=h.useState(null),[u,m]=h.useState(""),[f,x]=h.useState(""),g=hs(),{toast:v}=Xe();h.useEffect(()=>{var C;(!s&&!t||!s&&t&&((C=t.user_metadata)==null?void 0:C.role)!=="admin")&&n("/admin-login")},[s,t,n]);const{data:p,isLoading:j,error:w}=xe({queryKey:["/api/audio-articles"],enabled:!!t&&((P=t.user_metadata)==null?void 0:P.role)==="admin"}),y=Ie({mutationFn:async C=>await Ae("POST","/api/audio-articles",C),onSuccess:()=>{g.invalidateQueries({queryKey:["/api/audio-articles"]}),v({title:"Success",description:"Audio article created successfully"}),o(!1),i(null)},onError:C=>{v({title:"Error",description:C.message||"Failed to create audio article",variant:"destructive"})}}),_=Ie({mutationFn:async({id:C,...R})=>await Ae("PUT",`/api/audio-articles/${C}`,R),onSuccess:()=>{g.invalidateQueries({queryKey:["/api/audio-articles"]}),v({title:"Success",description:"Audio article updated successfully"}),o(!1),i(null)},onError:C=>{v({title:"Error",description:C.message||"Failed to update audio article",variant:"destructive"})}}),b=Ie({mutationFn:async C=>await Ae("DELETE",`/api/audio-articles/${C}`),onSuccess:()=>{g.invalidateQueries({queryKey:["/api/audio-articles"]}),v({title:"Success",description:"Audio article deleted successfully"})},onError:C=>{v({title:"Error",description:C.message||"Failed to delete audio article",variant:"destructive"})}}),N=async C=>{C.preventDefault();const R=new FormData(C.currentTarget),K={title:R.get("title"),slug:R.get("title").toLowerCase().replace(/\s+/g,"-"),excerpt:R.get("excerpt"),image_url:f,audio_url:u,duration:R.get("duration"),published_at:new Date().toISOString()};a?_.mutate({id:a.id,...K}):y.mutate(K)},T=C=>{C?(i(C),m(C.audioUrl),x(C.imageUrl)):(i(null),m(""),x("")),o(!0)},A=()=>{o(!1),i(null),m(""),x("")},S=C=>{d(c===C?null:C)};return s?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(oe,{className:"h-8 w-8 animate-spin"})}):e.jsx(ut,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Audio Articles Management"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage audio content for your Bengali news website"})]}),e.jsxs(M,{onClick:()=>T(),className:"flex items-center gap-2",children:[e.jsx(Ps,{className:"h-4 w-4"}),"Add New Audio Article"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(k,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Jm,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Audio Articles"}),e.jsx("p",{className:"text-2xl font-bold",children:(p==null?void 0:p.length)||0})]})]})})}),e.jsx(k,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Mo,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Duration"}),e.jsxs("p",{className:"text-2xl font-bold",children:[p!=null&&p.reduce((C,R)=>{const K=R.duration.split(":").reduce((W,D)=>60*W+ +D,0);return C+K},0)?Math.round(p.reduce((C,R)=>{const K=R.duration.split(":").reduce((W,D)=>60*W+ +D,0);return C+K},0)/60):0,"m"]})]})]})})}),e.jsx(k,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ds,{className:"h-8 w-8 text-purple-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Published Today"}),e.jsx("p",{className:"text-2xl font-bold",children:(p==null?void 0:p.filter(C=>new Date(C.publishedAt).toDateString()===new Date().toDateString()).length)||0})]})]})})}),e.jsx(k,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ot,{className:"h-8 w-8 text-orange-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Avg Duration"}),e.jsxs("p",{className:"text-2xl font-bold",children:[p!=null&&p.length?Math.round(p.reduce((C,R)=>{const K=R.duration.split(":").reduce((W,D)=>60*W+ +D,0);return C+K},0)/p.length/60):0,"m"]})]})]})})})]}),e.jsxs(k,{children:[e.jsxs(I,{children:[e.jsx(L,{children:"All Audio Articles"}),e.jsx(_e,{children:"Manage your audio content library"})]}),e.jsx(E,{children:j?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(oe,{className:"h-8 w-8 animate-spin"})}):w?e.jsxs("div",{className:"text-center py-8 text-red-500",children:["Error loading audio articles: ",w.message]}):(p==null?void 0:p.length)===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No audio articles found. Create your first audio article!"}):e.jsx("div",{className:"space-y-4",children:p==null?void 0:p.map(C=>e.jsx(k,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-lg flex items-center justify-center flex-shrink-0",children:C.imageUrl?e.jsx("img",{src:C.imageUrl,alt:C.title,className:"w-full h-full object-cover rounded-lg"}):e.jsx(sI,{className:"h-8 w-8 text-gray-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-lg mb-1",children:C.title}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:C.excerpt}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ot,{className:"h-3 w-3"}),C.duration]}),e.jsx("span",{children:new Date(C.publishedAt).toLocaleDateString("bn-BD")})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{size:"sm",variant:"outline",onClick:()=>S(C.audioUrl),children:c===C.audioUrl?e.jsx(Oo,{className:"h-3 w-3"}):e.jsx(Ji,{className:"h-3 w-3"})}),e.jsx(M,{size:"sm",variant:"outline",onClick:()=>T(C),children:e.jsx(Rr,{className:"h-3 w-3"})}),e.jsx(M,{size:"sm",variant:"outline",onClick:()=>b.mutate(C.id),children:e.jsx(As,{className:"h-3 w-3"})})]})]})},C.id))})})]}),l&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs(k,{className:"w-full max-w-md",children:[e.jsx(I,{children:e.jsx(L,{children:a?"Edit Audio Article":"Add New Audio Article"})}),e.jsx(E,{children:e.jsxs("form",{onSubmit:N,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"title",children:"Title"}),e.jsx(J,{id:"title",name:"title",required:!0,defaultValue:(a==null?void 0:a.title)||""})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"excerpt",children:"Excerpt"}),e.jsx(Kt,{id:"excerpt",name:"excerpt",required:!0,defaultValue:(a==null?void 0:a.excerpt)||""})]}),e.jsx(ym,{label:"Audio File",description:"Upload audio file or provide URL",mediaType:"audio",value:u,onChange:m,placeholder:"https://example.com/audio.mp3",required:!0}),e.jsx(ym,{label:"Cover Image",description:"Upload cover image or provide URL",mediaType:"images",value:f,onChange:x,placeholder:"https://example.com/image.jpg"}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"duration",children:"Duration (MM:SS)"}),e.jsx(J,{id:"duration",name:"duration",placeholder:"05:30",required:!0,defaultValue:(a==null?void 0:a.duration)||""})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(M,{type:"submit",disabled:y.isPending||_.isPending,children:y.isPending||_.isPending?e.jsx(oe,{className:"h-4 w-4 animate-spin"}):a?"Update":"Create"}),e.jsx(M,{type:"button",variant:"outline",onClick:A,children:"Cancel"})]})]})})]})})]})})}function K9(){var d,u,m,f;const{user:t,loading:s}=tt(),[,r]=St(),[n,a]=h.useState("today");h.useEffect(()=>{var x;(!s&&!t||!s&&t&&((x=t.user_metadata)==null?void 0:x.role)!=="admin")&&r("/admin-login")},[s,t,r]);const{data:i,isLoading:l,error:o}=xe({queryKey:["/api/admin/analytics",n],enabled:!!t&&((d=t.user_metadata)==null?void 0:d.role)==="admin"}),c=x=>{a(x)};return s?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(oe,{className:"h-8 w-8 animate-spin"})}):e.jsx(ut,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Analytics Dashboard"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Comprehensive analytics and insights for your Bengali news website"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(M,{variant:n==="today"?"default":"outline",onClick:()=>c("today"),children:"Today"}),e.jsx(M,{variant:n==="week"?"default":"outline",onClick:()=>c("week"),children:"This Week"}),e.jsx(M,{variant:n==="month"?"default":"outline",onClick:()=>c("month"),children:"This Month"})]})]}),l?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(oe,{className:"h-8 w-8 animate-spin"})}):o?e.jsxs("div",{className:"text-center py-8 text-red-500",children:["Error loading analytics: ",o.message]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(k,{children:e.jsxs(E,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between space-y-0 pb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xt,{className:"h-5 w-5 text-blue-600"}),e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Articles"})]}),e.jsx(ee,{variant:"secondary",className:"text-xs",children:(i==null?void 0:i.articlesGrowth)||"0"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-2xl font-bold",children:(i==null?void 0:i.totalArticles)||0}),e.jsxs("p",{className:"text-xs text-gray-500",children:[(i==null?void 0:i.recentArticles)||0," new in ",n]})]})]})}),e.jsx(k,{children:e.jsxs(E,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between space-y-0 pb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(gt,{className:"h-5 w-5 text-green-600"}),e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Users"})]}),e.jsx(ee,{variant:"secondary",className:"text-xs",children:(i==null?void 0:i.usersGrowth)||"0"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-2xl font-bold",children:(i==null?void 0:i.totalUsers)||0}),e.jsxs("p",{className:"text-xs text-gray-500",children:[(i==null?void 0:i.recentUsers)||0," new in ",n]})]})]})}),e.jsx(k,{children:e.jsxs(E,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between space-y-0 pb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($t,{className:"h-5 w-5 text-purple-600"}),e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Views"})]}),e.jsx(Ft,{className:"h-4 w-4 text-green-600"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-2xl font-bold",children:((u=i==null?void 0:i.totalViews)==null?void 0:u.toLocaleString())||0}),e.jsx("p",{className:"text-xs text-gray-500",children:"Across all content"})]})]})}),e.jsx(k,{children:e.jsxs(E,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between space-y-0 pb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ay,{className:"h-5 w-5 text-orange-600"}),e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Videos"})]}),e.jsx(ee,{variant:"secondary",className:"text-xs",children:(i==null?void 0:i.videosGrowth)||"0"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-2xl font-bold",children:(i==null?void 0:i.totalVideos)||0}),e.jsxs("p",{className:"text-xs text-gray-500",children:[(i==null?void 0:i.recentVideos)||0," new in ",n]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(k,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Jm,{className:"h-5 w-5 text-indigo-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Audio Articles"}),e.jsx("p",{className:"text-2xl font-bold",children:(i==null?void 0:i.totalAudioArticles)||0})]})]})})}),e.jsx(k,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(la,{className:"h-5 w-5 text-pink-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Social Posts"}),e.jsx("p",{className:"text-2xl font-bold",children:(i==null?void 0:i.totalSocialPosts)||0})]})]})})}),e.jsx(k,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ds,{className:"h-5 w-5 text-teal-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"E-Papers"}),e.jsx("p",{className:"text-2xl font-bold",children:(i==null?void 0:i.totalEpapers)||0})]})]})})}),e.jsx(k,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(yr,{className:"h-5 w-5 text-red-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Breaking News"}),e.jsx("p",{className:"text-2xl font-bold",children:(i==null?void 0:i.totalBreakingNews)||0})]})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(k,{children:[e.jsxs(I,{children:[e.jsx(L,{children:"Popular Articles"}),e.jsx(_e,{children:"Most viewed articles by audience"})]}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:((m=i==null?void 0:i.popularArticles)==null?void 0:m.slice(0,5).map((x,g)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:x.title}),e.jsxs("p",{className:"text-xs text-gray-500",children:[x.views," views"]})]}),e.jsxs(ee,{variant:"outline",children:["#",g+1]})]},g)))||e.jsx("div",{className:"text-center py-4 text-gray-500",children:"No popular articles data available"})})})]}),e.jsxs(k,{children:[e.jsxs(I,{children:[e.jsx(L,{children:"Popular Videos"}),e.jsx(_e,{children:"Most viewed video content"})]}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:((f=i==null?void 0:i.popularVideos)==null?void 0:f.slice(0,5).map((x,g)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:x.title}),e.jsxs("p",{className:"text-xs text-gray-500",children:[x.views," views"]})]}),e.jsxs(ee,{variant:"outline",children:["#",g+1]})]},g)))||e.jsx("div",{className:"text-center py-4 text-gray-500",children:"No popular videos data available"})})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(k,{children:[e.jsxs(I,{children:[e.jsx(L,{children:"Category Distribution"}),e.jsx(_e,{children:"Articles by category"})]}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:i!=null&&i.categoriesDistribution?Object.entries(i.categoriesDistribution).sort(([,x],[,g])=>g-x).slice(0,8).map(([x,g])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:x}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-16 h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-600 rounded-full",style:{width:`${g/Math.max(...Object.values(i.categoriesDistribution))*100}%`}})}),e.jsx("span",{className:"text-sm text-gray-600 min-w-[2rem]",children:g})]})]},x)):e.jsx("div",{className:"text-center py-4 text-gray-500",children:"No category data available"})})})]}),e.jsxs(k,{children:[e.jsxs(I,{children:[e.jsx(L,{children:"Social Media Distribution"}),e.jsx(_e,{children:"Posts by platform"})]}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:i!=null&&i.platformDistribution?Object.entries(i.platformDistribution).sort(([,x],[,g])=>g-x).map(([x,g])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium capitalize",children:x}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-16 h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-green-600 rounded-full",style:{width:`${g/Math.max(...Object.values(i.platformDistribution))*100}%`}})}),e.jsx("span",{className:"text-sm text-gray-600 min-w-[2rem]",children:g})]})]},x)):e.jsx("div",{className:"text-center py-4 text-gray-500",children:"No platform data available"})})})]})]})]})]})})}const G9={facebook:Ym,twitter:ef,instagram:ty},Q9={facebook:"bg-blue-600",twitter:"bg-sky-500",instagram:"bg-pink-600"};function Z9(){var b;const{user:t,loading:s}=tt(),{t:r}=Nr(),[,n]=St(),[a,i]=h.useState(null),[l,o]=h.useState(!1),[c,d]=h.useState("all"),u=hs(),{toast:m}=Xe();h.useEffect(()=>{var N;(!s&&!t||!s&&t&&((N=t.user_metadata)==null?void 0:N.role)!=="admin")&&n("/admin-login")},[s,t,n]);const{data:f,isLoading:x,error:g}=xe({queryKey:["/api/social-media"],enabled:!!t&&((b=t.user_metadata)==null?void 0:b.role)==="admin"}),v=Ie({mutationFn:async N=>await Ae("POST","/api/social-media",N),onSuccess:()=>{u.invalidateQueries({queryKey:["/api/social-media"]}),m({title:"Success",description:"Social media post created successfully"}),o(!1),i(null)},onError:N=>{m({title:"Error",description:N.message||"Failed to create social media post",variant:"destructive"})}}),p=Ie({mutationFn:async({id:N,...T})=>await Ae("PUT",`/api/social-media/${N}`,T),onSuccess:()=>{u.invalidateQueries({queryKey:["/api/social-media"]}),m({title:"Success",description:"Social media post updated successfully"}),o(!1),i(null)},onError:N=>{m({title:"Error",description:N.message||"Failed to update social media post",variant:"destructive"})}}),j=Ie({mutationFn:async N=>await Ae("DELETE",`/api/social-media/${N}`),onSuccess:()=>{u.invalidateQueries({queryKey:["/api/social-media"]}),m({title:"Success",description:"Social media post deleted successfully"})},onError:N=>{m({title:"Error",description:N.message||"Failed to delete social media post",variant:"destructive"})}}),w=async N=>{N.preventDefault();const T=new FormData(N.currentTarget),A={platform:T.get("platform"),content:T.get("content"),embed_code:T.get("embed_code"),post_url:T.get("post_url"),published_at:new Date().toISOString()};a?p.mutate({id:a.id,...A}):v.mutate(A)},y=f==null?void 0:f.filter(N=>c==="all"||N.platform===c),_=f==null?void 0:f.reduce((N,T)=>(N[T.platform]=(N[T.platform]||0)+1,N),{});return s?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(oe,{className:"h-8 w-8 animate-spin"})}):e.jsx(ut,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:r("social-media-management","Social Media Management","  ")}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:r("manage-social-media-posts","Manage social media posts for your Bengali news website","         ")})]}),e.jsxs(M,{onClick:()=>o(!0),className:"flex items-center gap-2",children:[e.jsx(Ps,{className:"h-4 w-4"}),r("add-new-post","Add New Post","   ")]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(Q,{htmlFor:"platform-filter",children:r("filter-by-platform","Filter by Platform:","   :")}),e.jsxs(Tr,{value:c,onValueChange:d,children:[e.jsx(hr,{id:"platform-filter",className:"w-48",children:e.jsx(Pr,{placeholder:"Select platform"})}),e.jsxs(mr,{children:[e.jsx(lt,{value:"all",children:"All Platforms"}),e.jsx(lt,{value:"facebook",children:"Facebook"}),e.jsx(lt,{value:"twitter",children:"Twitter"}),e.jsx(lt,{value:"instagram",children:"Instagram"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(k,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(la,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:r("total-posts","Total Posts"," ")}),e.jsx("p",{className:"text-2xl font-bold",children:(f==null?void 0:f.length)||0})]})]})})}),e.jsx(k,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ym,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Facebook"}),e.jsx("p",{className:"text-2xl font-bold",children:(_==null?void 0:_.facebook)||0})]})]})})}),e.jsx(k,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ef,{className:"h-8 w-8 text-sky-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Twitter"}),e.jsx("p",{className:"text-2xl font-bold",children:(_==null?void 0:_.twitter)||0})]})]})})}),e.jsx(k,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ty,{className:"h-8 w-8 text-pink-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Instagram"}),e.jsx("p",{className:"text-2xl font-bold",children:(_==null?void 0:_.instagram)||0})]})]})})})]}),e.jsxs(k,{children:[e.jsxs(I,{children:[e.jsx(L,{children:r("social-media-posts","Social Media Posts","  ")}),e.jsx(_e,{children:r("manage-social-media-integration","Manage your social media integration and posts","       ")})]}),e.jsx(E,{children:x?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(oe,{className:"h-8 w-8 animate-spin"})}):g?e.jsxs("div",{className:"text-center py-8 text-red-500",children:["Error loading social media posts: ",g.message]}):(y==null?void 0:y.length)===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No social media posts found for this platform."}):e.jsx("div",{className:"space-y-4",children:y==null?void 0:y.map(N=>{const T=G9[N.platform]||la,A=Q9[N.platform]||"bg-gray-600";return e.jsx(k,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${A}`,children:e.jsx(T,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ee,{variant:"outline",className:"capitalize",children:N.platform}),e.jsx("span",{className:"text-sm text-gray-500",children:new Date(N.published_at).toLocaleDateString("bn-BD")})]}),e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-2",children:N.content}),N.embed_code&&e.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 rounded p-2 mb-2",children:e.jsxs("code",{className:"text-xs text-gray-600 dark:text-gray-400",children:[N.embed_code.substring(0,100),"..."]})}),N.post_url&&e.jsxs("a",{href:N.post_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-sm text-blue-600 hover:text-blue-800",children:[e.jsx(ey,{className:"h-3 w-3"}),"View Original Post"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{size:"sm",variant:"outline",onClick:()=>{i(N),o(!0)},children:e.jsx(Rr,{className:"h-3 w-3"})}),e.jsx(M,{size:"sm",variant:"outline",onClick:()=>j.mutate(N.id),children:e.jsx(As,{className:"h-3 w-3"})})]})]})},N.id)})})})]}),l&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs(k,{className:"w-full max-w-lg",children:[e.jsx(I,{children:e.jsx(L,{children:a?"Edit Social Media Post":"Add New Social Media Post"})}),e.jsx(E,{children:e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"platform",children:"Platform"}),e.jsxs(Tr,{name:"platform",defaultValue:(a==null?void 0:a.platform)||"",children:[e.jsx(hr,{children:e.jsx(Pr,{placeholder:"Select platform"})}),e.jsxs(mr,{children:[e.jsx(lt,{value:"facebook",children:"Facebook"}),e.jsx(lt,{value:"twitter",children:"Twitter"}),e.jsx(lt,{value:"instagram",children:"Instagram"})]})]})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"content",children:"Content"}),e.jsx(Kt,{id:"content",name:"content",required:!0,placeholder:"Post content...",defaultValue:(a==null?void 0:a.content)||""})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"embed_code",children:"Embed Code (Optional)"}),e.jsx(Kt,{id:"embed_code",name:"embed_code",placeholder:"HTML embed code...",defaultValue:(a==null?void 0:a.embed_code)||""})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"post_url",children:"Post URL (Optional)"}),e.jsx(J,{id:"post_url",name:"post_url",type:"url",placeholder:"https://...",defaultValue:(a==null?void 0:a.post_url)||""})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(M,{type:"submit",disabled:v.isPending||p.isPending,children:v.isPending||p.isPending?e.jsx(oe,{className:"h-4 w-4 animate-spin"}):a?"Update":"Create"}),e.jsx(M,{type:"button",variant:"outline",onClick:()=>{o(!1),i(null)},children:"Cancel"})]})]})})]})})]})})}var Y9="Separator",xb="horizontal",X9=["horizontal","vertical"],DE=h.forwardRef((t,s)=>{const{decorative:r,orientation:n=xb,...a}=t,i=J9(n)?n:xb,o=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return e.jsx(me.div,{"data-orientation":i,...o,...a,ref:s})});DE.displayName=Y9;function J9(t){return X9.includes(t)}var ME=DE;const Tn=h.forwardRef(({className:t,orientation:s="horizontal",decorative:r=!0,...n},a)=>e.jsx(ME,{ref:a,decorative:r,orientation:s,className:re("shrink-0 bg-border",s==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));Tn.displayName=ME.displayName;const pb={siteName:"",siteDescription:"   ",siteUrl:"https://example.com",logoUrl:"",defaultLanguage:"bn",enableNotifications:!0,enableComments:!0,enableUserRegistration:!0,maintenanceMode:!1,emailSettings:{smtpHost:"",smtpPort:587,smtpUser:"",smtpPassword:"",fromEmail:"",fromName:""},socialSettings:{facebookUrl:"",twitterUrl:"",instagramUrl:"",youtubeUrl:""},seoSettings:{metaTitle:"",metaDescription:"",metaKeywords:"",googleAnalyticsId:"",facebookPixelId:""}};function ez(){const{user:t,loading:s}=tt(),{t:r}=Nr(),[,n]=St(),[a,i]=h.useState(pb),[l,o]=h.useState("general"),[c,d]=h.useState(!1),{toast:u}=Xe(),m=hs();h.useEffect(()=>{var y;(!s&&!t||!s&&t&&((y=t.user_metadata)==null?void 0:y.role)!=="admin")&&n("/admin-login")},[s,t,n]),h.useEffect(()=>{const y=JSON.stringify(a)!==JSON.stringify(pb);d(y)},[a]);const{data:f,isLoading:x}=xe({queryKey:["/api/admin/settings"],staleTime:5*60*1e3});h.useEffect(()=>{f&&i(y=>({...y,...f}))},[f]);const g=Ie({mutationFn:async y=>await(await Ae("POST","/api/admin/settings",y)).json(),onSuccess:y=>{typeof window<"u"&&(window.globalSiteSettings={...window.globalSiteSettings,siteName:a.siteName},window.dispatchEvent(new CustomEvent("siteSettingsUpdated",{detail:{siteName:a.siteName,allSettings:a}}))),u({title:r("success","Success",""),description:`${r("settings_saved_successfully","Settings saved successfully","   ")} -   "${a.siteName}"     `}),d(!1),m.invalidateQueries({queryKey:["/api/admin/settings"]}),m.invalidateQueries({queryKey:["/api/settings"]})},onError:y=>{u({title:r("error","Error",""),description:y.message||r("failed_to_save_settings","Failed to save settings","   "),variant:"destructive"})}}),v=()=>{g.mutate(a)},p=(y,_,b)=>{i(y==="general"?N=>({...N,[_]:b}):N=>({...N,[y]:{...N[y],[_]:b}}))},j=async y=>{var b;const _=(b=y.target.files)==null?void 0:b[0];if(_)try{const N=new FileReader;N.onload=async T=>{var S;const A=(S=T.target)==null?void 0:S.result;try{const C=await(await Ae("POST","/api/admin/upload-logo",{logoData:A,filename:`logo-${Date.now()}-${_.name}`})).json();C.success&&(i(R=>({...R,logoUrl:C.logoUrl})),u({title:r("success","Success",""),description:r("logo_uploaded_successfully","Logo uploaded successfully","   ")}))}catch{u({title:r("error","Error",""),description:r("failed_to_upload_logo","Failed to upload logo","   "),variant:"destructive"})}},N.readAsDataURL(_)}catch(N){console.error("Logo upload error:",N)}},w=[{id:"general",label:"General",icon:qs},{id:"email",label:"Email",icon:Ao},{id:"social",label:"Social Media",icon:Po},{id:"seo",label:"SEO",icon:vs},{id:"security",label:"Security",icon:Jh},{id:"appearance",label:"Appearance",icon:sw}];return s?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(oe,{className:"h-8 w-8 animate-spin"})}):e.jsx(ut,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:r("system_settings","System Settings"," ")}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:r("configure_settings","Configure your Bengali news website settings","      ")})]}),e.jsxs(M,{onClick:v,disabled:!c||g.isPending,className:"flex items-center gap-2",children:[g.isPending?e.jsx(oe,{className:"h-4 w-4 animate-spin"}):e.jsx(Ql,{className:"h-4 w-4"}),r("save_changes","Save Changes","  ")]})]}),c&&e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-700 rounded-lg",children:[e.jsx(Rs,{className:"h-4 w-4 text-yellow-600"}),e.jsx("span",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"You have unsaved changes"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsxs(k,{className:"lg:col-span-1",children:[e.jsx(I,{children:e.jsx(L,{className:"text-lg",children:"Settings"})}),e.jsx(E,{className:"p-0",children:e.jsx("nav",{className:"space-y-1",children:w.map(y=>{const _=y.icon;return e.jsxs("button",{onClick:()=>o(y.id),className:`w-full flex items-center gap-3 px-4 py-3 text-left text-sm font-medium transition-colors ${l===y.id?"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 border-r-2 border-blue-600":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:[e.jsx(_,{className:"h-4 w-4"}),y.label]},y.id)})})})]}),e.jsxs("div",{className:"lg:col-span-3",children:[l==="general"&&e.jsxs(k,{children:[e.jsxs(I,{children:[e.jsx(L,{children:"General Settings"}),e.jsx(_e,{children:"Basic site configuration"})]}),e.jsxs(E,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"siteName",children:"Site Name (Controls all 81 instances)"}),e.jsx(J,{id:"siteName",value:a.siteName,onChange:y=>p("general","siteName",y.target.value),placeholder:""}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Changing this will update the site name in all 81 places across your website"})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"siteDescription",children:"Site Description"}),e.jsx(Kt,{id:"siteDescription",value:a.siteDescription,onChange:y=>p("general","siteDescription",y.target.value)})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"siteUrl",children:"Site URL"}),e.jsx(J,{id:"siteUrl",type:"url",value:a.siteUrl,onChange:y=>p("general","siteUrl",y.target.value)})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"logoUpload",children:"Site Logo"}),e.jsxs("div",{className:"flex items-center gap-4",children:[a.logoUrl&&e.jsx("img",{src:a.logoUrl,alt:"Current Logo",className:"h-12 w-12 object-contain border rounded"}),e.jsx(J,{id:"logoUpload",type:"file",accept:"image/*",onChange:j,className:"flex-1"})]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Upload a logo for your website. Recommended size: 200x50px"})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"defaultLanguage",children:"Default Language"}),e.jsxs(Tr,{value:a.defaultLanguage,onValueChange:y=>p("general","defaultLanguage",y),children:[e.jsx(hr,{children:e.jsx(Pr,{})}),e.jsxs(mr,{children:[e.jsx(lt,{value:"bn",children:" (Bengali)"}),e.jsx(lt,{value:"en",children:"English"})]})]})]})]}),e.jsx(Tn,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Features"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"enableNotifications",children:"Enable Notifications"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Allow push notifications for breaking news"})]}),e.jsx(Ze,{id:"enableNotifications",checked:a.enableNotifications,onCheckedChange:y=>p("general","enableNotifications",y)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"enableComments",children:"Enable Comments"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Allow users to comment on articles"})]}),e.jsx(Ze,{id:"enableComments",checked:a.enableComments,onCheckedChange:y=>p("general","enableComments",y)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"enableUserRegistration",children:"Enable User Registration"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Allow new users to register"})]}),e.jsx(Ze,{id:"enableUserRegistration",checked:a.enableUserRegistration,onCheckedChange:y=>p("general","enableUserRegistration",y)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"maintenanceMode",children:"Maintenance Mode"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Temporarily disable public access"})]}),e.jsx(Ze,{id:"maintenanceMode",checked:a.maintenanceMode,onCheckedChange:y=>p("general","maintenanceMode",y)})]})]})]})]})]}),l==="email"&&e.jsxs(k,{children:[e.jsxs(I,{children:[e.jsx(L,{children:"Email Settings"}),e.jsx(_e,{children:"Configure SMTP settings for email notifications"})]}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"smtpHost",children:"SMTP Host"}),e.jsx(J,{id:"smtpHost",value:a.emailSettings.smtpHost,onChange:y=>p("emailSettings","smtpHost",y.target.value)})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"smtpPort",children:"SMTP Port"}),e.jsx(J,{id:"smtpPort",type:"number",value:a.emailSettings.smtpPort,onChange:y=>p("emailSettings","smtpPort",parseInt(y.target.value))})]})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"smtpUser",children:"SMTP Username"}),e.jsx(J,{id:"smtpUser",value:a.emailSettings.smtpUser,onChange:y=>p("emailSettings","smtpUser",y.target.value)})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"smtpPassword",children:"SMTP Password"}),e.jsx(J,{id:"smtpPassword",type:"password",value:a.emailSettings.smtpPassword,onChange:y=>p("emailSettings","smtpPassword",y.target.value)})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"fromEmail",children:"From Email"}),e.jsx(J,{id:"fromEmail",type:"email",value:a.emailSettings.fromEmail,onChange:y=>p("emailSettings","fromEmail",y.target.value)})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"fromName",children:"From Name"}),e.jsx(J,{id:"fromName",value:a.emailSettings.fromName,onChange:y=>p("emailSettings","fromName",y.target.value)})]})]})]})]}),l==="social"&&e.jsxs(k,{children:[e.jsxs(I,{children:[e.jsx(L,{children:"Social Media Settings"}),e.jsx(_e,{children:"Configure social media integration"})]}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"facebookUrl",children:"Facebook URL"}),e.jsx(J,{id:"facebookUrl",type:"url",value:a.socialSettings.facebookUrl,onChange:y=>p("socialSettings","facebookUrl",y.target.value)})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"twitterUrl",children:"Twitter URL"}),e.jsx(J,{id:"twitterUrl",type:"url",value:a.socialSettings.twitterUrl,onChange:y=>p("socialSettings","twitterUrl",y.target.value)})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"instagramUrl",children:"Instagram URL"}),e.jsx(J,{id:"instagramUrl",type:"url",value:a.socialSettings.instagramUrl,onChange:y=>p("socialSettings","instagramUrl",y.target.value)})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"youtubeUrl",children:"YouTube URL"}),e.jsx(J,{id:"youtubeUrl",type:"url",value:a.socialSettings.youtubeUrl,onChange:y=>p("socialSettings","youtubeUrl",y.target.value)})]})]})]}),l==="seo"&&e.jsxs(k,{children:[e.jsxs(I,{children:[e.jsx(L,{children:"SEO Settings"}),e.jsx(_e,{children:"Search engine optimization configuration"})]}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"metaTitle",children:"Meta Title"}),e.jsx(J,{id:"metaTitle",value:a.seoSettings.metaTitle,onChange:y=>p("seoSettings","metaTitle",y.target.value)})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"metaDescription",children:"Meta Description"}),e.jsx(Kt,{id:"metaDescription",value:a.seoSettings.metaDescription,onChange:y=>p("seoSettings","metaDescription",y.target.value)})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"metaKeywords",children:"Meta Keywords"}),e.jsx(J,{id:"metaKeywords",value:a.seoSettings.metaKeywords,onChange:y=>p("seoSettings","metaKeywords",y.target.value)})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"googleAnalyticsId",children:"Google Analytics ID"}),e.jsx(J,{id:"googleAnalyticsId",value:a.seoSettings.googleAnalyticsId,onChange:y=>p("seoSettings","googleAnalyticsId",y.target.value)})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"facebookPixelId",children:"Facebook Pixel ID"}),e.jsx(J,{id:"facebookPixelId",value:a.seoSettings.facebookPixelId,onChange:y=>p("seoSettings","facebookPixelId",y.target.value)})]})]})]}),l==="security"&&e.jsxs(k,{children:[e.jsxs(I,{children:[e.jsx(L,{children:"Security Settings"}),e.jsx(_e,{children:"Database and security configuration"})]}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Zn,{className:"h-5 w-5 text-blue-600"}),e.jsx("h3",{className:"font-semibold text-blue-900 dark:text-blue-100",children:"Database Status"})]}),e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Connected to Supabase PostgreSQL database"}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(Ja,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm text-green-600",children:"Connection Active"})]})]}),e.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(vs,{className:"h-5 w-5 text-green-600"}),e.jsx("h3",{className:"font-semibold text-green-900 dark:text-green-100",children:"Authentication"})]}),e.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:"Supabase Auth enabled with role-based access control"}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(Ja,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm text-green-600",children:"Admin Role Active"})]})]}),e.jsxs("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Jh,{className:"h-5 w-5 text-yellow-600"}),e.jsx("h3",{className:"font-semibold text-yellow-900 dark:text-yellow-100",children:"API Keys"})]}),e.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"Environment variables configured for Supabase integration"}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(Ja,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm text-green-600",children:"Keys Configured"})]})]})]})]}),l==="appearance"&&e.jsxs(k,{children:[e.jsxs(I,{children:[e.jsx(L,{children:"Appearance Settings"}),e.jsx(_e,{children:"Customize the look and feel of your site"})]}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(sw,{className:"h-5 w-5 text-purple-600"}),e.jsx("h3",{className:"font-semibold text-purple-900 dark:text-purple-100",children:"Theme"})]}),e.jsx("p",{className:"text-sm text-purple-700 dark:text-purple-300",children:"Dark/Light mode toggle is available in the navigation"})]}),e.jsxs("div",{className:"p-4 bg-gradient-to-r from-green-50 to-teal-50 dark:from-green-900/20 dark:to-teal-900/20 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(F2,{className:"h-5 w-5 text-teal-600"}),e.jsx("h3",{className:"font-semibold text-teal-900 dark:text-teal-100",children:"Language"})]}),e.jsx("p",{className:"text-sm text-teal-700 dark:text-teal-300",children:"Bengali and English language support enabled"})]}),e.jsxs("div",{className:"p-4 bg-gradient-to-r from-orange-50 to-red-50 dark:from-orange-900/20 dark:to-red-900/20 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Po,{className:"h-5 w-5 text-orange-600"}),e.jsx("h3",{className:"font-semibold text-orange-900 dark:text-orange-100",children:"Responsive Design"})]}),e.jsx("p",{className:"text-sm text-orange-700 dark:text-orange-300",children:"Mobile-first responsive design with Tailwind CSS"})]})]})]})]})]})]})})}const tz={sunny:eu,cloudy:Zm,rainy:Xv,snowy:I2,windy:iy},sz=[{value:"sunny",label:" (Sunny)",icon:eu},{value:"cloudy",label:" (Cloudy)",icon:Zm},{value:"rainy",label:" (Rainy)",icon:Xv},{value:"snowy",label:" (Snowy)",icon:I2},{value:"windy",label:" (Windy)",icon:iy}];function rz(){var v;const{user:t,loading:s}=tt(),[,r]=St(),[n,a]=h.useState(null),[i,l]=h.useState(!1),o=hs(),{toast:c}=Xe();h.useEffect(()=>{var p;(!s&&!t||!s&&t&&((p=t.user_metadata)==null?void 0:p.role)!=="admin")&&r("/admin-login")},[s,t,r]);const{data:d,isLoading:u,error:m}=xe({queryKey:["/api/weather"],enabled:!!t&&((v=t.user_metadata)==null?void 0:v.role)==="admin"}),f=Ie({mutationFn:async p=>await Ae("POST","/api/weather",p),onSuccess:()=>{o.invalidateQueries({queryKey:["/api/weather"]}),c({title:"Success",description:"Weather data created successfully"}),l(!1),a(null)},onError:p=>{c({title:"Error",description:p.message||"Failed to create weather data",variant:"destructive"})}}),x=Ie({mutationFn:async({city:p,...j})=>await Ae("PUT",`/api/weather/${p}`,j),onSuccess:()=>{o.invalidateQueries({queryKey:["/api/weather"]}),c({title:"Success",description:"Weather data updated successfully"}),l(!1),a(null)},onError:p=>{c({title:"Error",description:p.message||"Failed to update weather data",variant:"destructive"})}}),g=async p=>{p.preventDefault();const j=new FormData(p.currentTarget),w={city:j.get("city"),temperature:parseInt(j.get("temperature")),condition:j.get("condition"),icon:j.get("condition"),forecast:JSON.stringify({humidity:parseInt(j.get("humidity"))||65,windSpeed:parseInt(j.get("windSpeed"))||10,pressure:parseInt(j.get("pressure"))||1013})};n?x.mutate({city:n.city,...w}):f.mutate(w)};return s?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(oe,{className:"h-8 w-8 animate-spin"})}):e.jsx(ut,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Weather Management"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage weather information for your Bengali news website"})]}),e.jsxs(M,{onClick:()=>l(!0),className:"flex items-center gap-2",children:[e.jsx(Ps,{className:"h-4 w-4"}),"Add Weather Data"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(k,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ro,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Cities"}),e.jsx("p",{className:"text-2xl font-bold",children:(d==null?void 0:d.length)||0})]})]})})}),e.jsx(k,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(xI,{className:"h-8 w-8 text-red-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Avg Temperature"}),e.jsxs("p",{className:"text-2xl font-bold",children:[d!=null&&d.length?Math.round(d.reduce((p,j)=>p+j.temperature,0)/d.length):0,"C"]})]})]})})}),e.jsx(k,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xv,{className:"h-8 w-8 text-blue-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Rainy Cities"}),e.jsx("p",{className:"text-2xl font-bold",children:(d==null?void 0:d.filter(p=>p.condition==="rainy").length)||0})]})]})})}),e.jsx(k,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(eu,{className:"h-8 w-8 text-yellow-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Sunny Cities"}),e.jsx("p",{className:"text-2xl font-bold",children:(d==null?void 0:d.filter(p=>p.condition==="sunny").length)||0})]})]})})})]}),e.jsxs(k,{children:[e.jsxs(I,{children:[e.jsx(L,{children:"Weather Information"}),e.jsx(_e,{children:"Manage weather data for different cities"})]}),e.jsx(E,{children:u?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(oe,{className:"h-8 w-8 animate-spin"})}):m?e.jsxs("div",{className:"text-center py-8 text-red-500",children:["Error loading weather data: ",m.message]}):(d==null?void 0:d.length)===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No weather data found. Add weather information for cities!"}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:d==null?void 0:d.map(p=>{const j=tz[p.condition]||Zm,w=p.forecast?JSON.parse(p.forecast):{};return e.jsx(k,{className:"relative",children:e.jsxs(E,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{className:"h-6 w-6 text-blue-600"}),e.jsx("h3",{className:"font-semibold text-lg",children:p.city})]}),e.jsx(ee,{variant:"outline",className:"capitalize",children:p.condition})]}),e.jsxs("div",{className:"text-center mb-4",children:[e.jsxs("div",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:[p.temperature,"C"]}),e.jsx("div",{className:"text-sm text-gray-500 capitalize",children:p.condition})]}),w&&e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(YO,{className:"h-3 w-3"}),"Humidity"]}),e.jsxs("span",{children:[w.humidity||65,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(iy,{className:"h-3 w-3"}),"Wind Speed"]}),e.jsxs("span",{children:[w.windSpeed||10," km/h"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Pressure"}),e.jsxs("span",{children:[w.pressure||1013," hPa"]})]})]}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsx(M,{size:"sm",variant:"outline",onClick:()=>{a(p),l(!0)},children:e.jsx(Rr,{className:"h-3 w-3"})}),e.jsx(M,{size:"sm",variant:"outline",onClick:()=>{c({title:"Info",description:"Weather data deletion not implemented yet"})},children:e.jsx(As,{className:"h-3 w-3"})})]})]})},p.id)})})})]}),i&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs(k,{className:"w-full max-w-md",children:[e.jsx(I,{children:e.jsx(L,{children:n?"Edit Weather Data":"Add Weather Data"})}),e.jsx(E,{children:e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"city",children:"City"}),e.jsx(J,{id:"city",name:"city",required:!0,placeholder:"e.g., , ",defaultValue:(n==null?void 0:n.city)||""})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"temperature",children:"Temperature (C)"}),e.jsx(J,{id:"temperature",name:"temperature",type:"number",required:!0,placeholder:"e.g., 28",defaultValue:(n==null?void 0:n.temperature)||""})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"condition",children:"Weather Condition"}),e.jsxs(Tr,{name:"condition",defaultValue:(n==null?void 0:n.condition)||"",children:[e.jsx(hr,{children:e.jsx(Pr,{placeholder:"Select condition"})}),e.jsx(mr,{children:sz.map(p=>e.jsx(lt,{value:p.value,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p.icon,{className:"h-4 w-4"}),p.label]})},p.value))})]})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"humidity",children:"Humidity (%)"}),e.jsx(J,{id:"humidity",name:"humidity",type:"number",placeholder:"e.g., 65",defaultValue:n!=null&&n.forecast?JSON.parse(n.forecast).humidity:""})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"windSpeed",children:"Wind Speed (km/h)"}),e.jsx(J,{id:"windSpeed",name:"windSpeed",type:"number",placeholder:"e.g., 10",defaultValue:n!=null&&n.forecast?JSON.parse(n.forecast).windSpeed:""})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"pressure",children:"Pressure (hPa)"}),e.jsx(J,{id:"pressure",name:"pressure",type:"number",placeholder:"e.g., 1013",defaultValue:n!=null&&n.forecast?JSON.parse(n.forecast).pressure:""})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(M,{type:"submit",disabled:f.isPending||x.isPending,children:f.isPending||x.isPending?e.jsx(oe,{className:"h-4 w-4 animate-spin"}):n?"Update":"Create"}),e.jsx(M,{type:"button",variant:"outline",onClick:()=>{l(!1),a(null)},children:"Cancel"})]})]})})]})})]})})}const nz=()=>{const[t,s]=h.useState(!1),[r,n]=h.useState("idle"),[a,i]=h.useState(""),l=async()=>{s(!0),n("idle"),i("");try{n("success"),i("     !          ")}catch{n("error"),i("      ")}finally{s(!1)}},o=[{icon:e.jsx(Yh,{className:"w-6 h-6"}),title:" ",description:"    ",features:["   ","   ","  "]},{icon:e.jsx(Ft,{className:"w-6 h-6"}),title:" ",description:"-   ",features:["  ","  ","  "]},{icon:e.jsx(Mt,{className:"w-6 h-6"}),title:"  ",description:"    ",features:["  ","   ","  "]},{icon:e.jsx(gt,{className:"w-6 h-6"}),title:" ",description:"  ",features:["  "," ","  "]},{icon:e.jsx(sn,{className:"w-6 h-6"}),title:"- ",description:"    ",features:["  "," ","  "]},{icon:e.jsx(qs,{className:"w-6 h-6"}),title:" ",description:"   ",features:["  "," ","  "]}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"  "}),e.jsx("p",{className:"text-gray-600 mt-1",children:"         "})]}),e.jsx(M,{onClick:l,disabled:t,size:"lg",className:"bg-blue-600 hover:bg-blue-700",children:t?e.jsxs(e.Fragment,{children:[e.jsx(qs,{className:"w-4 h-4 mr-2 animate-spin"}),"  ..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Yh,{className:"w-4 h-4 mr-2"}),"  "]})})]}),r==="success"&&e.jsxs(Ms,{className:"border-green-200 bg-green-50",children:[e.jsx(as,{className:"h-4 w-4 text-green-600"}),e.jsx(Ls,{className:"text-green-800",children:a})]}),r==="error"&&e.jsxs(Ms,{className:"border-red-200 bg-red-50",children:[e.jsx(Yt,{className:"h-4 w-4 text-red-600"}),e.jsx(Ls,{className:"text-red-800",children:a})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map((c,d)=>e.jsxs(k,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(I,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg text-blue-600",children:c.icon}),e.jsxs("div",{children:[e.jsx(L,{className:"text-lg",children:c.title}),e.jsx(_e,{className:"text-sm mt-1",children:c.description})]})]})}),e.jsx(E,{children:e.jsx("ul",{className:"space-y-2",children:c.features.map((u,m)=>e.jsxs("li",{className:"flex items-start space-x-2 text-sm",children:[e.jsx(as,{className:"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:u})]},m))})})]},d))}),e.jsxs(k,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",children:[e.jsx(I,{children:e.jsxs(L,{className:"flex items-center space-x-2",children:[e.jsx(qs,{className:"w-5 h-5"}),e.jsx("span",{children:"     :"})]})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"  :"}),e.jsxs("ul",{className:"text-sm space-y-1",children:[e.jsx("li",{children:"   "}),e.jsx("li",{children:" -  "}),e.jsx("li",{children:"   "}),e.jsx("li",{children:"  "})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"  :"}),e.jsxs("ul",{className:"text-sm space-y-1",children:[e.jsx("li",{children:" %   "}),e.jsx("li",{children:" %   "}),e.jsx("li",{children:" %   "}),e.jsx("li",{children:" %   "})]})]})]})})]})]})},LE=()=>{const[t,s]=h.useState([]),[r,n]=h.useState([]),[a,i]=h.useState([]),[l,o]=h.useState(!0),[c,d]=h.useState(null),[u,m]=h.useState("24h");h.useEffect(()=>{f();const p=setInterval(f,5*60*1e3);return()=>clearInterval(p)},[u]);const f=async()=>{try{o(!0),d(null);const{getPopularArticles:p,getTrendingTopics:j}=await le(async()=>{const{getPopularArticles:b,getTrendingTopics:N}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getPopularArticles:b,getTrendingTopics:N}},[]),[w,y,_]=await Promise.all([p(10),j?j(10):Promise.resolve([]),p(10)]);s(w),n(y),i(_)}catch(p){d("     "),console.error("Error fetching trending data:",p)}finally{o(!1)}},x=p=>{const j=new Date(p),y=Math.floor((new Date().getTime()-j.getTime())/(1e3*60));return y<60?`${y}  `:y<1440?`${Math.floor(y/60)}  `:j.toLocaleDateString("bn-BD")},g=p=>p>.7?e.jsx(Ft,{className:"w-4 h-4 text-green-500"}):p>.4?e.jsx(Bs,{className:"w-4 h-4 text-yellow-500"}):e.jsx(V2,{className:"w-4 h-4 text-red-500"}),v=p=>p>.7?"text-green-600":p>.4?"text-yellow-600":"text-red-600";return l?e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[...Array(3)].map((p,j)=>e.jsxs(k,{children:[e.jsx(I,{children:e.jsx(Qe,{className:"h-6 w-32"})}),e.jsx(E,{className:"space-y-4",children:[...Array(5)].map((w,y)=>e.jsx(Qe,{className:"h-4 w-full"},y))})]},j))})}):c?e.jsxs(k,{className:"p-8 text-center",children:[e.jsxs("div",{className:"text-red-500 mb-4",children:[e.jsx(Bs,{className:"w-12 h-12 mx-auto mb-2"}),e.jsx("p",{children:c})]}),e.jsx(M,{onClick:f,variant:"outline",children:"  "})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold flex items-center space-x-2",children:[e.jsx(Ft,{className:"w-6 h-6 text-blue-600"}),e.jsx("span",{children:" "})]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"-    "})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(ee,{variant:"outline",className:"text-green-600",children:[e.jsx(Bs,{className:"w-3 h-3 mr-1"}),""]}),e.jsx(M,{onClick:f,variant:"outline",size:"sm",children:" "})]})]}),e.jsxs(ms,{defaultValue:"trending",className:"w-full",children:[e.jsxs(is,{className:"grid w-full grid-cols-3",children:[e.jsx(we,{value:"trending",children:" "}),e.jsx(we,{value:"popular",children:" "}),e.jsx(we,{value:"topics",children:" "})]}),e.jsx(je,{value:"trending",className:"space-y-4",children:e.jsxs(k,{children:[e.jsx(I,{children:e.jsxs(L,{className:"flex items-center space-x-2",children:[e.jsx(Ft,{className:"w-5 h-5"}),e.jsx("span",{children:" "}),e.jsx(ee,{variant:"secondary",children:t.length})]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:t.map((p,j)=>e.jsxs("div",{className:"flex items-center space-x-4 p-4 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>window.open(`/article/${p.id}`,"_blank"),children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsxs(ee,{className:"bg-blue-100 text-blue-800",children:["#",j+1]})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-lg truncate mb-1",children:p.title}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx($t,{className:"w-4 h-4"}),e.jsx("span",{children:p.view_count})]}),e.jsx("div",{className:"flex items-center space-x-1",children:e.jsx(ee,{variant:"outline",className:"text-xs",children:p.category_name})}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ot,{className:"w-4 h-4"}),e.jsx("span",{children:x(p.published_at)})]})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[g(p.trending_score),e.jsxs("span",{className:`text-sm font-medium ${v(p.trending_score)}`,children:[Math.round(p.trending_score*100),"%"]})]}),e.jsx("div",{className:"text-xs text-gray-500",children:" "})]})})]},p.id))})})]})}),e.jsx(je,{value:"popular",className:"space-y-4",children:e.jsxs(k,{children:[e.jsx(I,{children:e.jsxs(L,{className:"flex items-center space-x-2",children:[e.jsx(yr,{className:"w-5 h-5"}),e.jsx("span",{children:" "}),e.jsx(ee,{variant:"secondary",children:a.length})]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:a.map((p,j)=>e.jsxs("div",{className:"flex items-center space-x-4 p-4 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>window.open(`/article/${p.id}`,"_blank"),children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsxs(ee,{className:"bg-green-100 text-green-800",children:["#",j+1]})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-lg truncate mb-1",children:p.title}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx($t,{className:"w-4 h-4"}),e.jsx("span",{children:p.view_count})]}),e.jsx("div",{className:"flex items-center space-x-1",children:e.jsx(ee,{variant:"outline",className:"text-xs",children:p.category_name})}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ot,{className:"w-4 h-4"}),e.jsx("span",{children:x(p.published_at)})]})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm font-medium",children:Math.round(p.engagement_score)}),e.jsx("div",{className:"text-xs text-gray-500",children:""}),e.jsx(Os,{value:Math.min(p.engagement_score,100),className:"w-16 h-2 mt-1"})]})})]},p.id))})})]})}),e.jsx(je,{value:"topics",className:"space-y-4",children:e.jsxs(k,{children:[e.jsx(I,{children:e.jsxs(L,{className:"flex items-center space-x-2",children:[e.jsx(Bs,{className:"w-5 h-5"}),e.jsx("span",{children:" "}),e.jsx(ee,{variant:"secondary",children:r.length})]})}),e.jsx(E,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.map((p,j)=>e.jsxs("div",{className:"p-4 rounded-lg border hover:bg-gray-50 cursor-pointer transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs(ee,{className:"bg-purple-100 text-purple-800",children:["#",j+1]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[g(p.trending_score),e.jsxs("span",{className:`text-sm font-medium ${v(p.trending_score)}`,children:[Math.round(p.trending_score*100),"%"]})]})]}),e.jsx("h3",{className:"font-semibold text-lg mb-2",children:p.topic_name}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(gt,{className:"w-4 h-4"}),e.jsxs("span",{children:[p.mention_count," "]})]}),p.categories&&e.jsx(ee,{variant:"outline",className:"text-xs",children:p.categories.name})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:" "}),e.jsx(Os,{value:Math.min(p.trending_score*100,100),className:"w-full h-2"})]})]},p.id))})})]})})]}),e.jsxs(k,{className:"bg-gradient-to-r from-blue-50 to-purple-50 border-blue-200",children:[e.jsx(I,{children:e.jsxs(L,{className:"flex items-center space-x-2",children:[e.jsx(yr,{className:"w-5 h-5"}),e.jsx("span",{children:"- "})]})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.length}),e.jsx("div",{className:"text-sm text-gray-500",children:" "})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:a.length}),e.jsx("div",{className:"text-sm text-gray-500",children:" "})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:r.length}),e.jsx("div",{className:"text-sm text-gray-500",children:" "})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[Math.round(t.reduce((p,j)=>p+j.view_count,0)/1e3),"K"]}),e.jsx("div",{className:"text-sm text-gray-500",children:" "})]})]})})]})]})};function az(){const t=[{title:" ",description:"     ",icon:e.jsx(Yh,{className:"w-5 h-5"}),status:"active",performance:"87%"},{title:"  ",description:"   NLP    ",icon:e.jsx(Mt,{className:"w-5 h-5"}),status:"active",performance:"92%"},{title:" ",description:"-   ",icon:e.jsx(Ft,{className:"w-5 h-5"}),status:"active",performance:"78%"},{title:" ",description:"    ",icon:e.jsx(gt,{className:"w-5 h-5"}),status:"active",performance:"84%"},{title:" ",description:"    ",icon:e.jsx(sn,{className:"w-5 h-5"}),status:"active",performance:"91%"},{title:" ",description:"    ",icon:e.jsx(nc,{className:"w-5 h-5"}),status:"active",performance:"95%"}],s=n=>{switch(n){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},r=n=>{const a=parseInt(n);return a>=90?"text-green-600":a>=70?"text-yellow-600":"text-red-600"};return e.jsx(ut,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold flex items-center space-x-3",children:[e.jsx(Yh,{className:"w-8 h-8"}),e.jsx("span",{children:"  "})]}),e.jsx("p",{className:"text-blue-100 mt-2",children:"     AI    "})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(ee,{className:"bg-white/20 text-white border-white/30",children:[e.jsx(Bs,{className:"w-3 h-3 mr-1"}),""]}),e.jsxs(ee,{className:"bg-white/20 text-white border-white/30",children:[e.jsx(qs,{className:"w-3 h-3 mr-1"}),"-"]})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map((n,a)=>e.jsxs(k,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(I,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg text-blue-600",children:n.icon}),e.jsx("div",{children:e.jsx(L,{className:"text-lg",children:n.title})})]}),e.jsx(ee,{className:s(n.status),children:n.status==="active"?"":""})]})}),e.jsxs(E,{children:[e.jsx("p",{className:"text-gray-600 text-sm mb-3",children:n.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500",children:":"}),e.jsx("span",{className:`font-semibold ${r(n.performance)}`,children:n.performance})]})]})]},a))}),e.jsxs(ms,{defaultValue:"setup",className:"w-full",children:[e.jsxs(is,{className:"grid w-full grid-cols-3",children:[e.jsx(we,{value:"setup",children:"  "}),e.jsx(we,{value:"trending",children:" "}),e.jsx(we,{value:"monitoring",children:""})]}),e.jsx(je,{value:"setup",className:"space-y-4",children:e.jsx(nz,{})}),e.jsx(je,{value:"trending",className:"space-y-4",children:e.jsx(LE,{})}),e.jsxs(je,{value:"monitoring",className:"space-y-4",children:[e.jsxs(k,{children:[e.jsx(I,{children:e.jsxs(L,{className:"flex items-center space-x-2",children:[e.jsx(yr,{className:"w-5 h-5"}),e.jsx("span",{children:" "})]})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold",children:" "}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"  "}),e.jsx("span",{className:"text-sm font-medium text-green-600",children:"142ms"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"  "}),e.jsx("span",{className:"text-sm font-medium text-green-600",children:"38ms"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"  "}),e.jsx("span",{className:"text-sm font-medium text-yellow-600",children:"2.3s"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"- "}),e.jsx("span",{className:"text-sm font-medium text-green-600",children:".%"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold",children:" "}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:" "}),e.jsx("span",{className:"text-sm font-medium text-green-600",children:".%"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:" "}),e.jsx("span",{className:"text-sm font-medium text-yellow-600",children:"%"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:" "}),e.jsx("span",{className:"text-sm font-medium text-green-600",children:"%"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:" "}),e.jsx("span",{className:"text-sm font-medium text-green-600",children:"% "})]})]})]})]})})]}),e.jsxs(k,{children:[e.jsx(I,{children:e.jsx(L,{children:"   "})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"   "}),e.jsx("p",{className:"text-xs text-gray-500",children:"  "})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"     "}),e.jsx("p",{className:"text-xs text-gray-500",children:"  "})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-yellow-50 rounded-lg",children:[e.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"  "}),e.jsx("p",{className:"text-xs text-gray-500",children:"  "})]})]})]})})]})]})]})]})})}function iz(){const t=()=>{console.log("Exporting analytics data...")},s=()=>{console.log("Refreshing analytics data...")},r=[{title:"  ",value:"",change:"+%",icon:e.jsx(Ft,{className:"w-5 h-5"}),color:"text-green-600"},{title:" ",value:",",change:"+%",icon:e.jsx(gt,{className:"w-5 h-5"}),color:"text-blue-600"},{title:" ",value:",",change:"+%",icon:e.jsx(xr,{className:"w-5 h-5"}),color:"text-red-600"},{title:"  ",value:". ",change:"+%",icon:e.jsx(ot,{className:"w-5 h-5"}),color:"text-purple-600"}],n=[{name:"",articles:45,engagement:89},{name:"",articles:32,engagement:76},{name:"",articles:28,engagement:82},{name:"",articles:21,engagement:68},{name:"",articles:19,engagement:71}],a=[{topic:"  ",mentions:1247,growth:"+342%",category:""},{topic:" ",mentions:892,growth:"+156%",category:""},{topic:"  ",mentions:654,growth:"+98%",category:""},{topic:" ",mentions:543,growth:"+76%",category:""}];return e.jsx(ut,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-600 to-blue-600 rounded-xl p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold flex items-center space-x-3",children:[e.jsx(Ft,{className:"w-8 h-8"}),e.jsx("span",{children:" "})]}),e.jsx("p",{className:"text-green-100 mt-2",children:"-      "})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs(M,{onClick:s,variant:"outline",className:"bg-white/10 border-white/20 text-white hover:bg-white/20",children:[e.jsx(an,{className:"w-4 h-4 mr-2"}),""]}),e.jsxs(M,{onClick:t,variant:"outline",className:"bg-white/10 border-white/20 text-white hover:bg-white/20",children:[e.jsx(ii,{className:"w-4 h-4 mr-2"}),""]}),e.jsxs(ee,{className:"bg-white/20 text-white border-white/30",children:[e.jsx(Bs,{className:"w-3 h-3 mr-1"})," "]})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:r.map((i,l)=>e.jsx(k,{className:"hover:shadow-lg transition-shadow",children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:i.title}),e.jsx("p",{className:"text-2xl font-bold mb-1",children:i.value}),e.jsx("p",{className:`text-sm font-medium ${i.color}`,children:i.change})]}),e.jsx("div",{className:`p-3 rounded-full bg-gray-100 ${i.color}`,children:i.icon})]})})},l))}),e.jsxs(ms,{defaultValue:"dashboard",className:"w-full",children:[e.jsxs(is,{className:"grid w-full grid-cols-4",children:[e.jsx(we,{value:"dashboard",children:""}),e.jsx(we,{value:"categories",children:" "}),e.jsx(we,{value:"trends",children:" "}),e.jsx(we,{value:"reports",children:""})]}),e.jsx(je,{value:"dashboard",className:"space-y-4",children:e.jsx(LE,{})}),e.jsx(je,{value:"categories",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(k,{children:[e.jsx(I,{children:e.jsxs(L,{className:"flex items-center space-x-2",children:[e.jsx(yr,{className:"w-5 h-5"}),e.jsx("span",{children:"  "})]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:n.map((i,l)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-medium text-blue-600",children:l+1})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:i.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:[i.articles,"  "]})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"text-sm font-medium text-green-600",children:[i.engagement,"% "]})})]},l))})})]}),e.jsxs(k,{children:[e.jsx(I,{children:e.jsxs(L,{className:"flex items-center space-x-2",children:[e.jsx($t,{className:"w-5 h-5"}),e.jsx("span",{children:" "})]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:n.map((i,l)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:i.name}),e.jsxs("span",{className:"text-sm text-gray-600",children:[i.engagement,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-500",style:{width:`${i.engagement}%`}})})]},l))})})]})]})}),e.jsx(je,{value:"trends",className:"space-y-4",children:e.jsxs(k,{children:[e.jsx(I,{children:e.jsxs(L,{className:"flex items-center space-x-2",children:[e.jsx(Ft,{className:"w-5 h-5"}),e.jsx("span",{children:"  "})]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:a.map((i,l)=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-lg mb-1",children:i.topic}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[e.jsxs("span",{children:[i.mentions," "]}),e.jsx(ee,{variant:"outline",children:i.category})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-lg font-bold text-green-600",children:i.growth}),e.jsx("p",{className:"text-sm text-gray-500",children:""})]})]},l))})})]})}),e.jsx(je,{value:"reports",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(k,{children:[e.jsx(I,{children:e.jsx(L,{children:" "})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:" "}),e.jsx("span",{className:"font-semibold",children:","})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"  "}),e.jsx("span",{className:"font-semibold",children:""})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:" "}),e.jsx("span",{className:"font-semibold",children:"%"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"  "}),e.jsx("span",{className:"font-semibold",children:". "})]})]})})]}),e.jsxs(k,{children:[e.jsx(I,{children:e.jsx(L,{children:" "})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:" "}),e.jsx("span",{className:"font-semibold",children:""})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:" "}),e.jsx("span",{className:"font-semibold",children:""})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:" "}),e.jsx("span",{className:"font-semibold",children:"%"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:" "}),e.jsx("span",{className:"font-semibold",children:"%"})]})]})})]})]})})]})]})})}function lz(){var _;const[t,s]=h.useState([]),[r,n]=h.useState([]),[a,i]=h.useState([]),[l,o]=h.useState([]),[c,d]=h.useState(!0),[u,m]=h.useState("team"),[f,x]=h.useState(null),[g,v]=h.useState(!1),{toast:p}=Xe();h.useEffect(()=>{j()},[]);const j=async()=>{d(!0);try{const{data:b,error:N}=await qe.from("team_members").select("*").order("is_featured",{ascending:!1});if(N)throw N;s(b||[]);const{data:T,error:A}=await qe.from("contact_info").select("*").order("is_primary",{ascending:!1});if(A)throw A;n(T||[]);const{data:S,error:P}=await qe.from("ad_packages").select("*").order("price",{ascending:!0});if(P)throw P;i(S||[]);const{data:C,error:R}=await qe.from("editorial_policies").select("*").order("priority",{ascending:!0});if(R)throw R;o(C||[])}catch(b){console.error("Error fetching data:",b),p({title:"Error",description:"Failed to load data",variant:"destructive"})}finally{d(!1)}},w=async(b,N)=>{try{if(N.id){const{error:T}=await qe.from(b).update(N).eq("id",N.id);if(T)throw T;p({title:"Success",description:"Item updated successfully"})}else{const{error:T}=await qe.from(b).insert([N]);if(T)throw T;p({title:"Success",description:"Item created successfully"})}v(!1),x(null),j()}catch(T){console.error("Error saving item:",T),p({title:"Error",description:"Failed to save item",variant:"destructive"})}},y=async(b,N)=>{if(confirm("Are you sure you want to delete this item?"))try{const{error:T}=await qe.from(b).delete().eq("id",N);if(T)throw T;p({title:"Success",description:"Item deleted successfully"}),j()}catch(T){console.error("Error deleting item:",T),p({title:"Error",description:"Failed to delete item",variant:"destructive"})}};return c?e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"animate-pulse space-y-4",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),e.jsx("div",{className:"space-y-3",children:[...Array(5)].map((b,N)=>e.jsx("div",{className:"h-20 bg-gray-200 rounded"},N))})]})}):e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Footer Pages Management"}),e.jsxs(ee,{variant:"outline",children:[t.length+r.length+a.length+l.length," Total Items"]})]}),e.jsxs(ms,{value:u,onValueChange:m,children:[e.jsxs(is,{className:"grid w-full grid-cols-4",children:[e.jsx(we,{value:"team",children:"Team Members"}),e.jsx(we,{value:"contact",children:"Contact Info"}),e.jsx(we,{value:"ads",children:"Ad Packages"}),e.jsx(we,{value:"policies",children:"Editorial Policies"})]}),e.jsx(je,{value:"team",children:e.jsxs(k,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between",children:[e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(gt,{className:"h-5 w-5"}),"Team Members (",t.length,")"]}),e.jsxs(Gn,{open:g,onOpenChange:v,children:[e.jsx(Xc,{asChild:!0,children:e.jsxs(M,{onClick:()=>x({is_featured:!1}),children:[e.jsx(Ps,{className:"h-4 w-4 mr-2"}),"Add Member"]})}),e.jsxs(jn,{className:"max-w-2xl",children:[e.jsx(wn,{children:e.jsxs(bn,{children:[f!=null&&f.id?"Edit":"Add"," Team Member"]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"name",children:"Name"}),e.jsx(J,{id:"name",value:(f==null?void 0:f.name)||"",onChange:b=>x({...f,name:b.target.value})})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"position",children:"Position"}),e.jsx(J,{id:"position",value:(f==null?void 0:f.position)||"",onChange:b=>x({...f,position:b.target.value})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"department",children:"Department"}),e.jsx(J,{id:"department",value:(f==null?void 0:f.department)||"",onChange:b=>x({...f,department:b.target.value})})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"email",children:"Email"}),e.jsx(J,{id:"email",type:"email",value:(f==null?void 0:f.email)||"",onChange:b=>x({...f,email:b.target.value})})]})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"bio",children:"Bio"}),e.jsx(Kt,{id:"bio",value:(f==null?void 0:f.bio)||"",onChange:b=>x({...f,bio:b.target.value}),rows:3})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{id:"is_featured",checked:(f==null?void 0:f.is_featured)||!1,onCheckedChange:b=>x({...f,is_featured:b})}),e.jsx(Q,{htmlFor:"is_featured",children:"Featured Member"})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(M,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),e.jsxs(M,{onClick:()=>w("team_members",f),children:[e.jsx(Ql,{className:"h-4 w-4 mr-2"}),"Save"]})]})]})]})]})]}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:t.map(b=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-gray-200 flex items-center justify-center",children:e.jsx(gt,{className:"h-6 w-6 text-gray-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:b.name}),e.jsx("p",{className:"text-sm text-gray-600",children:b.position}),e.jsx("p",{className:"text-xs text-gray-500",children:b.department})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[b.is_featured&&e.jsx(ee,{variant:"secondary",children:"Featured"}),e.jsx(M,{variant:"outline",size:"sm",onClick:()=>{x(b),v(!0)},children:e.jsx(Rr,{className:"h-4 w-4"})}),e.jsx(M,{variant:"destructive",size:"sm",onClick:()=>y("team_members",b.id),children:e.jsx(As,{className:"h-4 w-4"})})]})]},b.id))})})]})}),e.jsx(je,{value:"contact",children:e.jsxs(k,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between",children:[e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Xi,{className:"h-5 w-5"}),"Contact Information (",r.length,")"]}),e.jsxs(Gn,{open:g,onOpenChange:v,children:[e.jsx(Xc,{asChild:!0,children:e.jsxs(M,{onClick:()=>x({is_primary:!1}),children:[e.jsx(Ps,{className:"h-4 w-4 mr-2"}),"Add Contact"]})}),e.jsxs(jn,{className:"max-w-2xl",children:[e.jsx(wn,{children:e.jsxs(bn,{children:[f!=null&&f.id?"Edit":"Add"," Contact Information"]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"department",children:"Department"}),e.jsx(J,{id:"department",value:(f==null?void 0:f.department)||"",onChange:b=>x({...f,department:b.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"phone",children:"Phone"}),e.jsx(J,{id:"phone",value:(f==null?void 0:f.phone)||"",onChange:b=>x({...f,phone:b.target.value})})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"email",children:"Email"}),e.jsx(J,{id:"email",type:"email",value:(f==null?void 0:f.email)||"",onChange:b=>x({...f,email:b.target.value})})]})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"address",children:"Address"}),e.jsx(Kt,{id:"address",value:(f==null?void 0:f.address)||"",onChange:b=>x({...f,address:b.target.value}),rows:2})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"working_hours",children:"Working Hours"}),e.jsx(J,{id:"working_hours",value:(f==null?void 0:f.working_hours)||"",onChange:b=>x({...f,working_hours:b.target.value})})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{id:"is_primary",checked:(f==null?void 0:f.is_primary)||!1,onCheckedChange:b=>x({...f,is_primary:b})}),e.jsx(Q,{htmlFor:"is_primary",children:"Primary Contact"})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(M,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),e.jsxs(M,{onClick:()=>w("contact_info",f),children:[e.jsx(Ql,{className:"h-4 w-4 mr-2"}),"Save"]})]})]})]})]})]}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:r.map(b=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-gray-200 flex items-center justify-center",children:e.jsx(Xi,{className:"h-6 w-6 text-gray-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:b.department}),e.jsxs("p",{className:"text-sm text-gray-600",children:[b.phone,"  ",b.email]}),e.jsx("p",{className:"text-xs text-gray-500",children:b.working_hours})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[b.is_primary&&e.jsx(ee,{variant:"secondary",children:"Primary"}),e.jsx(M,{variant:"outline",size:"sm",onClick:()=>{x(b),v(!0)},children:e.jsx(Rr,{className:"h-4 w-4"})}),e.jsx(M,{variant:"destructive",size:"sm",onClick:()=>y("contact_info",b.id),children:e.jsx(As,{className:"h-4 w-4"})})]})]},b.id))})})]})}),e.jsx(je,{value:"ads",children:e.jsxs(k,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between",children:[e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Xh,{className:"h-5 w-5"}),"Advertisement Packages (",a.length,")"]}),e.jsxs(Gn,{open:g,onOpenChange:v,children:[e.jsx(Xc,{asChild:!0,children:e.jsxs(M,{onClick:()=>x({features:[],is_popular:!1,is_active:!0}),children:[e.jsx(Ps,{className:"h-4 w-4 mr-2"}),"Add Package"]})}),e.jsxs(jn,{className:"max-w-2xl",children:[e.jsx(wn,{children:e.jsxs(bn,{children:[f!=null&&f.id?"Edit":"Add"," Ad Package"]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"name",children:"Package Name"}),e.jsx(J,{id:"name",value:(f==null?void 0:f.name)||"",onChange:b=>x({...f,name:b.target.value})})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"description",children:"Description"}),e.jsx(Kt,{id:"description",value:(f==null?void 0:f.description)||"",onChange:b=>x({...f,description:b.target.value}),rows:2})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"price",children:"Price"}),e.jsx(J,{id:"price",type:"number",value:(f==null?void 0:f.price)||"",onChange:b=>x({...f,price:parseFloat(b.target.value)})})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"duration",children:"Duration"}),e.jsx(J,{id:"duration",value:(f==null?void 0:f.duration)||"",onChange:b=>x({...f,duration:b.target.value})})]})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"features",children:"Features (comma-separated)"}),e.jsx(Kt,{id:"features",value:((_=f==null?void 0:f.features)==null?void 0:_.join(", "))||"",onChange:b=>x({...f,features:b.target.value.split(", ").filter(N=>N.trim())}),rows:3})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{id:"is_popular",checked:(f==null?void 0:f.is_popular)||!1,onCheckedChange:b=>x({...f,is_popular:b})}),e.jsx(Q,{htmlFor:"is_popular",children:"Popular"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{id:"is_active",checked:(f==null?void 0:f.is_active)||!1,onCheckedChange:b=>x({...f,is_active:b})}),e.jsx(Q,{htmlFor:"is_active",children:"Active"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(M,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),e.jsxs(M,{onClick:()=>w("ad_packages",f),children:[e.jsx(Ql,{className:"h-4 w-4 mr-2"}),"Save"]})]})]})]})]})]}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:a.map(b=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-gray-200 flex items-center justify-center",children:e.jsx(Xh,{className:"h-6 w-6 text-gray-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:b.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["",b.price,"  ",b.duration]}),e.jsxs("p",{className:"text-xs text-gray-500",children:[b.features.length," features"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[b.is_popular&&e.jsx(ee,{variant:"secondary",children:"Popular"}),!b.is_active&&e.jsx(ee,{variant:"destructive",children:"Inactive"}),e.jsx(M,{variant:"outline",size:"sm",onClick:()=>{x(b),v(!0)},children:e.jsx(Rr,{className:"h-4 w-4"})}),e.jsx(M,{variant:"destructive",size:"sm",onClick:()=>y("ad_packages",b.id),children:e.jsx(As,{className:"h-4 w-4"})})]})]},b.id))})})]})}),e.jsx(je,{value:"policies",children:e.jsxs(k,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between",children:[e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(vs,{className:"h-5 w-5"}),"Editorial Policies (",l.length,")"]}),e.jsxs(Gn,{open:g,onOpenChange:v,children:[e.jsx(Xc,{asChild:!0,children:e.jsxs(M,{onClick:()=>x({priority:0,is_active:!0}),children:[e.jsx(Ps,{className:"h-4 w-4 mr-2"}),"Add Policy"]})}),e.jsxs(jn,{className:"max-w-2xl",children:[e.jsx(wn,{children:e.jsxs(bn,{children:[f!=null&&f.id?"Edit":"Add"," Editorial Policy"]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"title",children:"Title"}),e.jsx(J,{id:"title",value:(f==null?void 0:f.title)||"",onChange:b=>x({...f,title:b.target.value})})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"content",children:"Content"}),e.jsx(Kt,{id:"content",value:(f==null?void 0:f.content)||"",onChange:b=>x({...f,content:b.target.value}),rows:6})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"category",children:"Category"}),e.jsx(J,{id:"category",value:(f==null?void 0:f.category)||"",onChange:b=>x({...f,category:b.target.value})})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"priority",children:"Priority"}),e.jsx(J,{id:"priority",type:"number",value:(f==null?void 0:f.priority)||"",onChange:b=>x({...f,priority:parseInt(b.target.value)})})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{id:"is_active",checked:(f==null?void 0:f.is_active)||!1,onCheckedChange:b=>x({...f,is_active:b})}),e.jsx(Q,{htmlFor:"is_active",children:"Active"})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(M,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),e.jsxs(M,{onClick:()=>w("editorial_policies",f),children:[e.jsx(Ql,{className:"h-4 w-4 mr-2"}),"Save"]})]})]})]})]})]}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:l.map(b=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-gray-200 flex items-center justify-center",children:e.jsx(vs,{className:"h-6 w-6 text-gray-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:b.title}),e.jsx("p",{className:"text-sm text-gray-600",children:b.category}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Priority: ",b.priority]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[!b.is_active&&e.jsx(ee,{variant:"destructive",children:"Inactive"}),e.jsx(M,{variant:"outline",size:"sm",onClick:()=>{x(b),v(!0)},children:e.jsx(Rr,{className:"h-4 w-4"})}),e.jsx(M,{variant:"destructive",size:"sm",onClick:()=>y("editorial_policies",b.id),children:e.jsx(As,{className:"h-4 w-4"})})]})]},b.id))})})]})})]})]})}function oz(){var _,b,N,T,A,S,P,C;const{user:t,loading:s}=tt(),[,r]=St(),[n,a]=h.useState(""),[i,l]=h.useState("week"),{toast:o}=Xe(),c=hs();h.useEffect(()=>{var R;(!s&&!t||!s&&t&&((R=t.user_metadata)==null?void 0:R.role)!=="admin")&&r("/admin-login")},[s,t,r]);const{data:d,isLoading:u}=xe({queryKey:["/api/admin/user-stats",i],enabled:!!t&&((_=t.user_metadata)==null?void 0:_.role)==="admin"}),{data:m,isLoading:f}=xe({queryKey:["/api/admin/active-users",i],enabled:!!t&&((b=t.user_metadata)==null?void 0:b.role)==="admin"}),{data:x,isLoading:g}=xe({queryKey:["/api/admin/reading-activity",i],enabled:!!t&&((N=t.user_metadata)==null?void 0:N.role)==="admin"}),{data:v,isLoading:p}=xe({queryKey:["/api/admin/user-achievements"],enabled:!!t&&((T=t.user_metadata)==null?void 0:T.role)==="admin"}),{data:j,isLoading:w}=xe({queryKey:["/api/admin/saved-articles-stats",i],enabled:!!t&&((A=t.user_metadata)==null?void 0:A.role)==="admin"}),y=Ie({mutationFn:async R=>await Ae(`/api/admin/export-${R}`,{method:"POST",body:{timeRange:i}}),onSuccess:()=>{o({title:" ",description:"    "})},onError:R=>{o({title:" ",description:"    ",variant:"destructive"})}});return s?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(oe,{className:"h-8 w-8 animate-spin"})}):e.jsx(ut,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"  "}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"  ,     "})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(M,{variant:"outline",onClick:()=>c.invalidateQueries({queryKey:["/api/admin/"]}),children:[e.jsx(an,{className:"h-4 w-4 mr-2"}),""]}),e.jsxs(M,{onClick:()=>y.mutate("users"),disabled:y.isPending,children:[e.jsx(ii,{className:"h-4 w-4 mr-2"}),""]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium",children:":"}),e.jsx("div",{className:"flex gap-2",children:["today","week","month"].map(R=>e.jsx(M,{variant:i===R?"default":"outline",size:"sm",onClick:()=>l(R),children:R==="today"?"":R==="week"?"":""},R))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(k,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:" "}),e.jsx(gt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:u?e.jsx(oe,{className:"h-6 w-6 animate-spin"}):(d==null?void 0:d.totalUsers)||0}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",(d==null?void 0:d.newUsers)||0,"   "]})]})]}),e.jsxs(k,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:" "}),e.jsx(Bs,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:f?e.jsx(oe,{className:"h-6 w-6 animate-spin"}):(m==null?void 0:m.count)||0}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(m==null?void 0:m.percentage)||0,"%  "]})]})]}),e.jsxs(k,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:" "}),e.jsx(Kn,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:g?e.jsx(oe,{className:"h-6 w-6 animate-spin"}):(x==null?void 0:x.totalReads)||0}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(x==null?void 0:x.avgReadsPerUser)||0,"  "]})]})]}),e.jsxs(k,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:" "}),e.jsx(xr,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:w?e.jsx(oe,{className:"h-6 w-6 animate-spin"}):(j==null?void 0:j.totalSaved)||0}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(j==null?void 0:j.avgSavedPerUser)||0,"  "]})]})]})]}),e.jsxs(ms,{defaultValue:"users",className:"w-full",children:[e.jsxs(is,{children:[e.jsx(we,{value:"users",children:""}),e.jsx(we,{value:"activity",children:""}),e.jsx(we,{value:"achievements",children:""}),e.jsx(we,{value:"reading",children:" "})]}),e.jsx(je,{value:"users",className:"space-y-4",children:e.jsxs(k,{children:[e.jsxs(I,{children:[e.jsx(L,{children:" "}),e.jsx(_e,{children:"     "})]}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Mt,{className:"h-4 w-4 text-muted-foreground"}),e.jsx(J,{placeholder:" ...",value:n,onChange:R=>a(R.target.value),className:"max-w-sm"})]}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(mc,{children:[e.jsx(fc,{children:e.jsxs(ns,{children:[e.jsx(Pt,{children:""}),e.jsx(Pt,{children:" "}),e.jsx(Pt,{children:" "}),e.jsx(Pt,{children:" "}),e.jsx(Pt,{children:""}),e.jsx(Pt,{children:""})]})}),e.jsx(xc,{children:f?e.jsx(ns,{children:e.jsx(et,{colSpan:6,className:"text-center py-8",children:e.jsx(oe,{className:"h-6 w-6 animate-spin mx-auto"})})}):(S=m==null?void 0:m.users)!=null&&S.length?m.users.map(R=>e.jsxs(ns,{children:[e.jsx(et,{children:e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:R.fullName||" "}),e.jsx("div",{className:"text-sm text-muted-foreground",children:R.email})]})})}),e.jsx(et,{children:e.jsx(vt,{date:R.createdAt,type:"date"})}),e.jsx(et,{children:e.jsx(vt,{date:R.lastActive,type:"relative"})}),e.jsx(et,{children:e.jsx(ee,{variant:"outline",children:R.readArticles||0})}),e.jsx(et,{children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Zh,{className:"h-4 w-4 text-yellow-500"}),e.jsx("span",{children:R.achievements||0})]})}),e.jsx(et,{children:e.jsx(ee,{variant:R.isActive?"default":"secondary",children:R.isActive?"":""})})]},R.id)):e.jsx(ns,{children:e.jsx(et,{colSpan:6,className:"text-center py-8",children:"   "})})})]})})]})})]})}),e.jsx(je,{value:"activity",className:"space-y-4",children:e.jsxs(k,{children:[e.jsxs(I,{children:[e.jsx(L,{children:" "}),e.jsx(_e,{children:"    "})]}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:(x==null?void 0:x.totalReads)||0}),e.jsx("div",{className:"text-sm text-blue-600 dark:text-blue-400",children:" "})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:[(x==null?void 0:x.avgReadTime)||0,""]}),e.jsx("div",{className:"text-sm text-green-600 dark:text-green-400",children:"  "})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:[(x==null?void 0:x.completionRate)||0,"%"]}),e.jsx("div",{className:"text-sm text-purple-600 dark:text-purple-400",children:"  "})]})]})})})]})}),e.jsx(je,{value:"achievements",className:"space-y-4",children:e.jsxs(k,{children:[e.jsxs(I,{children:[e.jsx(L,{children:" "}),e.jsx(_e,{children:"    "})]}),e.jsx(E,{children:p?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(oe,{className:"h-8 w-8 animate-spin"})}):e.jsx("div",{className:"space-y-4",children:v==null?void 0:v.map(R=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-yellow-100 dark:bg-yellow-900/20 rounded-full flex items-center justify-center",children:e.jsx(Zh,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:R.title}),e.jsx("div",{className:"text-sm text-muted-foreground",children:R.description})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-medium",children:R.earnedCount||0}),e.jsx("div",{className:"text-sm text-muted-foreground",children:""})]})]},R.id))})})]})}),e.jsx(je,{value:"reading",className:"space-y-4",children:e.jsxs(k,{children:[e.jsxs(I,{children:[e.jsx(L,{children:" "}),e.jsx(_e,{children:"    "})]}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:" "}),(P=x==null?void 0:x.popularCategories)==null?void 0:P.map((R,K)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-100 dark:bg-blue-900/20 rounded text-xs flex items-center justify-center",children:K+1}),e.jsx("span",{children:R.name})]}),e.jsxs(ee,{variant:"outline",children:[R.readCount," "]})]},R.id))]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:" "}),(C=x==null?void 0:x.topReaders)==null?void 0:C.map((R,K)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-6 h-6 bg-green-100 dark:bg-green-900/20 rounded text-xs flex items-center justify-center",children:K+1}),e.jsx("span",{children:R.fullName||R.email})]}),e.jsxs(ee,{variant:"outline",children:[R.readCount," "]})]},R.id))]})]})})]})})]})]})})}function cz(){var D,B,V;const{user:t,loading:s}=tt(),[,r]=St(),[n,a]=h.useState(""),[i,l]=h.useState("all"),[o,c]=h.useState(null),[d,u]=h.useState(!1),[m,f]=h.useState(""),[x,g]=h.useState(null),{toast:v}=Xe(),p=hs();h.useEffect(()=>{var O;(!s&&!t||!s&&t&&((O=t.user_metadata)==null?void 0:O.role)!=="admin")&&r("/admin-login")},[s,t,r]);const{data:j,isLoading:w}=xe({queryKey:["/api/admin/comments",i,n],enabled:!!t&&((D=t.user_metadata)==null?void 0:D.role)==="admin"}),{data:y,isLoading:_}=xe({queryKey:["/api/admin/comment-stats"],enabled:!!t&&((B=t.user_metadata)==null?void 0:B.role)==="admin"}),{data:b,isLoading:N}=xe({queryKey:["/api/admin/reported-comments"],enabled:!!t&&((V=t.user_metadata)==null?void 0:V.role)==="admin"}),T=Ie({mutationFn:async O=>await Ae(`/api/admin/comments/${O}/approve`,{method:"POST"}),onSuccess:()=>{p.invalidateQueries({queryKey:["/api/admin/comments"]}),v({title:" ",description:"   "})},onError:()=>{v({title:" ",description:"    ",variant:"destructive"})}}),A=Ie({mutationFn:async O=>await Ae(`/api/admin/comments/${O}/reject`,{method:"POST"}),onSuccess:()=>{p.invalidateQueries({queryKey:["/api/admin/comments"]}),v({title:" ",description:"   "})},onError:()=>{v({title:" ",description:"    ",variant:"destructive"})}}),S=Ie({mutationFn:async O=>await Ae(`/api/admin/comments/${O}`,{method:"DELETE"}),onSuccess:()=>{p.invalidateQueries({queryKey:["/api/admin/comments"]}),g(null),v({title:"   ",description:"    "})},onError:()=>{v({title:"  ",description:"    ",variant:"destructive"})}}),P=Ie({mutationFn:async({commentId:O,content:z})=>await Ae(`/api/admin/comments/${O}/reply`,{method:"POST",body:{content:z}}),onSuccess:()=>{p.invalidateQueries({queryKey:["/api/admin/comments"]}),u(!1),f(""),c(null),v({title:"  ",description:"    "})},onError:()=>{v({title:"  ",description:"   ",variant:"destructive"})}}),C=j==null?void 0:j.filter(O=>{var G;const z=O.content.toLowerCase().includes(n.toLowerCase())||((G=O.authorName)==null?void 0:G.toLowerCase().includes(n.toLowerCase())),U=i==="all"||O.status===i;return z&&U});if(s)return e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(oe,{className:"h-8 w-8 animate-spin"})});const R=O=>{switch(O){case"approved":return e.jsx(ee,{variant:"default",className:"bg-green-100 text-green-800",children:""});case"rejected":return e.jsx(ee,{variant:"destructive",children:""});case"pending":return e.jsx(ee,{variant:"secondary",children:""});default:return e.jsx(ee,{variant:"outline",children:""})}},K=O=>{c(O),u(!0)},W=()=>{o&&m.trim()&&P.mutate({commentId:o.id,content:m.trim()})};return e.jsx(ut,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:" "}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"  ,    "})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs(k,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:" "}),e.jsx(Xm,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(E,{children:e.jsx("div",{className:"text-2xl font-bold",children:_?e.jsx(oe,{className:"h-6 w-6 animate-spin"}):(y==null?void 0:y.total)||0})})]}),e.jsxs(k,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:""}),e.jsx(ot,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(E,{children:e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:_?e.jsx(oe,{className:"h-6 w-6 animate-spin"}):(y==null?void 0:y.pending)||0})})]}),e.jsxs(k,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:""}),e.jsx(as,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(E,{children:e.jsx("div",{className:"text-2xl font-bold text-green-600",children:_?e.jsx(oe,{className:"h-6 w-6 animate-spin"}):(y==null?void 0:y.approved)||0})})]}),e.jsxs(k,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:""}),e.jsx(L2,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(E,{children:e.jsx("div",{className:"text-2xl font-bold text-red-600",children:_?e.jsx(oe,{className:"h-6 w-6 animate-spin"}):(y==null?void 0:y.reported)||0})})]})]}),e.jsxs(k,{children:[e.jsx(I,{children:e.jsx(L,{children:"  "})}),e.jsx(E,{children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Mt,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(J,{placeholder:"  ...",value:n,onChange:O=>a(O.target.value),className:"pl-9"})]})}),e.jsx("div",{className:"flex gap-2",children:["all","pending","approved","rejected"].map(O=>e.jsx(M,{variant:i===O?"default":"outline",size:"sm",onClick:()=>l(O),children:O==="all"?"":O==="pending"?"":O==="approved"?"":""},O))})]})})]}),e.jsxs(k,{children:[e.jsxs(I,{children:[e.jsx(L,{children:" "}),e.jsx(_e,{children:"    "})]}),e.jsx(E,{children:e.jsx("div",{className:"rounded-md border",children:e.jsxs(mc,{children:[e.jsx(fc,{children:e.jsxs(ns,{children:[e.jsx(Pt,{children:""}),e.jsx(Pt,{children:""}),e.jsx(Pt,{children:""}),e.jsx(Pt,{children:""}),e.jsx(Pt,{children:""}),e.jsx(Pt,{children:""})]})}),e.jsx(xc,{children:w?e.jsx(ns,{children:e.jsx(et,{colSpan:6,className:"text-center py-8",children:e.jsx(oe,{className:"h-6 w-6 animate-spin mx-auto"})})}):C!=null&&C.length?C.map(O=>e.jsxs(ns,{children:[e.jsx(et,{className:"max-w-xs",children:e.jsx("div",{className:"truncate",children:O.content})}),e.jsx(et,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xr,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:O.authorName||" "})]})}),e.jsx(et,{children:e.jsx("div",{className:"max-w-xs truncate",children:O.articleTitle})}),e.jsx(et,{children:e.jsx(vt,{date:O.createdAt,type:"relative"})}),e.jsx(et,{children:R(O.status)}),e.jsx(et,{children:e.jsxs(fl,{children:[e.jsx(xl,{asChild:!0,children:e.jsxs(M,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:" "}),e.jsx(Jv,{className:"h-4 w-4"})]})}),e.jsxs(yi,{align:"end",children:[e.jsx(du,{children:""}),e.jsx(ua,{}),O.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsxs(Lt,{onClick:()=>T.mutate(O.id),className:"text-green-600",children:[e.jsx(as,{className:"h-4 w-4 mr-2"}),""]}),e.jsxs(Lt,{onClick:()=>A.mutate(O.id),className:"text-red-600",children:[e.jsx(Qm,{className:"h-4 w-4 mr-2"}),""]})]}),e.jsxs(Lt,{onClick:()=>K(O),children:[e.jsx(uI,{className:"h-4 w-4 mr-2"})," "]}),e.jsx(ua,{}),e.jsxs(Lt,{onClick:()=>g(O.id),className:"text-red-600",children:[e.jsx(As,{className:"h-4 w-4 mr-2"})," "]})]})]})})]},O.id)):e.jsx(ns,{children:e.jsx(et,{colSpan:6,className:"text-center py-8",children:"   "})})})]})})})]}),e.jsx(Gn,{open:d,onOpenChange:u,children:e.jsxs(jn,{children:[e.jsxs(wn,{children:[e.jsx(bn,{children:" "}),e.jsx(XC,{children:"     "})]}),o&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium",children:" :"}),e.jsx("p",{className:"text-sm mt-1",children:o.content})]}),e.jsx(Kt,{placeholder:"  ...",value:m,onChange:O=>f(O.target.value),rows:4})]}),e.jsxs(uu,{children:[e.jsx(M,{variant:"outline",onClick:()=>u(!1),children:""}),e.jsxs(M,{onClick:W,disabled:!m.trim()||P.isPending,children:[P.isPending?e.jsx(oe,{className:"h-4 w-4 animate-spin mr-2"}):null," "]})]})]})}),e.jsx(hu,{open:!!x,onOpenChange:()=>g(null),children:e.jsxs(pc,{children:[e.jsxs(gc,{children:[e.jsx(yc,{children:"  "}),e.jsx(jc,{children:"         ?      "})]}),e.jsxs(vc,{children:[e.jsx(bc,{children:""}),e.jsx(wc,{onClick:()=>x&&S.mutate(x),className:"bg-red-600 hover:bg-red-700",children:" "})]})]})})]})})}function dz(){var j,w,y,_,b;const{user:t,loading:s}=tt(),[,r]=St(),[n,a]=h.useState({siteName:"",siteDescription:"   ",siteKeywords:", , , ",ogImageUrl:"/og-default-image.svg",twitterHandle:"@prothomaloBD",facebookAppId:"",googleSiteVerification:"",bingWebmasterTools:"",enableSitemap:!0,enableRobots:!0,enableAnalytics:!0,canonicalUrl:"https://prothomalo.com"}),{toast:i}=Xe(),l=hs();h.useEffect(()=>{var N;(!s&&!t||!s&&t&&((N=t.user_metadata)==null?void 0:N.role)!=="admin")&&r("/admin-login")},[s,t,r]);const{data:o,isLoading:c}=xe({queryKey:["/api/admin/seo-settings"],enabled:!!t&&((j=t.user_metadata)==null?void 0:j.role)==="admin"}),{data:d,isLoading:u}=xe({queryKey:["/api/admin/meta-tags"],enabled:!!t&&((w=t.user_metadata)==null?void 0:w.role)==="admin"}),{data:m,isLoading:f}=xe({queryKey:["/api/admin/seo-analytics"],enabled:!!t&&((y=t.user_metadata)==null?void 0:y.role)==="admin"}),x=Ie({mutationFn:async N=>await Ae("/api/admin/seo-settings",{method:"PUT",body:N}),onSuccess:()=>{l.invalidateQueries({queryKey:["/api/admin/seo-settings"]}),i({title:"SEO  ",description:" SEO    "})},onError:()=>{i({title:" ",description:"SEO     ",variant:"destructive"})}}),g=Ie({mutationFn:async()=>await Ae("/api/admin/generate-sitemap",{method:"POST"}),onSuccess:()=>{i({title:"  ",description:"      "})},onError:()=>{i({title:"  ",description:"    ",variant:"destructive"})}});Ie({mutationFn:async N=>await Ae(`/api/admin/meta-tags/${N.page}`,{method:"PUT",body:N.metaData}),onSuccess:()=>{l.invalidateQueries({queryKey:["/api/admin/meta-tags"]}),i({title:"  ",description:"     "})},onError:()=>{i({title:" ",description:"     ",variant:"destructive"})}});const v=(N,T)=>{a(A=>({...A,[N]:T}))},p=()=>{x.mutate(n)};return s?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(oe,{className:"h-8 w-8 animate-spin"})}):e.jsx(ut,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"SEO "}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"      "})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(M,{variant:"outline",onClick:()=>g.mutate(),disabled:g.isPending,children:[g.isPending?e.jsx(oe,{className:"h-4 w-4 animate-spin mr-2"}):e.jsx(an,{className:"h-4 w-4 mr-2"})," "]}),e.jsxs(M,{onClick:p,disabled:x.isPending,children:[x.isPending?e.jsx(oe,{className:"h-4 w-4 animate-spin mr-2"}):null,""]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs(k,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:" "}),e.jsx($t,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:f?e.jsx(oe,{className:"h-6 w-6 animate-spin"}):(m==null?void 0:m.impressions)||0}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",(m==null?void 0:m.impressionChange)||0,"%  "]})]})]}),e.jsxs(k,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:" "}),e.jsx(Mt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:f?e.jsx(oe,{className:"h-6 w-6 animate-spin"}):(m==null?void 0:m.clicks)||0}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(m==null?void 0:m.clickThroughRate)||0,"% CTR"]})]})]}),e.jsxs(k,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:" "}),e.jsx(Po,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:f?e.jsx(oe,{className:"h-6 w-6 animate-spin"}):(m==null?void 0:m.indexedPages)||0}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(m==null?void 0:m.totalPages)||0,"  "]})]})]}),e.jsxs(k,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:" "}),e.jsx(yr,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:f?e.jsx(oe,{className:"h-6 w-6 animate-spin"}):(m==null?void 0:m.avgRanking)||0}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(m==null?void 0:m.keywordCount)||0," "]})]})]})]}),e.jsxs(ms,{defaultValue:"general",className:"w-full",children:[e.jsxs(is,{children:[e.jsx(we,{value:"general",children:" "}),e.jsx(we,{value:"meta-tags",children:" "}),e.jsx(we,{value:"social-media",children:" "}),e.jsx(we,{value:"analytics",children:""})]}),e.jsx(je,{value:"general",className:"space-y-4",children:e.jsxs(k,{children:[e.jsxs(I,{children:[e.jsx(L,{children:" SEO "}),e.jsx(_e,{children:"  SEO "})]}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"siteName",children:" "}),e.jsx(J,{id:"siteName",value:n.siteName,onChange:N=>v("siteName",N.target.value),placeholder:""})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"canonicalUrl",children:" URL"}),e.jsx(J,{id:"canonicalUrl",value:n.canonicalUrl,onChange:N=>v("canonicalUrl",N.target.value),placeholder:"https://prothomalo.com"})]})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"siteDescription",children:" "}),e.jsx(Kt,{id:"siteDescription",value:n.siteDescription,onChange:N=>v("siteDescription",N.target.value),placeholder:"   ",rows:3})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"siteKeywords",children:""}),e.jsx(J,{id:"siteKeywords",value:n.siteKeywords,onChange:N=>v("siteKeywords",N.target.value),placeholder:", , , "})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"googleSiteVerification",children:"Google Site Verification"}),e.jsx(J,{id:"googleSiteVerification",value:n.googleSiteVerification,onChange:N=>v("googleSiteVerification",N.target.value),placeholder:"google-site-verification "})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"bingWebmasterTools",children:"Bing Webmaster Tools"}),e.jsx(J,{id:"bingWebmasterTools",value:n.bingWebmasterTools,onChange:N=>v("bingWebmasterTools",N.target.value),placeholder:"msvalidate.01 "})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(Q,{children:" "}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"    "})]}),e.jsx(Ze,{checked:n.enableSitemap,onCheckedChange:N=>v("enableSitemap",N)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(Q,{children:"Robots.txt "}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"   "})]}),e.jsx(Ze,{checked:n.enableRobots,onCheckedChange:N=>v("enableRobots",N)})]})]})]})}),e.jsx(je,{value:"meta-tags",className:"space-y-4",children:e.jsxs(k,{children:[e.jsxs(I,{children:[e.jsx(L,{children:"  "}),e.jsx(_e,{children:"       "})]}),e.jsx(E,{children:e.jsx("div",{className:"rounded-md border",children:e.jsxs(mc,{children:[e.jsx(fc,{children:e.jsxs(ns,{children:[e.jsx(Pt,{children:""}),e.jsx(Pt,{children:""}),e.jsx(Pt,{children:""}),e.jsx(Pt,{children:""}),e.jsx(Pt,{children:""})]})}),e.jsx(xc,{children:u?e.jsx(ns,{children:e.jsx(et,{colSpan:5,className:"text-center py-8",children:e.jsx(oe,{className:"h-6 w-6 animate-spin mx-auto"})})}):d!=null&&d.length?d.map(N=>e.jsxs(ns,{children:[e.jsx(et,{className:"font-medium",children:N.pageName}),e.jsx(et,{className:"max-w-xs truncate",children:N.title}),e.jsx(et,{className:"max-w-xs truncate",children:N.description}),e.jsx(et,{className:"max-w-xs truncate",children:N.keywords}),e.jsx(et,{children:N.isOptimized?e.jsx(as,{className:"h-4 w-4 text-green-500"}):e.jsx(Yt,{className:"h-4 w-4 text-yellow-500"})})]},N.id)):e.jsx(ns,{children:e.jsx(et,{colSpan:5,className:"text-center py-8",children:"    "})})})]})})})]})}),e.jsx(je,{value:"social-media",className:"space-y-4",children:e.jsxs(k,{children:[e.jsxs(I,{children:[e.jsx(L,{children:"  SEO"}),e.jsx(_e,{children:"Open Graph  Twitter Card "})]}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"ogImageUrl",children:"Open Graph  URL"}),e.jsx(J,{id:"ogImageUrl",value:n.ogImageUrl,onChange:N=>v("ogImageUrl",N.target.value),placeholder:"/og-default-image.svg"})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"twitterHandle",children:"Twitter Handle"}),e.jsx(J,{id:"twitterHandle",value:n.twitterHandle,onChange:N=>v("twitterHandle",N.target.value),placeholder:"@prothomaloBD"})]})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"facebookAppId",children:"Facebook App ID"}),e.jsx(J,{id:"facebookAppId",value:n.facebookAppId,onChange:N=>v("facebookAppId",N.target.value),placeholder:"Facebook App ID"})]}),e.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ey,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-blue-600",children:" "})]}),e.jsxs("div",{className:"mt-2 space-y-1",children:[e.jsx("a",{href:"https://developers.facebook.com/tools/debug/",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline block",children:"Facebook Open Graph Debugger"}),e.jsx("a",{href:"https://cards-dev.twitter.com/validator",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline block",children:"Twitter Card Validator"})]})]})]})]})}),e.jsx(je,{value:"analytics",className:"space-y-4",children:e.jsxs(k,{children:[e.jsxs(I,{children:[e.jsx(L,{children:"SEO "}),e.jsx(_e,{children:"    "})]}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:" "}),(_=m==null?void 0:m.topKeywords)==null?void 0:_.map((N,T)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-100 dark:bg-blue-900/20 rounded text-xs flex items-center justify-center",children:T+1}),e.jsx("span",{className:"text-sm",children:N.keyword})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm font-medium",children:["#",N.position]}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[N.clicks," "]})]})]},N.keyword))]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:" "}),(b=m==null?void 0:m.topPages)==null?void 0:b.map((N,T)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-6 h-6 bg-green-100 dark:bg-green-900/20 rounded text-xs flex items-center justify-center",children:T+1}),e.jsx("span",{className:"text-sm truncate max-w-[200px]",children:N.title})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm font-medium",children:N.clicks}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[N.impressions," "]})]})]},N.url))]})]})})]})})]})]})})}function uz(){var _,b,N,T,A;const{user:t,loading:s}=tt(),[,r]=St(),[n,a]=h.useState({enableFuzzySearch:!0,enableSearchSuggestions:!0,enableAutoComplete:!0,enableSearchHistory:!0,maxSearchResults:50,searchTimeout:5e3,enableBengaliSearch:!0,enableAdvancedSearch:!0,enableSearchAnalytics:!0,indexingEnabled:!0,reindexFrequency:"daily"}),{toast:i}=Xe(),l=hs();h.useEffect(()=>{var S;(!s&&!t||!s&&t&&((S=t.user_metadata)==null?void 0:S.role)!=="admin")&&r("/admin-login")},[s,t,r]);const{data:o,isLoading:c}=xe({queryKey:["/api/admin/search-stats"],enabled:!!t&&((_=t.user_metadata)==null?void 0:_.role)==="admin"}),{data:d,isLoading:u}=xe({queryKey:["/api/admin/search-analytics"],enabled:!!t&&((b=t.user_metadata)==null?void 0:b.role)==="admin"}),{data:m,isLoading:f}=xe({queryKey:["/api/admin/search-history"],enabled:!!t&&((N=t.user_metadata)==null?void 0:N.role)==="admin"}),{data:x,isLoading:g}=xe({queryKey:["/api/admin/search-index"],enabled:!!t&&((T=t.user_metadata)==null?void 0:T.role)==="admin"}),v=Ie({mutationFn:async S=>await Ae("/api/admin/search-settings",{method:"PUT",body:S}),onSuccess:()=>{l.invalidateQueries({queryKey:["/api/admin/search-settings"]}),i({title:"  ",description:"     "})},onError:()=>{i({title:" ",description:"     ",variant:"destructive"})}}),p=Ie({mutationFn:async()=>await Ae("/api/admin/reindex-search",{method:"POST"}),onSuccess:()=>{l.invalidateQueries({queryKey:["/api/admin/search-index"]}),i({title:" ",description:"     "})},onError:()=>{i({title:" ",description:"     ",variant:"destructive"})}}),j=Ie({mutationFn:async()=>await Ae("/api/admin/clear-search-history",{method:"DELETE"}),onSuccess:()=>{l.invalidateQueries({queryKey:["/api/admin/search-history"]}),i({title:"   ",description:"     "})},onError:()=>{i({title:"  ",description:"     ",variant:"destructive"})}}),w=(S,P)=>{a(C=>({...C,[S]:P}))},y=()=>{v.mutate(n)};return s?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(oe,{className:"h-8 w-8 animate-spin"})}):e.jsx(ut,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:" "}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:" ,     "})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(M,{variant:"outline",onClick:()=>p.mutate(),disabled:p.isPending,children:[p.isPending?e.jsx(oe,{className:"h-4 w-4 animate-spin mr-2"}):e.jsx(an,{className:"h-4 w-4 mr-2"}),""]}),e.jsxs(M,{onClick:y,disabled:v.isPending,children:[v.isPending?e.jsx(oe,{className:"h-4 w-4 animate-spin mr-2"}):null,""]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs(k,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:" "}),e.jsx(Mt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:c?e.jsx(oe,{className:"h-6 w-6 animate-spin"}):(o==null?void 0:o.totalSearches)||0}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",(o==null?void 0:o.searchGrowth)||0,"%  "]})]})]}),e.jsxs(k,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:" "}),e.jsx(Zn,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:g?e.jsx(oe,{className:"h-6 w-6 animate-spin"}):(x==null?void 0:x.indexedArticles)||0}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(x==null?void 0:x.totalArticles)||0,"  "]})]})]}),e.jsxs(k,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:"  "}),e.jsx(nc,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[c?e.jsx(oe,{className:"h-6 w-6 animate-spin"}):(o==null?void 0:o.avgResponseTime)||0,"ms"]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(o==null?void 0:o.performanceImprovement)||0,"% "]})]})]}),e.jsxs(k,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:" "}),e.jsx(as,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[c?e.jsx(oe,{className:"h-6 w-6 animate-spin"}):(o==null?void 0:o.successRate)||0,"%"]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(o==null?void 0:o.totalResults)||0," "]})]})]})]}),e.jsxs(ms,{defaultValue:"settings",className:"w-full",children:[e.jsxs(is,{children:[e.jsx(we,{value:"settings",children:""}),e.jsx(we,{value:"analytics",children:""}),e.jsx(we,{value:"history",children:""}),e.jsx(we,{value:"index",children:""})]}),e.jsx(je,{value:"settings",className:"space-y-4",children:e.jsxs(k,{children:[e.jsxs(I,{children:[e.jsx(L,{children:" "}),e.jsx(_e,{children:"    "})]}),e.jsx(E,{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:" "}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(Q,{children:" "}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"  "})]}),e.jsx(Ze,{checked:n.enableFuzzySearch,onCheckedChange:S=>w("enableFuzzySearch",S)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(Q,{children:" "}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"  "})]}),e.jsx(Ze,{checked:n.enableSearchSuggestions,onCheckedChange:S=>w("enableSearchSuggestions",S)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(Q,{children:" "}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"  "})]}),e.jsx(Ze,{checked:n.enableAutoComplete,onCheckedChange:S=>w("enableAutoComplete",S)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(Q,{children:" "}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"  "})]}),e.jsx(Ze,{checked:n.enableBengaliSearch,onCheckedChange:S=>w("enableBengaliSearch",S)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(Q,{children:" "}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"  "})]}),e.jsx(Ze,{checked:n.enableAdvancedSearch,onCheckedChange:S=>w("enableAdvancedSearch",S)})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:" "}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"maxResults",children:" "}),e.jsx(J,{id:"maxResults",type:"number",value:n.maxSearchResults,onChange:S=>w("maxSearchResults",parseInt(S.target.value)),min:"10",max:"100",className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"searchTimeout",children:"  (ms)"}),e.jsx(J,{id:"searchTimeout",type:"number",value:n.searchTimeout,onChange:S=>w("searchTimeout",parseInt(S.target.value)),min:"1000",max:"10000",className:"mt-1"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(Q,{children:" "}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"   "})]}),e.jsx(Ze,{checked:n.enableSearchHistory,onCheckedChange:S=>w("enableSearchHistory",S)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(Q,{children:" "}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"  "})]}),e.jsx(Ze,{checked:n.enableSearchAnalytics,onCheckedChange:S=>w("enableSearchAnalytics",S)})]})]})]})})]})}),e.jsx(je,{value:"analytics",className:"space-y-4",children:e.jsxs(k,{children:[e.jsxs(I,{children:[e.jsx(L,{children:" "}),e.jsx(_e,{children:"    "})]}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:" "}),u?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(oe,{className:"h-6 w-6 animate-spin"})}):(A=d==null?void 0:d.popularSearches)==null?void 0:A.map((S,P)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-100 dark:bg-blue-900/20 rounded text-xs flex items-center justify-center",children:P+1}),e.jsx("span",{className:"font-medium",children:S.query})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm font-medium",children:S.count}),e.jsx("div",{className:"text-xs text-muted-foreground",children:""})]})]},S.query))]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:" "}),u?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(oe,{className:"h-6 w-6 animate-spin"})}):e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsx("span",{className:"text-sm font-medium",children:" "}),e.jsxs("span",{className:"text-green-600 font-bold",children:[(d==null?void 0:d.successfulSearches)||0,"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:[e.jsx("span",{className:"text-sm font-medium",children:" "}),e.jsxs("span",{className:"text-yellow-600 font-bold",children:[(d==null?void 0:d.partialResults)||0,"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[e.jsx("span",{className:"text-sm font-medium",children:" "}),e.jsxs("span",{className:"text-red-600 font-bold",children:[(d==null?void 0:d.noResults)||0,"%"]})]})]})]})]})})]})}),e.jsx(je,{value:"history",className:"space-y-4",children:e.jsxs(k,{children:[e.jsx(I,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(L,{children:" "}),e.jsx(_e,{children:"  "})]}),e.jsxs(M,{variant:"outline",size:"sm",onClick:()=>j.mutate(),disabled:j.isPending,children:[j.isPending?e.jsx(oe,{className:"h-4 w-4 animate-spin mr-2"}):null," "]})]})}),e.jsx(E,{children:e.jsx("div",{className:"rounded-md border",children:e.jsxs(mc,{children:[e.jsx(fc,{children:e.jsxs(ns,{children:[e.jsx(Pt,{children:""}),e.jsx(Pt,{children:""}),e.jsx(Pt,{children:""}),e.jsx(Pt,{children:" "}),e.jsx(Pt,{children:""})]})}),e.jsx(xc,{children:f?e.jsx(ns,{children:e.jsx(et,{colSpan:5,className:"text-center py-8",children:e.jsx(oe,{className:"h-6 w-6 animate-spin mx-auto"})})}):m!=null&&m.length?m.map(S=>e.jsxs(ns,{children:[e.jsx(et,{className:"font-medium",children:S.query}),e.jsx(et,{children:S.userEmail||""}),e.jsx(et,{children:e.jsxs(ee,{variant:S.resultCount>0?"default":"destructive",children:[S.resultCount," "]})}),e.jsxs(et,{children:[S.responseTime,"ms"]}),e.jsx(et,{children:e.jsx(vt,{date:S.searchedAt,type:"relative"})})]},S.id)):e.jsx(ns,{children:e.jsx(et,{colSpan:5,className:"text-center py-8",children:"    "})})})]})})})]})}),e.jsx(je,{value:"index",className:"space-y-4",children:e.jsxs(k,{children:[e.jsxs(I,{children:[e.jsx(L,{children:" "}),e.jsx(_e,{children:"    "})]}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:g?e.jsx(oe,{className:"h-6 w-6 animate-spin mx-auto"}):(x==null?void 0:x.indexedArticles)||0}),e.jsx("div",{className:"text-sm text-blue-600 dark:text-blue-400",children:" "})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:g?e.jsx(oe,{className:"h-6 w-6 animate-spin mx-auto"}):(x==null?void 0:x.indexedCategories)||0}),e.jsx("div",{className:"text-sm text-green-600 dark:text-green-400",children:" "})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:[g?e.jsx(oe,{className:"h-6 w-6 animate-spin mx-auto"}):(x==null?void 0:x.indexHealth)||0,"%"]}),e.jsx("div",{className:"text-sm text-purple-600 dark:text-purple-400",children:" "})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:" "}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(as,{className:"h-5 w-5 text-green-500"}),e.jsx("span",{children:" "})]}),e.jsx("span",{className:"font-medium",children:(x==null?void 0:x.fullyIndexed)||0})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ot,{className:"h-5 w-5 text-yellow-500"}),e.jsx("span",{children:" "})]}),e.jsx("span",{className:"font-medium",children:(x==null?void 0:x.pendingIndexing)||0})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Yt,{className:"h-5 w-5 text-red-500"}),e.jsx("span",{children:" "})]}),e.jsx("span",{className:"font-medium",children:(x==null?void 0:x.failedIndexing)||0})]})]})]})]})})]})})]})]})})}function hz(){var m,f,x;const[t,s]=h.useState("overview"),{toast:r}=Xe(),n=hs(),{data:a,isLoading:i}=xe({queryKey:["/api/admin/database/stats"],refetchInterval:3e4}),{data:l,isLoading:o}=xe({queryKey:["/api/admin/database/health"],refetchInterval:1e4}),c=Ie({mutationFn:()=>Ae("/api/admin/database/backup",{method:"POST"}),onSuccess:()=>{r({title:" ",description:"   "}),n.invalidateQueries({queryKey:["/api/admin/database"]})},onError:()=>{r({title:" ",description:"    ",variant:"destructive"})}}),d=Ie({mutationFn:g=>Ae(`/api/admin/database/restore/${g}`,{method:"POST"}),onSuccess:()=>{r({title:" ",description:"   "}),n.invalidateQueries({queryKey:["/api/admin/database"]})}}),u=Ie({mutationFn:()=>Ae("/api/admin/database/cleanup",{method:"POST"}),onSuccess:()=>{r({title:" ",description:"   "}),n.invalidateQueries({queryKey:["/api/admin/database"]})}});return e.jsx(ut,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:" "}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:" ,    "})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(M,{onClick:()=>c.mutate(),disabled:c.isPending,className:"flex items-center gap-2",children:[c.isPending?e.jsx(oe,{className:"h-4 w-4 animate-spin"}):e.jsx(ii,{className:"h-4 w-4"}),"  "]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(k,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:" "}),e.jsx(Zn,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold flex items-center gap-2",children:(l==null?void 0:l.status)==="healthy"?e.jsxs(e.Fragment,{children:[e.jsx(as,{className:"h-5 w-5 text-green-500"}),""]}):e.jsxs(e.Fragment,{children:[e.jsx(Rs,{className:"h-5 w-5 text-yellow-500"}),""]})}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[" : ",new Date().toLocaleString("bn-BD")]})]})]}),e.jsxs(k,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:" "}),e.jsx(tI,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[(a==null?void 0:a.storage_used)||"0"," MB"]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",(a==null?void 0:a.storage_total)||"0"," MB  "]})]})]}),e.jsxs(k,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:" "}),e.jsx(A2,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:a!=null&&a.last_backup?new Date(a.last_backup).toLocaleDateString("bn-BD"):"  "}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(a==null?void 0:a.backup_count)||0,"   "]})]})]})]}),e.jsxs(ms,{value:t,onValueChange:s,className:"space-y-4",children:[e.jsxs(is,{className:"grid w-full grid-cols-4",children:[e.jsx(we,{value:"overview",children:""}),e.jsx(we,{value:"backup",children:""}),e.jsx(we,{value:"tables",children:""}),e.jsx(we,{value:"monitoring",children:""})]}),e.jsx(je,{value:"overview",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(k,{children:[e.jsx(I,{children:e.jsx(L,{children:" "})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:(m=a==null?void 0:a.tables)==null?void 0:m.map(g=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:g.name}),e.jsxs(ee,{variant:"outline",children:[g.rows," "]})]},g.name))})})]}),e.jsxs(k,{children:[e.jsx(I,{children:e.jsx(L,{children:" "})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs(M,{onClick:()=>u.mutate(),disabled:u.isPending,variant:"outline",className:"w-full justify-start",children:[u.isPending?e.jsx(oe,{className:"h-4 w-4 animate-spin mr-2"}):e.jsx(As,{className:"h-4 w-4 mr-2"})," "]}),e.jsxs(M,{onClick:()=>n.invalidateQueries({queryKey:["/api/admin/database"]}),variant:"outline",className:"w-full justify-start",children:[e.jsx(an,{className:"h-4 w-4 mr-2"})," "]})]})})]})]})}),e.jsx(je,{value:"backup",className:"space-y-4",children:e.jsxs(k,{children:[e.jsxs(I,{children:[e.jsx(L,{children:" "}),e.jsx(_e,{children:"   "})]}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:(f=a==null?void 0:a.backups)==null?void 0:f.map(g=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:g.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:[new Date(g.created_at).toLocaleString("bn-BD"),"  ",g.size," MB"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(M,{onClick:()=>d.mutate(g.id),disabled:d.isPending,size:"sm",variant:"outline",children:[e.jsx(pI,{className:"h-4 w-4 mr-1"}),""]}),e.jsxs(M,{size:"sm",variant:"outline",children:[e.jsx(ii,{className:"h-4 w-4 mr-1"}),""]})]})]},g.id))})})]})}),e.jsx(je,{value:"tables",className:"space-y-4",children:e.jsxs(k,{children:[e.jsxs(I,{children:[e.jsx(L,{children:" "}),e.jsx(_e,{children:"    "})]}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:(x=a==null?void 0:a.table_structures)==null?void 0:x.map(g=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium mb-2",children:g.name}),e.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[e.jsxs("p",{children:[": ",g.rows]}),e.jsxs("p",{children:[": ",g.columns]}),e.jsxs("p",{children:[": ",g.size," MB"]})]})]},g.name))})})]})}),e.jsx(je,{value:"monitoring",className:"space-y-4",children:e.jsxs(k,{children:[e.jsxs(I,{children:[e.jsx(L,{children:" "}),e.jsx(_e,{children:"  "})]}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("h4",{className:"font-medium mb-2",children:" "}),e.jsxs("div",{className:"text-sm space-y-1",children:[e.jsxs("p",{children:["  : ",(a==null?void 0:a.avg_response_time)||"0","ms"]}),e.jsxs("p",{children:[" : ",(a==null?void 0:a.slow_queries)||"0"]}),e.jsxs("p",{children:[" : ",(a==null?void 0:a.active_connections)||"0"]})]})]}),e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("h4",{className:"font-medium mb-2",children:" "}),e.jsxs("div",{className:"text-sm space-y-1",children:[e.jsxs("p",{children:["CPU : ",(a==null?void 0:a.cpu_usage)||"0","%"]}),e.jsxs("p",{children:[" : ",(a==null?void 0:a.memory_usage)||"0","%"]}),e.jsxs("p",{children:[" I/O: ",(a==null?void 0:a.disk_io)||"0"," ops/sec"]})]})]})]})})})]})})]})]})})}function mz(){const[t,s]=h.useState("templates"),[r,n]=h.useState(null),[a,i]=h.useState({name:"",subject:"",content:"",type:"newsletter"}),{toast:l}=Xe(),o=hs(),{data:c,isLoading:d}=xe({queryKey:["/api/admin/email-templates"]}),{data:u,isLoading:m}=xe({queryKey:["/api/admin/newsletter-subscribers"]}),{data:f,isLoading:x}=xe({queryKey:["/api/admin/email-settings"]}),{data:g,isLoading:v}=xe({queryKey:["/api/admin/email-stats"]}),p=Ie({mutationFn:N=>r?Ae(`/api/admin/email-templates/${r.id}`,{method:"PUT",body:JSON.stringify(N)}):Ae("/api/admin/email-templates",{method:"POST",body:JSON.stringify(N)}),onSuccess:()=>{l({title:" ",description:"    "}),o.invalidateQueries({queryKey:["/api/admin/email-templates"]}),n(null),i({name:"",subject:"",content:"",type:"newsletter"})}}),j=Ie({mutationFn:N=>Ae(`/api/admin/email-templates/${N}`,{method:"DELETE"}),onSuccess:()=>{l({title:"   ",description:"     "}),o.invalidateQueries({queryKey:["/api/admin/email-templates"]})}}),w=Ie({mutationFn:N=>Ae("/api/admin/send-newsletter",{method:"POST",body:JSON.stringify(N)}),onSuccess:()=>{l({title:"  ",description:"    "})}}),y=Ie({mutationFn:N=>Ae("/api/admin/email-settings",{method:"PUT",body:JSON.stringify(N)}),onSuccess:()=>{l({title:"  ",description:"    "}),o.invalidateQueries({queryKey:["/api/admin/email-settings"]})}}),_=N=>{N.preventDefault(),p.mutate(a)},b=N=>{n(N),i({name:N.name,subject:N.subject,content:N.content,type:N.type})};return e.jsx(ut,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"  "}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:" ,     "})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs(k,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:" "}),e.jsx(gt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(g==null?void 0:g.total_subscribers)||0}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",(g==null?void 0:g.new_subscribers_today)||0," "]})]})]}),e.jsxs(k,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:" "}),e.jsx(Io,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(g==null?void 0:g.emails_sent)||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]})]}),e.jsxs(k,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:" "}),e.jsx($t,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[(g==null?void 0:g.open_rate)||0,"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"  "})]})]}),e.jsxs(k,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:" "}),e.jsx(Xt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(c==null?void 0:c.length)||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]})]})]}),e.jsxs(ms,{value:t,onValueChange:s,className:"space-y-4",children:[e.jsxs(is,{className:"grid w-full grid-cols-4",children:[e.jsx(we,{value:"templates",children:""}),e.jsx(we,{value:"subscribers",children:""}),e.jsx(we,{value:"newsletter",children:""}),e.jsx(we,{value:"settings",children:""})]}),e.jsx(je,{value:"templates",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(k,{children:[e.jsx(I,{children:e.jsx(L,{children:r?" ":" "})}),e.jsx(E,{children:e.jsxs("form",{onSubmit:_,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"name",children:" "}),e.jsx(J,{id:"name",value:a.name,onChange:N=>i({...a,name:N.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"subject",children:" "}),e.jsx(J,{id:"subject",value:a.subject,onChange:N=>i({...a,subject:N.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"content",children:" "}),e.jsx(Kt,{id:"content",value:a.content,onChange:N=>i({...a,content:N.target.value}),rows:8,required:!0})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(M,{type:"submit",disabled:p.isPending,className:"flex-1",children:[p.isPending?e.jsx(oe,{className:"h-4 w-4 animate-spin mr-2"}):e.jsx(Ps,{className:"h-4 w-4 mr-2"}),r?" ":" "]}),r&&e.jsx(M,{type:"button",variant:"outline",onClick:()=>{n(null),i({name:"",subject:"",content:"",type:"newsletter"})},children:""})]})]})})]}),e.jsxs(k,{children:[e.jsx(I,{children:e.jsx(L,{children:" "})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:c==null?void 0:c.map(N=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium",children:N.name}),e.jsx("p",{className:"text-sm text-gray-600 truncate",children:N.subject}),e.jsx(ee,{variant:"outline",className:"mt-1",children:N.type})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(M,{size:"sm",variant:"outline",onClick:()=>b(N),children:e.jsx(Rr,{className:"h-4 w-4"})}),e.jsx(M,{size:"sm",variant:"outline",onClick:()=>j.mutate(N.id),children:e.jsx(As,{className:"h-4 w-4"})})]})]},N.id))})})]})]})}),e.jsx(je,{value:"subscribers",className:"space-y-4",children:e.jsxs(k,{children:[e.jsxs(I,{children:[e.jsx(L,{children:" "}),e.jsxs(_e,{children:[(u==null?void 0:u.length)||0,"   "]})]}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:u==null?void 0:u.map(N=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:N.email}),e.jsxs("p",{className:"text-sm text-gray-600",children:[": ",new Date(N.subscribed_at).toLocaleDateString("bn-BD")]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ee,{variant:N.active?"default":"secondary",children:N.active?"":""}),e.jsx(M,{size:"sm",variant:"outline",children:e.jsx(Xm,{className:"h-4 w-4"})})]})]},N.id))})})]})}),e.jsx(je,{value:"newsletter",className:"space-y-4",children:e.jsxs(k,{children:[e.jsxs(I,{children:[e.jsx(L,{children:" "}),e.jsx(_e,{children:"   "})]}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"newsletter-template",children:"  "}),e.jsxs("select",{id:"newsletter-template",className:"w-full p-2 border rounded-md",children:[e.jsx("option",{value:"",children:"  "}),c==null?void 0:c.filter(N=>N.type==="newsletter").map(N=>e.jsx("option",{value:N.id,children:N.name},N.id))]})]}),e.jsxs(M,{onClick:()=>w.mutate({}),disabled:w.isPending,className:"w-full",children:[w.isPending?e.jsx(oe,{className:"h-4 w-4 animate-spin mr-2"}):e.jsx(Io,{className:"h-4 w-4 mr-2"})," "]})]})})]})}),e.jsx(je,{value:"settings",className:"space-y-4",children:e.jsxs(k,{children:[e.jsxs(I,{children:[e.jsx(L,{children:" "}),e.jsx(_e,{children:"     "})]}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"email-notifications",children:" "}),e.jsx("p",{className:"text-sm text-gray-600",children:"     "})]}),e.jsx(Ze,{id:"email-notifications",checked:f==null?void 0:f.email_notifications,onCheckedChange:N=>y.mutate({...f,email_notifications:N})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"auto-newsletter",children:" "}),e.jsx("p",{className:"text-sm text-gray-600",children:"   "})]}),e.jsx(Ze,{id:"auto-newsletter",checked:f==null?void 0:f.auto_newsletter,onCheckedChange:N=>y.mutate({...f,auto_newsletter:N})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"push-notifications",children:" "}),e.jsx("p",{className:"text-sm text-gray-600",children:"    "})]}),e.jsx(Ze,{id:"push-notifications",checked:f==null?void 0:f.push_notifications,onCheckedChange:N=>y.mutate({...f,push_notifications:N})})]})]})})]})})]})]})})}function fz(){var x,g,v;const[t,s]=h.useState("overview"),[r,n]=h.useState(5e3),{data:a,isLoading:i}=xe({queryKey:["/api/admin/performance-metrics"],refetchInterval:r}),{data:l,isLoading:o}=xe({queryKey:["/api/admin/error-logs"],refetchInterval:3e4}),{data:c,isLoading:d}=xe({queryKey:["/api/admin/api-metrics"],refetchInterval:1e4}),{data:u,isLoading:m}=xe({queryKey:["/api/admin/ux-analytics"],refetchInterval:6e4}),f=p=>{switch(p){case"excellent":case"good":return e.jsx(as,{className:"h-4 w-4 text-green-500"});case"warning":return e.jsx(Rs,{className:"h-4 w-4 text-yellow-500"});case"critical":return e.jsx(Rs,{className:"h-4 w-4 text-red-500"});default:return e.jsx(Bs,{className:"h-4 w-4 text-gray-500"})}};return e.jsx(ut,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:" "}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:" ,    API   "})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(ee,{variant:"outline",className:"flex items-center gap-1",children:[e.jsx(an,{className:"h-3 w-3"}),r/1e3,"s"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs(k,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:" "}),e.jsx(Po,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsxs("div",{className:"text-2xl font-bold flex items-center gap-2",children:[f((a==null?void 0:a.site_status)||"unknown"),(a==null?void 0:a.site_status)==="excellent"?"":(a==null?void 0:a.site_status)==="good"?"":(a==null?void 0:a.site_status)==="warning"?"":""]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[": ",(a==null?void 0:a.uptime)||"99.9","%"]})]})]}),e.jsxs(k,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:"  "}),e.jsx(ot,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[(a==null?void 0:a.avg_page_load_time)||"0","ms"]}),e.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[(a==null?void 0:a.page_load_trend)==="up"?e.jsx(Ft,{className:"h-3 w-3 text-green-500 mr-1"}):e.jsx(V2,{className:"h-3 w-3 text-red-500 mr-1"}),(a==null?void 0:a.page_load_change)||"0","%   "]})]})]}),e.jsxs(k,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:"API "}),e.jsx(nc,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[(c==null?void 0:c.avg_response_time)||"0","ms"]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(c==null?void 0:c.total_requests)||0,"  "]})]})]}),e.jsxs(k,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:" "}),e.jsx(Rs,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[(a==null?void 0:a.error_rate)||"0","%"]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(l==null?void 0:l.length)||0,"  "]})]})]})]}),e.jsxs(ms,{value:t,onValueChange:s,className:"space-y-4",children:[e.jsxs(is,{className:"grid w-full grid-cols-4",children:[e.jsx(we,{value:"overview",children:""}),e.jsx(we,{value:"errors",children:" "}),e.jsx(we,{value:"api",children:"API "}),e.jsx(we,{value:"ux",children:"UX "})]}),e.jsx(je,{value:"overview",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(k,{children:[e.jsx(I,{children:e.jsx(L,{children:" "})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:"CPU "}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-24 h-2 bg-gray-200 rounded-full",children:e.jsx("div",{className:"h-2 bg-blue-500 rounded-full",style:{width:`${(a==null?void 0:a.cpu_usage)||0}%`}})}),e.jsxs("span",{className:"text-sm",children:[(a==null?void 0:a.cpu_usage)||0,"%"]})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:" "}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-24 h-2 bg-gray-200 rounded-full",children:e.jsx("div",{className:"h-2 bg-green-500 rounded-full",style:{width:`${(a==null?void 0:a.memory_usage)||0}%`}})}),e.jsxs("span",{className:"text-sm",children:[(a==null?void 0:a.memory_usage)||0,"%"]})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:" "}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-24 h-2 bg-gray-200 rounded-full",children:e.jsx("div",{className:"h-2 bg-yellow-500 rounded-full",style:{width:`${(a==null?void 0:a.disk_usage)||0}%`}})}),e.jsxs("span",{className:"text-sm",children:[(a==null?void 0:a.disk_usage)||0,"%"]})]})]})]})})]}),e.jsxs(k,{children:[e.jsx(I,{children:e.jsx(L,{children:" "})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:" "}),e.jsxs("span",{className:"text-sm font-bold",children:[(a==null?void 0:a.bandwidth_usage)||"0"," MB/s"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:"/"}),e.jsx("span",{className:"text-sm font-bold",children:(a==null?void 0:a.requests_per_second)||"0"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:" "}),e.jsx("span",{className:"text-sm font-bold",children:(a==null?void 0:a.active_connections)||"0"})]})]})})]})]})}),e.jsx(je,{value:"errors",className:"space-y-4",children:e.jsxs(k,{children:[e.jsxs(I,{children:[e.jsx(L,{children:"  "}),e.jsxs(_e,{children:[" ",(l==null?void 0:l.length)||0,"  "]})]}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:l==null?void 0:l.map((p,j)=>e.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:e.jsx(Rs,{className:`h-4 w-4 ${p.level==="critical"?"text-red-500":p.level==="warning"?"text-yellow-500":"text-gray-500"}`})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-sm font-medium",children:p.type}),e.jsx(ee,{variant:p.level==="critical"?"destructive":"outline",children:p.level})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:p.message}),e.jsxs("p",{className:"text-xs text-gray-500",children:[new Date(p.timestamp).toLocaleString("bn-BD"),"  ",p.url]})]})]},j))})})]})}),e.jsx(je,{value:"api",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(k,{children:[e.jsx(I,{children:e.jsx(L,{children:"API  "})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:(x=c==null?void 0:c.endpoints)==null?void 0:x.map((p,j)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:p.path}),e.jsx("p",{className:"text-sm text-gray-600",children:p.method})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm font-bold",children:[p.avg_response_time,"ms"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[p.requests_count," "]})]})]},j))})})]}),e.jsxs(k,{children:[e.jsx(I,{children:e.jsx(L,{children:" "})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:(g=c==null?void 0:c.slow_queries)==null?void 0:g.map((p,j)=>e.jsxs("div",{className:"p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("span",{className:"text-sm font-medium",children:["Query #",j+1]}),e.jsxs(ee,{variant:"outline",children:[p.duration,"ms"]})]}),e.jsx("p",{className:"text-xs text-gray-600 font-mono",children:p.query}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(p.timestamp).toLocaleString("bn-BD")})]},j))})})]})]})}),e.jsx(je,{value:"ux",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(k,{children:[e.jsx(I,{children:e.jsx(L,{children:"  "})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:" "}),e.jsxs("span",{className:"text-sm font-bold",children:[(u==null?void 0:u.bounce_rate)||"0","%"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:"  "}),e.jsxs("span",{className:"text-sm font-bold",children:[(u==null?void 0:u.avg_session_duration)||"0","s"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:" /"}),e.jsx("span",{className:"text-sm font-bold",children:(u==null?void 0:u.pages_per_session)||"0"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:" "}),e.jsxs("span",{className:"text-sm font-bold",children:[(u==null?void 0:u.conversion_rate)||"0","%"]})]})]})})]}),e.jsxs(k,{children:[e.jsx(I,{children:e.jsx(L,{children:"  "})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:(v=u==null?void 0:u.slowest_pages)==null?void 0:v.map((p,j)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium truncate",children:p.path}),e.jsxs("p",{className:"text-sm text-gray-600",children:[p.visits," "]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm font-bold",children:[p.avg_load_time,"ms"]}),e.jsx("div",{className:"text-xs text-gray-500",children:"  "})]})]},j))})})]})]})})]})]})})}function xz(){var p;const[t,s]=h.useState("config"),[r,n]=h.useState({title:"",message:"",target:"all"}),{toast:a}=Xe(),i=hs(),{data:l,isLoading:o}=xe({queryKey:["/api/admin/mobile-app-config"]}),{data:c,isLoading:d}=xe({queryKey:["/api/admin/mobile-app-analytics"]}),{data:u,isLoading:m}=xe({queryKey:["/api/admin/push-notifications"]}),f=Ie({mutationFn:j=>Ae("/api/admin/mobile-app-config",{method:"PUT",body:JSON.stringify(j)}),onSuccess:()=>{a({title:"  ",description:"     "}),i.invalidateQueries({queryKey:["/api/admin/mobile-app-config"]})}}),x=Ie({mutationFn:j=>Ae("/api/admin/send-push-notification",{method:"POST",body:JSON.stringify(j)}),onSuccess:()=>{a({title:"   ",description:"    "}),i.invalidateQueries({queryKey:["/api/admin/push-notifications"]}),n({title:"",message:"",target:"all"})}}),g=Ie({mutationFn:()=>Ae("/api/admin/force-app-update",{method:"POST"}),onSuccess:()=>{a({title:"   ",description:"     "})}}),v=j=>{j.preventDefault(),x.mutate(r)};return e.jsx(ut,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"  "}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"  ,    "})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(M,{onClick:()=>g.mutate(),disabled:g.isPending,variant:"outline",children:[g.isPending?e.jsx(oe,{className:"h-4 w-4 animate-spin mr-2"}):e.jsx(an,{className:"h-4 w-4 mr-2"})," "]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs(k,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:" "}),e.jsx(gt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(c==null?void 0:c.active_users)||0}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",(c==null?void 0:c.new_users_today)||0," "]})]})]}),e.jsxs(k,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:" "}),e.jsx(ny,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(l==null?void 0:l.current_version)||"v1.0.0"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(l==null?void 0:l.users_on_latest)||0,"%  "]})]})]}),e.jsxs(k,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:""}),e.jsx(ii,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(c==null?void 0:c.total_downloads)||0}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(c==null?void 0:c.downloads_this_month)||0,"  "]})]})]}),e.jsxs(k,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:" "}),e.jsx(sn,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(u==null?void 0:u.length)||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"  "})]})]})]}),e.jsxs(ms,{value:t,onValueChange:s,className:"space-y-4",children:[e.jsxs(is,{className:"grid w-full grid-cols-4",children:[e.jsx(we,{value:"config",children:""}),e.jsx(we,{value:"notifications",children:""}),e.jsx(we,{value:"analytics",children:""}),e.jsx(we,{value:"updates",children:""})]}),e.jsx(je,{value:"config",className:"space-y-4",children:e.jsxs(k,{children:[e.jsxs(I,{children:[e.jsx(L,{children:" "}),e.jsx(_e,{children:"     "})]}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"app-name",children:" "}),e.jsx(J,{id:"app-name",value:(l==null?void 0:l.app_name)||"",onChange:j=>f.mutate({...l,app_name:j.target.value})})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"app-version",children:" "}),e.jsx(J,{id:"app-version",value:(l==null?void 0:l.current_version)||"v1.0.0",onChange:j=>f.mutate({...l,current_version:j.target.value})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"push-enabled",children:"  "}),e.jsx("p",{className:"text-sm text-gray-600",children:"    "})]}),e.jsx(Ze,{id:"push-enabled",checked:l==null?void 0:l.push_notifications_enabled,onCheckedChange:j=>f.mutate({...l,push_notifications_enabled:j})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"offline-mode",children:" "}),e.jsx("p",{className:"text-sm text-gray-600",children:"    "})]}),e.jsx(Ze,{id:"offline-mode",checked:l==null?void 0:l.offline_mode_enabled,onCheckedChange:j=>f.mutate({...l,offline_mode_enabled:j})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"dark-mode",children:" "}),e.jsx("p",{className:"text-sm text-gray-600",children:"   "})]}),e.jsx(Ze,{id:"dark-mode",checked:l==null?void 0:l.dark_mode_enabled,onCheckedChange:j=>f.mutate({...l,dark_mode_enabled:j})})]})]})]})})]})}),e.jsx(je,{value:"notifications",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(k,{children:[e.jsx(I,{children:e.jsx(L,{children:"  "})}),e.jsx(E,{children:e.jsxs("form",{onSubmit:v,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"notification-title",children:" "}),e.jsx(J,{id:"notification-title",value:r.title,onChange:j=>n({...r,title:j.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"notification-message",children:""}),e.jsx(J,{id:"notification-message",value:r.message,onChange:j=>n({...r,message:j.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"notification-target",children:""}),e.jsxs("select",{id:"notification-target",value:r.target,onChange:j=>n({...r,target:j.target.value}),className:"w-full p-2 border rounded-md",children:[e.jsx("option",{value:"all",children:" "}),e.jsx("option",{value:"active",children:" "}),e.jsx("option",{value:"subscribers",children:""})]})]}),e.jsxs(M,{type:"submit",disabled:x.isPending,className:"w-full",children:[x.isPending?e.jsx(oe,{className:"h-4 w-4 animate-spin mr-2"}):e.jsx(sn,{className:"h-4 w-4 mr-2"})," "]})]})})]}),e.jsxs(k,{children:[e.jsx(I,{children:e.jsx(L,{children:" "})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:u==null?void 0:u.slice(0,5).map(j=>e.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[e.jsx(sn,{className:"h-4 w-4 text-blue-500 mt-1 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium",children:j.title}),e.jsx("p",{className:"text-sm text-gray-600",children:j.message}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(ee,{variant:"outline",children:j.target}),e.jsx("span",{className:"text-xs text-gray-500",children:new Date(j.sent_at).toLocaleString("bn-BD")})]})]})]},j.id))})})]})]})}),e.jsx(je,{value:"analytics",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(k,{children:[e.jsx(I,{children:e.jsx(L,{children:" "})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:"  "}),e.jsx("span",{className:"text-sm font-bold",children:(c==null?void 0:c.daily_active_users)||0})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:"  "}),e.jsx("span",{className:"text-sm font-bold",children:(c==null?void 0:c.weekly_active_users)||0})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:"  "}),e.jsx("span",{className:"text-sm font-bold",children:(c==null?void 0:c.monthly_active_users)||0})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:" "}),e.jsxs("span",{className:"text-sm font-bold",children:[(c==null?void 0:c.retention_rate)||0,"%"]})]})]})})]}),e.jsxs(k,{children:[e.jsx(I,{children:e.jsx(L,{children:" "})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:"  "}),e.jsxs("span",{className:"text-sm font-bold",children:[(c==null?void 0:c.avg_launch_time)||0,"ms"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:" "}),e.jsxs("span",{className:"text-sm font-bold",children:[(c==null?void 0:c.crash_rate)||0,"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:"  "}),e.jsxs("span",{className:"text-sm font-bold",children:[(c==null?void 0:c.avg_session_duration)||0,"m"]})]})]})})]})]})}),e.jsx(je,{value:"updates",className:"space-y-4",children:e.jsxs(k,{children:[e.jsxs(I,{children:[e.jsx(L,{children:"  "}),e.jsx(_e,{children:"    "})]}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"min-version",children:" "}),e.jsx(J,{id:"min-version",value:(l==null?void 0:l.minimum_version)||"v1.0.0",onChange:j=>f.mutate({...l,minimum_version:j.target.value})})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"latest-version",children:" "}),e.jsx(J,{id:"latest-version",value:(l==null?void 0:l.latest_version)||"v1.0.0",onChange:j=>f.mutate({...l,latest_version:j.target.value})})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"force-update",children:" "}),e.jsx("p",{className:"text-sm text-gray-600",children:"    "})]}),e.jsx(Ze,{id:"force-update",checked:l==null?void 0:l.force_update_enabled,onCheckedChange:j=>f.mutate({...l,force_update_enabled:j})})]}),e.jsxs("div",{className:"pt-4 border-t",children:[e.jsx("h4",{className:"font-medium mb-2",children:" "}),e.jsx("div",{className:"space-y-2",children:(p=c==null?void 0:c.version_stats)==null?void 0:p.map(j=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:j.version}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:[j.percentage,"%"]}),e.jsxs(ee,{variant:"outline",children:[j.count," "]})]})]},j.version))})]})]})})]})})]})]})})}function pz(){var b;const[t,s]=h.useState("ads"),[r,n]=h.useState(null),[a,i]=h.useState({title:"",description:"",image_url:"",target_url:"",position:"banner",status:"active"}),{toast:l}=Xe(),o=hs(),{data:c,isLoading:d}=xe({queryKey:["/api/admin/advertisements"]}),{data:u,isLoading:m}=xe({queryKey:["/api/admin/advertisement-analytics"]}),{data:f,isLoading:x}=xe({queryKey:["/api/admin/advertisers"]}),{data:g,isLoading:v}=xe({queryKey:["/api/admin/ad-revenue"]}),p=Ie({mutationFn:N=>r?Ae(`/api/admin/advertisements/${r.id}`,{method:"PUT",body:JSON.stringify(N)}):Ae("/api/admin/advertisements",{method:"POST",body:JSON.stringify(N)}),onSuccess:()=>{l({title:" ",description:"   "}),o.invalidateQueries({queryKey:["/api/admin/advertisements"]}),n(null),i({title:"",description:"",image_url:"",target_url:"",position:"banner",status:"active"})}}),j=Ie({mutationFn:N=>Ae(`/api/admin/advertisements/${N}`,{method:"DELETE"}),onSuccess:()=>{l({title:"   ",description:"    "}),o.invalidateQueries({queryKey:["/api/admin/advertisements"]})}}),w=Ie({mutationFn:N=>Ae(`/api/admin/advertisements/${N.id}`,{method:"PUT",body:JSON.stringify({...N,status:N.status==="active"?"inactive":"active"})}),onSuccess:()=>{o.invalidateQueries({queryKey:["/api/admin/advertisements"]})}}),y=N=>{N.preventDefault(),p.mutate(a)},_=N=>{n(N),i({title:N.title,description:N.description,image_url:N.image_url,target_url:N.target_url,position:N.position,status:N.status})};return e.jsx(ut,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:" "}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:" ,     "})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs(k,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:" "}),e.jsx(Xh,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:["",(g==null?void 0:g.total_revenue)||0]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",(g==null?void 0:g.revenue_this_month)||0,"  "]})]})]}),e.jsxs(k,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:" "}),e.jsx($t,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(u==null?void 0:u.total_impressions)||0}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(u==null?void 0:u.impressions_today)||0," "]})]})]}),e.jsxs(k,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:" "}),e.jsx(oI,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[(u==null?void 0:u.click_rate)||0,"%"]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(u==null?void 0:u.total_clicks)||0,"  "]})]})]}),e.jsxs(k,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:" "}),e.jsx(yr,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(c==null?void 0:c.filter(N=>N.status==="active").length)||0}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",(c==null?void 0:c.length)||0,"  "]})]})]})]}),e.jsxs(ms,{value:t,onValueChange:s,className:"space-y-4",children:[e.jsxs(is,{className:"grid w-full grid-cols-4",children:[e.jsx(we,{value:"ads",children:""}),e.jsx(we,{value:"analytics",children:""}),e.jsx(we,{value:"advertisers",children:""}),e.jsx(we,{value:"revenue",children:""})]}),e.jsx(je,{value:"ads",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(k,{children:[e.jsx(I,{children:e.jsx(L,{children:r?" ":" "})}),e.jsx(E,{children:e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"title",children:" "}),e.jsx(J,{id:"title",value:a.title,onChange:N=>i({...a,title:N.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"description",children:""}),e.jsx(Kt,{id:"description",value:a.description,onChange:N=>i({...a,description:N.target.value}),rows:3})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"image_url",children:" URL"}),e.jsx(J,{id:"image_url",value:a.image_url,onChange:N=>i({...a,image_url:N.target.value}),placeholder:"https://example.com/image.jpg"})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"target_url",children:" URL"}),e.jsx(J,{id:"target_url",value:a.target_url,onChange:N=>i({...a,target_url:N.target.value}),placeholder:"https://example.com"})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"position",children:""}),e.jsxs("select",{id:"position",value:a.position,onChange:N=>i({...a,position:N.target.value}),className:"w-full p-2 border rounded-md",children:[e.jsx("option",{value:"banner",children:""}),e.jsx("option",{value:"sidebar",children:""}),e.jsx("option",{value:"inline",children:""}),e.jsx("option",{value:"popup",children:""})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(M,{type:"submit",disabled:p.isPending,className:"flex-1",children:[p.isPending?e.jsx(oe,{className:"h-4 w-4 animate-spin mr-2"}):e.jsx(Ps,{className:"h-4 w-4 mr-2"}),r?" ":" "]}),r&&e.jsx(M,{type:"button",variant:"outline",onClick:()=>{n(null),i({title:"",description:"",image_url:"",target_url:"",position:"banner",status:"active"})},children:""})]})]})})]}),e.jsxs(k,{children:[e.jsx(I,{children:e.jsx(L,{children:" "})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:c==null?void 0:c.map(N=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"font-medium",children:N.title}),e.jsx(ee,{variant:N.status==="active"?"default":"secondary",children:N.status==="active"?"":""})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:N.description}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[e.jsx("span",{children:N.position}),e.jsx("span",{children:""}),e.jsxs("span",{children:[N.impressions||0," "]}),e.jsx("span",{children:""}),e.jsxs("span",{children:[N.clicks||0," "]})]})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(M,{size:"sm",variant:"outline",onClick:()=>w.mutate(N),children:N.status==="active"?e.jsx(Oo,{className:"h-4 w-4"}):e.jsx(Ji,{className:"h-4 w-4"})}),e.jsx(M,{size:"sm",variant:"outline",onClick:()=>_(N),children:e.jsx(Rr,{className:"h-4 w-4"})}),e.jsx(M,{size:"sm",variant:"outline",onClick:()=>j.mutate(N.id),children:e.jsx(As,{className:"h-4 w-4"})})]})]},N.id))})})]})]})}),e.jsx(je,{value:"analytics",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(k,{children:[e.jsx(I,{children:e.jsx(L,{children:" "})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:c==null?void 0:c.map(N=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:N.title}),e.jsx("p",{className:"text-sm text-gray-600",children:N.position})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm font-bold",children:[N.click_rate||0,"% CTR"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[N.impressions||0,"   ",N.clicks||0," "]})]})]},N.id))})})]}),e.jsxs(k,{children:[e.jsx(I,{children:e.jsx(L,{children:" "})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:" "}),e.jsx("span",{className:"text-sm font-bold",children:(u==null?void 0:u.impressions_today)||0})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:" "}),e.jsx("span",{className:"text-sm font-bold",children:(u==null?void 0:u.clicks_today)||0})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:" CTR"}),e.jsxs("span",{className:"text-sm font-bold",children:[(u==null?void 0:u.ctr_today)||0,"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:" "}),e.jsxs("span",{className:"text-sm font-bold",children:["",(u==null?void 0:u.revenue_today)||0]})]})]})})]})]})}),e.jsx(je,{value:"advertisers",className:"space-y-4",children:e.jsxs(k,{children:[e.jsxs(I,{children:[e.jsx(L,{children:""}),e.jsx(_e,{children:"     "})]}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:f==null?void 0:f.map(N=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:N.company_name}),e.jsx("p",{className:"text-sm text-gray-600",children:N.email}),e.jsx("p",{className:"text-sm text-gray-600",children:N.phone})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm font-bold",children:["",N.total_spent||0]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[N.active_campaigns||0,"  "]}),e.jsx(ee,{variant:N.status==="active"?"default":"secondary",children:N.status==="active"?"":""})]})]},N.id))})})]})}),e.jsx(je,{value:"revenue",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(k,{children:[e.jsx(I,{children:e.jsx(L,{children:" "})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:"  "}),e.jsxs("span",{className:"text-sm font-bold",children:["",(g==null?void 0:g.revenue_this_month)||0]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:"  "}),e.jsxs("span",{className:"text-sm font-bold",children:["",(g==null?void 0:g.revenue_last_month)||0]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:" "}),e.jsxs("span",{className:"text-sm font-bold flex items-center gap-1",children:[e.jsx(Ft,{className:"h-4 w-4 text-green-500"}),(g==null?void 0:g.growth_rate)||0,"%"]})]})]})})]}),e.jsxs(k,{children:[e.jsx(I,{children:e.jsx(L,{children:" "})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:(b=g==null?void 0:g.revenue_sources)==null?void 0:b.map(N=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:N.type}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm font-bold",children:["",N.amount]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[N.percentage,"%"]})]})]},N.type))})})]})]})})]})]})})}function gz(){const[t,s]=h.useState("roles"),[r,n]=h.useState(null),[a,i]=h.useState({name:"",description:"",permissions:[]}),{toast:l}=Xe(),o=hs(),{data:c,isLoading:d}=xe({queryKey:["/api/admin/user-roles"]}),{data:u,isLoading:m}=xe({queryKey:["/api/admin/security-audit-logs"]}),{data:f,isLoading:x}=xe({queryKey:["/api/admin/access-control-policies"]}),{data:g,isLoading:v}=xe({queryKey:["/api/admin/security-settings"]}),{data:p,isLoading:j}=xe({queryKey:["/api/admin/available-permissions"]}),w=Ie({mutationFn:S=>r?Ae(`/api/admin/user-roles/${r.id}`,{method:"PUT",body:JSON.stringify(S)}):Ae("/api/admin/user-roles",{method:"POST",body:JSON.stringify(S)}),onSuccess:()=>{l({title:" ",description:"    "}),o.invalidateQueries({queryKey:["/api/admin/user-roles"]}),n(null),i({name:"",description:"",permissions:[]})}}),y=Ie({mutationFn:S=>Ae("/api/admin/security-settings",{method:"PUT",body:JSON.stringify(S)}),onSuccess:()=>{l({title:"   ",description:"    "}),o.invalidateQueries({queryKey:["/api/admin/security-settings"]})}}),_=Ie({mutationFn:S=>Ae(`/api/admin/user-roles/${S}`,{method:"DELETE"}),onSuccess:()=>{l({title:"   ",description:"     "}),o.invalidateQueries({queryKey:["/api/admin/user-roles"]})}}),b=S=>{S.preventDefault(),w.mutate(a)},N=S=>{n(S),i({name:S.name,description:S.description,permissions:S.permissions||[]})},T=S=>{i(P=>({...P,permissions:P.permissions.includes(S)?P.permissions.filter(C=>C!==S):[...P.permissions,S]}))},A=S=>{switch(S){case"login":return e.jsx(og,{className:"h-4 w-4 text-green-500"});case"logout":return e.jsx(gI,{className:"h-4 w-4 text-gray-500"});case"permission_denied":return e.jsx(sy,{className:"h-4 w-4 text-red-500"});case"role_changed":return e.jsx(qs,{className:"h-4 w-4 text-blue-500"});default:return e.jsx(Bs,{className:"h-4 w-4 text-gray-500"})}};return e.jsx(ut,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"   "}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:" ,     "})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs(k,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:" "}),e.jsx(gt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(c==null?void 0:c.length)||0}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(c==null?void 0:c.filter(S=>S.active).length)||0," "]})]})]}),e.jsxs(k,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:" "}),e.jsx(Xt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(u==null?void 0:u.length)||0}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(u==null?void 0:u.filter(S=>S.level==="warning").length)||0," "]})]})]}),e.jsxs(k,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:" "}),e.jsx(vs,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(f==null?void 0:f.length)||0}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(f==null?void 0:f.filter(S=>S.active).length)||0," "]})]})]}),e.jsxs(k,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:" "}),e.jsx(Jh,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[(g==null?void 0:g.security_score)||85,"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"  "})]})]})]}),e.jsxs(ms,{value:t,onValueChange:s,className:"space-y-4",children:[e.jsxs(is,{className:"grid w-full grid-cols-4",children:[e.jsx(we,{value:"roles",children:""}),e.jsx(we,{value:"audit",children:" "}),e.jsx(we,{value:"policies",children:""}),e.jsx(we,{value:"settings",children:""})]}),e.jsx(je,{value:"roles",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(k,{children:[e.jsx(I,{children:e.jsx(L,{children:r?" ":" "})}),e.jsx(E,{children:e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"role-name",children:" "}),e.jsx(J,{id:"role-name",value:a.name,onChange:S=>i({...a,name:S.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"role-description",children:""}),e.jsx(J,{id:"role-description",value:a.description,onChange:S=>i({...a,description:S.target.value})})]}),e.jsxs("div",{children:[e.jsx(Q,{children:""}),e.jsx("div",{className:"space-y-2 mt-2",children:p==null?void 0:p.map(S=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:`permission-${S.id}`,checked:a.permissions.includes(S.id),onChange:()=>T(S.id),className:"rounded border-gray-300"}),e.jsx(Q,{htmlFor:`permission-${S.id}`,className:"text-sm",children:S.name})]},S.id))})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(M,{type:"submit",disabled:w.isPending,className:"flex-1",children:[w.isPending?e.jsx(oe,{className:"h-4 w-4 animate-spin mr-2"}):e.jsx(Ps,{className:"h-4 w-4 mr-2"}),r?" ":" "]}),r&&e.jsx(M,{type:"button",variant:"outline",onClick:()=>{n(null),i({name:"",description:"",permissions:[]})},children:""})]})]})})]}),e.jsxs(k,{children:[e.jsx(I,{children:e.jsx(L,{children:" "})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:c==null?void 0:c.map(S=>{var P;return e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"font-medium",children:S.name}),e.jsx(ee,{variant:S.active?"default":"secondary",children:S.active?"":""})]}),e.jsx("p",{className:"text-sm text-gray-600",children:S.description}),e.jsxs("p",{className:"text-xs text-gray-500",children:[((P=S.permissions)==null?void 0:P.length)||0,"    ",S.user_count||0,"  "]})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(M,{size:"sm",variant:"outline",onClick:()=>N(S),children:e.jsx(Rr,{className:"h-4 w-4"})}),e.jsx(M,{size:"sm",variant:"outline",onClick:()=>_.mutate(S.id),children:e.jsx(As,{className:"h-4 w-4"})})]})]},S.id)})})})]})]})}),e.jsx(je,{value:"audit",className:"space-y-4",children:e.jsxs(k,{children:[e.jsxs(I,{children:[e.jsx(L,{children:"  "}),e.jsx(_e,{children:"    "})]}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:u==null?void 0:u.map(S=>e.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:A(S.action)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-sm font-medium",children:S.action}),e.jsx(ee,{variant:S.level==="warning"?"destructive":"outline",children:S.level})]}),e.jsx("p",{className:"text-sm text-gray-600",children:S.description}),e.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-gray-500",children:[e.jsx("span",{children:S.user_email}),e.jsx("span",{children:""}),e.jsx("span",{children:S.ip_address}),e.jsx("span",{children:""}),e.jsx("span",{children:new Date(S.timestamp).toLocaleString("bn-BD")})]})]})]},S.id))})})]})}),e.jsx(je,{value:"policies",className:"space-y-4",children:e.jsxs(k,{children:[e.jsxs(I,{children:[e.jsx(L,{children:"  "}),e.jsx(_e,{children:"     "})]}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:f==null?void 0:f.map(S=>{var P;return e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h4",{className:"font-medium",children:S.name}),e.jsx(ee,{variant:S.active?"default":"secondary",children:S.active?"":""})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:S.description}),e.jsxs("div",{className:"text-xs text-gray-500",children:[": ",(P=S.affected_roles)==null?void 0:P.join(", "),"   : ",new Date(S.updated_at).toLocaleDateString("bn-BD")]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ze,{checked:S.active,onCheckedChange:C=>{}}),e.jsx(M,{size:"sm",variant:"outline",children:e.jsx(Rr,{className:"h-4 w-4"})})]})]},S.id)})})})]})}),e.jsx(je,{value:"settings",className:"space-y-4",children:e.jsxs(k,{children:[e.jsxs(I,{children:[e.jsx(L,{children:" "}),e.jsx(_e,{children:"     "})]}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"two-factor",children:"- "}),e.jsx("p",{className:"text-sm text-gray-600",children:"  2FA "})]}),e.jsx(Ze,{id:"two-factor",checked:g==null?void 0:g.two_factor_required,onCheckedChange:S=>y.mutate({...g,two_factor_required:S})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"session-timeout",children:" "}),e.jsx("p",{className:"text-sm text-gray-600",children:"   "})]}),e.jsx(Ze,{id:"session-timeout",checked:g==null?void 0:g.session_timeout_enabled,onCheckedChange:S=>y.mutate({...g,session_timeout_enabled:S})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"ip-whitelist",children:"IP "}),e.jsx("p",{className:"text-sm text-gray-600",children:"  IP  "})]}),e.jsx(Ze,{id:"ip-whitelist",checked:g==null?void 0:g.ip_whitelist_enabled,onCheckedChange:S=>y.mutate({...g,ip_whitelist_enabled:S})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"audit-logging",children:" "}),e.jsx("p",{className:"text-sm text-gray-600",children:"    "})]}),e.jsx(Ze,{id:"audit-logging",checked:g==null?void 0:g.audit_logging_enabled,onCheckedChange:S=>y.mutate({...g,audit_logging_enabled:S})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"session-duration",children:"  ()"}),e.jsx(J,{id:"session-duration",type:"number",value:(g==null?void 0:g.session_duration)||60,onChange:S=>y.mutate({...g,session_duration:parseInt(S.target.value)})})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"max-login-attempts",children:"  "}),e.jsx(J,{id:"max-login-attempts",type:"number",value:(g==null?void 0:g.max_login_attempts)||5,onChange:S=>y.mutate({...g,max_login_attempts:parseInt(S.target.value)})})]})]})]})})]})})]})]})})}function vz(){return e.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-background",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("h1",{className:"text-4xl font-bold text-destructive",children:"404"}),e.jsx("p",{className:"text-xl text-muted-foreground",children:"Admin Page Not Found"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"The admin page you're looking for doesn't exist."})]})})}function yt({children:t}){const{isAdmin:s,loading:r}=oS(),[,n]=St();return h.useEffect(()=>{!r&&!s&&n("/admin-login")},[r,s,n]),r?e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx(oe,{className:"h-8 w-8 animate-spin mx-auto"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Verifying admin access..."})]})}):s?e.jsx(e.Fragment,{children:t}):null}function yz(){return St(),e.jsxs(s2,{children:[e.jsx(Te,{path:"/admin-access",component:uD}),e.jsx(Te,{path:"/admin-login",component:hL}),e.jsx(Te,{path:"/admin-dashboard",children:e.jsx(yt,{children:e.jsx(qF,{})})}),e.jsx(Te,{path:"/admin/articles",children:e.jsx(yt,{children:e.jsx(H8,{})})}),e.jsx(Te,{path:"/admin/categories",children:e.jsx(yt,{children:e.jsx(S9,{})})}),e.jsx(Te,{path:"/admin/epapers",children:e.jsx(yt,{children:e.jsx(R9,{})})}),e.jsx(Te,{path:"/admin/breaking-news",children:e.jsx(yt,{children:e.jsx(D9,{})})}),e.jsx(Te,{path:"/admin/users",children:e.jsx(yt,{children:e.jsx(V9,{})})}),e.jsx(Te,{path:"/admin/videos",children:e.jsx(yt,{children:e.jsx(H9,{})})}),e.jsx(Te,{path:"/admin/audio",children:e.jsx(yt,{children:e.jsx(W9,{})})}),e.jsx(Te,{path:"/admin/analytics",children:e.jsx(yt,{children:e.jsx(K9,{})})}),e.jsx(Te,{path:"/admin/social-media",children:e.jsx(yt,{children:e.jsx(Z9,{})})}),e.jsx(Te,{path:"/admin/weather",children:e.jsx(yt,{children:e.jsx(rz,{})})}),e.jsx(Te,{path:"/admin/settings",children:e.jsx(yt,{children:e.jsx(ez,{})})}),e.jsx(Te,{path:"/admin/advanced-algorithms",children:e.jsx(yt,{children:e.jsx(az,{})})}),e.jsx(Te,{path:"/admin/trending-analytics",children:e.jsx(yt,{children:e.jsx(iz,{})})}),e.jsx(Te,{path:"/admin/footer-pages",children:e.jsx(yt,{children:e.jsx(lz,{})})}),e.jsx(Te,{path:"/admin/user-dashboard",children:e.jsx(yt,{children:e.jsx(oz,{})})}),e.jsx(Te,{path:"/admin/comments",children:e.jsx(yt,{children:e.jsx(cz,{})})}),e.jsx(Te,{path:"/admin/seo",children:e.jsx(yt,{children:e.jsx(dz,{})})}),e.jsx(Te,{path:"/admin/search",children:e.jsx(yt,{children:e.jsx(uz,{})})}),e.jsx(Te,{path:"/admin/database",children:e.jsx(yt,{children:e.jsx(hz,{})})}),e.jsx(Te,{path:"/admin/email-notifications",children:e.jsx(yt,{children:e.jsx(mz,{})})}),e.jsx(Te,{path:"/admin/performance",children:e.jsx(yt,{children:e.jsx(fz,{})})}),e.jsx(Te,{path:"/admin/mobile-app",children:e.jsx(yt,{children:e.jsx(xz,{})})}),e.jsx(Te,{path:"/admin/advertisements",children:e.jsx(yt,{children:e.jsx(pz,{})})}),e.jsx(Te,{path:"/admin/security",children:e.jsx(yt,{children:e.jsx(gz,{})})}),e.jsx(Te,{path:"/admin",children:e.jsx(yt,{children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Admin Portal"}),e.jsx("p",{className:"text-muted-foreground",children:"Welcome to the admin portal. Please select a section from the navigation menu."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Content Management"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage articles, categories, and breaking news"})]}),e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"User Management"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Monitor users, comments, and interactions"})]}),e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"System Management"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Database, performance, and security controls"})]})]})]})})}),e.jsx(Te,{component:vz})]})}function jz(){return e.jsx(tS,{children:e.jsx(rD,{children:e.jsx(nS,{children:e.jsx(iS,{children:e.jsx(nD,{children:e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(yz,{}),e.jsx(J2,{})]})})})})})})}function wz(){return h.useState(()=>{try{l6()}catch(t){console.error("Auto storage cleanup failed:",t)}}),null}function bz(){const{theme:t,toggleTheme:s}=sD();return e.jsx(M,{variant:"ghost",size:"sm",onClick:s,className:"w-9 px-0 group","aria-label":"Toggle theme",children:t==="dark"?e.jsx(eu,{className:"h-5 w-5 text-amber-300 transition-transform group-hover:rotate-90"}):e.jsx(U2,{className:"h-5 w-5 transition-transform group-hover:-rotate-90"})})}const Nz=()=>{const{settings:t,isLoading:s}=oy();return{siteName:t.siteName,isLoading:s}},gb=({fallback:t=""})=>{const{siteName:s,isLoading:r}=Nz();return r?t:s||t},_z=({categories:t})=>{var j,w,y,_,b;const[s,r]=h.useState(!1),[n,a]=h.useState(null),[i,l]=h.useState(""),{user:o,signOut:c}=tt(),[d,u]=St(),m=()=>{r(!1),a(null)},f=N=>{a(n===N?null:N)},x=N=>{N.preventDefault(),i.trim()&&(u(`/search?q=${encodeURIComponent(i)}`),m())},g=async()=>{await c(),m()},v=[{href:"/",label:" ",icon:Gc},{href:"/epaper",label:"-",icon:Ds},{href:"/videos",label:"",icon:Po},{href:"/audio-articles",label:"",icon:ny}],p=o?[{href:"/dashboard",label:"",icon:Xr},{href:"/saved-articles",label:"",icon:ai},{href:"/reading-history",label:" ",icon:Ds},{href:"/profile",label:"",icon:qs}]:[{href:"/login",label:"",icon:Xr},{href:"/register",label:"",icon:Xr}];return e.jsxs(Uk,{open:s,onOpenChange:r,children:[e.jsx(zk,{asChild:!0,children:e.jsx(M,{variant:"ghost",size:"icon",className:"md:hidden relative p-2 hover:bg-accent/10 transition-colors","aria-label":" ",children:e.jsx(ig,{className:"h-6 w-6"})})}),e.jsx(ky,{side:"left",className:"w-80 p-0 bg-background border-r border-border",children:e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsx(Bk,{className:"sr-only",children:"Navigation Menu"}),e.jsxs("div",{className:"p-4 border-b border-border bg-primary/5",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-primary",children:e.jsx(gb,{})}),e.jsx(M,{variant:"ghost",size:"icon",onClick:m,className:"h-8 w-8 hover:bg-accent/10","aria-label":"  ",children:e.jsx(rc,{className:"h-4 w-4"})})]}),e.jsx("form",{onSubmit:x,className:"mt-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(Mt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(J,{type:"search",placeholder:" ...",value:i,onChange:N=>l(N.target.value),className:"pl-10 pr-4 py-2 bg-background border border-border focus:ring-2 focus:ring-primary/20"})]})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto",children:[o&&e.jsx("div",{className:"p-4 border-b border-border bg-muted/10",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs(pl,{className:"h-10 w-10",children:[e.jsx(gl,{src:(j=o.user_metadata)==null?void 0:j.avatar_url}),e.jsx(vl,{className:"bg-primary text-primary-foreground",children:((y=(w=o.user_metadata)==null?void 0:w.name)==null?void 0:y[0])||((_=o.email)==null?void 0:_[0])||"U"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:((b=o.user_metadata)==null?void 0:b.name)||"User"}),e.jsx("p",{className:"text-xs text-muted-foreground truncate",children:o.email})]})]})}),e.jsxs("nav",{className:"p-2",children:[e.jsx("div",{className:"space-y-1",children:v.map(N=>e.jsx(X,{href:N.href,onClick:m,children:e.jsxs("span",{className:"flex items-center px-3 py-3 text-sm font-medium text-foreground hover:text-primary hover:bg-accent/10 rounded-lg transition-colors cursor-pointer",children:[e.jsx(N.icon,{className:"h-5 w-5 mr-3"}),N.label]})},N.href))}),e.jsx(Tn,{className:"my-3"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h3",{className:"px-3 py-2 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:""}),t.map(N=>e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>f(N.slug),className:"w-full flex items-center justify-between px-3 py-2 text-sm font-medium text-foreground hover:text-primary hover:bg-accent/10 rounded-lg transition-colors",children:[e.jsx("span",{children:N.name}),n===N.slug?e.jsx(Gm,{className:"h-4 w-4"}):e.jsx(sc,{className:"h-4 w-4"})]}),n===N.slug&&e.jsx("div",{className:"ml-4 mt-1 space-y-1",children:e.jsx(X,{href:`/category/${N.slug}`,onClick:m,children:e.jsxs("span",{className:"block px-3 py-2 text-sm text-muted-foreground hover:text-primary hover:bg-accent/10 rounded-lg transition-colors cursor-pointer",children:[" ",N.name]})})})]},N.slug))]}),e.jsx(Tn,{className:"my-3"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h3",{className:"px-3 py-2 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:o?" ":""}),p.map(N=>e.jsx(X,{href:N.href,onClick:m,children:e.jsxs("span",{className:"flex items-center px-3 py-3 text-sm font-medium text-foreground hover:text-primary hover:bg-accent/10 rounded-lg transition-colors cursor-pointer",children:[e.jsx(N.icon,{className:"h-5 w-5 mr-3"}),N.label]})},N.href)),o&&e.jsxs("button",{onClick:g,className:"w-full flex items-center px-3 py-3 text-sm font-medium text-destructive hover:text-destructive/80 hover:bg-destructive/10 rounded-lg transition-colors",children:[e.jsx(Xr,{className:"h-5 w-5 mr-3"}),""]})]})]})]}),e.jsx("div",{className:"p-4 border-t border-border bg-muted/10",children:e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[e.jsxs("span",{children:["  ",e.jsx(gb,{})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(X,{href:"/privacy-policy",onClick:m,children:e.jsx("span",{className:"hover:text-primary transition-colors cursor-pointer",children:""})}),e.jsx("span",{children:""}),e.jsx(X,{href:"/terms-of-service",onClick:m,children:e.jsx("span",{className:"hover:text-primary transition-colors cursor-pointer",children:""})})]})]})})]})})]})};var Tf="Popover",[FE,PB]=Ns(Tf,[uc]),mu=uc(),[Sz,ji]=FE(Tf),$E=t=>{const{__scopePopover:s,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:l=!1}=t,o=mu(s),c=h.useRef(null),[d,u]=h.useState(!1),[m,f]=nn({prop:n,defaultProp:a??!1,onChange:i,caller:Tf});return e.jsx(My,{...o,children:e.jsx(Sz,{scope:s,contentId:ws(),triggerRef:c,open:m,onOpenChange:f,onOpenToggle:h.useCallback(()=>f(x=>!x),[f]),hasCustomAnchor:d,onCustomAnchorAdd:h.useCallback(()=>u(!0),[]),onCustomAnchorRemove:h.useCallback(()=>u(!1),[]),modal:l,children:r})})};$E.displayName=Tf;var UE="PopoverAnchor",kz=h.forwardRef((t,s)=>{const{__scopePopover:r,...n}=t,a=ji(UE,r),i=mu(r),{onCustomAnchorAdd:l,onCustomAnchorRemove:o}=a;return h.useEffect(()=>(l(),()=>o()),[l,o]),e.jsx(vf,{...i,...n,ref:s})});kz.displayName=UE;var zE="PopoverTrigger",VE=h.forwardRef((t,s)=>{const{__scopePopover:r,...n}=t,a=ji(zE,r),i=mu(r),l=Me(s,a.triggerRef),o=e.jsx(me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":KE(a.open),...n,ref:l,onClick:se(t.onClick,a.onOpenToggle)});return a.hasCustomAnchor?o:e.jsx(vf,{asChild:!0,...i,children:o})});VE.displayName=zE;var Zy="PopoverPortal",[Cz,Ez]=FE(Zy,{forceMount:void 0}),BE=t=>{const{__scopePopover:s,forceMount:r,children:n,container:a}=t,i=ji(Zy,s);return e.jsx(Cz,{scope:s,forceMount:r,children:e.jsx(_s,{present:r||i.open,children:e.jsx(ec,{asChild:!0,container:a,children:n})})})};BE.displayName=Zy;var Bo="PopoverContent",qE=h.forwardRef((t,s)=>{const r=Ez(Bo,t.__scopePopover),{forceMount:n=r.forceMount,...a}=t,i=ji(Bo,t.__scopePopover);return e.jsx(_s,{present:n||i.open,children:i.modal?e.jsx(Pz,{...a,ref:s}):e.jsx(Az,{...a,ref:s})})});qE.displayName=Bo;var Tz=ni("PopoverContent.RemoveScroll"),Pz=h.forwardRef((t,s)=>{const r=ji(Bo,t.__scopePopover),n=h.useRef(null),a=Me(s,n),i=h.useRef(!1);return h.useEffect(()=>{const l=n.current;if(l)return cf(l)},[]),e.jsx(nu,{as:Tz,allowPinchZoom:!0,children:e.jsx(HE,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:se(t.onCloseAutoFocus,l=>{var o;l.preventDefault(),i.current||(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:se(t.onPointerDownOutside,l=>{const o=l.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0,d=o.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:se(t.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),Az=h.forwardRef((t,s)=>{const r=ji(Bo,t.__scopePopover),n=h.useRef(!1),a=h.useRef(!1);return e.jsx(HE,{...t,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var l,o;(l=t.onCloseAutoFocus)==null||l.call(t,i),i.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const l=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(l))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),HE=h.forwardRef((t,s)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...m}=t,f=ji(Bo,r),x=mu(r);return lf(),e.jsx(ru,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:e.jsx(Jo,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:u,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>f.onOpenChange(!1),children:e.jsx(Ly,{"data-state":KE(f.open),role:"dialog",id:f.contentId,...x,...m,ref:s,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),WE="PopoverClose",Rz=h.forwardRef((t,s)=>{const{__scopePopover:r,...n}=t,a=ji(WE,r);return e.jsx(me.button,{type:"button",...n,ref:s,onClick:se(t.onClick,()=>a.onOpenChange(!1))})});Rz.displayName=WE;var Oz="PopoverArrow",Iz=h.forwardRef((t,s)=>{const{__scopePopover:r,...n}=t,a=mu(r);return e.jsx(Fy,{...a,...n,ref:s})});Iz.displayName=Oz;function KE(t){return t?"open":"closed"}var Dz=$E,Mz=VE,Lz=BE,GE=qE;const Fz=Dz,$z=Mz,QE=h.forwardRef(({className:t,align:s="center",sideOffset:r=4,...n},a)=>e.jsx(Lz,{children:e.jsx(GE,{ref:a,align:s,sideOffset:r,className:re("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));QE.displayName=GE.displayName;var vb=1,Uz=.9,zz=.8,Vz=.17,Fx=.1,$x=.999,Bz=.9999,qz=.99,Hz=/[\\\/_+.#"@\[\(\{&]/,Wz=/[\\\/_+.#"@\[\(\{&]/g,Kz=/[\s-]/,ZE=/[\s-]/g;function Rg(t,s,r,n,a,i,l){if(i===s.length)return a===t.length?vb:qz;var o=`${a},${i}`;if(l[o]!==void 0)return l[o];for(var c=n.charAt(i),d=r.indexOf(c,a),u=0,m,f,x,g;d>=0;)m=Rg(t,s,r,n,d+1,i+1,l),m>u&&(d===a?m*=vb:Hz.test(t.charAt(d-1))?(m*=zz,x=t.slice(a,d-1).match(Wz),x&&a>0&&(m*=Math.pow($x,x.length))):Kz.test(t.charAt(d-1))?(m*=Uz,g=t.slice(a,d-1).match(ZE),g&&a>0&&(m*=Math.pow($x,g.length))):(m*=Vz,a>0&&(m*=Math.pow($x,d-a))),t.charAt(d)!==s.charAt(i)&&(m*=Bz)),(m<Fx&&r.charAt(d-1)===n.charAt(i+1)||n.charAt(i+1)===n.charAt(i)&&r.charAt(d-1)!==n.charAt(i))&&(f=Rg(t,s,r,n,d+1,i+2,l),f*Fx>m&&(m=f*Fx)),m>u&&(u=m),d=r.indexOf(c,d+1);return l[o]=u,u}function yb(t){return t.toLowerCase().replace(ZE," ")}function Gz(t,s,r){return t=r&&r.length>0?`${t+" "+r.join(" ")}`:t,Rg(t,s,yb(t),yb(s),0,0,{})}var zc='[cmdk-group=""]',Ux='[cmdk-group-items=""]',Qz='[cmdk-group-heading=""]',YE='[cmdk-item=""]',jb=`${YE}:not([aria-disabled="true"])`,Og="cmdk-item-select",Ol="data-value",Zz=(t,s,r)=>Gz(t,s,r),XE=h.createContext(void 0),fu=()=>h.useContext(XE),JE=h.createContext(void 0),Yy=()=>h.useContext(JE),eT=h.createContext(void 0),tT=h.forwardRef((t,s)=>{let r=Il(()=>{var q,ce;return{search:"",value:(ce=(q=t.value)!=null?q:t.defaultValue)!=null?ce:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=Il(()=>new Set),a=Il(()=>new Map),i=Il(()=>new Map),l=Il(()=>new Set),o=sT(t),{label:c,children:d,value:u,onValueChange:m,filter:f,shouldFilter:x,loop:g,disablePointerSelection:v=!1,vimBindings:p=!0,...j}=t,w=ws(),y=ws(),_=ws(),b=h.useRef(null),N=lV();ll(()=>{if(u!==void 0){let q=u.trim();r.current.value=q,T.emit()}},[u]),ll(()=>{N(6,K)},[]);let T=h.useMemo(()=>({subscribe:q=>(l.current.add(q),()=>l.current.delete(q)),snapshot:()=>r.current,setState:(q,ce,ye)=>{var ue,Se,ie,Re;if(!Object.is(r.current[q],ce)){if(r.current[q]=ce,q==="search")R(),P(),N(1,C);else if(q==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let Le=document.getElementById(_);Le?Le.focus():(ue=document.getElementById(w))==null||ue.focus()}if(N(7,()=>{var Le;r.current.selectedItemId=(Le=W())==null?void 0:Le.id,T.emit()}),ye||N(5,K),((Se=o.current)==null?void 0:Se.value)!==void 0){let Le=ce??"";(Re=(ie=o.current).onValueChange)==null||Re.call(ie,Le);return}}T.emit()}},emit:()=>{l.current.forEach(q=>q())}}),[]),A=h.useMemo(()=>({value:(q,ce,ye)=>{var ue;ce!==((ue=i.current.get(q))==null?void 0:ue.value)&&(i.current.set(q,{value:ce,keywords:ye}),r.current.filtered.items.set(q,S(ce,ye)),N(2,()=>{P(),T.emit()}))},item:(q,ce)=>(n.current.add(q),ce&&(a.current.has(ce)?a.current.get(ce).add(q):a.current.set(ce,new Set([q]))),N(3,()=>{R(),P(),r.current.value||C(),T.emit()}),()=>{i.current.delete(q),n.current.delete(q),r.current.filtered.items.delete(q);let ye=W();N(4,()=>{R(),(ye==null?void 0:ye.getAttribute("id"))===q&&C(),T.emit()})}),group:q=>(a.current.has(q)||a.current.set(q,new Set),()=>{i.current.delete(q),a.current.delete(q)}),filter:()=>o.current.shouldFilter,label:c||t["aria-label"],getDisablePointerSelection:()=>o.current.disablePointerSelection,listId:w,inputId:_,labelId:y,listInnerRef:b}),[]);function S(q,ce){var ye,ue;let Se=(ue=(ye=o.current)==null?void 0:ye.filter)!=null?ue:Zz;return q?Se(q,r.current.search,ce):0}function P(){if(!r.current.search||o.current.shouldFilter===!1)return;let q=r.current.filtered.items,ce=[];r.current.filtered.groups.forEach(ue=>{let Se=a.current.get(ue),ie=0;Se.forEach(Re=>{let Le=q.get(Re);ie=Math.max(Le,ie)}),ce.push([ue,ie])});let ye=b.current;D().sort((ue,Se)=>{var ie,Re;let Le=ue.getAttribute("id"),Ce=Se.getAttribute("id");return((ie=q.get(Ce))!=null?ie:0)-((Re=q.get(Le))!=null?Re:0)}).forEach(ue=>{let Se=ue.closest(Ux);Se?Se.appendChild(ue.parentElement===Se?ue:ue.closest(`${Ux} > *`)):ye.appendChild(ue.parentElement===ye?ue:ue.closest(`${Ux} > *`))}),ce.sort((ue,Se)=>Se[1]-ue[1]).forEach(ue=>{var Se;let ie=(Se=b.current)==null?void 0:Se.querySelector(`${zc}[${Ol}="${encodeURIComponent(ue[0])}"]`);ie==null||ie.parentElement.appendChild(ie)})}function C(){let q=D().find(ye=>ye.getAttribute("aria-disabled")!=="true"),ce=q==null?void 0:q.getAttribute(Ol);T.setState("value",ce||void 0)}function R(){var q,ce,ye,ue;if(!r.current.search||o.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let Se=0;for(let ie of n.current){let Re=(ce=(q=i.current.get(ie))==null?void 0:q.value)!=null?ce:"",Le=(ue=(ye=i.current.get(ie))==null?void 0:ye.keywords)!=null?ue:[],Ce=S(Re,Le);r.current.filtered.items.set(ie,Ce),Ce>0&&Se++}for(let[ie,Re]of a.current)for(let Le of Re)if(r.current.filtered.items.get(Le)>0){r.current.filtered.groups.add(ie);break}r.current.filtered.count=Se}function K(){var q,ce,ye;let ue=W();ue&&(((q=ue.parentElement)==null?void 0:q.firstChild)===ue&&((ye=(ce=ue.closest(zc))==null?void 0:ce.querySelector(Qz))==null||ye.scrollIntoView({block:"nearest"})),ue.scrollIntoView({block:"nearest"}))}function W(){var q;return(q=b.current)==null?void 0:q.querySelector(`${YE}[aria-selected="true"]`)}function D(){var q;return Array.from(((q=b.current)==null?void 0:q.querySelectorAll(jb))||[])}function B(q){let ce=D()[q];ce&&T.setState("value",ce.getAttribute(Ol))}function V(q){var ce;let ye=W(),ue=D(),Se=ue.findIndex(Re=>Re===ye),ie=ue[Se+q];(ce=o.current)!=null&&ce.loop&&(ie=Se+q<0?ue[ue.length-1]:Se+q===ue.length?ue[0]:ue[Se+q]),ie&&T.setState("value",ie.getAttribute(Ol))}function O(q){let ce=W(),ye=ce==null?void 0:ce.closest(zc),ue;for(;ye&&!ue;)ye=q>0?aV(ye,zc):iV(ye,zc),ue=ye==null?void 0:ye.querySelector(jb);ue?T.setState("value",ue.getAttribute(Ol)):V(q)}let z=()=>B(D().length-1),U=q=>{q.preventDefault(),q.metaKey?z():q.altKey?O(1):V(1)},G=q=>{q.preventDefault(),q.metaKey?B(0):q.altKey?O(-1):V(-1)};return h.createElement(me.div,{ref:s,tabIndex:-1,...j,"cmdk-root":"",onKeyDown:q=>{var ce;(ce=j.onKeyDown)==null||ce.call(j,q);let ye=q.nativeEvent.isComposing||q.keyCode===229;if(!(q.defaultPrevented||ye))switch(q.key){case"n":case"j":{p&&q.ctrlKey&&U(q);break}case"ArrowDown":{U(q);break}case"p":case"k":{p&&q.ctrlKey&&G(q);break}case"ArrowUp":{G(q);break}case"Home":{q.preventDefault(),B(0);break}case"End":{q.preventDefault(),z();break}case"Enter":{q.preventDefault();let ue=W();if(ue){let Se=new Event(Og);ue.dispatchEvent(Se)}}}}},h.createElement("label",{"cmdk-label":"",htmlFor:A.inputId,id:A.labelId,style:cV},c),Pf(t,q=>h.createElement(JE.Provider,{value:T},h.createElement(XE.Provider,{value:A},q))))}),Yz=h.forwardRef((t,s)=>{var r,n;let a=ws(),i=h.useRef(null),l=h.useContext(eT),o=fu(),c=sT(t),d=(n=(r=c.current)==null?void 0:r.forceMount)!=null?n:l==null?void 0:l.forceMount;ll(()=>{if(!d)return o.item(a,l==null?void 0:l.id)},[d]);let u=rT(a,i,[t.value,t.children,i],t.keywords),m=Yy(),f=hi(N=>N.value&&N.value===u.current),x=hi(N=>d||o.filter()===!1?!0:N.search?N.filtered.items.get(a)>0:!0);h.useEffect(()=>{let N=i.current;if(!(!N||t.disabled))return N.addEventListener(Og,g),()=>N.removeEventListener(Og,g)},[x,t.onSelect,t.disabled]);function g(){var N,T;v(),(T=(N=c.current).onSelect)==null||T.call(N,u.current)}function v(){m.setState("value",u.current,!0)}if(!x)return null;let{disabled:p,value:j,onSelect:w,forceMount:y,keywords:_,...b}=t;return h.createElement(me.div,{ref:ia(i,s),...b,id:a,"cmdk-item":"",role:"option","aria-disabled":!!p,"aria-selected":!!f,"data-disabled":!!p,"data-selected":!!f,onPointerMove:p||o.getDisablePointerSelection()?void 0:v,onClick:p?void 0:g},t.children)}),Xz=h.forwardRef((t,s)=>{let{heading:r,children:n,forceMount:a,...i}=t,l=ws(),o=h.useRef(null),c=h.useRef(null),d=ws(),u=fu(),m=hi(x=>a||u.filter()===!1?!0:x.search?x.filtered.groups.has(l):!0);ll(()=>u.group(l),[]),rT(l,o,[t.value,t.heading,c]);let f=h.useMemo(()=>({id:l,forceMount:a}),[a]);return h.createElement(me.div,{ref:ia(o,s),...i,"cmdk-group":"",role:"presentation",hidden:m?void 0:!0},r&&h.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:d},r),Pf(t,x=>h.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?d:void 0},h.createElement(eT.Provider,{value:f},x))))}),Jz=h.forwardRef((t,s)=>{let{alwaysRender:r,...n}=t,a=h.useRef(null),i=hi(l=>!l.search);return!r&&!i?null:h.createElement(me.div,{ref:ia(a,s),...n,"cmdk-separator":"",role:"separator"})}),eV=h.forwardRef((t,s)=>{let{onValueChange:r,...n}=t,a=t.value!=null,i=Yy(),l=hi(d=>d.search),o=hi(d=>d.selectedItemId),c=fu();return h.useEffect(()=>{t.value!=null&&i.setState("search",t.value)},[t.value]),h.createElement(me.input,{ref:s,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":o,id:c.inputId,type:"text",value:a?t.value:l,onChange:d=>{a||i.setState("search",d.target.value),r==null||r(d.target.value)}})}),tV=h.forwardRef((t,s)=>{let{children:r,label:n="Suggestions",...a}=t,i=h.useRef(null),l=h.useRef(null),o=hi(d=>d.selectedItemId),c=fu();return h.useEffect(()=>{if(l.current&&i.current){let d=l.current,u=i.current,m,f=new ResizeObserver(()=>{m=requestAnimationFrame(()=>{let x=d.offsetHeight;u.style.setProperty("--cmdk-list-height",x.toFixed(1)+"px")})});return f.observe(d),()=>{cancelAnimationFrame(m),f.unobserve(d)}}},[]),h.createElement(me.div,{ref:ia(i,s),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":o,"aria-label":n,id:c.listId},Pf(t,d=>h.createElement("div",{ref:ia(l,c.listInnerRef),"cmdk-list-sizer":""},d)))}),sV=h.forwardRef((t,s)=>{let{open:r,onOpenChange:n,overlayClassName:a,contentClassName:i,container:l,...o}=t;return h.createElement(uf,{open:r,onOpenChange:n},h.createElement(hf,{container:l},h.createElement(lc,{"cmdk-overlay":"",className:a}),h.createElement(oc,{"aria-label":t.label,"cmdk-dialog":"",className:i},h.createElement(tT,{ref:s,...o}))))}),rV=h.forwardRef((t,s)=>hi(r=>r.filtered.count===0)?h.createElement(me.div,{ref:s,...t,"cmdk-empty":"",role:"presentation"}):null),nV=h.forwardRef((t,s)=>{let{progress:r,children:n,label:a="Loading...",...i}=t;return h.createElement(me.div,{ref:s,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},Pf(t,l=>h.createElement("div",{"aria-hidden":!0},l)))}),or=Object.assign(tT,{List:tV,Item:Yz,Input:eV,Group:Xz,Separator:Jz,Dialog:sV,Empty:rV,Loading:nV});function aV(t,s){let r=t.nextElementSibling;for(;r;){if(r.matches(s))return r;r=r.nextElementSibling}}function iV(t,s){let r=t.previousElementSibling;for(;r;){if(r.matches(s))return r;r=r.previousElementSibling}}function sT(t){let s=h.useRef(t);return ll(()=>{s.current=t}),s}var ll=typeof window>"u"?h.useEffect:h.useLayoutEffect;function Il(t){let s=h.useRef();return s.current===void 0&&(s.current=t()),s}function hi(t){let s=Yy(),r=()=>t(s.snapshot());return h.useSyncExternalStore(s.subscribe,r,r)}function rT(t,s,r,n=[]){let a=h.useRef(),i=fu();return ll(()=>{var l;let o=(()=>{var d;for(let u of r){if(typeof u=="string")return u.trim();if(typeof u=="object"&&"current"in u)return u.current?(d=u.current.textContent)==null?void 0:d.trim():a.current}})(),c=n.map(d=>d.trim());i.value(t,o,c),(l=s.current)==null||l.setAttribute(Ol,o),a.current=o}),a}var lV=()=>{let[t,s]=h.useState(),r=Il(()=>new Map);return ll(()=>{r.current.forEach(n=>n()),r.current=new Map},[t]),(n,a)=>{r.current.set(n,a),s({})}};function oV(t){let s=t.type;return typeof s=="function"?s(t.props):"render"in s?s.render(t.props):t}function Pf({asChild:t,children:s},r){return t&&h.isValidElement(s)?h.cloneElement(oV(s),{ref:s.ref},r(s.props.children)):r(s)}var cV={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const nT=h.forwardRef(({className:t,...s},r)=>e.jsx(or,{ref:r,className:re("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...s}));nT.displayName=or.displayName;const dV=h.forwardRef(({className:t,...s},r)=>e.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[e.jsx(Mt,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),e.jsx(or.Input,{ref:r,className:re("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...s})]}));dV.displayName=or.Input.displayName;const uV=h.forwardRef(({className:t,...s},r)=>e.jsx(or.List,{ref:r,className:re("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...s}));uV.displayName=or.List.displayName;const aT=h.forwardRef(({className:t,...s},r)=>e.jsx(or.Empty,{ref:r,className:re("py-6 text-center text-sm",t),...s}));aT.displayName=or.Empty.displayName;const jh=h.forwardRef(({className:t,...s},r)=>e.jsx(or.Group,{ref:r,className:re("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...s}));jh.displayName=or.Group.displayName;const hV=h.forwardRef(({className:t,...s},r)=>e.jsx(or.Separator,{ref:r,className:re("-mx-1 h-px bg-border",t),...s}));hV.displayName=or.Separator.displayName;const Ig=h.forwardRef(({className:t,...s},r)=>e.jsx(or.Item,{ref:r,className:re("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...s}));Ig.displayName=or.Item.displayName;function mV(t,s){const[r,n]=h.useState(t);return h.useEffect(()=>{const a=setTimeout(()=>{n(t)},s);return()=>{clearTimeout(a)}},[t,s]),r}const wb=({placeholder:t=" ...",showHistory:s=!0,showTrending:r=!0,showFilters:n=!0,className:a=""})=>{const[i,l]=h.useState(""),[o,c]=h.useState([]),[d,u]=h.useState([]),[m,f]=h.useState([]),[x,g]=h.useState(!1),[v,p]=h.useState(!1),[j,w]=h.useState(""),[y,_]=h.useState([]),b=mV(i,300),N=h.useRef(null),[,T]=St();h.useEffect(()=>{const D=localStorage.getItem("searchHistory");D&&u(JSON.parse(D))},[]),h.useEffect(()=>{(async()=>{try{const{getCategories:B}=await le(async()=>{const{getCategories:O}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getCategories:O}},[]),V=await B();_(V)}catch(B){console.error("Error fetching categories:",B)}})()},[]),h.useEffect(()=>{(async()=>{try{f([{query:"",count:1250},{query:"",count:980},{query:"",count:760},{query:"",count:650},{query:"",count:540}])}catch(B){console.error("Error fetching trending searches:",B)}})()},[]);const A=h.useCallback(async D=>{if(!D.trim()){c([]);return}p(!0);try{const B=await fetch(`/api/search?q=${encodeURIComponent(D)}&limit=5`);if(B.ok){const O=(await B.json()).map(G=>{var q;return{id:G.id.toString(),title:G.title,type:"article",category:(q=G.category)==null?void 0:q.name,url:`/article/${G.slug}`}}),U=y.filter(G=>G.name.toLowerCase().includes(D.toLowerCase())).map(G=>({id:`category-${G.id}`,title:G.name,type:"category",url:`/category/${G.slug}`}));c([...U,...O])}}catch(B){console.error("Error fetching suggestions:",B)}finally{p(!1)}},[y]);h.useEffect(()=>{b&&x&&A(b)},[b,x,A]);const S=D=>{if(!D.trim())return;const B=[{query:D,timestamp:Date.now()},...d.filter(O=>O.query!==D)].slice(0,10);u(B),localStorage.setItem("searchHistory",JSON.stringify(B));const V=new URLSearchParams;V.set("q",D),j&&V.set("category",j),T(`/search?${V.toString()}`),g(!1),l("")},P=D=>{T(D.url),g(!1),l("")},C=D=>{l(D),S(D)},R=()=>{u([]),localStorage.removeItem("searchHistory")},K=()=>{var D;l(""),c([]),(D=N.current)==null||D.focus()},W=D=>{var B;D.key==="Enter"?(D.preventDefault(),S(i)):D.key==="Escape"&&(g(!1),(B=N.current)==null||B.blur())};return e.jsx("div",{className:`relative ${a}`,children:e.jsxs(Fz,{open:x,onOpenChange:g,children:[e.jsx($z,{asChild:!0,children:e.jsxs("div",{className:"relative",children:[e.jsx(Mt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(J,{ref:N,type:"search",placeholder:t,value:i,onChange:D=>l(D.target.value),onKeyDown:W,className:"pl-10 pr-12 py-2 bg-background border border-border focus:ring-2 focus:ring-primary/20 focus:border-primary/50 transition-all duration-200",autoComplete:"off"}),i&&e.jsx(M,{variant:"ghost",size:"sm",onClick:K,className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-6 w-6 p-0 hover:bg-accent/10","aria-label":"Clear search",children:e.jsx(rc,{className:"h-3 w-3"})})]})}),e.jsx(QE,{className:"w-96 p-0 bg-background border border-border shadow-lg",align:"start",sideOffset:4,children:e.jsxs(nT,{className:"w-full",children:[o.length>0&&e.jsx(jh,{heading:"",children:o.map(D=>e.jsxs(Ig,{value:D.title,onSelect:()=>P(D),className:"flex items-center justify-between p-3 cursor-pointer hover:bg-accent/10 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex-shrink-0",children:[D.type==="article"&&e.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),D.type==="category"&&e.jsx("div",{className:"w-2 h-2 bg-accent rounded-full"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:D.title}),D.category&&e.jsx("p",{className:"text-xs text-muted-foreground",children:D.category})]})]}),e.jsx(Gl,{className:"h-3 w-3 text-muted-foreground"})]},D.id))}),s&&d.length>0&&!i&&e.jsxs(e.Fragment,{children:[e.jsx(Tn,{}),e.jsxs(jh,{heading:" ",children:[e.jsxs("div",{className:"flex items-center justify-between px-3 py-2",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:" "}),e.jsx(M,{variant:"ghost",size:"sm",onClick:R,className:"h-6 text-xs text-muted-foreground hover:text-foreground",children:" "})]}),d.slice(0,5).map((D,B)=>e.jsxs(Ig,{value:D.query,onSelect:()=>C(D.query),className:"flex items-center space-x-3 p-3 cursor-pointer hover:bg-accent/10 transition-colors",children:[e.jsx(ot,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm text-foreground",children:D.query})]},B))]})]}),r&&m.length>0&&!i&&e.jsxs(e.Fragment,{children:[e.jsx(Tn,{}),e.jsx(jh,{heading:" ",children:e.jsxs("div",{className:"px-3 py-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(Ft,{className:"h-4 w-4 text-accent"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:" "})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:m.slice(0,5).map((D,B)=>e.jsx(ee,{variant:"secondary",className:"cursor-pointer hover:bg-accent/20 transition-colors",onClick:()=>C(D.query),children:D.query},B))})]})})]}),i&&o.length===0&&!v&&e.jsx(aT,{children:e.jsxs("div",{className:"text-center py-4",children:[e.jsx(Mt,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"   "})]})}),v&&e.jsx("div",{className:"p-4 text-center",children:e.jsxs("div",{className:"inline-flex items-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"  ..."})]})})]})})]})})},Af=()=>{var w,y,_,b,N,T;const[t,s]=h.useState(!1),[r,n]=h.useState(!1),[a,i]=h.useState([]),[l,o]=h.useState(""),[c,d]=h.useState(""),[u,m]=St(),{user:f,signOut:x,loading:g}=tt(),{settings:v}=oy();h.useEffect(()=>{const A=new Date,S={weekday:"long",year:"numeric",month:"long",day:"numeric"};o(A.toLocaleDateString("bn-BD",S)),(async()=>{try{const{getCategories:R}=await le(async()=>{const{getCategories:W}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getCategories:W}},[]),K=await R();i(K)}catch(R){console.error("Error fetching categories:",R)}})();const C=R=>{t&&!R.target.closest(".mobile-menu")&&s(!1)};return document.addEventListener("click",C),()=>document.removeEventListener("click",C)},[t]);const p=()=>{n(!r),r||setTimeout(()=>{var A;(A=document.getElementById("mobile-search"))==null||A.focus()},100)},j=async()=>{try{await x(),m("/")}catch(A){console.error("Error logging out:",A)}};return e.jsxs("header",{className:"glass-effect sticky top-0 z-50 shadow-sm",children:[e.jsx("div",{className:"bg-primary text-primary-foreground border-b border-primary/20",children:e.jsx("div",{className:"container-modern",children:e.jsxs("div",{className:"flex justify-between items-center py-2",children:[e.jsxs("div",{className:"hidden md:flex items-center space-x-3 text-sm",children:[e.jsx("time",{className:"font-medium",children:l}),e.jsx("span",{className:"text-primary-foreground/60",children:""}),e.jsx("span",{className:"text-primary-foreground/90",children:", "})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[f?e.jsxs(fl,{children:[e.jsx(xl,{asChild:!0,children:e.jsx(M,{variant:"ghost",className:"relative h-8 w-8 rounded-full text-primary-foreground hover:bg-primary-foreground/10",children:e.jsxs(pl,{className:"h-8 w-8",children:[e.jsx(gl,{src:(w=f.user_metadata)==null?void 0:w.avatar_url,alt:((y=f.user_metadata)==null?void 0:y.name)||f.email}),e.jsx(vl,{className:"bg-accent text-accent-foreground text-xs",children:(((b=(_=f.user_metadata)==null?void 0:_.name)==null?void 0:b[0])||((N=f.email)==null?void 0:N[0])||"?").toUpperCase()})]})})}),e.jsxs(yi,{className:"w-56",align:"end",forceMount:!0,children:[e.jsxs("div",{className:"flex flex-col space-y-1 p-3",children:[e.jsx("p",{className:"text-sm font-medium leading-none",children:((T=f.user_metadata)==null?void 0:T.name)||""}),e.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:f.email})]}),e.jsx(ua,{}),e.jsx(Lt,{asChild:!0,children:e.jsxs(X,{href:"/profile",className:"cursor-pointer",children:[e.jsx(Xr,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:""})]})}),e.jsx(Lt,{asChild:!0,children:e.jsxs(X,{href:"/dashboard",className:"cursor-pointer",children:[e.jsx(Gc,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:""})]})}),e.jsx(Lt,{asChild:!0,children:e.jsxs(X,{href:"/saved-articles",className:"cursor-pointer",children:[e.jsx(ai,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:""})]})}),e.jsx(Lt,{asChild:!0,children:e.jsxs(X,{href:"/reading-history",className:"cursor-pointer",children:[e.jsx(sn,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:" "})]})}),e.jsx(ua,{}),e.jsxs(Lt,{onClick:j,className:"cursor-pointer text-destructive",children:[e.jsx(ry,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:""})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[e.jsx(X,{href:"/login",className:"btn-link text-primary-foreground hover:text-primary-foreground/80",children:""}),e.jsx("span",{className:"text-primary-foreground/40",children:"|"}),e.jsx(X,{href:"/register",className:"btn-link text-primary-foreground hover:text-primary-foreground/80",children:""})]}),e.jsx("div",{className:"border-l border-primary-foreground/20 pl-3",children:e.jsx(bz,{})})]})]})})}),e.jsx("div",{className:"bg-background/95 backdrop-blur-sm border-b border-border",children:e.jsx("div",{className:"container-modern",children:e.jsxs("div",{className:"flex items-center justify-between py-4",children:[e.jsx("div",{className:"flex items-center",children:e.jsxs(X,{href:"/",className:"flex items-center space-x-3 hover:scale-105 transition-transform duration-200",children:[v.logoUrl&&e.jsx("img",{src:v.logoUrl,alt:v.siteName,className:"h-10 w-auto object-contain",onError:A=>{A.currentTarget.style.display="none"}}),e.jsx("span",{className:"headline gradient-text",children:v.siteName})]})}),e.jsx("div",{className:"hidden md:flex items-center space-x-4",children:e.jsx(wb,{placeholder:" ...",className:"w-80",showHistory:!0,showTrending:!0,showFilters:!0})}),e.jsxs("div",{className:"flex items-center space-x-2 md:hidden",children:[e.jsx("button",{onClick:p,className:"p-2 rounded-lg hover:bg-accent/10 transition-colors","aria-label":"Search",children:e.jsx(Mt,{size:20})}),e.jsx(_z,{categories:a})]})]})})}),r&&e.jsx("div",{className:"md:hidden bg-background border-b border-border p-4 slide-up",children:e.jsx(wb,{placeholder:" ...",className:"w-full",showHistory:!0,showTrending:!0,showFilters:!1})}),e.jsx("nav",{className:"bg-background/98 backdrop-blur-sm border-b border-border",children:e.jsxs("div",{className:"container-modern",children:[e.jsx("div",{className:"hidden md:flex items-center justify-start py-2 overflow-x-auto",children:e.jsxs("div",{className:"flex items-center space-x-2 min-w-max",children:[e.jsxs(X,{href:"/",className:"nav-link flex items-center whitespace-nowrap",children:[e.jsx(Gc,{size:16,className:"mr-1"})," "]}),a.map(A=>e.jsx(X,{href:`/category/${A.slug}`,className:"nav-link whitespace-nowrap",children:A.name},A.id)),e.jsx(X,{href:"/epaper",className:"nav-link whitespace-nowrap",children:"-"}),e.jsx(X,{href:"/videos",className:"nav-link whitespace-nowrap",children:""}),e.jsx(X,{href:"/audio-articles",className:"nav-link whitespace-nowrap",children:""}),e.jsx(X,{href:"/advanced-search",className:"nav-link whitespace-nowrap",children:" "})]})}),t&&e.jsx("div",{className:"md:hidden mobile-menu bg-background border-t border-border animate-in slide-in-from-top-2 duration-200",children:e.jsxs("div",{className:"py-4 px-4 space-y-2",children:[e.jsxs(X,{href:"/",className:"mobile-nav-link",onClick:()=>s(!1),children:[e.jsx(Gc,{size:16,className:"mr-2"})," "]}),a.map(A=>e.jsx(X,{href:`/category/${A.slug}`,className:"mobile-nav-link",onClick:()=>s(!1),children:A.name},A.id)),e.jsx(X,{href:"/epaper",className:"mobile-nav-link",onClick:()=>s(!1),children:"-"}),e.jsx(X,{href:"/videos",className:"mobile-nav-link",onClick:()=>s(!1),children:""}),e.jsx(X,{href:"/audio-articles",className:"mobile-nav-link",onClick:()=>s(!1),children:""}),e.jsx(X,{href:"/advanced-search",className:"mobile-nav-link",onClick:()=>s(!1),children:" "}),f&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"border-t border-border/50 my-2"}),e.jsxs(X,{href:"/dashboard",className:"mobile-nav-link",onClick:()=>s(!1),children:[e.jsx(Gc,{size:16,className:"mr-2"}),""]}),e.jsxs(X,{href:"/saved-articles",className:"mobile-nav-link",onClick:()=>s(!1),children:[e.jsx(ai,{size:16,className:"mr-2"})," "]}),e.jsxs(X,{href:"/reading-history",className:"mobile-nav-link",onClick:()=>s(!1),children:[e.jsx(sn,{size:16,className:"mr-2"})," "]})]})]})})]})})]})},Rf=()=>{const[t,s]=h.useState([]),[r,n]=h.useState(""),{settings:a}=oy();h.useEffect(()=>{(async()=>{try{const{getCategories:o}=await le(async()=>{const{getCategories:d}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getCategories:d}},[]),c=await o();s(c)}catch(o){console.error("Error fetching categories:",o)}})()},[]);const i=l=>{l.preventDefault(),alert(`   : ${r}`),n("")};return e.jsx("footer",{className:"bg-primary text-primary-foreground pt-10 pb-4",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-8",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-xl font-bold mb-4 text-primary-foreground",children:a.siteName}),e.jsx("p",{className:"text-primary-foreground/80 mb-4",children:"    ,      "}),e.jsxs("div",{className:"flex space-x-4 mb-4",children:[e.jsx("a",{href:"https://facebook.com",className:"text-primary-foreground hover:text-accent transition",target:"_blank",rel:"noopener noreferrer",children:e.jsx("i",{className:"fab fa-facebook-f"})}),e.jsx("a",{href:"https://twitter.com",className:"text-primary-foreground hover:text-accent transition",target:"_blank",rel:"noopener noreferrer",children:e.jsx("i",{className:"fab fa-twitter"})}),e.jsx("a",{href:"https://youtube.com",className:"text-primary-foreground hover:text-accent transition",target:"_blank",rel:"noopener noreferrer",children:e.jsx("i",{className:"fab fa-youtube"})}),e.jsx("a",{href:"https://instagram.com",className:"text-primary-foreground hover:text-accent transition",target:"_blank",rel:"noopener noreferrer",children:e.jsx("i",{className:"fab fa-instagram"})})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("a",{href:"https://play.google.com/store",className:"block px-3 py-2 bg-primary-foreground/10 hover:bg-accent rounded transition flex items-center space-x-2",target:"_blank",rel:"noopener noreferrer",children:[e.jsx("i",{className:"fab fa-android"}),e.jsx("span",{children:"Android App"})]}),e.jsxs("a",{href:"https://apps.apple.com",className:"block px-3 py-2 bg-primary-foreground/10 hover:bg-accent rounded transition flex items-center space-x-2",target:"_blank",rel:"noopener noreferrer",children:[e.jsx("i",{className:"fab fa-apple"}),e.jsx("span",{children:"iOS App"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold mb-4 text-primary-foreground",children:""}),e.jsx("ul",{className:"space-y-2",children:t.map(l=>e.jsx("li",{children:e.jsx(X,{href:`/category/${l.slug}`,className:"text-primary-foreground/80 hover:text-accent transition",children:l.name})},l.id))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold mb-4 text-primary-foreground",children:" "}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx(X,{href:"/about",className:"text-primary-foreground/80 hover:text-accent transition",children:""})}),e.jsx("li",{children:e.jsx(X,{href:"/editorial-policy",className:"text-primary-foreground/80 hover:text-accent transition",children:" "})}),e.jsx("li",{children:e.jsx(X,{href:"/contact",className:"text-primary-foreground/80 hover:text-accent transition",children:""})}),e.jsx("li",{children:e.jsx(X,{href:"/advertisement",className:"text-primary-foreground/80 hover:text-accent transition",children:""})}),e.jsx("li",{children:e.jsx(X,{href:"/archive",className:"text-primary-foreground/80 hover:text-accent transition",children:""})}),e.jsx("li",{children:e.jsx(X,{href:"/privacy-policy",className:"text-primary-foreground/80 hover:text-accent transition",children:" "})}),e.jsx("li",{children:e.jsx(X,{href:"/terms-of-service",className:"text-primary-foreground/80 hover:text-accent transition",children:" "})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold mb-4 text-primary-foreground",children:" "}),e.jsx("p",{className:"text-primary-foreground/80 mb-4",children:"       "}),e.jsxs("form",{onSubmit:i,children:[e.jsx("div",{className:"mb-4",children:e.jsx(J,{type:"email",placeholder:"  ",className:"w-full px-4 py-2 rounded bg-primary-foreground/10 border border-primary-foreground/20 focus:outline-none focus:ring-2 focus:ring-accent text-primary-foreground placeholder:text-primary-foreground/60",value:r,onChange:l=>n(l.target.value),required:!0})}),e.jsx(M,{type:"submit",className:"bg-accent hover:bg-opacity-90 transition text-white px-4 py-2 rounded w-full font-medium",children:""})]})]})]}),e.jsx("div",{className:"border-t border-gray-800 pt-4 text-center text-gray-400 text-sm",children:e.jsxs("p",{children:[" ",new Date().getFullYear()," ",a.siteName,"  "]})})]})})};function fV(){return e.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:e.jsx(k,{className:"w-full max-w-md mx-4",children:e.jsxs(E,{className:"pt-6 text-center",children:[e.jsx(Yt,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:""}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200 mb-4",children:"   "}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"           "}),e.jsx(X,{href:"/",children:e.jsx(M,{className:"w-full",children:"   "})})]})})})}var Mb;const Dl={siteName:typeof window<"u"&&((Mb=window.globalSiteSettings)==null?void 0:Mb.siteName)||"",image:"/og-default-image.svg",twitterHandle:"@prothomalo",author:""};function xV(t,s=160){if(t.length<=s)return t;const r=t.substring(0,s-3),n=r.lastIndexOf(" ");return n>0?r.substring(0,n)+"...":r+"..."}function pV(t){return t?t.startsWith("http://")||t.startsWith("https://")?t:t.startsWith("/")?`${window.location.origin}${t}`:`${window.location.origin}/${t}`:Dl.image}function gV(t){return t?t.startsWith("http://")||t.startsWith("https://")?t:`${window.location.origin}${t.startsWith("/")?"":"/"}${t}`:window.location.href}function xu(t){const{title:s,description:r,image:n,url:a,type:i="website",siteName:l=Dl.siteName,author:o=Dl.author,publishedTime:c,section:d,tags:u=[],twitterHandle:m=Dl.twitterHandle}=t,f=xV(r),x=pV(n),g=gV(a);return{title:`${s} | ${l}`,description:f,"og:title":s,"og:description":f,"og:image":x,"og:image:width":"1200","og:image:height":"630","og:image:alt":s,"og:url":g,"og:type":i,"og:site_name":l||"","og:locale":"bn_BD",...i==="article"&&{"article:author":o||"","article:section":d||"","article:published_time":c||"","article:tag":u.join(", ")},"twitter:card":"summary_large_image","twitter:title":s,"twitter:description":f,"twitter:image":x,"twitter:image:alt":s,"twitter:site":m||Dl.twitterHandle,"twitter:creator":m||Dl.twitterHandle,"instagram:title":s,"instagram:description":f,"instagram:image":x,canonical:g,"apple-mobile-web-app-title":l||"","application-name":l||"",robots:"index, follow",googlebot:"index, follow",language:"Bengali","geo.region":"BD","geo.country":"Bangladesh"}}function vV(t){var s,r;return xu({title:t.title,description:t.excerpt,image:t.image_url,url:`/article/${encodeURIComponent(t.slug)}`,type:"article",author:t.author,publishedTime:t.published_at,section:(s=t.category)==null?void 0:s.name,tags:(r=t.category)!=null&&r.name?[t.category.name]:[]})}function yV(t){return xu({title:t.name,description:t.description||`${t.name}   `,url:`/category/${t.slug}`,section:t.name})}function jV(){return xu({title:"Bengali News",description:"     , , , , ,     ",url:"/"})}function wV(t){const s=t?`"${t}"  `:"",r=t?`"${t}"   `:"  - ,      ";return xu({title:s,description:r,url:t?`/search?q=${encodeURIComponent(t)}`:"/search"})}function pu(t){const s=[],r=[];return Object.entries(t).forEach(([n,a])=>{if(n!=="title"){if(n==="canonical"){r.push({rel:"canonical",href:a});return}n.startsWith("og:")||n.startsWith("article:")||n.startsWith("instagram:")?s.push({property:n,content:a}):s.push({name:n,content:a})}}),{metaElements:s,linkElements:r}}const bV=()=>{const[t,s]=h.useState([]),[r,n]=h.useState(!0),[a,i]=h.useState(null);return h.useEffect(()=>{(async()=>{try{n(!0);const{getBreakingNews:o}=await le(async()=>{const{getBreakingNews:d}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getBreakingNews:d}},[]),c=await o();s(c),i(null)}catch(o){i("     "),console.error("Error fetching breaking news:",o)}finally{n(!1)}})()},[]),r?e.jsx("div",{className:"breaking-news-container mb-6",children:e.jsx("div",{className:"breaking-news-wrapper bg-gradient-to-r from-red-500/10 via-orange-500/10 to-red-500/10 dark:from-red-500/20 dark:via-orange-500/20 dark:to-red-500/20 border-l-4 border-red-500 rounded-lg shadow-md overflow-hidden",children:e.jsxs("div",{className:"flex items-center min-h-[64px]",children:[e.jsxs("div",{className:"breaking-label flex-shrink-0 bg-red-500 text-white px-4 py-3 flex items-center space-x-2 font-bold text-sm tracking-wide uppercase",children:[e.jsx(Yt,{className:"w-4 h-4 animate-pulse"}),e.jsx("span",{children:""})]}),e.jsx("div",{className:"content-area flex-1 px-4",children:e.jsx("div",{className:"text-foreground font-semibold animate-pulse",children:" ..."})})]})})}):a||t.length===0?e.jsx("div",{className:"breaking-news-container mb-6",children:e.jsx("div",{className:"breaking-news-wrapper bg-muted/30 border-l-4 border-muted rounded-lg shadow-sm overflow-hidden",children:e.jsxs("div",{className:"flex items-center min-h-[64px]",children:[e.jsxs("div",{className:"breaking-label flex-shrink-0 bg-muted text-muted-foreground px-4 py-3 flex items-center space-x-2 font-bold text-sm tracking-wide uppercase",children:[e.jsx(Yt,{className:"w-4 h-4"}),e.jsx("span",{children:""})]}),e.jsx("div",{className:"content-area flex-1 px-4",children:e.jsx("div",{className:"text-muted-foreground font-medium",children:a||"     "})})]})})}):e.jsx("div",{className:"breaking-news-container mb-6",children:e.jsx("div",{className:"breaking-news-wrapper bg-gradient-to-r from-red-500/10 via-orange-500/10 to-red-500/10 dark:from-red-500/20 dark:via-orange-500/20 dark:to-red-500/20 border-l-4 border-red-500 rounded-lg shadow-md hover:shadow-lg transition-all duration-300 overflow-hidden",children:e.jsxs("div",{className:"flex items-center min-h-[64px]",children:[e.jsxs("div",{className:"breaking-label flex-shrink-0 bg-red-500 text-white px-4 py-3 flex items-center space-x-2 font-bold text-sm tracking-wide uppercase shadow-lg",children:[e.jsx(Yt,{className:"w-4 h-4 animate-pulse"}),e.jsx("span",{children:""}),e.jsx("div",{className:"w-1 h-1 bg-white rounded-full animate-pulse ml-1"})]}),e.jsx("div",{className:"ticker-wrapper flex-1 overflow-hidden bg-gradient-to-r from-transparent via-white/5 to-transparent dark:via-white/10",children:e.jsx("div",{className:"ticker-content",children:e.jsx("div",{className:"ticker-marquee animate-marquee-smooth font-semibold text-foreground text-base lg:text-lg leading-relaxed py-3 px-4",children:t.map((l,o)=>e.jsxs("span",{className:"ticker-item",children:[l.content,o<t.length-1&&e.jsx("span",{className:"separator mx-8 text-red-500 font-bold",children:""})]},l.id))})})}),e.jsx("div",{className:"live-indicator flex-shrink-0 px-3",children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"LIVE"})]})})]})})})},NV=()=>{const[t,s]=h.useState([]),[r,n]=h.useState([]),[a,i]=h.useState(0),[l,o]=h.useState(!0),[c,d]=h.useState(null);h.useEffect(()=>{(async()=>{try{o(!0);const{getArticles:f,getLatestArticles:x}=await le(async()=>{const{getArticles:p,getLatestArticles:j}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getArticles:p,getLatestArticles:j}},[]),g=await f({featured:!0,limit:3});s(g);const v=await x(5);n(v.filter(p=>!g.some(j=>j.id===p.id)).slice(0,2)),d(null)}catch(f){d("    "),console.error("Error fetching articles:",f)}finally{o(!1)}})()},[]),h.useEffect(()=>{if(t.length===0)return;const m=setInterval(()=>{i(f=>(f+1)%t.length)},5e3);return()=>clearInterval(m)},[t]);const u=h.useCallback(m=>{i(m)},[]);return l?e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[e.jsx("div",{className:"lg:col-span-2 h-96 bg-card border border-border rounded shadow-sm animate-pulse"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-48 bg-card border border-border rounded shadow-sm animate-pulse"}),e.jsx("div",{className:"h-48 bg-card border border-border rounded shadow-sm animate-pulse"})]})]}):c||t.length===0&&r.length===0?e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[e.jsx("div",{className:"lg:col-span-2 p-4 bg-card border border-border rounded shadow-sm",children:e.jsx("p",{className:"text-center py-12 text-muted-foreground",children:c||"   "})}),e.jsx("div",{className:"p-4 bg-card border border-border rounded shadow-sm",children:e.jsx("p",{className:"text-center py-12 text-muted-foreground",children:"    "})})]}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"slideshow-container bg-card border border-border rounded shadow-sm overflow-hidden",children:[t.map((m,f)=>e.jsxs("div",{className:`slide fade relative ${f===a?"":"hidden"}`,children:[e.jsx("img",{src:m.imageUrl,alt:m.title,className:"w-full aspect-[16/9] object-cover"}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-4 text-white",children:[m.category&&e.jsx(X,{href:`/category/${m.category.slug}`,className:"bg-accent text-white text-xs px-2 py-1 rounded inline-block",children:m.category.name}),e.jsx("h2",{className:"headline text-white mt-2 mb-2",children:e.jsx(X,{href:`/article/${m.slug}`,className:"text-white hover:text-gray-200 transition",children:m.title})}),e.jsx("p",{className:"article-excerpt text-sm md:text-base opacity-90 line-clamp-2 text-white",children:m.excerpt}),e.jsxs("div",{className:"flex items-center mt-2 text-sm",children:[e.jsx("span",{children:m.publishedAt?us(m.publishedAt):" "}),e.jsx("span",{className:"mx-2",children:""}),e.jsx(X,{href:`/article/${m.slug}`,className:"text-accent hover:underline",children:" "})]})]})]},m.id)),e.jsx("div",{className:"text-center mt-2",children:t.map((m,f)=>e.jsx("span",{className:`dot inline-block w-2 h-2 rounded-full mx-1 cursor-pointer ${f===a?"bg-accent":"bg-mid-gray"}`,onClick:()=>u(f)},f))})]})}),e.jsx("div",{className:"space-y-4",children:r.map(m=>e.jsxs("div",{className:"bg-card dark:bg-card rounded shadow-sm overflow-hidden hover:shadow-md transition",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:m.imageUrl,alt:m.title,className:"w-full h-44 object-cover"}),m.category&&e.jsx(X,{href:`/category/${m.category.slug}`,className:"absolute top-2 left-2 bg-accent text-white text-xs px-2 py-1 rounded",children:m.category.name})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"news-title mb-1 line-clamp-2",children:e.jsx(X,{href:`/article/${m.slug}`,className:"hover:text-accent transition",children:m.title})}),e.jsx("p",{className:"article-excerpt text-sm line-clamp-2",children:m.excerpt}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:m.publishedAt?us(m.publishedAt):" "})]})]},m.id))})]})},_V=()=>{const[t,s]=h.useState(null),[r,n]=h.useState([]),[a,i]=h.useState(!0),[l,o]=h.useState(null),[c,d]=h.useState(""),[u,m]=h.useState("pending"),[f,x]=h.useState(!1),g=j=>{if(Array.isArray(j))return j;try{return JSON.parse(j)||[]}catch(w){return console.error("Error parsing forecast data:",w),[]}},v=async()=>{x(!0);try{console.log("[Weather] Getting location via IP address...");const{getWeatherByCity:j}=await le(async()=>{const{getWeatherByCity:y}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getWeatherByCity:y}},[]),w=await j("");if(w)s({...w,id:w.id||Date.now(),updatedAt:w.updated_at||new Date().toISOString()}),m("granted"),console.log(`[Weather] Successfully fetched weather for ${w.city}`);else throw new Error("No weather data received")}catch(j){console.error("Error fetching IP-based weather:",j),m("denied"),await p()}finally{x(!1)}},p=async()=>{try{const{getWeatherByCity:j}=await le(async()=>{const{getWeatherByCity:y}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getWeatherByCity:y}},[]),w=await j("");if(w){const y={id:w.id,city:w.city,temperature:w.temperature,condition:w.condition||"N/A",icon:w.icon||"fas fa-sun",forecast:w.forecast||"[]",updatedAt:w.updated_at||""};s(y)}}catch(j){console.error("Error fetching default weather:",j),o("     ")}};return h.useEffect(()=>{const j=new Date,w={weekday:"long",year:"numeric",month:"long",day:"numeric"};d(j.toLocaleDateString("bn-BD",w)),(async()=>{try{i(!0),await v();const{getWeather:_}=await le(async()=>{const{getWeather:T}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getWeather:T}},[]),N=(await _()).map(T=>({...T,forecast:g(T.forecast)}));n(N),o(null)}catch(_){o("     "),console.error("Error fetching weather data:",_)}finally{i(!1)}})()},[]),a?e.jsxs("div",{className:"bg-card dark:bg-card rounded shadow-sm p-4 h-full",children:[e.jsx("h3",{className:"text-lg font-bold mb-4 font-hind border-b border-border pb-2",children:""}),e.jsxs("div",{className:"animate-pulse flex flex-col space-y-4",children:[e.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded"}),e.jsx("div",{className:"h-20 bg-gray-200 dark:bg-gray-700 rounded"}),e.jsx("div",{className:"h-32 bg-gray-200 dark:bg-gray-700 rounded"})]})]}):l||!t?e.jsxs("div",{className:"bg-card dark:bg-card rounded shadow-sm p-4",children:[e.jsx("h3",{className:"text-lg font-bold mb-4 font-hind border-b border-border pb-2",children:""}),e.jsx("p",{className:"text-center py-8",children:l||"   "})]}):e.jsxs("div",{className:"bg-card dark:bg-card rounded shadow-sm p-4 h-full",children:[e.jsx("h3",{className:"text-lg font-bold mb-4 font-hind border-b border-border pb-2",children:""}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[t.isUserLocation?e.jsx(tw,{className:"w-4 h-4 text-blue-500"}):e.jsx(Ro,{className:"w-4 h-4 text-gray-500"}),e.jsx("h4",{className:"font-bold text-xl",children:t.city})]}),u==="denied"&&e.jsxs(M,{variant:"outline",size:"sm",onClick:v,disabled:f,className:"text-xs",children:[f?e.jsx(an,{className:"w-3 h-3 animate-spin"}):e.jsx(tw,{className:"w-3 h-3"}),e.jsx("span",{className:"ml-1",children:""})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"flex items-center justify-end",children:[e.jsxs("span",{className:"text-3xl font-bold mr-2",children:[Lx(t.temperature),""]}),e.jsx("i",{className:`${t.icon} text-yellow-500 text-3xl`})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.condition})]})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:c}),e.jsx("div",{className:"grid grid-cols-3 gap-2 text-center bg-gray-50 dark:bg-gray-800 rounded p-3",children:g(t.forecast||[]).slice(0,3).map((j,w)=>e.jsxs("div",{className:"forecast-day",children:[e.jsx("div",{className:"text-xs font-medium mb-1",children:j.day}),e.jsx("i",{className:`${j.icon} ${j.icon.includes("sun")?"text-yellow-500":"text-gray-500 dark:text-gray-400"} text-lg mb-1`}),e.jsxs("div",{className:"text-sm font-bold",children:[Lx(j.temperature),""]})]},w))})]}),e.jsxs("div",{className:"border-t border-border pt-4",children:[e.jsxs("h5",{className:"font-bold mb-3 flex items-center",children:[e.jsx(Ro,{className:"w-4 h-4 mr-2"})," "]}),e.jsx("div",{className:"grid grid-cols-2 gap-3 text-sm",children:r.filter(j=>j.city!==t.city).slice(0,6).map(j=>e.jsxs("div",{className:"flex justify-between items-center bg-gray-50 dark:bg-gray-800 rounded p-2",children:[e.jsx("span",{className:"font-medium",children:j.city}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsxs("span",{className:"font-bold",children:[Lx(j.temperature),""]}),e.jsx("i",{className:`${j.icon} text-sm ${j.icon.includes("sun")?"text-yellow-500":"text-gray-500"}`})]})]},j.id))})]}),u==="pending"&&f&&e.jsx("div",{className:"mt-3 text-center",children:e.jsxs("div",{className:"flex items-center justify-center text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(an,{className:"w-4 h-4 animate-spin mr-2"})," ..."]})}),u==="unavailable"&&e.jsx("div",{className:"mt-3 text-center text-sm text-gray-500",children:"   "})]})},SV=()=>{const[t,s]=h.useState([]),[r,n]=h.useState(!0),[a,i]=h.useState(null);return h.useEffect(()=>{(async()=>{try{n(!0);const{getLatestArticles:o}=await le(async()=>{const{getLatestArticles:u}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getLatestArticles:u}},[]),d=(await o(4)).map(u=>({id:u.id,title:u.title,slug:u.slug,excerpt:u.excerpt,imageUrl:u.image_url||u.imageUrl,publishedAt:u.published_at||u.publishedAt,category:u.categories||u.category||{id:0,name:"",slug:"general"}}));s(d),i(null)}catch(o){i("     "),console.error("Error fetching latest news:",o)}finally{n(!1)}})()},[]),r?e.jsxs("div",{className:"lg:col-span-2 bg-card border border-border rounded shadow-sm p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4 border-b border-border pb-2",children:" "}),e.jsx("div",{className:"space-y-4",children:[...Array(4)].map((l,o)=>e.jsxs("div",{className:"flex gap-3 animate-pulse",children:[e.jsx("div",{className:"flex-shrink-0 w-20 h-20 bg-muted rounded"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 bg-muted rounded w-1/4"}),e.jsx("div",{className:"h-6 bg-muted rounded"}),e.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),e.jsx("div",{className:"h-3 bg-muted rounded w-1/5"})]})]},o))})]}):a||t.length===0?e.jsxs("div",{className:"lg:col-span-2 bg-card border border-border rounded shadow-sm p-4 min-h-[300px]",children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4 border-b border-border pb-2",children:" "}),e.jsx("div",{className:"flex items-center justify-center py-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-muted rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-8 h-8 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("p",{className:"text-muted-foreground",children:a||"      "}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"      "})]})})]}):e.jsxs("div",{className:"lg:col-span-2 bg-card border border-border rounded shadow-sm p-4 h-full",children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4 border-b border-border pb-2",children:" "}),e.jsx("div",{className:"space-y-4",children:t.map(l=>e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(X,{href:`/article/${l.slug}`,className:"block",children:e.jsx("img",{src:l.imageUrl,alt:l.title,className:"w-20 h-20 object-cover rounded"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(X,{href:`/category/${l.category.slug}`,className:"text-xs font-medium text-accent hover:text-accent/80 transition-colors",children:l.category.name}),e.jsx("h4",{className:"text-base font-semibold text-foreground mb-1 leading-tight",children:e.jsx(X,{href:`/article/${l.slug}`,className:"hover:text-primary transition-colors",children:l.title})}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-2",children:l.excerpt}),e.jsx("div",{className:"text-xs text-muted-foreground",children:l.publishedAt?us(l.publishedAt):" "})]})]},l.id))}),e.jsx("div",{className:"mt-4 text-center",children:e.jsxs(X,{href:"/latest",className:"text-accent hover:text-accent/80 font-medium transition-colors",children:["  ",e.jsx("i",{className:"fas fa-angle-right ml-1"})]})})]})};class kV extends h.Component{constructor(s){super(s),this.state={hasError:!1}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,r){console.error("ErrorBoundary caught an error:",s,r)}render(){return this.state.hasError?this.props.fallback||e.jsx("div",{className:"min-h-[200px] flex items-center justify-center bg-card border border-border rounded p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-destructive mb-2",children:"   "}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"         "}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90 transition-colors",children:"  "})]})}):this.props.children}}class CV{constructor(){this.cache=new Map,this.defaultTTL=5*60*1e3}set(s,r,n){const a=Date.now(),i=a+(n||this.defaultTTL);this.cache.set(s,{data:r,timestamp:a,expiry:i})}get(s){const r=this.cache.get(s);return r?Date.now()>r.expiry?(this.cache.delete(s),null):r.data:null}has(s){const r=this.cache.get(s);return r?Date.now()>r.expiry?(this.cache.delete(s),!1):!0:!1}clear(){this.cache.clear()}cleanup(){const s=Date.now();for(const[r,n]of this.cache.entries())s>n.expiry&&this.cache.delete(r)}size(){return this.cleanup(),this.cache.size}}const jm=new CV;setInterval(()=>{jm.cleanup(),console.log(`[Cache] Cleaned up. Current size: ${jm.size()}`)},10*60*1e3);class EV{constructor(){this.metrics=[],this.maxMetrics=1e3}startOperation(s,r){const n=`${s}-${Date.now()}-${Math.random()}`;return this.metrics.push({operation:n,startTime:performance.now(),success:!1,metadata:r}),n}endOperation(s,r=!0,n){const a=this.metrics.find(i=>i.operation===s);a&&(a.endTime=performance.now(),a.duration=a.endTime-a.startTime,a.success=r,a.error=n,a.duration>2e3&&console.warn(`[Performance] Slow operation: ${s} took ${a.duration.toFixed(2)}ms`),!r&&n&&console.error(`[Performance] Operation failed: ${s} - ${n}`)),this.metrics.length>this.maxMetrics&&(this.metrics=this.metrics.slice(-this.maxMetrics))}getMetrics(s){const r=this.metrics.filter(n=>n.endTime!==void 0);return s?r.filter(n=>n.operation.includes(s)):r}getAverageTime(s){const r=this.getMetrics(s).filter(a=>a.success);return r.length===0?0:r.reduce((a,i)=>a+(i.duration||0),0)/r.length}getErrorRate(s){const r=this.getMetrics(s);return r.length===0?0:r.filter(a=>!a.success).length/r.length*100}getPerformanceReport(){const s=this.getMetrics(),r=s.filter(l=>(l.duration||0)>2e3),n={};s.forEach(l=>{const o=l.operation.split("-")[0];n[o]||(n[o]={avg:0,errors:0,count:0}),n[o].count++,n[o].avg=(n[o].avg*(n[o].count-1)+(l.duration||0))/n[o].count,l.success||n[o].errors++});const a=s.reduce((l,o)=>l+(o.duration||0),0),i=s.filter(l=>!l.success).length;return{totalOperations:s.length,averageResponseTime:s.length>0?a/s.length:0,errorRate:s.length>0?i/s.length*100:0,slowOperations:r,operationStats:n}}logReport(){const s=this.getPerformanceReport();console.group(" Performance Report"),console.log(`Total Operations: ${s.totalOperations}`),console.log(`Average Response Time: ${s.averageResponseTime.toFixed(2)}ms`),console.log(`Error Rate: ${s.errorRate.toFixed(2)}%`),s.slowOperations.length>0&&(console.warn(`Slow Operations (${s.slowOperations.length}):`),s.slowOperations.forEach(r=>{var n;console.warn(`  - ${r.operation}: ${(n=r.duration)==null?void 0:n.toFixed(2)}ms`)})),console.log("Operation Statistics:"),Object.entries(s.operationStats).forEach(([r,n])=>{console.log(`  ${r}: ${n.avg.toFixed(2)}ms avg, ${n.errors} errors, ${n.count} total`)}),console.groupEnd()}clear(){this.metrics=[]}}const wh=new EV;function bb(t,s,r){const n=wh.startOperation(t,r);return s().then(a=>(wh.endOperation(n,!0),a)).catch(a=>{throw wh.endOperation(n,!1,a.message),a})}setInterval(()=>{wh.logReport()},5*60*1e3);const Nb=({categorySlug:t,limit:s=4})=>{const[r,n]=h.useState(null),[a,i]=h.useState([]),[l,o]=h.useState(!0),[c,d]=h.useState(null);if(h.useEffect(()=>{(async()=>{try{o(!0);const x=`category-${t}-${s}`,g=jm.get(x);if(g){console.log(`[Cache] Using cached data for ${t}`),n(g.category),i(g.articles),d(null),o(!1);return}const v=await bb(`fetch-category-${t}`,async()=>{const{getCategoryBySlug:y}=await le(async()=>{const{getCategoryBySlug:b}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getCategoryBySlug:b}},[]),_=await y(t);if(!_)throw new Error(`Category not found: ${t}`);return _},{categorySlug:t});n(v);let p=[],j=0;const w=2;for(;j<=w;){try{p=await bb(`fetch-articles-${t}`,async()=>{const{getArticles:y}=await le(async()=>{const{getArticles:b}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getArticles:b}},[]);return(await y({category:t,limit:s})).map(b=>({id:b.id,title:b.title,slug:b.slug,excerpt:b.excerpt,imageUrl:b.image_url||b.imageUrl,publishedAt:b.published_at||b.publishedAt,category:b.categories||b.category||{id:0,name:"",slug:"general"}}))},{categorySlug:t,limit:s,attempt:j+1});break}catch(y){if(console.warn(`Fetch attempt ${j+1} failed:`,y),j===w)throw y}j++,await new Promise(y=>setTimeout(y,500*j))}i(p),d(null),jm.set(x,{category:v,articles:p},12e4)}catch(x){const g=(x==null?void 0:x.message)||"     ";d(g),console.error("Error fetching category news:",{error:x,categorySlug:t,limit:s,message:x==null?void 0:x.message,status:x==null?void 0:x.status})}finally{o(!1)}})()},[t,s]),l)return e.jsxs("div",{className:"bg-card border border-border rounded shadow-sm p-4 h-full",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-border pb-2",children:[e.jsx(Qe,{className:"h-6 w-32"}),e.jsx(Qe,{className:"h-4 w-20"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(Qe,{className:"h-48 w-full"}),e.jsx(Qe,{className:"h-6 w-full"}),e.jsx(Qe,{className:"h-4 w-3/4"}),e.jsx("div",{className:"space-y-3",children:[...Array(3)].map((f,x)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Qe,{className:"flex-shrink-0 w-16 h-16"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx(Qe,{className:"h-4 w-full"}),e.jsx(Qe,{className:"h-3 w-1/4"})]})]},x))})]})]});if(c&&c.includes("Category not found"))return null;if(c||!r||a.length===0)return e.jsxs("div",{className:"bg-card border border-border rounded shadow-sm p-4 min-h-[200px]",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-border pb-2",children:[e.jsx("h3",{className:"text-lg font-bold text-foreground",children:(r==null?void 0:r.name)||""}),r&&e.jsxs(X,{href:`/category/${t}`,className:"text-accent text-sm hover:text-accent/80 transition-colors",children:[" ",e.jsx("i",{className:"fas fa-angle-right ml-1"})]})]}),e.jsx("p",{className:"text-center py-8 text-muted-foreground",children:c&&!c.includes("Category not found")?c:"     "})]});const u=a[0],m=a.slice(1);return e.jsx(kV,{children:e.jsxs("div",{className:"bg-card border border-border rounded shadow-sm p-4 h-full",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-border pb-2",children:[e.jsx("h3",{className:"text-lg font-bold text-foreground",children:r.name}),e.jsxs(X,{href:`/category/${r.slug}`,className:"text-accent text-sm hover:text-accent/80 transition-colors",children:[" ",e.jsx("i",{className:"fas fa-angle-right ml-1"})]})]}),e.jsxs("div",{className:"mb-4 article-card",children:[e.jsx("div",{className:"mb-2 article-image",children:e.jsx(X,{href:`/article/${u.slug}`,className:"block",children:e.jsx("img",{src:u.imageUrl,alt:u.title,className:"w-full h-48 object-cover rounded"})})}),e.jsx("h4",{className:"font-bold text-base mb-1 font-hind",children:e.jsx(X,{href:`/article/${u.slug}`,className:"hover:text-accent transition",children:u.title})}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2",children:u.excerpt}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 flex items-center",children:[e.jsx("span",{className:"article-category mr-2",children:r.name}),e.jsx("span",{children:us(u.publishedAt)})]})]}),e.jsx("div",{className:"space-y-3",children:m.map((f,x)=>e.jsxs("div",{className:`flex gap-2 article-card touch-feedback fade-in-delay-${x+1}`,children:[e.jsx("div",{className:"flex-shrink-0 article-image",children:e.jsx(X,{href:`/article/${f.slug}`,className:"block",children:e.jsx("img",{src:f.imageUrl,alt:f.title,className:"w-16 h-16 object-cover rounded"})})}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium mb-1 text-sm font-hind",children:e.jsx(X,{href:`/article/${f.slug}`,className:"hover:text-accent transition",children:f.title})}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center",children:[e.jsx("span",{className:"article-category mr-2",children:r.name}),e.jsx("span",{children:us(f.publishedAt)})]})]})]},f.id))})]})})},TV=()=>{const[t,s]=h.useState(null),[r,n]=h.useState([]),[a,i]=h.useState(!0),[l,o]=h.useState(null);return h.useEffect(()=>{(async()=>{try{i(!0);const{getLatestEPaper:d,getEPapers:u}=await le(async()=>{const{getLatestEPaper:x,getEPapers:g}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getLatestEPaper:x,getEPapers:g}},[]),m=await d();s(m);const f=await u();n(f.slice(0,5)),o(null)}catch(d){o("-    "),console.error("Error fetching e-papers:",d)}finally{i(!1)}})()},[]),a?e.jsxs("div",{className:"bg-card dark:bg-card rounded shadow-sm p-4 mb-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-border pb-2",children:[e.jsx("h3",{className:"text-lg font-bold font-hind",children:"-"}),e.jsx("div",{className:"w-24 h-4 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"})]}),e.jsxs("div",{className:"flex flex-wrap gap-6 animate-pulse",children:[e.jsxs("div",{className:"w-full md:w-auto",children:[e.jsx("div",{className:"h-80 w-48 bg-gray-200 dark:bg-gray-700 rounded mx-auto"}),e.jsx("div",{className:"mt-2 h-6 bg-gray-200 dark:bg-gray-700 rounded w-32 mx-auto"}),e.jsx("div",{className:"mt-1 h-4 bg-gray-200 dark:bg-gray-700 rounded w-24 mx-auto"})]}),e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded w-32 mx-auto"}),e.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:[...Array(5)].map((c,d)=>e.jsx("div",{className:"w-24 h-10 bg-gray-200 dark:bg-gray-700 rounded"},d))}),e.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded w-48 mx-auto mt-4"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[...Array(4)].map((c,d)=>e.jsx("div",{className:"h-32 bg-gray-200 dark:bg-gray-700 rounded"},d))})]})]})]}):l||!t?e.jsxs("div",{className:"bg-card dark:bg-card rounded shadow-sm p-4 mb-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-border pb-2",children:[e.jsx("h3",{className:"text-lg font-bold font-hind",children:"-"}),e.jsxs(X,{href:"/epaper",className:"text-accent text-sm hover:underline",children:["  ",e.jsx("i",{className:"fas fa-angle-right ml-1"})]})]}),e.jsx("p",{className:"text-center py-12",children:l||" -  "})]}):e.jsxs("div",{className:"bg-card dark:bg-card rounded shadow-sm p-4 mb-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-border pb-2",children:[e.jsx("h3",{className:"text-lg font-bold font-hind",children:"-"}),e.jsxs(X,{href:"/epaper",className:"text-accent text-sm hover:underline",children:["  ",e.jsx("i",{className:"fas fa-angle-right ml-1"})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-6",children:[e.jsx("div",{className:"w-full md:w-auto",children:e.jsx("div",{className:"text-center",children:e.jsxs("a",{href:t.pdfUrl,target:"_blank",rel:"noopener noreferrer",className:"block hover:opacity-80 transition",children:[e.jsx("img",{src:t.imageUrl,alt:" -",className:"mx-auto shadow-md border border-border h-80 object-cover"}),e.jsx("div",{className:"mt-2 font-medium",children:t.title}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:ea(t.publishDate)})]})})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("h4",{className:"font-bold mb-2 font-hind",children:""}),e.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:r.filter(c=>c.id!==t.id).map(c=>e.jsxs("a",{href:c.pdfUrl,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-2 border border-border rounded hover:bg-muted dark:hover:bg-muted transition text-sm",children:[ea(c.publishDate).split(" ")[0]," ",ea(c.publishDate).split(" ")[1]]},c.id))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-3 font-hind",children:" "}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[e.jsx("div",{className:"text-center",children:e.jsx("a",{href:"#",className:"block",children:e.jsxs("div",{className:"border border-border rounded p-2 hover:bg-muted dark:hover:bg-muted transition",children:[e.jsx("img",{src:"https://images.unsplash.com/photo-1495020689067-958852a7765e?ixlib=rb-4.0.3&auto=format&fit=crop&w=120&q=80",alt:"",className:"w-full h-24 object-cover mb-2 rounded"}),e.jsx("div",{className:"text-sm font-medium",children:""})]})})}),e.jsx("div",{className:"text-center",children:e.jsx("a",{href:"#",className:"block",children:e.jsxs("div",{className:"border border-border rounded p-2 hover:bg-muted dark:hover:bg-muted transition",children:[e.jsx("img",{src:"https://images.unsplash.com/photo-1521747116042-5a810fda9664?ixlib=rb-4.0.3&auto=format&fit=crop&w=120&q=80",alt:"",className:"w-full h-24 object-cover mb-2 rounded"}),e.jsx("div",{className:"text-sm font-medium",children:""})]})})}),e.jsx("div",{className:"text-center",children:e.jsx("a",{href:"#",className:"block",children:e.jsxs("div",{className:"border border-border rounded p-2 hover:bg-muted dark:hover:bg-muted transition",children:[e.jsx("img",{src:"https://images.unsplash.com/photo-1576678927484-cc907957088c?ixlib=rb-4.0.3&auto=format&fit=crop&w=120&q=80",alt:"",className:"w-full h-24 object-cover mb-2 rounded"}),e.jsx("div",{className:"text-sm font-medium",children:""})]})})}),e.jsx("div",{className:"text-center",children:e.jsx("a",{href:"#",className:"block",children:e.jsxs("div",{className:"border border-border rounded p-2 hover:bg-muted dark:hover:bg-muted transition",children:[e.jsx("img",{src:"https://images.unsplash.com/photo-1605019114092-d707f9bc2f35?ixlib=rb-4.0.3&auto=format&fit=crop&w=120&q=80",alt:"",className:"w-full h-24 object-cover mb-2 rounded"}),e.jsx("div",{className:"text-sm font-medium",children:""})]})})})]})]})]})]})]})},PV=()=>{const[t,s]=h.useState([]),[r,n]=h.useState("daily"),[a,i]=h.useState(!0),[l,o]=h.useState(null);h.useEffect(()=>{const d=async()=>{try{i(!0);const{getPopularArticles:m}=await le(async()=>{const{getPopularArticles:g}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getPopularArticles:g}},[]),f=await m(6);console.log(`[PopularNews] Fetched ${f.length} popular articles for ${r}`);const x=f.map(g=>({id:g.id,title:g.title,slug:g.slug,excerpt:g.excerpt,publishedAt:g.published_at||g.publishedAt,category:g.categories||g.category||{id:0,name:"",slug:"general"},viewCount:g.view_count||g.viewCount||0}));s(x),o(null)}catch(m){o("     "),console.error("Error fetching popular articles:",m)}finally{i(!1)}};d();const u=setInterval(d,3e4);return()=>clearInterval(u)},[r]);const c=d=>{n(d)};return a?e.jsxs("div",{className:"bg-card border border-border rounded shadow-sm p-4 mb-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-border pb-2",children:[e.jsx("h3",{className:"text-lg font-bold text-foreground",children:" "}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"w-12 h-8 bg-muted rounded animate-pulse"}),e.jsx("div",{className:"w-20 h-8 bg-muted rounded animate-pulse"}),e.jsx("div",{className:"w-16 h-8 bg-muted rounded animate-pulse"})]})]}),e.jsx("div",{className:"space-y-4",children:[...Array(5)].map((d,u)=>e.jsxs("div",{className:"flex gap-4 animate-pulse",children:[e.jsx("div",{className:"flex-shrink-0 w-6 h-8 bg-muted rounded"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-6 bg-muted rounded"}),e.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),e.jsx("div",{className:"h-3 bg-muted rounded w-1/4"})]})]},u))})]}):l||t.length===0?e.jsxs("div",{className:"bg-card border border-border rounded shadow-sm p-4 mb-8 min-h-[300px]",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-border pb-2",children:[e.jsx("h3",{className:"text-lg font-bold text-foreground",children:" "}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:`${r==="daily"?"bg-accent text-accent-foreground":"text-foreground hover:bg-muted"} px-3 py-1 rounded text-sm font-medium transition`,onClick:()=>c("daily"),children:""}),e.jsx("button",{className:`${r==="weekly"?"bg-accent text-accent-foreground":"text-foreground hover:bg-muted"} px-3 py-1 rounded text-sm font-medium transition`,onClick:()=>c("weekly"),children:""}),e.jsx("button",{className:`${r==="monthly"?"bg-accent text-accent-foreground":"text-foreground hover:bg-muted"} px-3 py-1 rounded text-sm font-medium transition`,onClick:()=>c("monthly"),children:""})]})]}),e.jsx("div",{className:"flex items-center justify-center py-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-muted rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-8 h-8 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})})}),e.jsx("p",{className:"text-muted-foreground",children:l||"      "}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"       "})]})})]}):e.jsxs("div",{className:"bg-card border border-border rounded shadow-sm p-4 mb-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-border pb-2",children:[e.jsx("h3",{className:"text-lg font-bold text-foreground",children:" "}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:`${r==="daily"?"bg-accent text-accent-foreground":"text-foreground hover:bg-muted"} px-3 py-1 rounded text-sm font-medium transition`,onClick:()=>c("daily"),children:""}),e.jsx("button",{className:`${r==="weekly"?"bg-accent text-white":"hover:bg-muted dark:hover:bg-muted"} px-3 py-1 rounded text-sm font-medium transition`,onClick:()=>c("weekly"),children:""}),e.jsx("button",{className:`${r==="monthly"?"bg-accent text-white":"hover:bg-muted dark:hover:bg-muted"} px-3 py-1 rounded text-sm font-medium transition`,onClick:()=>c("monthly"),children:""})]})]}),e.jsx("div",{className:"space-y-4",children:t.map((d,u)=>e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex-shrink-0 font-bold text-2xl text-accent w-6",children:u+1}),e.jsxs("div",{children:[e.jsx("h4",{className:"news-title mb-1",children:e.jsx(X,{href:`/article/${d.slug}`,className:"hover:text-accent transition",children:d.title})}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:d.excerpt}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground mt-1",children:[e.jsx("span",{children:us(d.publishedAt)}),e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:[e.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),e.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}),d.viewCount||0,"   "]})]})]})]},d.id))})]})},AV=()=>{const[t,s]=h.useState([]),[r,n]=h.useState(!0),[a,i]=h.useState(null),{user:l}=tt(),[o,c]=h.useState([]);h.useEffect(()=>{(async()=>{try{if(n(!0),!l){const{getPopularArticles:v}=await le(async()=>{const{getPopularArticles:j}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getPopularArticles:j}},[]),p=await v(6);s(p);return}const{data:{session:x}}=await Tt.auth.getSession();if(!x){const{getPopularArticles:v}=await le(async()=>{const{getPopularArticles:j}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getPopularArticles:j}},[]),p=await v(6);s(p);return}const g=x.access_token;try{const{getPersonalizedRecommendations:v}=await le(async()=>{const{getPersonalizedRecommendations:j}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getPersonalizedRecommendations:j}},[]),p=await v(l.id,6);s(p)}catch{console.warn("Personalized recommendations failed, using popular articles");const{getPopularArticles:p}=await le(async()=>{const{getPopularArticles:w}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getPopularArticles:w}},[]),j=await p(6);s(j)}try{const{getUserReadingHistory:v}=await le(async()=>{const{getUserReadingHistory:j}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getUserReadingHistory:j}},[]),p=await v(l.id);c(p.map(j=>j.slug))}catch(v){console.warn("Failed to fetch reading history:",v)}i(null)}catch(x){console.error("Error fetching personalized recommendations:",x),i(x.message||"     ");try{const{getPopularArticles:g}=await le(async()=>{const{getPopularArticles:p}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getPopularArticles:p}},[]),v=await g(6);s(v)}catch(g){console.error("Error fetching fallback articles:",g)}}finally{n(!1)}})()},[l]);const d=f=>us(f),u=f=>{l&&Tt.auth.getSession().then(({data:{session:x}})=>{if(!x)return;const g=x.access_token;fetch(`/api/reading-history/${f.slug}`,{method:"POST",headers:{Authorization:`Bearer ${g}`,"Content-Type":"application/json"}}).catch(v=>{console.error("Error adding to reading history:",v)})})},m=l?t.filter(f=>!o.includes(f.slug)):t;return r?e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx(oe,{className:"h-8 w-8 animate-spin text-primary"})}):a&&t.length===0?e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-md mb-6",children:a}):m.length===0?null:e.jsx("div",{className:"py-8",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsx("h2",{className:"text-2xl font-bold font-hind",children:l?"  ":" "})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(f=>e.jsxs(k,{className:"overflow-hidden flex flex-col h-full hover:shadow-lg transition-shadow",children:[e.jsx(X,{href:`/article/${f.slug}`,onClick:()=>u(f),children:e.jsx("div",{className:"h-48 overflow-hidden",children:e.jsx("img",{src:f.imageUrl,alt:f.title,className:"w-full h-full object-cover transition-transform hover:scale-105"})})}),e.jsxs(I,{className:"pb-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(X,{href:`/category/${f.category.slug}`,className:"text-sm font-medium text-accent hover:underline",children:f.category.name}),e.jsx("time",{className:"text-xs text-muted-foreground",children:d(f.publishedAt)})]}),e.jsx(L,{className:"text-lg leading-tight line-clamp-2",children:e.jsx(X,{href:`/article/${f.slug}`,onClick:()=>u(f),className:"hover:text-accent transition-colors",children:f.title})})]}),e.jsx(E,{className:"flex-grow pb-2",children:e.jsx("p",{className:"text-muted-foreground text-sm line-clamp-3",children:f.excerpt})}),e.jsx(tl,{className:"pt-0",children:e.jsx(X,{href:`/article/${f.slug}`,onClick:()=>u(f),className:"text-sm text-accent hover:underline",children:" "})})]},f.id))})]})})},RV=()=>{const[t,s]=h.useState("facebook"),[r,n]=h.useState([]),[a,i]=h.useState(!0),[l,o]=h.useState(null);h.useEffect(()=>{(async()=>{try{i(!0);const{getSocialMediaPosts:u}=await le(async()=>{const{getSocialMediaPosts:x}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getSocialMediaPosts:x}},[]),f=(await u()).filter(x=>x.platform===t);if(n(f),o(null),t==="twitter"){const x=document.createElement("script");return x.src="https://platform.twitter.com/widgets.js",x.async=!0,document.body.appendChild(x),()=>{document.body.removeChild(x)}}else if(t==="instagram"){const x=document.createElement("script");return x.src="//www.instagram.com/embed.js",x.async=!0,document.body.appendChild(x),()=>{document.body.removeChild(x)}}}catch(u){o("      "),console.error("Error fetching social media posts:",u)}finally{i(!1)}})()},[t]);const c=()=>a?e.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(2)].map((d,u)=>e.jsx("div",{className:"bg-gray-200 dark:bg-gray-700 h-64 rounded"},u))}):l||r.length===0?e.jsx("div",{className:"text-center py-8",children:l||`${t}     `}):e.jsx("div",{className:"space-y-6",children:r.map(d=>e.jsx("div",{className:"border border-border rounded overflow-hidden",children:e.jsx("div",{className:"embedded-social-post",dangerouslySetInnerHTML:{__html:d.embed_code}})},d.id))});return e.jsxs("div",{className:"bg-card dark:bg-card rounded shadow-sm p-4",children:[e.jsx("h3",{className:"text-lg font-bold mb-4 font-hind border-b border-border pb-2",children:" "}),e.jsxs("div",{className:"flex border border-border rounded mb-6 overflow-hidden",children:[e.jsxs("button",{className:`flex-1 py-2 text-center text-sm ${t==="facebook"?"bg-accent text-white":"bg-card hover:bg-muted"}`,onClick:()=>s("facebook"),children:[e.jsx("i",{className:"fab fa-facebook-f mr-2"}),""]}),e.jsxs("button",{className:`flex-1 py-2 text-center text-sm ${t==="twitter"?"bg-accent text-white":"bg-card hover:bg-muted"}`,onClick:()=>s("twitter"),children:[e.jsx("i",{className:"fab fa-twitter mr-2"}),""]}),e.jsxs("button",{className:`flex-1 py-2 text-center text-sm ${t==="instagram"?"bg-accent text-white":"bg-card hover:bg-muted"}`,onClick:()=>s("instagram"),children:[e.jsx("i",{className:"fab fa-instagram mr-2"}),""]})]}),c(),e.jsx("div",{className:"text-center mt-6",children:e.jsxs("a",{href:`https://${t}.com/prothomalo`,target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-accent hover:bg-accent/90 text-white px-4 py-2 rounded text-sm transition",children:[t==="facebook"&&"  ",t==="twitter"&&"  ",t==="instagram"&&"  "]})})]})},OV=()=>{const[t,s]=h.useState([]),[r,n]=h.useState(null),[a,i]=h.useState(!0),[l,o]=h.useState(null);h.useEffect(()=>{(async()=>{try{i(!0);const{getVideoContent:u}=await le(async()=>{const{getVideoContent:f}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getVideoContent:f}},[]),m=await u();if(m&&m.length>0){const f=m.map(x=>({id:x.id,title:x.title,slug:x.slug,description:x.description||"",thumbnail_url:x.thumbnail_url||"https://img.youtube.com/vi/dQw4w9WgXcQ/hqdefault.jpg",video_url:x.video_url,duration:x.duration||"0:00",published_at:x.published_at,view_count:x.view_count||0}));n(f[0]),s(f.slice(1))}o(null)}catch(u){o("    "),console.error("Error fetching videos:",u)}finally{i(!1)}})()},[]);const c=d=>d>=1e6?`${(d/1e6).toFixed(1)}M`:d>=1e3?`${(d/1e3).toFixed(1)}K`:d.toString();return a?e.jsxs("div",{className:"bg-card dark:bg-card rounded shadow-sm p-4",children:[e.jsx("h3",{className:"text-lg font-bold mb-4 font-hind border-b border-border pb-2",children:""}),e.jsxs("div",{className:"animate-pulse space-y-4",children:[e.jsx("div",{className:"bg-gray-200 dark:bg-gray-700 h-64 md:h-96 rounded"}),e.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/2"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[...Array(4)].map((d,u)=>e.jsx("div",{className:"h-40 bg-gray-200 dark:bg-gray-700 rounded"},u))})]})]}):l||!r||t.length===0?e.jsxs("div",{className:"bg-card dark:bg-card rounded shadow-sm p-4",children:[e.jsx("h3",{className:"text-lg font-bold mb-4 font-hind border-b border-border pb-2",children:""}),e.jsx("p",{className:"text-center py-8",children:l||"   "})]}):e.jsxs("div",{className:"bg-card dark:bg-card rounded shadow-sm p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-border pb-2",children:[e.jsx("h3",{className:"text-lg font-bold font-hind",children:""}),e.jsxs(X,{href:"/videos",className:"text-accent text-sm hover:underline",children:["  ",e.jsx("i",{className:"fas fa-angle-right ml-1"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"relative pb-16:9 h-0 overflow-hidden rounded mb-3",children:e.jsx("iframe",{className:"absolute top-0 left-0 w-full h-full",src:r.video_url,title:r.title,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),e.jsx("h4",{className:"font-bold text-lg mb-1 font-hind",children:e.jsx(X,{href:`/video/${r.slug}`,className:"hover:text-accent transition",children:r.title})}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2 mb-2",children:r.description}),e.jsxs("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400",children:[e.jsxs("span",{className:"flex items-center mr-3",children:[e.jsx("i",{className:"far fa-clock mr-1"})," ",r.duration]}),e.jsxs("span",{className:"flex items-center mr-3",children:[e.jsx("i",{className:"far fa-eye mr-1"})," ",c(r.view_count||0),"  "]}),e.jsx("span",{children:r.published_at?us(r.published_at):" "})]})]}),e.jsx("h4",{className:"font-bold mb-3 font-hind border-b border-border pb-2",children:" "}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:t.map(d=>e.jsxs("div",{className:"rounded overflow-hidden",children:[e.jsx(X,{href:`/video/${d.slug}`,className:"block",children:e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:d.thumbnail_url,alt:d.title,className:"w-full h-32 object-cover"}),e.jsx("div",{className:"absolute bottom-2 right-2 bg-black bg-opacity-75 text-white text-xs px-2 py-1 rounded",children:d.duration})]})}),e.jsxs("div",{className:"p-2",children:[e.jsx("h5",{className:"font-medium text-sm mb-1 font-hind line-clamp-2",children:e.jsx(X,{href:`/video/${d.slug}`,className:"hover:text-accent transition",children:d.title})}),e.jsxs("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400",children:[e.jsxs("span",{className:"flex items-center mr-2",children:[e.jsx("i",{className:"far fa-eye mr-1"})," ",c(d.view_count||0)]}),e.jsx("span",{children:d.published_at?us(d.published_at):" "})]})]})]},d.id))}),e.jsx("div",{className:"text-center mt-6",children:e.jsx(X,{href:"/videos",className:"inline-block bg-accent hover:bg-accent/90 text-white px-4 py-2 rounded text-sm transition",children:"  "})})]})},IV=()=>{const[t,s]=h.useState([]),[r,n]=h.useState(null),[a,i]=h.useState(!1),[l,o]=h.useState(0),[c,d]=h.useState(0),[u,m]=h.useState(.75),[f,x]=h.useState(!0),[g,v]=h.useState(null),p=h.useRef(null);h.useEffect(()=>{(async()=>{try{x(!0);const{getAudioArticles:P}=await le(async()=>{const{getAudioArticles:R}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getAudioArticles:R}},[]),C=await P();C&&C.length>0&&(s(C),n(C[0])),v(null)}catch(P){v("     "),console.error("Error fetching audio articles:",P)}finally{x(!1)}})()},[]),h.useEffect(()=>{p.current&&r&&(p.current.pause(),p.current.src=r.audio_url,p.current.load(),a&&p.current.play().catch(S=>{console.error("Error playing audio:",S),i(!1)}))},[r]);const j=()=>{p.current&&(a?p.current.pause():p.current.play().catch(S=>{console.error("Error playing audio:",S)}),i(!a))},w=()=>{p.current&&(o(p.current.currentTime),d(p.current.duration||0))},y=S=>{const P=parseFloat(S.target.value);m(P),p.current&&(p.current.volume=P)},_=S=>{const P=parseFloat(S.target.value);o(P),p.current&&(p.current.currentTime=P)},b=S=>{n(S),i(!0)},N=()=>{if(r&&t.length>0){const P=(t.findIndex(C=>C.id===r.id)+1)%t.length;n(t[P])}},T=()=>{if(r&&t.length>0){const P=(t.findIndex(C=>C.id===r.id)-1+t.length)%t.length;n(t[P])}},A=S=>{const P=Math.floor(S/60),C=Math.floor(S%60);return`${P}:${C<10?"0":""}${C}`};return f?e.jsxs("div",{className:"bg-card dark:bg-card rounded shadow-sm p-4",children:[e.jsx("h3",{className:"text-lg font-bold mb-4 font-hind border-b border-border pb-2",children:" "}),e.jsxs("div",{className:"animate-pulse space-y-4",children:[e.jsx("div",{className:"h-24 bg-gray-200 dark:bg-gray-700 rounded"}),e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4"}),e.jsx("div",{className:"h-12 bg-gray-200 dark:bg-gray-700 rounded"}),e.jsx("div",{className:"space-y-3",children:[...Array(3)].map((S,P)=>e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-200 dark:bg-gray-700 rounded"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/2"})]})]},P))})]})]}):g||!r||t.length===0?e.jsxs("div",{className:"bg-card dark:bg-card rounded shadow-sm p-4",children:[e.jsx("h3",{className:"text-lg font-bold mb-4 font-hind border-b border-border pb-2",children:" "}),e.jsx("p",{className:"text-center py-8",children:g||"    "})]}):e.jsxs("div",{className:"bg-card dark:bg-card rounded shadow-sm p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-border pb-2",children:[e.jsx("h3",{className:"text-lg font-bold font-hind",children:" "}),e.jsxs(X,{href:"/audio-articles",className:"text-accent text-sm hover:underline",children:["  ",e.jsx("i",{className:"fas fa-angle-right ml-1"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[e.jsx("div",{className:"w-full md:w-1/3",children:e.jsx("img",{src:r.image_url,alt:r.title,className:"w-full h-auto rounded"})}),e.jsxs("div",{className:"w-full md:w-2/3",children:[e.jsx("h4",{className:"font-bold text-lg mb-2 font-hind",children:e.jsx(X,{href:`/audio/${r.slug}`,className:"hover:text-accent transition",children:r.title})}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:r.excerpt}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:r.published_at?us(r.published_at):" "})]})]}),e.jsxs("div",{className:"bg-muted/30 dark:bg-muted rounded-lg p-3 mt-3",children:[e.jsx("audio",{ref:p,onTimeUpdate:w,onEnded:N,onPlay:()=>i(!0),onPause:()=>i(!1),className:"hidden"}),e.jsxs("div",{className:"mb-3",children:[e.jsx("input",{type:"range",min:"0",max:c||0,value:l,onChange:_,className:"w-full h-2 bg-muted rounded-lg appearance-none cursor-pointer"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mt-1",children:[e.jsx("span",{children:A(l)}),e.jsx("span",{children:A(c)})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:T,className:"p-2 rounded-full hover:bg-muted/50 transition","aria-label":"Previous article",children:e.jsx(mI,{className:"h-5 w-5"})}),e.jsx("button",{onClick:j,className:"p-3 bg-accent text-white rounded-full hover:bg-accent/90 transition","aria-label":a?"Pause":"Play",children:a?e.jsx(Oo,{className:"h-5 w-5"}):e.jsx(Ji,{className:"h-5 w-5"})}),e.jsx("button",{onClick:N,className:"p-2 rounded-full hover:bg-muted/50 transition","aria-label":"Next article",children:e.jsx(fI,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Mo,{className:"h-4 w-4 text-gray-500 dark:text-gray-400"}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:u,onChange:y,className:"w-20 h-1 bg-gray-300 dark:bg-gray-600 rounded-lg appearance-none cursor-pointer"})]})]})]})]}),e.jsx("h4",{className:"font-bold mb-3 font-hind border-b border-border pb-2",children:"  "}),e.jsx("div",{className:"space-y-3",children:t.filter(S=>S.id!==r.id).map(S=>e.jsxs("div",{className:"flex gap-3 hover:bg-muted/30 p-2 rounded transition cursor-pointer",onClick:()=>b(S),children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("img",{src:S.image_url,alt:S.title,className:"w-16 h-16 object-cover rounded"})}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium mb-1 text-sm font-hind",children:S.title}),e.jsxs("div",{className:"flex text-xs text-gray-500 dark:text-gray-400",children:[e.jsx("span",{className:"mr-2",children:S.duration}),e.jsx("span",{children:S.published_at?us(S.published_at):" "})]})]})]},S.id))}),e.jsx("div",{className:"text-center mt-6",children:e.jsx(X,{href:"/audio-articles",className:"inline-block bg-accent hover:bg-accent/90 text-white px-4 py-2 rounded text-sm transition",children:"   "})})]})};function DV(t,s){return h.useReducer((r,n)=>s[r][n]??r,t)}var Xy="ScrollArea",[iT,AB]=Ns(Xy),[MV,$r]=iT(Xy),lT=h.forwardRef((t,s)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...l}=t,[o,c]=h.useState(null),[d,u]=h.useState(null),[m,f]=h.useState(null),[x,g]=h.useState(null),[v,p]=h.useState(null),[j,w]=h.useState(0),[y,_]=h.useState(0),[b,N]=h.useState(!1),[T,A]=h.useState(!1),S=Me(s,C=>c(C)),P=ic(a);return e.jsx(MV,{scope:r,type:n,dir:P,scrollHideDelay:i,scrollArea:o,viewport:d,onViewportChange:u,content:m,onContentChange:f,scrollbarX:x,onScrollbarXChange:g,scrollbarXEnabled:b,onScrollbarXEnabledChange:N,scrollbarY:v,onScrollbarYChange:p,scrollbarYEnabled:T,onScrollbarYEnabledChange:A,onCornerWidthChange:w,onCornerHeightChange:_,children:e.jsx(me.div,{dir:P,...l,ref:S,style:{position:"relative","--radix-scroll-area-corner-width":j+"px","--radix-scroll-area-corner-height":y+"px",...t.style}})})});lT.displayName=Xy;var oT="ScrollAreaViewport",cT=h.forwardRef((t,s)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=t,l=$r(oT,r),o=h.useRef(null),c=Me(s,o,l.onViewportChange);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),e.jsx(me.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...t.style},children:e.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});cT.displayName=oT;var An="ScrollAreaScrollbar",Jy=h.forwardRef((t,s)=>{const{forceMount:r,...n}=t,a=$r(An,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:l}=a,o=t.orientation==="horizontal";return h.useEffect(()=>(o?i(!0):l(!0),()=>{o?i(!1):l(!1)}),[o,i,l]),a.type==="hover"?e.jsx(LV,{...n,ref:s,forceMount:r}):a.type==="scroll"?e.jsx(FV,{...n,ref:s,forceMount:r}):a.type==="auto"?e.jsx(dT,{...n,ref:s,forceMount:r}):a.type==="always"?e.jsx(ej,{...n,ref:s}):null});Jy.displayName=An;var LV=h.forwardRef((t,s)=>{const{forceMount:r,...n}=t,a=$r(An,t.__scopeScrollArea),[i,l]=h.useState(!1);return h.useEffect(()=>{const o=a.scrollArea;let c=0;if(o){const d=()=>{window.clearTimeout(c),l(!0)},u=()=>{c=window.setTimeout(()=>l(!1),a.scrollHideDelay)};return o.addEventListener("pointerenter",d),o.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),o.removeEventListener("pointerenter",d),o.removeEventListener("pointerleave",u)}}},[a.scrollArea,a.scrollHideDelay]),e.jsx(_s,{present:r||i,children:e.jsx(dT,{"data-state":i?"visible":"hidden",...n,ref:s})})}),FV=h.forwardRef((t,s)=>{const{forceMount:r,...n}=t,a=$r(An,t.__scopeScrollArea),i=t.orientation==="horizontal",l=If(()=>c("SCROLL_END"),100),[o,c]=DV("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return h.useEffect(()=>{if(o==="idle"){const d=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(d)}},[o,a.scrollHideDelay,c]),h.useEffect(()=>{const d=a.viewport,u=i?"scrollLeft":"scrollTop";if(d){let m=d[u];const f=()=>{const x=d[u];m!==x&&(c("SCROLL"),l()),m=x};return d.addEventListener("scroll",f),()=>d.removeEventListener("scroll",f)}},[a.viewport,i,c,l]),e.jsx(_s,{present:r||o!=="hidden",children:e.jsx(ej,{"data-state":o==="hidden"?"hidden":"visible",...n,ref:s,onPointerEnter:se(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:se(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),dT=h.forwardRef((t,s)=>{const r=$r(An,t.__scopeScrollArea),{forceMount:n,...a}=t,[i,l]=h.useState(!1),o=t.orientation==="horizontal",c=If(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;l(o?d:u)}},10);return qo(r.viewport,c),qo(r.content,c),e.jsx(_s,{present:n||i,children:e.jsx(ej,{"data-state":i?"visible":"hidden",...a,ref:s})})}),ej=h.forwardRef((t,s)=>{const{orientation:r="vertical",...n}=t,a=$r(An,t.__scopeScrollArea),i=h.useRef(null),l=h.useRef(0),[o,c]=h.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=xT(o.viewport,o.content),u={...n,sizes:o,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:f=>i.current=f,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:f=>l.current=f};function m(f,x){return qV(f,l.current,o,x)}return r==="horizontal"?e.jsx($V,{...u,ref:s,onThumbPositionChange:()=>{if(a.viewport&&i.current){const f=a.viewport.scrollLeft,x=_b(f,o,a.dir);i.current.style.transform=`translate3d(${x}px, 0, 0)`}},onWheelScroll:f=>{a.viewport&&(a.viewport.scrollLeft=f)},onDragScroll:f=>{a.viewport&&(a.viewport.scrollLeft=m(f,a.dir))}}):r==="vertical"?e.jsx(UV,{...u,ref:s,onThumbPositionChange:()=>{if(a.viewport&&i.current){const f=a.viewport.scrollTop,x=_b(f,o);i.current.style.transform=`translate3d(0, ${x}px, 0)`}},onWheelScroll:f=>{a.viewport&&(a.viewport.scrollTop=f)},onDragScroll:f=>{a.viewport&&(a.viewport.scrollTop=m(f))}}):null}),$V=h.forwardRef((t,s)=>{const{sizes:r,onSizesChange:n,...a}=t,i=$r(An,t.__scopeScrollArea),[l,o]=h.useState(),c=h.useRef(null),d=Me(s,c,i.onScrollbarXChange);return h.useEffect(()=>{c.current&&o(getComputedStyle(c.current))},[c]),e.jsx(hT,{"data-orientation":"horizontal",...a,ref:d,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Of(r)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,m)=>{if(i.viewport){const f=i.viewport.scrollLeft+u.deltaX;t.onWheelScroll(f),gT(f,m)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&l&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:bm(l.paddingLeft),paddingEnd:bm(l.paddingRight)}})}})}),UV=h.forwardRef((t,s)=>{const{sizes:r,onSizesChange:n,...a}=t,i=$r(An,t.__scopeScrollArea),[l,o]=h.useState(),c=h.useRef(null),d=Me(s,c,i.onScrollbarYChange);return h.useEffect(()=>{c.current&&o(getComputedStyle(c.current))},[c]),e.jsx(hT,{"data-orientation":"vertical",...a,ref:d,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Of(r)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,m)=>{if(i.viewport){const f=i.viewport.scrollTop+u.deltaY;t.onWheelScroll(f),gT(f,m)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&l&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:bm(l.paddingTop),paddingEnd:bm(l.paddingBottom)}})}})}),[zV,uT]=iT(An),hT=h.forwardRef((t,s)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:l,onThumbPointerDown:o,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:m,...f}=t,x=$r(An,r),[g,v]=h.useState(null),p=Me(s,S=>v(S)),j=h.useRef(null),w=h.useRef(""),y=x.viewport,_=n.content-n.viewport,b=Wt(u),N=Wt(c),T=If(m,10);function A(S){if(j.current){const P=S.clientX-j.current.left,C=S.clientY-j.current.top;d({x:P,y:C})}}return h.useEffect(()=>{const S=P=>{const C=P.target;(g==null?void 0:g.contains(C))&&b(P,_)};return document.addEventListener("wheel",S,{passive:!1}),()=>document.removeEventListener("wheel",S,{passive:!1})},[y,g,_,b]),h.useEffect(N,[n,N]),qo(g,T),qo(x.content,T),e.jsx(zV,{scope:r,scrollbar:g,hasThumb:a,onThumbChange:Wt(i),onThumbPointerUp:Wt(l),onThumbPositionChange:N,onThumbPointerDown:Wt(o),children:e.jsx(me.div,{...f,ref:p,style:{position:"absolute",...f.style},onPointerDown:se(t.onPointerDown,S=>{S.button===0&&(S.target.setPointerCapture(S.pointerId),j.current=g.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),A(S))}),onPointerMove:se(t.onPointerMove,A),onPointerUp:se(t.onPointerUp,S=>{const P=S.target;P.hasPointerCapture(S.pointerId)&&P.releasePointerCapture(S.pointerId),document.body.style.webkitUserSelect=w.current,x.viewport&&(x.viewport.style.scrollBehavior=""),j.current=null})})})}),wm="ScrollAreaThumb",mT=h.forwardRef((t,s)=>{const{forceMount:r,...n}=t,a=uT(wm,t.__scopeScrollArea);return e.jsx(_s,{present:r||a.hasThumb,children:e.jsx(VV,{ref:s,...n})})}),VV=h.forwardRef((t,s)=>{const{__scopeScrollArea:r,style:n,...a}=t,i=$r(wm,r),l=uT(wm,r),{onThumbPositionChange:o}=l,c=Me(s,m=>l.onThumbChange(m)),d=h.useRef(void 0),u=If(()=>{d.current&&(d.current(),d.current=void 0)},100);return h.useEffect(()=>{const m=i.viewport;if(m){const f=()=>{if(u(),!d.current){const x=HV(m,o);d.current=x,o()}};return o(),m.addEventListener("scroll",f),()=>m.removeEventListener("scroll",f)}},[i.viewport,u,o]),e.jsx(me.div,{"data-state":l.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:se(t.onPointerDownCapture,m=>{const x=m.target.getBoundingClientRect(),g=m.clientX-x.left,v=m.clientY-x.top;l.onThumbPointerDown({x:g,y:v})}),onPointerUp:se(t.onPointerUp,l.onThumbPointerUp)})});mT.displayName=wm;var tj="ScrollAreaCorner",fT=h.forwardRef((t,s)=>{const r=$r(tj,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?e.jsx(BV,{...t,ref:s}):null});fT.displayName=tj;var BV=h.forwardRef((t,s)=>{const{__scopeScrollArea:r,...n}=t,a=$r(tj,r),[i,l]=h.useState(0),[o,c]=h.useState(0),d=!!(i&&o);return qo(a.scrollbarX,()=>{var m;const u=((m=a.scrollbarX)==null?void 0:m.offsetHeight)||0;a.onCornerHeightChange(u),c(u)}),qo(a.scrollbarY,()=>{var m;const u=((m=a.scrollbarY)==null?void 0:m.offsetWidth)||0;a.onCornerWidthChange(u),l(u)}),d?e.jsx(me.div,{...n,ref:s,style:{width:i,height:o,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function bm(t){return t?parseInt(t,10):0}function xT(t,s){const r=t/s;return isNaN(r)?0:r}function Of(t){const s=xT(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*s;return Math.max(n,18)}function qV(t,s,r,n="ltr"){const a=Of(r),i=a/2,l=s||i,o=a-l,c=r.scrollbar.paddingStart+l,d=r.scrollbar.size-r.scrollbar.paddingEnd-o,u=r.content-r.viewport,m=n==="ltr"?[0,u]:[u*-1,0];return pT([c,d],m)(t)}function _b(t,s,r="ltr"){const n=Of(s),a=s.scrollbar.paddingStart+s.scrollbar.paddingEnd,i=s.scrollbar.size-a,l=s.content-s.viewport,o=i-n,c=r==="ltr"?[0,l]:[l*-1,0],d=Md(t,c);return pT([0,l],[0,o])(d)}function pT(t,s){return r=>{if(t[0]===t[1]||s[0]===s[1])return s[0];const n=(s[1]-s[0])/(t[1]-t[0]);return s[0]+n*(r-t[0])}}function gT(t,s){return t>0&&t<s}var HV=(t,s=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function a(){const i={left:t.scrollLeft,top:t.scrollTop},l=r.left!==i.left,o=r.top!==i.top;(l||o)&&s(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function If(t,s){const r=Wt(t),n=h.useRef(0);return h.useEffect(()=>()=>window.clearTimeout(n.current),[]),h.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,s)},[r,s])}function qo(t,s){const r=Wt(s);es(()=>{let n=0;if(t){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(t),()=>{window.cancelAnimationFrame(n),a.unobserve(t)}}},[t,r])}var vT=lT,WV=cT,KV=fT;const Df=h.forwardRef(({className:t,children:s,...r},n)=>e.jsxs(vT,{ref:n,className:re("relative overflow-hidden",t),...r,children:[e.jsx(WV,{className:"h-full w-full rounded-[inherit]",children:s}),e.jsx(yT,{}),e.jsx(KV,{})]}));Df.displayName=vT.displayName;const yT=h.forwardRef(({className:t,orientation:s="vertical",...r},n)=>e.jsx(Jy,{ref:n,orientation:s,className:re("flex touch-none select-none transition-colors",s==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",s==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:e.jsx(mT,{className:"relative flex-1 rounded-full bg-border"})}));yT.displayName=Jy.displayName;const GV=()=>{const{data:t,isLoading:s}=xe({queryKey:["categories"],queryFn:async()=>{const{getCategories:n}=await le(async()=>{const{getCategories:a}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getCategories:a}},[]);return n()}}),{data:r}=xe({queryKey:["/api/trending-topics"],queryFn:async()=>{const{getTrendingTopics:n}=await le(async()=>{const{getTrendingTopics:a}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getTrendingTopics:a}},[]);return n()}});return s?e.jsxs(k,{className:"h-full",children:[e.jsx(I,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-5 h-5 bg-muted rounded animate-pulse"}),e.jsx("div",{className:"w-24 h-5 bg-muted rounded animate-pulse"})]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:[1,2,3,4].map(n=>e.jsx("div",{className:"w-full h-8 bg-muted rounded animate-pulse"},n))})})]}):e.jsxs(k,{className:"h-full",children:[e.jsx(I,{children:e.jsxs(L,{className:"flex items-center text-lg",children:[e.jsx(QO,{className:"w-5 h-5 mr-2 text-primary"})," "]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-sm text-muted-foreground mb-2",children:""}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:t==null?void 0:t.slice(0,6).map(n=>e.jsx(X,{href:`/category/${n.slug}`,children:e.jsx(M,{variant:"outline",size:"sm",className:"w-full text-xs h-8",children:n.name})},n.id))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-sm text-muted-foreground mb-2",children:""}),e.jsx("div",{className:"space-y-2",children:r==null?void 0:r.slice(0,4).map(n=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(ee,{variant:"secondary",className:"text-xs",children:["#",n.topic_name]}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[n.mention_count," "]})]},n.id))})]}),e.jsx(X,{href:"/search",children:e.jsxs(M,{className:"w-full",size:"sm",children:[e.jsx(Mt,{className:"w-4 h-4 mr-2"})," "]})})]})})]})},QV=()=>{const{data:t,isLoading:s}=xe({queryKey:["trending-topics-limited"],queryFn:async()=>{const{getTrendingTopics:r}=await le(async()=>{const{getTrendingTopics:n}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getTrendingTopics:n}},[]);return r(8)}});return s?e.jsxs(k,{className:"h-full",children:[e.jsx(I,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-5 h-5 bg-muted rounded animate-pulse"}),e.jsx("div",{className:"w-32 h-5 bg-muted rounded animate-pulse"})]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-2",children:[1,2,3,4,5].map(r=>e.jsxs("div",{className:"flex justify-between",children:[e.jsx("div",{className:"w-20 h-4 bg-muted rounded animate-pulse"}),e.jsx("div",{className:"w-12 h-4 bg-muted rounded animate-pulse"})]},r))})})]}):e.jsxs(k,{className:"h-full",children:[e.jsx(I,{children:e.jsxs(L,{className:"flex items-center text-lg",children:[e.jsx(Ft,{className:"w-5 h-5 mr-2 text-green-600"})," "]})}),e.jsx(E,{children:e.jsx(Df,{className:"h-64",children:e.jsx("div",{className:"space-y-3",children:t==null?void 0:t.map((r,n)=>e.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-muted/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-primary/10 text-primary text-xs font-semibold",children:n+1}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-sm",children:["#",r.topic_name]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.mention_count," "]})]})]}),e.jsxs(ee,{variant:"outline",className:"text-xs",children:[Math.round(r.trending_score*100),"% "]})]},r.id))})})})]})},ZV=()=>{const{user:t}=tt(),{data:s,isLoading:r}=xe({queryKey:["user-stats",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return null;const{getUserStats:a}=await le(async()=>{const{getUserStats:i}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getUserStats:i}},[]);return await a(t.id)},enabled:!!t});if(!t)return e.jsxs(k,{className:"h-full",children:[e.jsx(I,{children:e.jsxs(L,{className:"flex items-center text-lg",children:[e.jsx(yr,{className:"w-5 h-5 mr-2 text-blue-600"}),"  "]})}),e.jsxs(E,{className:"flex flex-col items-center justify-center py-8",children:[e.jsx(Xr,{className:"w-12 h-12 text-muted-foreground mb-4"}),e.jsx("p",{className:"text-sm text-muted-foreground text-center mb-4",children:"   "}),e.jsx(X,{href:"/login",children:e.jsxs(M,{size:"sm",children:[e.jsx($2,{className:"w-4 h-4 mr-2"})," "]})})]})]});if(r)return e.jsxs(k,{className:"h-full",children:[e.jsx(I,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-5 h-5 bg-muted rounded animate-pulse"}),e.jsx("div",{className:"w-40 h-5 bg-muted rounded animate-pulse"})]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:[1,2,3,4].map(a=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"w-24 h-4 bg-muted rounded animate-pulse"}),e.jsx("div",{className:"w-full h-2 bg-muted rounded animate-pulse"})]},a))})})]});const n={articles_read:(s==null?void 0:s.articles_read)||0,articles_saved:(s==null?void 0:s.articles_saved)||0,reading_streak:(s==null?void 0:s.reading_streak)||0,total_reading_time:(s==null?void 0:s.total_reading_time)||0,categories_explored:(s==null?void 0:s.categories_explored)||0};return e.jsxs(k,{className:"h-full",children:[e.jsx(I,{children:e.jsxs(L,{className:"flex items-center text-lg",children:[e.jsx(yr,{className:"w-5 h-5 mr-2 text-blue-600"}),"  "]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-primary",children:n.articles_read}),e.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:n.reading_streak}),e.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]})]}),e.jsx(Tn,{}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ai,{className:"w-4 h-4 text-blue-500"}),e.jsx("span",{className:"text-sm",children:""})]}),e.jsx("span",{className:"text-sm font-medium",children:n.articles_saved})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ot,{className:"w-4 h-4 text-orange-500"}),e.jsx("span",{className:"text-sm",children:" "})]}),e.jsxs("span",{className:"text-sm font-medium",children:[n.total_reading_time," "]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Do,{className:"w-4 h-4 text-purple-500"}),e.jsx("span",{className:"text-sm",children:" "})]}),e.jsx("span",{className:"text-sm font-medium",children:n.categories_explored})]})]}),e.jsx(X,{href:"/dashboard",children:e.jsxs(M,{className:"w-full",size:"sm",children:[" ",e.jsx(sc,{className:"w-4 h-4 ml-2"})]})})]})})]})},YV=()=>{const{data:t,isLoading:s}=xe({queryKey:["/api/social-media"],queryFn:async()=>{const{getSocialMediaPosts:r}=await le(async()=>{const{getSocialMediaPosts:n}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getSocialMediaPosts:n}},[]);return r()}});return s?e.jsxs(k,{className:"h-full",children:[e.jsx(I,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-5 h-5 bg-muted rounded animate-pulse"}),e.jsx("div",{className:"w-32 h-5 bg-muted rounded animate-pulse"})]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:[1,2,3].map(r=>e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-muted rounded-full animate-pulse"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"w-full h-4 bg-muted rounded animate-pulse"}),e.jsx("div",{className:"w-3/4 h-3 bg-muted rounded animate-pulse"})]})]},r))})})]}):e.jsxs(k,{className:"h-full",children:[e.jsx(I,{children:e.jsxs(L,{className:"flex items-center text-lg",children:[e.jsx(gt,{className:"w-5 h-5 mr-2 text-pink-600"})," "]})}),e.jsx(E,{children:e.jsx(Df,{className:"h-64",children:e.jsx("div",{className:"space-y-4",children:t==null?void 0:t.map(r=>{var n;return e.jsxs("div",{className:"flex space-x-3 p-2 rounded-lg hover:bg-muted/50 transition-colors",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center text-white text-xs font-bold",children:(n=r.platform)==null?void 0:n.charAt(0).toUpperCase()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(ee,{variant:"outline",className:"text-xs",children:r.platform}),e.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(r.created_at).toLocaleDateString("bn-BD")})]}),e.jsx("p",{className:"text-sm text-foreground line-clamp-2",children:r.content}),e.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-xs text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(xr,{className:"w-3 h-3 mr-1"}),r.likes||0]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx($t,{className:"w-3 h-3 mr-1"}),r.views||0]})]})]})]},r.id)})})})})]})},XV=()=>{var i;const{user:t}=tt(),{data:s,isLoading:r}=xe({queryKey:["/api/user/preferences",t==null?void 0:t.id],queryFn:async()=>{if(!t)return null;const{getUserPreferences:l}=await le(async()=>{const{getUserPreferences:o}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getUserPreferences:o}},[]);return l(t.id)},enabled:!!t});if(!t)return e.jsxs(k,{className:"h-full",children:[e.jsx(I,{children:e.jsxs(L,{className:"flex items-center text-lg",children:[e.jsx(qs,{className:"w-5 h-5 mr-2 text-gray-600"})," "]})}),e.jsxs(E,{className:"flex flex-col items-center justify-center py-8",children:[e.jsx(qs,{className:"w-12 h-12 text-muted-foreground mb-4"}),e.jsx("p",{className:"text-sm text-muted-foreground text-center mb-4",children:"    "}),e.jsx(X,{href:"/login",children:e.jsxs(M,{size:"sm",children:[e.jsx($2,{className:"w-4 h-4 mr-2"})," "]})})]})]});if(r)return e.jsxs(k,{className:"h-full",children:[e.jsx(I,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-5 h-5 bg-muted rounded animate-pulse"}),e.jsx("div",{className:"w-24 h-5 bg-muted rounded animate-pulse"})]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:[1,2,3,4].map(l=>e.jsxs("div",{className:"flex justify-between",children:[e.jsx("div",{className:"w-20 h-4 bg-muted rounded animate-pulse"}),e.jsx("div",{className:"w-12 h-4 bg-muted rounded animate-pulse"})]},l))})})]});const a=s||{favorite_categories:["","",""],notification_enabled:!0,auto_save_enabled:!1,reading_mode:"normal"};return e.jsxs(k,{className:"h-full",children:[e.jsx(I,{children:e.jsxs(L,{className:"flex items-center text-lg",children:[e.jsx(qs,{className:"w-5 h-5 mr-2 text-gray-600"})," "]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-sm text-muted-foreground mb-2",children:" "}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(i=a.favorite_categories)==null?void 0:i.map((l,o)=>e.jsx(ee,{variant:"secondary",className:"text-xs",children:l},`category-${l}-${o}`))})]}),e.jsx(Tn,{}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:""}),e.jsx(ee,{variant:a.notification_enabled?"default":"outline",children:a.notification_enabled?"":""})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:" "}),e.jsx(ee,{variant:a.auto_save_enabled?"default":"outline",children:a.auto_save_enabled?"":""})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:" "}),e.jsx(ee,{variant:"secondary",children:a.reading_mode==="normal"?"":""})]})]}),e.jsx(X,{href:"/profile",children:e.jsxs(M,{className:"w-full",size:"sm",variant:"outline",children:[e.jsx(qs,{className:"w-4 h-4 mr-2"}),"  "]})})]})})]})},JV=()=>e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx(GV,{}),e.jsx(QV,{}),e.jsx(ZV,{})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(YV,{}),e.jsx(XV,{})]})]}),e7=()=>{const[t,s]=h.useState([]),[r,n]=h.useState(!0),a=jV(),{metaElements:i,linkElements:l}=pu(a);h.useEffect(()=>{(async()=>{try{const{getCategories:u}=await le(async()=>{const{getCategories:f}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getCategories:f}},[]),m=await u();s(m)}catch(u){console.error("Error loading categories:",u),s([{id:1,slug:"economy",name:""},{id:2,slug:"technology",name:""},{id:3,slug:"education",name:""}])}finally{n(!1)}})()},[]);const o=t.slice(0,3),c=t.slice(3,5);return e.jsxs(e.Fragment,{children:[e.jsxs(Ws,{children:[e.jsx("title",{children:a.title}),e.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),i.map((d,u)=>d.property?e.jsx("meta",{property:d.property,content:d.content},u):e.jsx("meta",{name:d.name,content:d.content},u)),l.map((d,u)=>e.jsx("link",{rel:d.rel,href:d.href},u))]}),e.jsxs("main",{className:"min-h-screen bg-background",children:[e.jsx("section",{className:"fade-in",children:e.jsx(bV,{})}),e.jsx("section",{className:"container-modern py-6 slide-up",children:e.jsx(NV,{})}),e.jsx("section",{className:"container-modern py-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsx("div",{className:"slide-in-right",children:e.jsx(_V,{})}),e.jsx("div",{className:"slide-up",children:e.jsx(SV,{})})]})}),e.jsx("section",{className:"container-modern py-6 fade-in",children:e.jsx(AV,{})}),e.jsx("section",{className:"container-modern py-6 slide-up",children:e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-center mb-6 text-foreground",children:"   "}),e.jsx(JV,{})]})}),e.jsx("section",{className:"container-modern py-6",children:e.jsxs("div",{className:"grid-news mb-8",children:[!r&&o.length>0&&o.map((d,u)=>e.jsx("div",{className:"bounce-in",style:{animationDelay:`${u*.1}s`},children:e.jsx(Nb,{categorySlug:d.slug,limit:4})},d.slug)),r&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(d=>e.jsxs("div",{className:"bg-card border border-border rounded shadow-sm p-4 h-80 animate-pulse",children:[e.jsx("div",{className:"h-6 bg-muted rounded mb-4"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"h-4 bg-muted rounded"}),e.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-muted rounded w-1/2"})]})]},d))})]})}),e.jsx("section",{className:"container-modern py-6 scale-in",children:e.jsx(TV,{})}),e.jsx("section",{className:"container-modern py-6 slide-up",children:e.jsx(PV,{})}),e.jsx("section",{className:"container-modern py-6 fade-in",children:e.jsx(OV,{})}),!r&&c.length>0&&e.jsx("section",{className:"container-modern py-6",children:e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:c.map((d,u)=>e.jsx("div",{className:"rotate-in",style:{animationDelay:`${u*.2}s`},children:e.jsx(Nb,{categorySlug:d.slug,limit:4})},d.slug))})}),e.jsx("section",{className:"container-modern py-6 slide-in-right",children:e.jsx(IV,{})}),e.jsx("section",{className:"container-modern py-6 fade-in",children:e.jsx(RV,{})})]})]})},t7=()=>{const[,t]=e2("/category/:slug"),s=(t==null?void 0:t.slug)||"",[r,n]=h.useState(null),[a,i]=h.useState([]),[l,o]=h.useState([]),[c,d]=h.useState(1),[u,m]=h.useState(!0),[f,x]=h.useState(!0),[g,v]=h.useState(null),[p,j]=h.useState("grid"),[w,y]=h.useState("latest"),[_,b]=h.useState(""),N=12;h.useEffect(()=>{(async()=>{try{x(!0);const{getCategoryBySlug:B,getCategories:V,getArticles:O,getPopularArticles:z}=await le(async()=>{const{getCategoryBySlug:ce,getCategories:ye,getArticles:ue,getPopularArticles:Se}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getCategoryBySlug:ce,getCategories:ye,getArticles:ue,getPopularArticles:Se}},[]),U=await V();o(U);const G=await B(s);if(!G){v("    ");return}n(G);let q;w==="popular"?(q=await z(N),q=q.filter(ce=>{var ye;return((ye=ce.categories)==null?void 0:ye.slug)===s})):q=await O({category:s,limit:N,offset:0}),i(q),m(q.length===N),d(1),v(null)}catch(B){v("     "),console.error("Error fetching category:",B)}finally{x(!1)}})(),window.scrollTo(0,0)},[s,w]);const T=async()=>{try{x(!0);const D=c+1,B=c*N,{getArticles:V,getPopularArticles:O}=await le(async()=>{const{getArticles:U,getPopularArticles:G}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getArticles:U,getPopularArticles:G}},[]);let z;w==="popular"?(z=await O(N),z=z.filter(U=>{var G;return((G=U.categories)==null?void 0:G.slug)===s})):z=await V({category:s,limit:N,offset:B}),z.length>0?(i([...a,...z]),d(D),m(z.length===N)):m(!1)}catch(D){console.error("Error loading more articles:",D)}finally{x(!1)}},A=a.filter(D=>{var B;return D.title.toLowerCase().includes(_.toLowerCase())||((B=D.excerpt)==null?void 0:B.toLowerCase().includes(_.toLowerCase()))}),S=()=>e.jsxs(k,{className:"mb-6",children:[e.jsx(I,{className:"pb-3",children:e.jsxs(L,{className:"flex items-center text-lg font-hind",children:[e.jsx(el,{className:"w-5 h-5 mr-2 text-primary"})," "]})}),e.jsx(E,{children:e.jsx(Df,{className:"w-full",children:e.jsx("div",{className:"flex space-x-2 pb-2",children:l.map(D=>e.jsx(X,{href:`/category/${D.slug}`,children:e.jsx(ee,{variant:D.slug===s?"default":"outline",className:"category-nav-chip whitespace-nowrap cursor-pointer px-3 py-1",children:D.name})},D.id))})})})]}),P=({article:D})=>e.jsxs(k,{className:"article-card-grid group overflow-hidden h-full flex flex-col",children:[e.jsx(X,{href:`/article/${D.slug}`,children:e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("img",{src:D.imageUrl,alt:D.title,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),e.jsx("div",{className:"absolute top-3 left-3",children:e.jsx(ee,{className:"bg-primary/90 text-primary-foreground",children:r==null?void 0:r.name})}),e.jsx("div",{className:"absolute bottom-3 right-3",children:e.jsx(M,{size:"sm",variant:"secondary",className:"opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(Gl,{className:"w-4 h-4"})})})]})}),e.jsxs(E,{className:"p-4 flex-1 flex flex-col",children:[e.jsx(X,{href:`/article/${D.slug}`,children:e.jsx("h3",{className:"font-bold text-lg mb-2 font-hind line-clamp-2 group-hover:text-primary transition-colors",children:D.title})}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-3 mb-4 flex-1",children:D.excerpt}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground pt-2 border-t",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ot,{className:"w-3 h-3"}),e.jsx("span",{children:us(D.publishedAt)})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(M,{variant:"ghost",size:"sm",className:"h-auto p-1",children:e.jsx(ai,{className:"w-3 h-3"})}),e.jsx(M,{variant:"ghost",size:"sm",className:"h-auto p-1",children:e.jsx(la,{className:"w-3 h-3"})})]})]})]})]}),C=({article:D})=>e.jsx(k,{className:"article-card-list group",children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx(X,{href:`/article/${D.slug}`,className:"flex-shrink-0",children:e.jsx("div",{className:"relative w-32 h-20 overflow-hidden rounded-md",children:e.jsx("img",{src:D.imageUrl,alt:D.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx(X,{href:`/article/${D.slug}`,children:e.jsx("h3",{className:"font-semibold text-lg font-hind line-clamp-2 group-hover:text-primary transition-colors",children:D.title})}),e.jsx(ee,{variant:"outline",className:"ml-2 flex-shrink-0",children:r==null?void 0:r.name})]}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-3",children:D.excerpt}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ot,{className:"w-3 h-3"}),e.jsx("span",{children:us(D.publishedAt)})]})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(M,{variant:"ghost",size:"sm",className:"h-auto p-1",children:e.jsx(ai,{className:"w-3 h-3"})}),e.jsx(M,{variant:"ghost",size:"sm",className:"h-auto p-1",children:e.jsx(la,{className:"w-3 h-3"})}),e.jsx(X,{href:`/article/${D.slug}`,children:e.jsx(M,{variant:"ghost",size:"sm",className:"h-auto p-1 text-primary",children:e.jsx(Gl,{className:"w-3 h-3"})})})]})]})]})]})})});if(!r&&f)return e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(oe,{className:"w-8 h-8 animate-spin text-primary"})}),e.jsx(k,{children:e.jsx(E,{className:"p-6",children:e.jsx("div",{className:"flex space-x-2",children:[...Array(8)].map((D,B)=>e.jsx("div",{className:"h-8 bg-muted rounded-full w-20 animate-pulse"},B))})})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((D,B)=>e.jsxs(k,{className:"overflow-hidden",children:[e.jsx("div",{className:"h-48 bg-muted animate-pulse"}),e.jsxs(E,{className:"p-4 space-y-2",children:[e.jsx("div",{className:"h-6 bg-muted rounded animate-pulse"}),e.jsx("div",{className:"h-4 bg-muted rounded w-3/4 animate-pulse"}),e.jsx("div",{className:"h-3 bg-muted rounded w-1/4 animate-pulse"})]})]},B))})]})});if(g||!r)return e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx(k,{className:"max-w-md mx-auto",children:e.jsxs(E,{className:"p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-destructive/10 flex items-center justify-center",children:e.jsx(Mt,{className:"w-8 h-8 text-destructive"})}),e.jsx("h2",{className:"text-xl font-bold mb-4 font-hind",children:g||"   "}),e.jsx("p",{className:"text-muted-foreground mb-6",children:",       "}),e.jsx(X,{href:"/",children:e.jsxs(M,{children:[e.jsx(Gl,{className:"w-4 h-4 mr-2"}),"  "]})})]})})});const R=yV({name:r.name,slug:r.slug,description:r.description}),{metaElements:K,linkElements:W}=pu(R);return e.jsxs(e.Fragment,{children:[e.jsxs(Ws,{children:[e.jsx("title",{children:R.title}),K.map((D,B)=>D.property?e.jsx("meta",{property:D.property,content:D.content},B):e.jsx("meta",{name:D.name,content:D.content},B)),W.map((D,B)=>e.jsx("link",{rel:D.rel,href:D.href},B))]}),e.jsx("div",{className:"category-page",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"category-header text-center py-8 mb-8",children:[e.jsx("h1",{className:"category-title-animated text-4xl md:text-5xl font-bold mb-4 font-hind bg-gradient-to-r from-primary to-primary/80 bg-clip-text text-transparent",children:r.name}),r.description&&e.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto leading-relaxed",children:r.description})]}),e.jsx(S,{}),e.jsx(k,{className:"mb-6",children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[e.jsxs("div",{className:"flex gap-2 flex-1 w-full sm:w-auto",children:[e.jsxs("div",{className:"search-input-enhanced relative flex-1 max-w-sm",children:[e.jsx(Mt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),e.jsx("input",{type:"text",placeholder:" ...",value:_,onChange:D=>b(D.target.value),className:"w-full pl-10 pr-4 py-2 border border-input rounded-md bg-background text-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),e.jsxs(fl,{children:[e.jsx(xl,{asChild:!0,children:e.jsxs(M,{variant:"outline",size:"sm",children:[e.jsx(UO,{className:"w-4 h-4 mr-2"}),w==="latest"?"":w==="popular"?"":"",e.jsx(Gm,{className:"w-4 h-4 ml-2"})]})}),e.jsxs(yi,{children:[e.jsxs(Lt,{onClick:()=>y("latest"),children:[e.jsx(Ds,{className:"w-4 h-4 mr-2"}),""]}),e.jsxs(Lt,{onClick:()=>y("popular"),children:[e.jsx($t,{className:"w-4 h-4 mr-2"}),""]}),e.jsxs(Lt,{onClick:()=>y("trending"),children:[e.jsx(Ft,{className:"w-4 h-4 mr-2"}),""]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{variant:p==="grid"?"default":"outline",size:"sm",onClick:()=>j("grid"),className:"view-toggle-button",children:e.jsx(eI,{className:"w-4 h-4"})}),e.jsx(M,{variant:p==="list"?"default":"outline",size:"sm",onClick:()=>j("list"),className:"view-toggle-button",children:e.jsx(iI,{className:"w-4 h-4"})})]})]})})}),_&&e.jsxs("div",{className:"mb-4 text-sm text-muted-foreground",children:[e.jsx(Mt,{className:"w-4 h-4 inline mr-2"}),'"',_,'"   ',A.length,"   "]}),A.length===0&&!f?e.jsx(k,{className:"text-center py-12",children:e.jsxs(E,{children:[e.jsx("div",{className:"empty-state-icon w-24 h-24 mx-auto mb-6 rounded-full bg-muted/50 flex items-center justify-center",children:e.jsx(Mt,{className:"w-12 h-12 text-muted-foreground"})}),e.jsx("h3",{className:"text-xl font-semibold mb-2 font-hind",children:_?"   ":"      "}),e.jsx("p",{className:"text-muted-foreground mb-6",children:_?"        ":"      "}),_&&e.jsx(M,{onClick:()=>b(""),variant:"outline",children:"  "})]})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:p==="grid"?"article-grid-container grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:A.map(D=>p==="grid"?e.jsx(P,{article:D},D.id):e.jsx(C,{article:D},D.id))}),u&&!_&&e.jsx("div",{className:"mt-12 text-center",children:e.jsx(M,{onClick:T,disabled:f,size:"lg",className:"load-more-button px-8",children:f?e.jsxs(e.Fragment,{children:[e.jsx(oe,{className:"w-4 h-4 mr-2 animate-spin"})," ..."]}):e.jsxs(e.Fragment,{children:["  ",e.jsx(Gl,{className:"w-4 h-4 ml-2"})]})})})]})]})})]})};function s7(t){return t.trim().toLowerCase().replace(/[^\u0980-\u09FF\u0020\u002D\u005F\u0041-\u005A\u0061-\u007A\u0030-\u0039]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-+|-+$/g,"")}function r7(t){try{let s=decodeURIComponent(t);return s.includes("%")&&(s=decodeURIComponent(s)),s}catch(s){return console.log("Error decoding slug:",s),t}}function n7(t){try{window.history.replaceState&&window.history.replaceState(null,"",t)}catch(s){console.log("Could not update display URL:",s)}}const a7=({content:t})=>{const r=(n=>{const a=n.trim().split(/\s+/).length,i=Math.ceil(a/225);return i<1?1:i})(t);return e.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[e.jsx(ot,{className:"h-4 w-4 mr-1"}),e.jsxs("span",{children:[r,"  "]})]})};function i7(t,s=300){if(!t||t.length<=s)return t;const r=t.split(new RegExp("(?<=[.!?])\\s+"));if(r.length<=3)return t;const n=r.map((o,c)=>{let d=0;c===0&&(d+=3),c===1&&(d+=2),c===r.length-1&&(d+=2);const u=o.split(/\s+/).length;u>5&&u<25&&(d+=1);const m=["","","","","","","","","","","","","","","","","","",""];for(const f of m)o.includes(f)&&(d+=1);return{sentence:o,score:d,index:c}});n.sort((o,c)=>c.score!==o.score?c.score-o.score:o.index-c.index);let a="",i=0;const l=n.slice(0,Math.max(3,Math.ceil(r.length/5))).sort((o,c)=>o.index-c.index);for(const{sentence:o}of l)if(i+o.length<=s)a+=o+" ",i+=o.length+1;else break;return a.trim()}const l7=({content:t,maxLength:s=400})=>{const[r,n]=h.useState(!1),[a,i]=h.useState(!1),[l,o]=h.useState(""),c=()=>{if(l){n(!r);return}i(!0),setTimeout(()=>{const d=i7(t,s);o(d),n(!0),i(!1)},800)};return e.jsxs("div",{className:"my-4",children:[e.jsx(M,{variant:"outline",onClick:c,disabled:a,className:"flex items-center gap-2 bg-primary/5 hover:bg-primary/10 dark:bg-primary/10 dark:hover:bg-primary/20",children:a?e.jsxs(e.Fragment,{children:[e.jsx(oe,{className:"h-4 w-4 animate-spin"}),e.jsx("span",{children:"  ..."})]}):r?e.jsx("span",{children:" "}):e.jsx("span",{children:"  "})}),r&&l&&e.jsx(k,{className:"mt-3 bg-primary/5 dark:bg-primary/10 border-primary/20",children:e.jsxs(E,{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-medium mb-2",children:":"}),e.jsx("p",{className:"text-muted-foreground",children:l})]})})]})};function jT({articleId:t,isSaved:s=!1,variant:r="icon",className:n=""}){const[a,i]=h.useState(s),[l,o]=h.useState(!1),{user:c}=tt(),{toast:d}=Xe(),u=async()=>{if(!c){d({title:" ",description:"      ",variant:"destructive"});return}o(!0);try{const{data:{session:m}}=await qe.auth.getSession();if(!m)throw new Error("No session found");const{toggleBookmark:f}=await le(async()=>{const{toggleBookmark:g}=await import("./supabase-api-direct-D5Ds99Uk.js");return{toggleBookmark:g}},[]),x=await f(t,m.user.id,!a);if(a)i(!1),d({title:"",description:"     "});else{if(x.alreadyExists){i(!0),d({title:" ",description:"      "});return}i(!0),d({title:"",description:"     "})}}catch(m){console.error("Error toggling saved article:",m),d({title:"",description:m.message||"   ",variant:"destructive"})}finally{o(!1)}};return r==="icon"?e.jsx(M,{variant:"ghost",size:"sm",onClick:u,disabled:l,className:`p-2 h-auto ${n}`,children:e.jsx(ai,{className:`h-4 w-4 ${a?"fill-current text-blue-600":""}`})}):e.jsxs(M,{variant:a?"default":"outline",size:"sm",onClick:u,disabled:l,className:n,children:[e.jsx(ai,{className:`h-4 w-4 mr-2 ${a?"fill-current":""}`}),a?"":" "]})}function wT({articleId:t,initialLiked:s=!1,likeCount:r=0,className:n=""}){const[a,i]=h.useState(s),[l,o]=h.useState(r),[c,d]=h.useState(!1),{user:u}=tt(),{toast:m}=Xe();h.useEffect(()=>{if(!u)return;(async()=>{try{const{data:{session:g}}=await qe.auth.getSession();if(!g)return;const{getUserLikeStatus:v}=await le(async()=>{const{getUserLikeStatus:j}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getUserLikeStatus:j}},[]),p=await v(t,g.user.id);i(p.isLiked),o(p.likeCount||0)}catch(g){console.error("Error checking like status:",g)}})()},[t,u]);const f=async()=>{if(!u){m({title:" ",description:"     ",variant:"destructive"});return}d(!0);try{const{data:{session:x}}=await qe.auth.getSession();if(!x)throw new Error("No session found");const{toggleArticleLike:g}=await le(async()=>{const{toggleArticleLike:p}=await import("./supabase-api-direct-D5Ds99Uk.js");return{toggleArticleLike:p}},[]);if((await g(t,x.user.id,!a)).alreadyExists&&!a){i(!0);return}a?(i(!1),o(p=>Math.max(0,p-1)),m({title:"",description:"  "})):(i(!0),o(p=>p+1),m({title:"",description:"  "}))}catch(x){console.error("Error toggling like:",x),m({title:"",description:x.message||"   ",variant:"destructive"})}finally{d(!1)}};return e.jsxs(M,{variant:"ghost",size:"sm",onClick:f,disabled:c,className:`flex items-center gap-1 ${n}`,children:[e.jsx(xr,{className:`h-4 w-4 ${a?"fill-current text-red-500":""}`}),l>0&&e.jsx("span",{className:"text-sm text-muted-foreground",children:l})]})}function bT({articleId:t,title:s,url:r=window.location.href,className:n=""}){const[a,i]=h.useState(!1),{user:l}=tt(),{toast:o}=Xe(),c=async u=>{if(l)try{const{data:{session:m}}=await qe.auth.getSession();if(!m)return;const{trackArticleShare:f}=await le(async()=>{const{trackArticleShare:x}=await import("./supabase-api-direct-D5Ds99Uk.js");return{trackArticleShare:x}},[]);await f(t,m.user.id,u)}catch(m){console.error("Error tracking share:",m)}},d=async u=>{i(!0);try{const m=encodeURIComponent(s),f=encodeURIComponent(r);let x="";switch(u){case"facebook":x=`https://www.facebook.com/sharer/sharer.php?u=${f}`;break;case"twitter":x=`https://twitter.com/intent/tweet?text=${m}&url=${f}`;break;case"whatsapp":x=`https://api.whatsapp.com/send?text=${m} ${f}`;break;case"telegram":x=`https://t.me/share/url?url=${f}&text=${m}`;break;case"copy":await navigator.clipboard.writeText(r),o({title:"",description:"   "}),await c("copy");return}x&&(window.open(x,"_blank","width=600,height=400"),await c(u),o({title:"",description:"  "}))}catch(m){console.error("Error sharing:",m),o({title:"",description:"   ",variant:"destructive"})}finally{i(!1)}};return e.jsxs(fl,{children:[e.jsx(xl,{asChild:!0,children:e.jsxs(M,{variant:"ghost",size:"sm",disabled:a,className:`flex items-center gap-2 ${n}`,children:[e.jsx(la,{className:"h-4 w-4"}),""]})}),e.jsxs(yi,{align:"end",className:"w-48",children:[e.jsxs(Lt,{onClick:()=>d("facebook"),children:[e.jsx(Ym,{className:"h-4 w-4 mr-2"}),"Facebook"]}),e.jsxs(Lt,{onClick:()=>d("twitter"),children:[e.jsx(ef,{className:"h-4 w-4 mr-2"}),"Twitter"]}),e.jsxs(Lt,{onClick:()=>d("whatsapp"),children:[e.jsx(Yi,{className:"h-4 w-4 mr-2"}),"WhatsApp"]}),e.jsxs(Lt,{onClick:()=>d("telegram"),children:[e.jsx(Yi,{className:"h-4 w-4 mr-2"}),"Telegram"]}),e.jsxs(Lt,{onClick:()=>d("copy"),children:[e.jsx(D2,{className:"h-4 w-4 mr-2"}),"  "]})]})]})}function NT({articleId:t,className:s=""}){const[r,n]=h.useState([]),[a,i]=h.useState(""),[l,o]=h.useState(!1),[c,d]=h.useState(!1),{user:u}=tt(),{toast:m}=Xe();h.useEffect(()=>{f()},[t]);const f=async()=>{o(!0);try{const{getArticleComments:v}=await le(async()=>{const{getArticleComments:j}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getArticleComments:j}},[]),p=await v(t);n(p)}catch(v){console.error("Error loading comments:",v)}finally{o(!1)}},x=async()=>{if(!u){m({title:" ",description:"     ",variant:"destructive"});return}if(!a.trim()){m({title:" ",description:"   ",variant:"destructive"});return}d(!0);try{const{data:{session:v}}=await qe.auth.getSession();if(!v)throw new Error("No session found");const{addComment:p}=await le(async()=>{const{addComment:j}=await import("./supabase-api-direct-D5Ds99Uk.js");return{addComment:j}},[]);await p(t,v.user.id,a),i(""),m({title:"",description:"         "}),f()}catch(v){console.error("Error submitting comment:",v),m({title:"",description:"    ",variant:"destructive"})}finally{d(!1)}},g=v=>new Date(v).toLocaleDateString("bn-BD",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return e.jsx("div",{className:`space-y-6 ${s}`,children:e.jsxs(k,{children:[e.jsx(I,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Yi,{className:"h-5 w-5"})," (",r.length,")"]})}),e.jsxs(E,{className:"space-y-4",children:[u?e.jsxs("div",{className:"space-y-3",children:[e.jsx(Kt,{placeholder:"  ...",value:a,onChange:v=>i(v.target.value),rows:3,className:"resize-none"}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(M,{onClick:x,disabled:c||!a.trim(),size:"sm",children:[e.jsx(Io,{className:"h-4 w-4 mr-2"})," "]})})]}):e.jsx(k,{className:"bg-muted/50",children:e.jsx(E,{className:"pt-6",children:e.jsxs("p",{className:"text-center text-muted-foreground",children:["  ",e.jsx("strong",{children:""})," "]})})}),l?e.jsx("div",{className:"text-center py-4",children:e.jsx("p",{className:"text-muted-foreground",children:"  ..."})}):r.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Yi,{className:"h-12 w-12 mx-auto text-muted-foreground/50 mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"   "}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"  !"})]}):e.jsx("div",{className:"space-y-4",children:r.map(v=>e.jsx(k,{className:"bg-muted/20",children:e.jsx(E,{className:"pt-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"bg-primary/10 p-2 rounded-full",children:e.jsx(Xr,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"font-medium",children:v.author_name}),e.jsx("span",{className:"text-xs text-muted-foreground",children:g(v.created_at)})]}),e.jsx("p",{className:"text-sm leading-relaxed",children:v.content})]})]})})},v.id))})]})]})})}function _T({articleId:t,maxTags:s=5,size:r="default",className:n=""}){const[a,i]=h.useState([]),[l,o]=h.useState(!1);h.useEffect(()=>{c()},[t]);const c=async()=>{o(!0);try{const{getArticleTags:u}=await le(async()=>{const{getArticleTags:f}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getArticleTags:f}},[]),m=await u(t);i(m.slice(0,s))}catch(u){console.error("Error loading tags:",u)}finally{o(!1)}};if(l)return e.jsxs("div",{className:`flex items-center gap-2 ${n}`,children:[e.jsx(el,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("div",{className:"flex gap-2",children:[...Array(3)].map((u,m)=>e.jsx("div",{className:"h-5 w-16 bg-muted animate-pulse rounded-full"},m))})]});if(a.length===0)return null;const d={sm:"text-xs px-2 py-1",default:"text-sm px-2.5 py-1",lg:"text-base px-3 py-1.5"};return e.jsxs("div",{className:`flex items-center gap-2 flex-wrap ${n}`,children:[e.jsx(el,{className:"h-4 w-4 text-muted-foreground"}),a.map(u=>e.jsx(ee,{variant:"secondary",className:`${d[r]} transition-colors hover:bg-primary/20`,style:{backgroundColor:u.color?`${u.color}20`:void 0,borderColor:u.color||void 0},children:u.name},u.id))]})}function ST({className:t=""}){const[s,r]=h.useState(""),[n,a]=h.useState(!1),[i,l]=h.useState(!1),{toast:o}=Xe(),c=async d=>{if(d.preventDefault(),!s.trim()){o({title:" ",description:"      ",variant:"destructive"});return}a(!0);try{const{subscribeToNewsletter:u}=await le(async()=>{const{subscribeToNewsletter:f}=await import("./supabase-api-direct-D5Ds99Uk.js");return{subscribeToNewsletter:f}},[]);if((await u(s,{breaking_news:!0,daily_digest:!0,weekly_summary:!0})).alreadyExists){o({title:"  ",description:"       ",variant:"destructive"});return}l(!0),r(""),o({title:"!",description:"    "})}catch(u){console.error("Error subscribing to newsletter:",u),o({title:"",description:"   ",variant:"destructive"})}finally{a(!1)}};return i?e.jsx(k,{className:`bg-green-50 border-green-200 dark:bg-green-950 dark:border-green-800 ${t}`,children:e.jsx(E,{className:"pt-6",children:e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("div",{className:"bg-green-100 dark:bg-green-900 w-12 h-12 rounded-full flex items-center justify-center mx-auto",children:e.jsx(Ja,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),e.jsx("h3",{className:"font-semibold text-green-800 dark:text-green-200",children:" !"}),e.jsx("p",{className:"text-sm text-green-600 dark:text-green-300",children:"    "})]})})}):e.jsxs(k,{className:`bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-950 dark:to-indigo-950 border-blue-200 dark:border-blue-800 ${t}`,children:[e.jsx(I,{children:e.jsxs(L,{className:"flex items-center gap-2 text-blue-800 dark:text-blue-200",children:[e.jsx(Ao,{className:"h-5 w-5"}),"  "]})}),e.jsx(E,{children:e.jsxs("form",{onSubmit:c,className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-300",children:"        "}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(J,{type:"email",placeholder:"  ",value:s,onChange:d=>r(d.target.value),disabled:n,className:"flex-1"}),e.jsx(M,{type:"submit",disabled:n||!s.trim(),className:"bg-blue-600 hover:bg-blue-700 text-white",children:n?" ...":""})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"            "})]})})]})}function kT({className:t=""}){const[s,r]=h.useState([]),[n,a]=h.useState(new Set),[i,l]=h.useState(!1),{user:o}=tt(),{toast:c}=Xe();h.useEffect(()=>{d()},[]);const d=async()=>{l(!0);try{const{getPolls:m}=await le(async()=>{const{getPolls:x}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getPolls:x}},[]),f=await m();r(f)}catch(m){console.error("Error loading polls:",m)}finally{l(!1)}},u=async(m,f)=>{if(!o){c({title:" ",description:"     ",variant:"destructive"});return}if(n.has(m)){c({title:"  ",description:"     ",variant:"destructive"});return}try{const{voteOnPoll:x}=await le(async()=>{const{voteOnPoll:v}=await import("./supabase-api-direct-D5Ds99Uk.js");return{voteOnPoll:v}},[]),g=await x(m,f,o.id);if(!g.success){g.message.includes("")&&a(v=>new Set([...v,m])),c({title:g.success?"":"",description:g.message,variant:g.success?"default":"destructive"});return}a(v=>new Set([...v,m])),c({title:"",description:g.message}),d()}catch(x){console.error("Error voting:",x),c({title:"",description:"   ",variant:"destructive"})}};return i?e.jsxs(k,{className:t,children:[e.jsx(I,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(yr,{className:"h-5 w-5"}),"  ..."]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:[...Array(2)].map((m,f)=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-muted animate-pulse rounded"}),e.jsx("div",{className:"h-8 bg-muted animate-pulse rounded"})]},f))})})]}):s.length===0?null:e.jsx("div",{className:`space-y-4 ${t}`,children:s.map(m=>{const f=n.has(m.id),x=m.expires_at&&new Date(m.expires_at)<new Date;return e.jsxs(k,{className:"border-l-4 border-l-blue-500",children:[e.jsxs(I,{children:[e.jsxs(L,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(yr,{className:"h-5 w-5"}),e.jsx("span",{className:"text-base",children:m.title||m.question})]}),f&&e.jsx(as,{className:"h-5 w-5 text-green-500"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(gt,{className:"h-4 w-4"}),e.jsxs("span",{children:[m.total_votes,"   "]}),x&&e.jsx("span",{className:"text-red-500 font-medium",children:"  "})]})]}),e.jsxs(E,{className:"space-y-3",children:[m.options.map(g=>{const v=g.votes||g.vote_count||0,p=m.total_votes>0?Math.round(v/m.total_votes*100):0;return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:g.text}),f&&e.jsxs("span",{className:"text-xs text-muted-foreground",children:[p,"% (",v,")"]})]}),f?e.jsx(Os,{value:p,className:"h-3"}):e.jsx(M,{variant:"outline",size:"sm",onClick:()=>u(m.id,g.id),disabled:x||!m.is_active,className:"w-full justify-start",children:g.text})]},g.id)}),!o&&e.jsx("p",{className:"text-xs text-muted-foreground text-center mt-4",children:"   "})]})]},m.id)})})}var CT=["PageUp","PageDown"],ET=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],TT={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Nc="Slider",[Dg,o7,c7]=Xd(Nc),[PT,RB]=Ns(Nc,[c7]),[d7,Mf]=PT(Nc),AT=h.forwardRef((t,s)=>{const{name:r,min:n=0,max:a=100,step:i=1,orientation:l="horizontal",disabled:o=!1,minStepsBetweenThumbs:c=0,defaultValue:d=[n],value:u,onValueChange:m=()=>{},onValueCommit:f=()=>{},inverted:x=!1,form:g,...v}=t,p=h.useRef(new Set),j=h.useRef(0),y=l==="horizontal"?u7:h7,[_=[],b]=nn({prop:u,defaultProp:d,onChange:C=>{var K;(K=[...p.current][j.current])==null||K.focus(),m(C)}}),N=h.useRef(_);function T(C){const R=g7(_,C);P(C,R)}function A(C){P(C,j.current)}function S(){const C=N.current[j.current];_[j.current]!==C&&f(_)}function P(C,R,{commit:K}={commit:!1}){const W=w7(i),D=b7(Math.round((C-n)/i)*i+n,W),B=Md(D,[n,a]);b((V=[])=>{const O=x7(V,B,R);if(j7(O,c*i)){j.current=O.indexOf(B);const z=String(O)!==String(V);return z&&K&&f(O),z?O:V}else return V})}return e.jsx(d7,{scope:t.__scopeSlider,name:r,disabled:o,min:n,max:a,valueIndexToChangeRef:j,thumbs:p.current,values:_,orientation:l,form:g,children:e.jsx(Dg.Provider,{scope:t.__scopeSlider,children:e.jsx(Dg.Slot,{scope:t.__scopeSlider,children:e.jsx(y,{"aria-disabled":o,"data-disabled":o?"":void 0,...v,ref:s,onPointerDown:se(v.onPointerDown,()=>{o||(N.current=_)}),min:n,max:a,inverted:x,onSlideStart:o?void 0:T,onSlideMove:o?void 0:A,onSlideEnd:o?void 0:S,onHomeKeyDown:()=>!o&&P(n,0,{commit:!0}),onEndKeyDown:()=>!o&&P(a,_.length-1,{commit:!0}),onStepKeyDown:({event:C,direction:R})=>{if(!o){const D=CT.includes(C.key)||C.shiftKey&&ET.includes(C.key)?10:1,B=j.current,V=_[B],O=i*D*R;P(V+O,B,{commit:!0})}}})})})})});AT.displayName=Nc;var[RT,OT]=PT(Nc,{startEdge:"left",endEdge:"right",size:"width",direction:1}),u7=h.forwardRef((t,s)=>{const{min:r,max:n,dir:a,inverted:i,onSlideStart:l,onSlideMove:o,onSlideEnd:c,onStepKeyDown:d,...u}=t,[m,f]=h.useState(null),x=Me(s,y=>f(y)),g=h.useRef(void 0),v=ic(a),p=v==="ltr",j=p&&!i||!p&&i;function w(y){const _=g.current||m.getBoundingClientRect(),b=[0,_.width],T=sj(b,j?[r,n]:[n,r]);return g.current=_,T(y-_.left)}return e.jsx(RT,{scope:t.__scopeSlider,startEdge:j?"left":"right",endEdge:j?"right":"left",direction:j?1:-1,size:"width",children:e.jsx(IT,{dir:v,"data-orientation":"horizontal",...u,ref:x,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:y=>{const _=w(y.clientX);l==null||l(_)},onSlideMove:y=>{const _=w(y.clientX);o==null||o(_)},onSlideEnd:()=>{g.current=void 0,c==null||c()},onStepKeyDown:y=>{const b=TT[j?"from-left":"from-right"].includes(y.key);d==null||d({event:y,direction:b?-1:1})}})})}),h7=h.forwardRef((t,s)=>{const{min:r,max:n,inverted:a,onSlideStart:i,onSlideMove:l,onSlideEnd:o,onStepKeyDown:c,...d}=t,u=h.useRef(null),m=Me(s,u),f=h.useRef(void 0),x=!a;function g(v){const p=f.current||u.current.getBoundingClientRect(),j=[0,p.height],y=sj(j,x?[n,r]:[r,n]);return f.current=p,y(v-p.top)}return e.jsx(RT,{scope:t.__scopeSlider,startEdge:x?"bottom":"top",endEdge:x?"top":"bottom",size:"height",direction:x?1:-1,children:e.jsx(IT,{"data-orientation":"vertical",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:v=>{const p=g(v.clientY);i==null||i(p)},onSlideMove:v=>{const p=g(v.clientY);l==null||l(p)},onSlideEnd:()=>{f.current=void 0,o==null||o()},onStepKeyDown:v=>{const j=TT[x?"from-bottom":"from-top"].includes(v.key);c==null||c({event:v,direction:j?-1:1})}})})}),IT=h.forwardRef((t,s)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:a,onSlideEnd:i,onHomeKeyDown:l,onEndKeyDown:o,onStepKeyDown:c,...d}=t,u=Mf(Nc,r);return e.jsx(me.span,{...d,ref:s,onKeyDown:se(t.onKeyDown,m=>{m.key==="Home"?(l(m),m.preventDefault()):m.key==="End"?(o(m),m.preventDefault()):CT.concat(ET).includes(m.key)&&(c(m),m.preventDefault())}),onPointerDown:se(t.onPointerDown,m=>{const f=m.target;f.setPointerCapture(m.pointerId),m.preventDefault(),u.thumbs.has(f)?f.focus():n(m)}),onPointerMove:se(t.onPointerMove,m=>{m.target.hasPointerCapture(m.pointerId)&&a(m)}),onPointerUp:se(t.onPointerUp,m=>{const f=m.target;f.hasPointerCapture(m.pointerId)&&(f.releasePointerCapture(m.pointerId),i(m))})})}),DT="SliderTrack",MT=h.forwardRef((t,s)=>{const{__scopeSlider:r,...n}=t,a=Mf(DT,r);return e.jsx(me.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...n,ref:s})});MT.displayName=DT;var Mg="SliderRange",LT=h.forwardRef((t,s)=>{const{__scopeSlider:r,...n}=t,a=Mf(Mg,r),i=OT(Mg,r),l=h.useRef(null),o=Me(s,l),c=a.values.length,d=a.values.map(f=>UT(f,a.min,a.max)),u=c>1?Math.min(...d):0,m=100-Math.max(...d);return e.jsx(me.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...n,ref:o,style:{...t.style,[i.startEdge]:u+"%",[i.endEdge]:m+"%"}})});LT.displayName=Mg;var Lg="SliderThumb",FT=h.forwardRef((t,s)=>{const r=o7(t.__scopeSlider),[n,a]=h.useState(null),i=Me(s,o=>a(o)),l=h.useMemo(()=>n?r().findIndex(o=>o.ref.current===n):-1,[r,n]);return e.jsx(m7,{...t,ref:i,index:l})}),m7=h.forwardRef((t,s)=>{const{__scopeSlider:r,index:n,name:a,...i}=t,l=Mf(Lg,r),o=OT(Lg,r),[c,d]=h.useState(null),u=Me(s,w=>d(w)),m=c?l.form||!!c.closest("form"):!0,f=gf(c),x=l.values[n],g=x===void 0?0:UT(x,l.min,l.max),v=p7(n,l.values.length),p=f==null?void 0:f[o.size],j=p?v7(p,g,o.direction):0;return h.useEffect(()=>{if(c)return l.thumbs.add(c),()=>{l.thumbs.delete(c)}},[c,l.thumbs]),e.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[o.startEdge]:`calc(${g}% + ${j}px)`},children:[e.jsx(Dg.ItemSlot,{scope:t.__scopeSlider,children:e.jsx(me.span,{role:"slider","aria-label":t["aria-label"]||v,"aria-valuemin":l.min,"aria-valuenow":x,"aria-valuemax":l.max,"aria-orientation":l.orientation,"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,tabIndex:l.disabled?void 0:0,...i,ref:u,style:x===void 0?{display:"none"}:t.style,onFocus:se(t.onFocus,()=>{l.valueIndexToChangeRef.current=n})})}),m&&e.jsx($T,{name:a??(l.name?l.name+(l.values.length>1?"[]":""):void 0),form:l.form,value:x},n)]})});FT.displayName=Lg;var f7="RadioBubbleInput",$T=h.forwardRef(({__scopeSlider:t,value:s,...r},n)=>{const a=h.useRef(null),i=Me(a,n),l=yf(s);return h.useEffect(()=>{const o=a.current;if(!o)return;const c=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(l!==s&&u){const m=new Event("input",{bubbles:!0});u.call(o,s),o.dispatchEvent(m)}},[l,s]),e.jsx(me.input,{style:{display:"none"},...r,ref:i,defaultValue:s})});$T.displayName=f7;function x7(t=[],s,r){const n=[...t];return n[r]=s,n.sort((a,i)=>a-i)}function UT(t,s,r){const i=100/(r-s)*(t-s);return Md(i,[0,100])}function p7(t,s){return s>2?`Value ${t+1} of ${s}`:s===2?["Minimum","Maximum"][t]:void 0}function g7(t,s){if(t.length===1)return 0;const r=t.map(a=>Math.abs(a-s)),n=Math.min(...r);return r.indexOf(n)}function v7(t,s,r){const n=t/2,i=sj([0,50],[0,n]);return(n-i(s)*r)*r}function y7(t){return t.slice(0,-1).map((s,r)=>t[r+1]-s)}function j7(t,s){if(s>0){const r=y7(t);return Math.min(...r)>=s}return!0}function sj(t,s){return r=>{if(t[0]===t[1]||s[0]===s[1])return s[0];const n=(s[1]-s[0])/(t[1]-t[0]);return s[0]+n*(r-t[0])}}function w7(t){return(String(t).split(".")[1]||"").length}function b7(t,s){const r=Math.pow(10,s);return Math.round(t*r)/r}var zT=AT,N7=MT,_7=LT,S7=FT;const Jc=h.forwardRef(({className:t,...s},r)=>e.jsxs(zT,{ref:r,className:re("relative flex w-full touch-none select-none items-center","min-h-[44px] py-3",t),...s,children:[e.jsx(N7,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-gradient-to-r from-gray-200 via-gray-100 to-gray-200 dark:from-gray-700 dark:via-gray-800 dark:to-gray-700 shadow-inner",children:e.jsx(_7,{className:"absolute h-full bg-gradient-to-r from-primary to-primary/80 rounded-full shadow-sm transition-all duration-300 ease-out"})}),e.jsx(S7,{className:`
      block h-6 w-6 rounded-full 
      bg-white dark:bg-gray-100
      border-2 border-primary/70 dark:border-primary/90
      shadow-lg hover:shadow-xl
      transition-all duration-200 ease-out
      focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 focus-visible:ring-offset-background
      hover:scale-110 hover:border-primary
      disabled:pointer-events-none disabled:opacity-50
      cursor-pointer
      ring-0 hover:ring-4 hover:ring-primary/20
      /* Steve Krug: Clear interaction states */
      active:scale-95
      /* Farai Madzima: High contrast for accessibility */
      contrast-more:border-black contrast-more:dark:border-white
    `})]}));Jc.displayName=zT.displayName;const k7=()=>{const[,t]=e2("/article/:slug"),s=(t==null?void 0:t.slug)||"",r=r7(s),{user:n}=tt(),{toast:a}=Xe(),[i,l]=h.useState(null),[o,c]=h.useState([]),[d,u]=h.useState(!1),{data:m=[]}=xe({queryKey:["/api/articles",i==null?void 0:i.id,"related"],queryFn:async()=>{if(!i)return[];const{getRelatedArticles:pe}=await le(async()=>{const{getRelatedArticles:be}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getRelatedArticles:be}},[]);return pe(i.id,3)},enabled:!!i}),[f,x]=h.useState(!0),[g,v]=h.useState(null),[p,j]=h.useState(!1),[w,y]=h.useState(!1),[_,b]=h.useState(!1),[N,T]=h.useState(0),[A,S]=h.useState(!1),[P,C]=h.useState(0),[R,K]=h.useState(16),[W,D]=h.useState(!1),[B,V]=h.useState(!1),[O,z]=h.useState(250),[U,G]=h.useState(!1),[q,ce]=h.useState(!1),[ye,ue]=h.useState(0),[Se,ie]=h.useState(.8),[Re,Le]=h.useState(!1),[Ce,nt]=h.useState(null),[We,Rt]=h.useState(null),[fs,dn]=h.useState(1),[_r,Rn]=h.useState(1),[gu,On]=h.useState(0),[$,H]=h.useState(0),[Y,fe]=h.useState(0),de=h.useRef(null),ae=h.useRef(null),Pe=h.useRef(Date.now());h.useEffect(()=>{if(m){const pe=m.map(be=>({...be,content:be.content||"",category:Array.isArray(be.categories)?be.categories[0]:be.categories,is_featured:be.is_featured||!1}));c(pe)}},[m]),h.useEffect(()=>{(async()=>{if(!(!n||!i))try{const{data:{session:be}}=await qe.auth.getSession();if(!be)return;const{data:De,error:mt}=await qe.from("saved_articles").select().eq("user_id",n.id).eq("article_id",i.id).maybeSingle();if(mt&&mt.code!=="PGRST116"){console.error("Error checking if article is saved:",mt);return}j(!!De)}catch(be){console.error("Error checking if article is saved:",be)}})()},[n,i]),h.useEffect(()=>{const pe=()=>{const be=window.pageYOffset,De=document.documentElement.scrollHeight-window.innerHeight,mt=Math.min(be/De*100,100);C(mt),H(Math.max($,mt));const ct=Date.now(),pt=Math.floor((ct-Pe.current)/1e3);fe(pt)};return window.addEventListener("scroll",pe),()=>window.removeEventListener("scroll",pe)},[$]),h.useEffect(()=>{if(!B)return;const pe=setInterval(()=>{const be=O/60*10;window.scrollBy(0,be),window.innerHeight+window.scrollY>=document.body.offsetHeight&&V(!1)},100);return()=>clearInterval(pe)},[B,O]),h.useEffect(()=>{const pe=localStorage.getItem("article-font-size"),be=localStorage.getItem("article-theme");pe&&K(parseInt(pe)),be&&D(be==="dark")},[]),h.useEffect(()=>{localStorage.setItem("article-font-size",R.toString()),ae.current&&(ae.current.style.fontSize=`${R}px`)},[R]),h.useEffect(()=>{localStorage.setItem("article-theme",W?"dark":"light"),W?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[W]),h.useEffect(()=>{(async()=>{if(!(!n||!i))try{const{data:{session:be}}=await qe.auth.getSession();if(!be)return;const De=be.access_token,{trackReadingHistory:mt}=await le(async()=>{const{trackReadingHistory:ct}=await import("./supabase-api-direct-D5Ds99Uk.js");return{trackReadingHistory:ct}},[]);await mt(i.id,n.id)}catch(be){console.error("Error tracking reading history:",be)}})()},[n,i]);const it=async()=>{if(!i)return;const pe=prompt("   :");if(pe)try{const{reportArticle:be}=await le(async()=>{const{reportArticle:mt}=await import("./supabase-api-direct-D5Ds99Uk.js");return{reportArticle:mt}},[]),De=await be(i.id,"anonymous",pe.trim(),"User reported from article page");if(De.success)a({title:"   ",description:De.message});else throw new Error("Failed to submit report")}catch(be){console.error("Error reporting article:",be),a({title:"   ",description:",          ",variant:"destructive"})}},ht=async pe=>{if(i)try{const{submitUserFeedback:be}=await le(async()=>{const{submitUserFeedback:mt}=await import("./supabase-api-direct-D5Ds99Uk.js");return{submitUserFeedback:mt}},[]);if((await be("anonymous",pe==="helpful"?"helpful":"content_feedback",pe==="helpful"?"User found article helpful":"User provided content feedback",{article_id:i.id})).success)a({title:"   ",description:"     "});else throw new Error("Failed to submit feedback")}catch(be){console.error("Error submitting feedback:",be),a({title:"    ",description:",          ",variant:"destructive"})}},Zs=async()=>{if(i){if(!n){a({title:" ",description:"      ",variant:"destructive"});return}try{const{data:{session:pe}}=await qe.auth.getSession();if(!pe)throw new Error("No session found");const{saveArticleForOffline:be}=await le(async()=>{const{saveArticleForOffline:mt}=await import("./supabase-api-direct-D5Ds99Uk.js");return{saveArticleForOffline:mt}},[]),De=await be(i,pe.user.id);De.success?a({title:"   ",description:De.message}):a({title:De.message.includes("")?" ":" ",description:De.message,variant:"destructive"})}catch(pe){console.error("Error saving article for offline:",pe),a({title:"  ",description:",       ",variant:"destructive"})}}};h.useEffect(()=>{typeof window<"u"&&window.speechSynthesis&&(nt(window.speechSynthesis),window.speechSynthesis.getVoices().length===0&&window.speechSynthesis.addEventListener("voiceschanged",()=>{console.log("Voices loaded:",window.speechSynthesis.getVoices().length)}))},[]),h.useEffect(()=>()=>{Ce&&(Ce.cancel(),ce(!1),Rt(null),ue(0))},[Ce,r]);const In=pe=>{const be=new DOMParser().parseFromString(pe,"text/html");return be.body.textContent||be.body.innerText||""},Ur=()=>{var De;if(!i)return;const pe=window.open("","_blank");if(!pe)return;const be=In(i.content);pe.document.write(`
      <!DOCTYPE html>
      <html lang="bn">
      <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>${i.title} - </title>
        <style>
          @page {
            size: A4;
            margin: 2cm;
          }
          
          body {
            font-family: 'Kalpurush', 'SolaimanLipi', 'Vrinda', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 100%;
            margin: 0;
            padding: 0;
            background: white;
          }
          
          .header {
            text-align: center;
            border-bottom: 2px solid #e5e7eb;
            padding-bottom: 20px;
            margin-bottom: 30px;
          }
          
          .logo {
            font-size: 24px;
            font-weight: bold;
            color: #1f2937;
            margin-bottom: 5px;
          }
          
          .website-info {
            font-size: 12px;
            color: #6b7280;
            margin-bottom: 10px;
          }
          
          .article-meta {
            background: #f9fafb;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 30px;
          }
          
          .article-title {
            font-size: 24px;
            font-weight: bold;
            color: #1f2937;
            margin-bottom: 15px;
            line-height: 1.3;
          }
          
          .article-excerpt {
            font-size: 16px;
            color: #4b5563;
            margin-bottom: 15px;
            font-style: italic;
          }
          
          .article-info {
            display: flex;
            justify-content: space-between;
            font-size: 14px;
            color: #6b7280;
            border-top: 1px solid #e5e7eb;
            padding-top: 15px;
          }
          
          .article-content {
            font-size: 16px;
            line-height: 1.8;
            color: #374151;
            text-align: justify;
            hyphens: auto;
          }
          
          .article-content p {
            margin-bottom: 15px;
          }
          
          .footer {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #e5e7eb;
            text-align: center;
            font-size: 12px;
            color: #6b7280;
          }
          
          .category-badge {
            background: #3b82f6;
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            display: inline-block;
            margin-bottom: 10px;
          }
          
          .print-info {
            font-size: 10px;
            color: #9ca3af;
            margin-top: 20px;
          }
          
          @media print {
            body {
              -webkit-print-color-adjust: exact;
              color-adjust: exact;
            }
            
            .header {
              page-break-inside: avoid;
            }
            
            .article-title {
              page-break-after: avoid;
            }
            
            .article-content {
              orphans: 3;
              widows: 3;
            }
          }
        </style>
      </head>
      <body>
        <div class="header">
          <div class="logo"></div>
          <div class="website-info">   </div>
          <div class="website-info">www.prothomalo.com</div>
        </div>
        
        <div class="article-meta">
          <div class="category-badge">${((De=i.category)==null?void 0:De.name)||""}</div>
          <h1 class="article-title">${i.title}</h1>
          <div class="article-excerpt">${i.excerpt}</div>
          <div class="article-info">
            <span>: ${ea(i.published_at)}</span>
            <span> : ${i.view_count||0} </span>
          </div>
        </div>
        
        <div class="article-content">
          ${be.split(`
`).map(mt=>mt.trim()?`<p>${mt}</p>`:"").join("")}
        </div>
        
        <div class="footer">
          <p><strong></strong> -  ,  </p>
          <p> ${new Date().getFullYear()}    </p>
          <div class="print-info">
            <p>  : ${new Date().toLocaleString("bn-BD")}</p>
            <p>URL: ${window.location.href}</p>
          </div>
        </div>
      </body>
      </html>
    `),pe.document.close(),setTimeout(()=>{pe.print()},500)},vu=()=>{if(console.log("Audio button clicked"),console.log("Speech synthesis available:",!!Ce),console.log("Article available:",!!i),!Ce||!i){a({title:" ",description:"  --   ",variant:"destructive"});return}if(q)console.log("Stopping speech"),Ce.cancel(),ce(!1),Rt(null),ue(0);else{const pe=In(i.content),be=`${i.title}. ${pe}`;console.log("Text to speak length:",be.length),console.log("Text preview:",be.substring(0,100)+"...");const De=new SpeechSynthesisUtterance(be);De.rate=fs,De.pitch=_r,De.volume=Re?0:Se;const mt=Ce.getVoices();console.log("Available voices:",mt.map(pt=>`${pt.name} (${pt.lang})`));let ct=null;ct=mt.find(pt=>pt.lang.includes("bn")||pt.name.toLowerCase().includes("bengali")),ct||(ct=mt.find(pt=>pt.lang.includes("hi")||pt.name.includes(""))),ct||(ct=mt.find(pt=>pt.lang.includes("en-US")||pt.lang.includes("en-GB"))),ct?(De.voice=ct,De.lang=ct.lang,console.log("Using voice:",ct.name,ct.lang)):(De.lang="en-US",console.log("No specific voice found, using default English")),De.onstart=()=>{console.log("Speech started"),ce(!0),Rt(De),a({title:"  ",description:"  ..."})},De.onend=()=>{console.log("Speech ended"),ce(!1),Rt(null),ue(100),a({title:" ",description:"   "})},De.onerror=pt=>{console.error("Speech synthesis error:",pt.error),ce(!1),Rt(null),a({title:" ",description:`: ${pt.error}`,variant:"destructive"})},De.onboundary=pt=>{if(pt.name==="word"){const xa=pt.charIndex/be.length*100;ue(Math.min(xa,100))}},console.log("Starting speech synthesis"),Ce.speaking&&(Ce.cancel(),console.log("Cancelled previous speech")),setTimeout(()=>{try{Ce.speak(De),console.log("Speech synthesis started successfully"),setTimeout(()=>{!Ce.speaking&&!Ce.pending&&(console.log("Speech synthesis did not start - trying again"),Ce.speak(De))},200)}catch(pt){console.error("Error starting speech synthesis:",pt),ce(!1),Rt(null),a({title:" ",description:"     ",variant:"destructive"})}},100)}},_c=pe=>{const be=pe[0];ie(be),We&&Ce&&(We.volume=Re?0:be)},Sc=()=>{Le(!Re),We&&Ce&&(We.volume=Re?Se:0)},Lf=pe=>{const be=pe[0];if(dn(be),We&&q&&Ce&&i){Ce.cancel();const De=In(i.content),mt=`${i.title}. ${De}`,ct=new SpeechSynthesisUtterance(mt);ct.rate=be,ct.pitch=_r,ct.volume=Re?0:Se,ct.lang="en-US",Ce.speak(ct),Rt(ct)}},yu=pe=>{const be=pe[0];if(Rn(be),We&&q&&Ce&&i&&i.content){Ce.cancel();const De=In(i.content),mt=`${i.title}. ${De}`,ct=new SpeechSynthesisUtterance(mt);ct.rate=fs,ct.pitch=be,ct.volume=Re?0:Se,ct.lang="en-US",Ce.speak(ct),Rt(ct)}};if(h.useEffect(()=>{(async()=>{try{x(!0),v(null),Pe.current=Date.now();const{getArticleBySlug:be}=await le(async()=>{const{getArticleBySlug:pt}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getArticleBySlug:pt}},[]),De=await be(r);if(!De){v("    ");return}const mt={...De,content:De.content||"",category:Array.isArray(De.categories)?De.categories[0]:De.categories,is_featured:De.is_featured||!1};if(De.id&&!d)try{const{incrementViewCount:pt}=await le(async()=>{const{incrementViewCount:bu}=await import("./supabase-api-direct-D5Ds99Uk.js");return{incrementViewCount:bu}},[]),xa=await pt(De.id);xa&&(console.log(`[View Tracking] Successfully tracked view for article ${De.id}, new count: ${xa.viewCount}`),mt.view_count=xa.viewCount,u(!0))}catch(pt){console.error("Error tracking article view:",pt)}if(l(mt),De.title){const xa=`/article/${s7(De.title)}`,bu=window.location.pathname;(bu.includes("%")||bu!==xa)&&n7(xa)}const ct=(De.content||"").split(" ").length;On(Math.ceil(ct/200))}catch(be){v("    "),console.error("Error fetching article:",be)}finally{x(!1)}})(),window.scrollTo(0,0),C(0),H(0),fe(0),u(!1)},[r]),f)return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted/10",children:[e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsxs("div",{className:"animate-pulse space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"h-10 w-32 bg-muted/50 rounded-full"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"h-10 w-10 bg-muted/50 rounded-full"}),e.jsx("div",{className:"h-10 w-10 bg-muted/50 rounded-full"})]})]}),e.jsx("div",{className:"h-1 w-full bg-muted/50 rounded-full"}),e.jsxs("div",{className:"grid lg:grid-cols-4 gap-8",children:[e.jsx("div",{className:"lg:col-span-3 space-y-6",children:e.jsx(k,{className:"border-0 shadow-xl bg-gradient-to-br from-card to-card/95",children:e.jsx(E,{className:"p-8",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"h-6 w-20 bg-primary/20 rounded-full"}),e.jsx("div",{className:"h-4 w-16 bg-muted/50 rounded"}),e.jsx("div",{className:"h-4 w-24 bg-muted/50 rounded"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"h-10 bg-muted/50 rounded w-full"}),e.jsx("div",{className:"h-10 bg-muted/50 rounded w-4/5"})]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-muted/50 rounded-full"}),e.jsx("div",{className:"h-4 w-20 bg-muted/50 rounded"})]}),e.jsx("div",{className:"h-4 w-32 bg-muted/50 rounded"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"h-12 w-36 bg-primary/20 rounded-full"}),e.jsx("div",{className:"h-12 w-28 bg-muted/50 rounded-full"}),e.jsx("div",{className:"h-12 w-24 bg-muted/50 rounded-full"})]}),e.jsx("div",{className:"h-80 bg-gradient-to-br from-muted/30 to-muted/50 rounded-xl"}),e.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(pe=>e.jsx("div",{className:"h-4 bg-muted/40 rounded",style:{width:`${Math.random()*40+60}%`}},pe))})]})})})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(k,{className:"border-0 shadow-lg",children:[e.jsx(I,{children:e.jsx("div",{className:"h-6 w-32 bg-muted/50 rounded"})}),e.jsxs(E,{className:"space-y-4",children:[e.jsx("div",{className:"h-32 bg-gradient-to-br from-muted/30 to-muted/50 rounded-lg"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-muted/40 rounded w-full"}),e.jsx("div",{className:"h-4 bg-muted/40 rounded w-3/4"})]})]})]}),e.jsxs(k,{className:"border-0 shadow-lg",children:[e.jsx(I,{children:e.jsx("div",{className:"h-6 w-24 bg-muted/50 rounded"})}),e.jsx(E,{className:"space-y-4",children:[1,2,3].map(pe=>e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"h-16 w-16 bg-muted/50 rounded-lg"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 bg-muted/40 rounded"}),e.jsx("div",{className:"h-3 bg-muted/30 rounded w-2/3"})]})]},pe))})]})]})]})]})})}),e.jsx("div",{className:"fixed bottom-8 right-8 bg-gradient-to-r from-primary to-primary/80 text-primary-foreground px-6 py-3 rounded-full shadow-2xl border border-primary/20 backdrop-blur-sm",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-primary-foreground/30 border-t-primary-foreground rounded-full animate-spin"}),e.jsx("div",{className:"absolute inset-0 w-5 h-5 border border-primary-foreground/20 rounded-full animate-pulse"})]}),e.jsx("span",{className:"text-sm font-medium",children:"     ..."})]})})]});if(g||!i)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-muted/5 to-destructive/5 flex items-center justify-center p-4",children:e.jsx("div",{className:"container mx-auto",children:e.jsx("div",{className:"max-w-lg mx-auto",children:e.jsx(k,{className:"border-0 shadow-2xl bg-gradient-to-br from-card to-card/95 backdrop-blur-sm",children:e.jsxs(E,{className:"p-10 text-center",children:[e.jsxs("div",{className:"relative mx-auto mb-6",children:[e.jsx("div",{className:"w-20 h-20 mx-auto bg-gradient-to-br from-destructive/10 to-destructive/20 rounded-full flex items-center justify-center",children:e.jsx(Yi,{className:"w-10 h-10 text-destructive"})}),e.jsx("div",{className:"absolute inset-0 w-20 h-20 mx-auto border-2 border-destructive/20 rounded-full animate-pulse"})]}),e.jsx("h2",{className:"text-2xl font-bold mb-3 bg-gradient-to-r from-destructive to-destructive/80 bg-clip-text text-transparent",children:g||"   "}),e.jsx("p",{className:"text-muted-foreground mb-8 leading-relaxed",children:",            "}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(M,{asChild:!0,size:"lg",className:"bg-gradient-to-r from-primary to-primary/90 shadow-lg hover:shadow-xl transition-all duration-300",children:e.jsxs(X,{href:"/",children:[e.jsx(ew,{className:"w-5 h-5 mr-2"}),"  "]})}),e.jsxs(M,{variant:"outline",size:"lg",onClick:()=>window.location.reload(),className:"border-primary/20 hover:bg-primary/10 transition-all duration-300",children:[e.jsx(rw,{className:"w-4 h-4 mr-2"}),"  "]})]}),e.jsx("div",{className:"mt-8 pt-6 border-t border-border/50",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"       "})})]})})})})});const ju=vV({title:i.title,excerpt:i.excerpt,image_url:i.image_url,slug:i.slug,published_at:i.published_at,category:i.category,author:i.author||" "}),{metaElements:wu,linkElements:VT}=pu(ju);return e.jsxs("div",{className:`min-h-screen transition-all duration-500 ${W?"dark":""} ${U?"p-0":""}`,children:[e.jsxs(Ws,{children:[e.jsx("title",{children:ju.title}),wu.map((pe,be)=>pe.property?e.jsx("meta",{property:pe.property,content:pe.content},be):e.jsx("meta",{name:pe.name,content:pe.content},be)),VT.map((pe,be)=>e.jsx("link",{rel:pe.rel,href:pe.href},be))]}),e.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 h-1 bg-background/80 backdrop-blur-sm",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-primary via-primary/80 to-primary transition-all duration-300 shadow-lg",style:{width:`${P}%`}})}),e.jsx("div",{className:"fixed right-6 top-1/2 -translate-y-1/2 z-40 flex flex-col gap-2",children:e.jsx(k,{className:"p-2 shadow-xl border-0 bg-card/95 backdrop-blur-sm",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs(Gn,{children:[e.jsx(Xc,{asChild:!0,children:e.jsx(M,{variant:"ghost",size:"sm",className:"w-10 h-10 p-0",children:e.jsx(qs,{className:"w-4 h-4"})})}),e.jsxs(jn,{className:"max-w-md",children:[e.jsx(wn,{children:e.jsx(bn,{children:" "})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:" "}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(M,{variant:"outline",size:"sm",onClick:()=>K(Math.max(12,R-2)),children:e.jsx(jI,{className:"w-4 h-4"})}),e.jsxs("span",{className:"text-sm font-medium min-w-[3rem] text-center",children:[R,"px"]}),e.jsx(M,{variant:"outline",size:"sm",onClick:()=>K(Math.min(24,R+2)),children:e.jsx(yI,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-sm font-medium",children:" "}),e.jsx(Ze,{checked:W,onCheckedChange:D})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-sm font-medium",children:" "}),e.jsx(Ze,{checked:B,onCheckedChange:V})]}),B&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:" "}),e.jsx(Jc,{value:[O],onValueChange:pe=>z(pe[0]),max:400,min:100,step:50,className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[e.jsx("span",{children:""}),e.jsx("span",{children:""})]})]})]})]})]}),e.jsx(M,{variant:"ghost",size:"sm",onClick:vu,className:"w-10 h-10 p-0",children:q?e.jsx(Oo,{className:"w-4 h-4"}):e.jsx(Ji,{className:"w-4 h-4"})}),e.jsx(M,{variant:"ghost",size:"sm",onClick:()=>G(!U),className:"w-10 h-10 p-0",children:e.jsx(lI,{className:"w-4 h-4"})}),e.jsx(M,{variant:"ghost",size:"sm",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"w-10 h-10 p-0",children:e.jsx(R2,{className:"w-4 h-4"})})]})})}),e.jsx("div",{className:`${U?"":"container mx-auto px-4 py-8"}`,children:e.jsxs("div",{className:`${U?"max-w-4xl mx-auto px-8 py-4":"max-w-6xl mx-auto"}`,children:[!U&&e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx(M,{asChild:!0,variant:"ghost",className:"text-muted-foreground hover:text-foreground transition-all duration-300 group",children:e.jsxs(X,{href:"/",children:[e.jsx(ew,{className:"w-5 h-5 mr-2 group-hover:-translate-x-1 transition-transform duration-300"})," "]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(ee,{variant:"outline",className:"gap-1",children:[e.jsx(ot,{className:"w-3 h-3"}),gu,"  "]}),e.jsxs(ee,{variant:"outline",className:"gap-1",children:[e.jsx($t,{className:"w-3 h-3"}),i.view_count,"   "]})]})]}),e.jsxs("div",{className:"grid lg:grid-cols-4 gap-8",children:[e.jsxs("div",{className:`${U?"col-span-4":"lg:col-span-3"} space-y-8`,children:[e.jsx(k,{className:"border-0 shadow-2xl bg-gradient-to-br from-card via-card to-card/95 backdrop-blur-sm overflow-hidden",children:e.jsxs(E,{className:"p-0",children:[e.jsxs("div",{className:"p-8 pb-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx(X,{href:`/category/${i.category.slug}`,children:e.jsxs(ee,{className:"px-4 py-2 text-sm font-medium bg-gradient-to-r from-primary to-primary/90 hover:from-primary/90 hover:to-primary transition-all duration-300 shadow-lg hover:shadow-xl",children:[e.jsx(el,{className:"w-4 h-4 mr-2"}),i.category.name]})}),i.is_featured&&e.jsxs(ee,{variant:"secondary",className:"px-3 py-1 bg-gradient-to-r from-yellow-500/20 to-orange-500/20 text-yellow-700 dark:text-yellow-300 border border-yellow-500/30",children:[e.jsx(Ft,{className:"w-3 h-3 mr-1"}),""]}),e.jsx(a7,{content:i.content})]}),e.jsx("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold mb-6 leading-tight bg-gradient-to-r from-foreground to-foreground/80 bg-clip-text text-transparent",style:{fontFamily:"SolaimanLipi, Kalpurush, ApponaLohit, system-ui"},children:i.title}),i.excerpt&&e.jsx("p",{className:"text-lg md:text-xl text-muted-foreground mb-6 leading-relaxed",children:i.excerpt}),e.jsx("div",{className:"flex items-center justify-between flex-wrap gap-4 mb-6",children:e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(pl,{className:"w-10 h-10 border-2 border-primary/20",children:[e.jsx(gl,{src:"/default-author.jpg"}),e.jsx(vl,{className:"bg-gradient-to-br from-primary/10 to-primary/20 text-primary font-semibold",children:e.jsx(Xr,{className:"w-5 h-5"})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:" "}),e.jsx("p",{className:"text-xs text-muted-foreground",children:i.published_at?us(i.published_at):" "})]})]}),e.jsx(Tn,{orientation:"vertical",className:"h-10"}),e.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[e.jsx(ot,{className:"w-4 h-4"}),e.jsx("span",{children:i.published_at?us(i.published_at):" "})]})]})}),e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[e.jsx(jT,{articleId:i.id,variant:"button",className:"transition-all duration-300 hover:scale-105"}),e.jsx(wT,{articleId:i.id,className:"transition-all duration-300 hover:scale-105"}),e.jsx(bT,{articleId:i.id,title:i.title,className:"transition-all duration-300 hover:scale-105"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(M,{variant:"outline",onClick:vu,className:"gap-2 transition-all duration-300 hover:scale-105",disabled:!Ce,children:[q?e.jsx(Oo,{className:"w-4 h-4"}):e.jsx(Ji,{className:"w-4 h-4"}),q?"":""]}),e.jsxs(fl,{children:[e.jsx(xl,{asChild:!0,children:e.jsx(M,{variant:"ghost",size:"sm",children:e.jsx(qs,{className:"w-4 h-4"})})}),e.jsxs(yi,{align:"end",className:"w-64",children:[e.jsx(du,{children:" "}),e.jsx(ua,{}),e.jsxs("div",{className:"p-3 space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:""}),e.jsx(M,{variant:"ghost",size:"sm",onClick:Sc,className:"h-6 w-6 p-0",children:Re?e.jsx(vI,{className:"w-3 h-3"}):e.jsx(Mo,{className:"w-3 h-3"})})]}),e.jsx(Jc,{value:[Se],onValueChange:_c,max:1,min:0,step:.1,className:"w-full"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:""}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[fs,"x"]})]}),e.jsx(Jc,{value:[fs],onValueChange:Lf,max:2,min:.5,step:.1,className:"w-full"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:""}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[_r,"x"]})]}),e.jsx(Jc,{value:[_r],onValueChange:yu,max:2,min:.5,step:.1,className:"w-full"})]})]})]})]})]}),e.jsxs(M,{onClick:Ur,variant:"outline",className:"gap-2 transition-all duration-300 hover:scale-105",children:[e.jsx(ii,{className:"w-4 h-4"}),"PDF "]})]})]}),e.jsxs("div",{className:"relative group",children:[e.jsxs("div",{className:"overflow-hidden",children:[e.jsx("img",{src:i.imageUrl||i.image_url||"https://images.unsplash.com/photo-1504711434969-e33886168f5c?w=1200&h=600&fit=crop&auto=format&q=80",alt:i.title,className:"w-full h-[400px] md:h-[500px] object-cover transition-transform duration-700 group-hover:scale-105",onError:pe=>{const be=pe.target;be.src="https://images.unsplash.com/photo-1504711434969-e33886168f5c?w=1200&h=600&fit=crop&auto=format&q=80"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/80 to-transparent",children:e.jsx("p",{className:"text-white text-sm opacity-90",children:i.title})})]}),e.jsxs("div",{ref:ae,className:"p-8 pt-6",style:{fontSize:`${R}px`},children:[e.jsx("div",{className:"prose prose-lg max-w-none prose-headings:font-bold prose-headings:text-foreground prose-p:text-foreground prose-p:leading-relaxed prose-strong:text-foreground prose-a:text-primary hover:prose-a:text-primary/80 prose-blockquote:border-l-primary prose-blockquote:bg-muted/30 prose-blockquote:py-2 prose-blockquote:px-4 prose-blockquote:rounded-r-lg",dangerouslySetInnerHTML:{__html:i.content},style:{fontFamily:"SolaimanLipi, Kalpurush, ApponaLohit, system-ui",lineHeight:"1.8"}}),e.jsx("div",{className:"mt-8 p-6 bg-gradient-to-br from-primary/5 to-primary/10 border border-primary/20 rounded-xl",children:e.jsx(l7,{content:i.content})}),e.jsx("div",{className:"mt-6",children:e.jsx(_T,{articleId:i.id})})]}),e.jsx("div",{className:"p-8 pt-6 border-t border-border/50 bg-muted/20",children:e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(ee,{variant:"outline",className:"gap-1",children:[e.jsx(Ds,{className:"w-3 h-3"}),": ",i.published_at?ea(i.published_at):" "]}),i.updated_at&&i.updated_at!==i.published_at&&e.jsxs(ee,{variant:"outline",className:"gap-1",children:[e.jsx(rw,{className:"w-3 h-3"}),": ",i.updated_at?ea(i.updated_at):" "]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(M,{variant:"ghost",size:"sm",onClick:()=>ht("helpful"),children:[e.jsx(z2,{className:"w-4 h-4 mr-1"}),""]}),e.jsxs(M,{variant:"ghost",size:"sm",onClick:()=>it(),children:[e.jsx(L2,{className:"w-4 h-4 mr-1"}),""]})]})]})})]})}),e.jsx(NT,{articleId:i.id})]}),!U&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(k,{className:"border-0 shadow-lg bg-gradient-to-br from-card to-card/95",children:[e.jsx(I,{className:"pb-4",children:e.jsxs(L,{className:"text-lg flex items-center gap-2",children:[e.jsx(Do,{className:"w-5 h-5 text-primary"})," "]})}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:" "}),e.jsxs("span",{className:"font-medium",children:[Math.round(P),"%"]})]}),e.jsx(Os,{value:P,className:"h-2"})]}),q&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Mo,{className:"w-3 h-3"})," "]}),e.jsxs("span",{className:"font-medium",children:[Math.round(ye),"%"]})]}),e.jsx(Os,{value:ye,className:"h-2 bg-blue-100"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-primary",children:Math.floor(Y/60)}),e.jsx("div",{className:"text-xs text-muted-foreground",children:" "})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-primary",children:[Math.round($),"%"]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:" "})]})]})]})]}),o.length>0&&e.jsxs(k,{className:"border-0 shadow-lg bg-gradient-to-br from-card to-card/95",children:[e.jsx(I,{className:"pb-4",children:e.jsxs(L,{className:"text-lg flex items-center gap-2",children:[e.jsx(Ft,{className:"w-5 h-5 text-primary"})," "]})}),e.jsx(E,{className:"space-y-4",children:o.map(pe=>e.jsx(X,{href:`/article/${pe.slug}`,children:e.jsx("div",{className:"group cursor-pointer transition-all duration-300 hover:bg-muted/50 rounded-lg p-3 -m-3",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("img",{src:pe.imageUrl||pe.image_url||"https://images.unsplash.com/photo-1504711434969-e33886168f5c?w=300&h=200&fit=crop&auto=format&q=80",alt:pe.title,className:"w-16 h-16 object-cover rounded-lg group-hover:scale-105 transition-transform duration-300",onError:be=>{const De=be.target;De.src="https://images.unsplash.com/photo-1504711434969-e33886168f5c?w=300&h=200&fit=crop&auto=format&q=80"}}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-medium text-sm line-clamp-2 group-hover:text-primary transition-colors duration-300",children:pe.title}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:pe.publishedAt||pe.published_at?us(pe.publishedAt||pe.published_at):" "})]})]})})},pe.id))})]}),e.jsxs(k,{className:"border-0 shadow-lg bg-gradient-to-br from-card to-card/95",children:[e.jsx(I,{className:"pb-4",children:e.jsxs(L,{className:"text-lg flex items-center gap-2",children:[e.jsx(GO,{className:"w-5 h-5 text-primary"})," "]})}),e.jsxs(E,{className:"space-y-3",children:[e.jsxs(M,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:Ur,children:[e.jsx(ii,{className:"w-4 h-4 mr-2"}),"PDF "]}),e.jsxs(M,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>ht("content"),children:[e.jsx(aI,{className:"w-4 h-4 mr-2"})," "]}),e.jsxs(M,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>Zs(),children:[e.jsx(Kn,{className:"w-4 h-4 mr-2"})," "]})]})]}),e.jsx(ST,{}),e.jsx(kT,{})]})]})]})}),e.jsxs("audio",{ref:de,onTimeUpdate:()=>{if(de.current){const pe=de.current.currentTime/de.current.duration*100;ue(pe)}},onEnded:()=>ce(!1),children:[e.jsx("source",{src:"/audio/article-tts.mp3",type:"audio/mpeg"}),"     "]})]})};function C7(){const{slug:t}=Hv(),[s,r]=h.useState(null),[n,a]=h.useState(!0),[i,l]=h.useState(null);return h.useEffect(()=>{t&&(async()=>{try{a(!0),l(null);const{getVideoBySlug:c}=await le(async()=>{const{getVideoBySlug:u}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getVideoBySlug:u}},[]),d=await c(t||"");if(!d){l("  ");return}r(d)}catch(c){l("    "),console.error("Error fetching video:",c)}finally{a(!1)}})()},[t]),n?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"bg-gray-200 rounded-lg h-64 md:h-96 mb-6"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})})}):i?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsx(k,{className:"text-center",children:e.jsxs(E,{className:"pt-6",children:[e.jsx(Yt,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"  "}),e.jsx("p",{className:"text-gray-600 mb-4",children:i}),e.jsx(X,{href:"/",children:e.jsx(M,{children:"   "})})]})})})}):s?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx(k,{children:e.jsxs(E,{className:"p-0",children:[e.jsx("div",{className:"relative aspect-video bg-black rounded-t-lg overflow-hidden",children:e.jsxs("video",{className:"w-full h-full object-cover",controls:!0,poster:s.thumbnail_url,preload:"metadata",children:[e.jsx("source",{src:s.video_url,type:"video/mp4"}),"     "]})}),e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-3xl font-bold mb-4",children:s.title}),e.jsxs("div",{className:"flex flex-wrap gap-4 mb-6 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ds,{className:"h-4 w-4"}),e.jsx(vt,{date:s.published_at})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx($t,{className:"h-4 w-4"}),e.jsxs("span",{children:[(s.view_count||0).toLocaleString(),"   "]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ot,{className:"h-4 w-4"}),e.jsx("span",{children:s.duration})]})]}),e.jsx("div",{className:"prose prose-lg max-w-none",children:e.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:s.description})})]})]})}),e.jsx("div",{className:"mt-8 text-center",children:e.jsx(X,{href:"/#videos",children:e.jsx(M,{variant:"outline",children:"  "})})})]})}):null}function E7(){const{slug:t}=Hv(),[s,r]=h.useState(null),[n,a]=h.useState(!0),[i,l]=h.useState(null),[o,c]=h.useState(!1),[d,u]=h.useState(null);h.useEffect(()=>{t&&(async()=>{try{a(!0),l(null);const x=await fetch(`/api/audio-articles/${t}`);if(!x.ok){if(x.status===404){l("   ");return}throw new Error("Failed to fetch audio article")}const g=await x.json();r(g)}catch(x){l("     "),console.error("Error fetching audio article:",x)}finally{a(!1)}})()},[t]);const m=()=>{d&&(o?d.pause():d.play(),c(!o))};return n?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"bg-gray-200 rounded-lg h-64 mb-6"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})})}):i?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsx(k,{className:"text-center",children:e.jsxs(E,{className:"pt-6",children:[e.jsx(Yt,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"   "}),e.jsx("p",{className:"text-gray-600 mb-4",children:i}),e.jsx(X,{href:"/",children:e.jsx(M,{children:"   "})})]})})})}):s?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx(k,{children:e.jsxs(E,{className:"p-0",children:[e.jsxs("div",{className:"relative h-64 md:h-96 bg-gradient-to-br from-blue-500 to-purple-600 overflow-hidden",children:[e.jsx("img",{src:s.image_url,alt:s.title,className:"w-full h-full object-cover",onError:f=>{f.currentTarget.style.display="none"}}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center",children:e.jsx("button",{onClick:m,className:"bg-white bg-opacity-20 backdrop-blur-sm rounded-full p-6 hover:bg-opacity-30 transition-all duration-300",children:o?e.jsx(Oo,{className:"h-12 w-12 text-white"}):e.jsx(Ji,{className:"h-12 w-12 text-white ml-1"})})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-3xl font-bold mb-4",children:s.title}),e.jsxs("div",{className:"flex flex-wrap gap-4 mb-6 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ds,{className:"h-4 w-4"}),e.jsx(vt,{date:s.published_at})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ot,{className:"h-4 w-4"}),e.jsx("span",{children:s.duration})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Mo,{className:"h-4 w-4"}),e.jsx("span",{children:" "})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:e.jsxs("audio",{ref:u,controls:!0,className:"w-full",preload:"metadata",onPlay:()=>c(!0),onPause:()=>c(!1),children:[e.jsx("source",{src:s.audio_url,type:"audio/mpeg"}),"     "]})}),e.jsx("div",{className:"prose prose-lg max-w-none",children:e.jsx("p",{className:"text-gray-700 leading-relaxed",children:s.excerpt})})]})]})}),e.jsx("div",{className:"mt-8 text-center",children:e.jsx(X,{href:"/#audio",children:e.jsx(M,{variant:"outline",children:"   "})})})]})}):null}function T7(){const[t,s]=h.useState([]),[r,n]=h.useState(!0),[a,i]=h.useState(null);h.useEffect(()=>{(async()=>{try{n(!0),i(null);const{getVideoContent:c}=await le(async()=>{const{getVideoContent:u}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getVideoContent:u}},[]),d=await c();s(d)}catch(c){i("    "),console.error("Error fetching videos:",c)}finally{n(!1)}})()},[]);const l=o=>o>=1e6?`${(o/1e6).toFixed(1)}M`:o>=1e3?`${(o/1e3).toFixed(1)}K`:o.toString();return r?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-48 mb-8"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((o,c)=>e.jsxs("div",{className:"bg-white rounded shadow-sm overflow-hidden",children:[e.jsx("div",{className:"h-48 bg-gray-200"}),e.jsxs("div",{className:"p-4 space-y-2",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]},c))})]})}):a?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsx(k,{className:"text-center",children:e.jsxs(E,{className:"pt-6",children:[e.jsx(Yt,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"   "}),e.jsx("p",{className:"text-gray-600 mb-4",children:a}),e.jsx(X,{href:"/",children:e.jsx(M,{children:"   "})})]})})})}):e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:" "}),e.jsx("p",{className:"text-gray-600",children:"    "})]}),t.length===0?e.jsx(k,{className:"text-center",children:e.jsxs(E,{className:"pt-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"   "}),e.jsx("p",{className:"text-gray-600",children:"     "})]})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(o=>e.jsxs(k,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[e.jsx(X,{href:`/video/${o.slug}`,children:e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:o.thumbnail_url,alt:o.title,className:"w-full h-48 object-cover"}),e.jsx("div",{className:"absolute bottom-2 right-2 bg-black bg-opacity-75 text-white text-xs px-2 py-1 rounded",children:o.duration})]})}),e.jsxs(E,{className:"p-4",children:[e.jsx("h3",{className:"font-bold text-lg mb-2 line-clamp-2",children:e.jsx(X,{href:`/video/${o.slug}`,className:"hover:text-blue-600 transition-colors",children:o.title})}),e.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:o.description}),e.jsxs("div",{className:"flex flex-wrap gap-3 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ds,{className:"h-4 w-4"}),e.jsx(vt,{date:o.published_at})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx($t,{className:"h-4 w-4"}),e.jsxs("span",{children:[l(o.view_count||0),"  "]})]})]})]})]},o.id))})]})})}function P7(){const[t,s]=h.useState([]),[r,n]=h.useState(!0),[a,i]=h.useState(null);return h.useEffect(()=>{(async()=>{try{n(!0),i(null);const{getAudioArticles:o}=await le(async()=>{const{getAudioArticles:d}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getAudioArticles:d}},[]),c=await o();s(c)}catch(o){i("     "),console.error("Error fetching audio articles:",o)}finally{n(!1)}})()},[]),r?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-48 mb-8"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((l,o)=>e.jsxs("div",{className:"bg-white rounded shadow-sm overflow-hidden",children:[e.jsx("div",{className:"h-48 bg-gray-200"}),e.jsxs("div",{className:"p-4 space-y-2",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]},o))})]})}):a?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsx(k,{className:"text-center",children:e.jsxs(E,{className:"pt-6",children:[e.jsx(Yt,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"    "}),e.jsx("p",{className:"text-gray-600 mb-4",children:a}),e.jsx(X,{href:"/",children:e.jsx(M,{children:"   "})})]})})})}):e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"  "}),e.jsx("p",{className:"text-gray-600",children:"    "})]}),t.length===0?e.jsx(k,{className:"text-center",children:e.jsxs(E,{className:"pt-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"    "}),e.jsx("p",{className:"text-gray-600",children:"      "})]})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(l=>e.jsxs(k,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[e.jsx(X,{href:`/audio/${l.slug}`,children:e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:l.image_url,alt:l.title,className:"w-full h-48 object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center",children:e.jsx(Mo,{className:"h-12 w-12 text-white"})}),e.jsx("div",{className:"absolute bottom-2 right-2 bg-black bg-opacity-75 text-white text-xs px-2 py-1 rounded",children:l.duration})]})}),e.jsxs(E,{className:"p-4",children:[e.jsx("h3",{className:"font-bold text-lg mb-2 line-clamp-2",children:e.jsx(X,{href:`/audio/${l.slug}`,className:"hover:text-blue-600 transition-colors",children:l.title})}),e.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-3",children:l.excerpt}),e.jsxs("div",{className:"flex flex-wrap gap-3 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ds,{className:"h-4 w-4"}),e.jsx(vt,{date:l.published_at})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ot,{className:"h-4 w-4"}),e.jsx("span",{children:l.duration})]})]})]})]},l.id))})]})})}const A7=()=>{const[t,s]=h.useState(null),[r,n]=h.useState([]),[a,i]=h.useState(1),[l,o]=h.useState(!0),[c,d]=h.useState(!0),[u,m]=h.useState(null),f=12;h.useEffect(()=>{(async()=>{try{d(!0);const{getLatestEPaper:v,getEPapers:p}=await le(async()=>{const{getLatestEPaper:y,getEPapers:_}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getLatestEPaper:y,getEPapers:_}},[]),j=await v();s(j);const w=await p();n(w),o(w.length===f),m(null)}catch(v){m("-    "),console.error("Error fetching e-papers:",v)}finally{d(!1)}})()},[]);const x=async()=>{try{d(!0);const g=a+1,v=a*f,{getEPapers:p}=await le(async()=>{const{getEPapers:w}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getEPapers:w}},[]),j=await p(f,v);j.length>0?(n([...r,...j]),i(g),o(j.length===f)):o(!1)}catch(g){console.error("Error loading more e-papers:",g)}finally{d(!1)}};return c&&!t?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-48 mb-8"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6",children:[...Array(8)].map((g,v)=>e.jsxs("div",{className:"bg-white rounded shadow-sm p-4",children:[e.jsx("div",{className:"h-64 bg-gray-200 rounded mb-2"}),e.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-1"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]},v))})]})}):u||!t&&!c?e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-8 font-hind",children:"- "}),e.jsx("div",{className:"bg-white rounded shadow-sm p-8 text-center",children:e.jsx("h2",{className:"text-xl font-bold mb-4 font-hind",children:u||" -  "})})]}):e.jsxs(e.Fragment,{children:[e.jsxs(Ws,{children:[e.jsx("title",{children:"-  - "}),e.jsx("meta",{name:"description",content:" -      -  "})]}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-8 font-hind",children:"- "}),t&&e.jsxs("div",{className:"mb-10",children:[e.jsx("h2",{className:"text-xl font-bold mb-4 font-hind border-b border-mid-gray pb-2",children:" "}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center bg-white rounded shadow-sm p-6",children:[e.jsx("div",{className:"md:w-1/3 mb-6 md:mb-0 md:pr-6",children:e.jsx("a",{href:t.pdfUrl,target:"_blank",rel:"noopener noreferrer",className:"block hover:opacity-80 transition",children:e.jsx("img",{src:t.imageUrl,alt:t.title,className:"mx-auto shadow-md border border-mid-gray h-96 object-cover"})})}),e.jsxs("div",{className:"md:w-2/3",children:[e.jsx("h3",{className:"text-2xl font-bold mb-2 font-hind",children:t.title}),e.jsxs("p",{className:"text-lg mb-4",children:[": ",ea(t.publishDate)]}),e.jsxs("a",{href:t.pdfUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-accent hover:bg-opacity-90 text-white px-6 py-3 rounded font-medium transition",children:[e.jsx("i",{className:"far fa-file-pdf mr-2"}),"  "]})]})]})]}),e.jsx("h2",{className:"text-xl font-bold mb-4 font-hind border-b border-mid-gray pb-2",children:" "}),r.length===0?e.jsx("div",{className:"bg-white rounded shadow-sm p-8 text-center",children:e.jsx("p",{className:"text-lg",children:"     "})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6",children:r.map(g=>e.jsx("div",{className:"bg-white rounded shadow-sm overflow-hidden hover:shadow-md transition",children:e.jsxs("a",{href:g.pdfUrl,target:"_blank",rel:"noopener noreferrer",className:"block",children:[e.jsx("img",{src:g.imageUrl,alt:g.title,className:"w-full h-64 object-cover border-b border-mid-gray"}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-bold mb-1 font-hind",children:g.title}),e.jsx("p",{className:"text-sm text-gray-600",children:ea(g.publishDate)})]})]})},g.id))}),l&&e.jsx("div",{className:"mt-8 text-center",children:e.jsx("button",{onClick:x,disabled:c,className:"bg-accent hover:bg-opacity-90 text-white px-6 py-2 rounded font-medium transition disabled:opacity-50",children:c?" ...":" "})})]})]})]})},R7=()=>{const[t]=St(),r=new URLSearchParams(window.location.search).get("q")||"";console.log("Search page - location:",t),console.log("Search page - window.location.search:",window.location.search),console.log("Search page - query:",r);const[n,a]=h.useState([]),[i,l]=h.useState(1),[o,c]=h.useState(!0),[d,u]=h.useState(!0),[m,f]=h.useState(null),x=10;h.useEffect(()=>{(async()=>{if(!r.trim()){a([]),u(!1);return}try{u(!0);const{searchArticles:y}=await le(async()=>{const{searchArticles:b}=await import("./supabase-api-direct-D5Ds99Uk.js");return{searchArticles:b}},[]),_=await y(r,void 0,x);a(_),c(_.length===x),l(1),f(null)}catch(y){f("   "),console.error("Error searching articles:",y)}finally{u(!1)}})(),window.scrollTo(0,0)},[r]);const g=async()=>{try{u(!0);const w=i+1,y=i*x,{searchArticles:_}=await le(async()=>{const{searchArticles:N}=await import("./supabase-api-direct-D5Ds99Uk.js");return{searchArticles:N}},[]),b=await _(r,void 0,x);b.length>0?(a([...n,...b]),l(w),c(b.length===x)):c(!1)}catch(w){console.error("Error loading more search results:",w)}finally{u(!1)}},v=wV(r),{metaElements:p,linkElements:j}=pu(v);return e.jsxs(e.Fragment,{children:[e.jsxs(Ws,{children:[e.jsx("title",{children:v.title}),p.map((w,y)=>w.property?e.jsx("meta",{property:w.property,content:w.content},y):e.jsx("meta",{name:w.name,content:w.content},y)),j.map((w,y)=>e.jsx("link",{rel:w.rel,href:w.href},y))]}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6 font-hind",children:r?`"${r}"   (${n.length})`:" "}),!r&&e.jsxs("div",{className:"bg-white rounded shadow-sm p-8 text-center",children:[e.jsx("p",{className:"text-lg mb-4",children:"       "}),e.jsx(X,{href:"/",className:"text-accent hover:underline",children:"  "})]}),r&&d&&n.length===0&&e.jsx("div",{className:"animate-pulse",children:[...Array(5)].map((w,y)=>e.jsxs("div",{className:"bg-white rounded shadow-sm p-4 mb-4 flex",children:[e.jsx("div",{className:"flex-shrink-0 w-32 h-24 bg-gray-200 rounded mr-4"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/4"})]})]},y))}),r&&!d&&n.length===0&&e.jsxs("div",{className:"bg-white rounded shadow-sm p-8 text-center",children:[e.jsxs("p",{className:"text-lg mb-4",children:['"',r,'"      ']}),e.jsx(X,{href:"/",className:"text-accent hover:underline",children:"  "})]}),r&&n.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-4",children:n.map(w=>{var y,_,b,N;return e.jsxs("div",{className:"bg-white rounded shadow-sm p-4 hover:shadow-md transition flex flex-col md:flex-row",children:[e.jsx("div",{className:"flex-shrink-0 w-full md:w-32 h-48 md:h-24 mb-4 md:mb-0 md:mr-4",children:e.jsx(X,{href:`/article/${w.slug}`,children:e.jsx("img",{src:w.imageUrl,alt:w.title,className:"w-full h-full object-cover rounded hover:opacity-90 transition cursor-pointer"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center mb-1",children:[e.jsx(X,{href:`/category/${((y=w.category)==null?void 0:y.slug)||((_=w.categories)==null?void 0:_.slug)||"general"}`,children:e.jsx("span",{className:"text-xs bg-light px-2 py-1 rounded mr-2 hover:bg-accent hover:text-white transition cursor-pointer",children:((b=w.category)==null?void 0:b.name)||((N=w.categories)==null?void 0:N.name)||""})}),e.jsx("span",{className:"text-xs text-gray-500",children:us(w.publishedAt)})]}),e.jsx(X,{href:`/article/${w.slug}`,children:e.jsx("h3",{className:"font-bold text-lg mb-2 font-hind hover:text-accent transition cursor-pointer",children:w.title})}),e.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:w.excerpt}),e.jsx(X,{href:`/article/${w.slug}`,children:e.jsx("span",{className:"text-accent text-sm hover:underline cursor-pointer",children:" "})})]})]},w.id)})}),o&&e.jsx("div",{className:"mt-8 text-center",children:e.jsx("button",{onClick:g,disabled:d,className:"bg-accent hover:bg-opacity-90 text-white px-6 py-2 rounded font-medium transition disabled:opacity-50",children:d?" ...":"  "})})]})]})]})},O7=()=>{const[t,s]=h.useState(""),[r,n]=h.useState(""),[a,i]=h.useState([]),[l,o]=h.useState([]),[c,d]=h.useState([]),[u,m]=h.useState(!1),[f,x]=h.useState(null),[g,v]=h.useState(!1),{user:p}=tt();h.useEffect(()=>{j(),p&&w()},[p]);const j=async()=>{try{const{getCategories:P}=await le(async()=>{const{getCategories:R}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getCategories:R}},[]),C=await P();o(C)}catch(P){console.error("Error fetching categories:",P)}},w=async()=>{try{if(!(p!=null&&p.id))return;const{getUserSearchHistory:P}=await le(async()=>{const{getUserSearchHistory:R}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getUserSearchHistory:R}},[]),C=await P(p.id,5);d(C)}catch(P){console.error("Error fetching search history:",P)}},y=async P=>{if(P.preventDefault(),!!t.trim()){m(!0),x(null),v(!0);try{const{searchArticles:C}=await le(async()=>{const{searchArticles:K}=await import("./supabase-api-direct-D5Ds99Uk.js");return{searchArticles:K}},[]),R=await C(t,r,20);i(R),p&&(await _(t,R.length),w())}catch(C){x("      "),console.error("Search error:",C)}finally{m(!1)}}},_=async(P,C)=>{try{if(!(p!=null&&p.id))return;const{saveUserSearchHistory:R}=await le(async()=>{const{saveUserSearchHistory:K}=await import("./supabase-api-direct-D5Ds99Uk.js");return{saveUserSearchHistory:K}},[]);await R(p.id,P,C)}catch(R){console.error("Error saving search history:",R)}},b=P=>{s(P.search_query),n(""),setTimeout(()=>{const C=document.getElementById("search-form");C&&C.requestSubmit()},100)},N=P=>{p&&T(P.id,"view"),window.open(`/article/${P.id}`,"_blank")},T=async(P,C)=>{try{if(!(p!=null&&p.id))return;const{recordUserInteraction:R}=await le(async()=>{const{recordUserInteraction:K}=await import("./supabase-api-direct-D5Ds99Uk.js");return{recordUserInteraction:K}},[]);await R(p.id,P,C,{source:"advanced_search",search_query:t,timestamp:new Date().toISOString()})}catch(R){console.error("Error tracking interaction:",R)}},A=P=>new Date(P).toLocaleDateString("bn-BD",{year:"numeric",month:"long",day:"numeric"}),S=P=>P>=.8?"bg-green-100 text-green-800":P>=.6?"bg-blue-100 text-blue-800":P>=.4?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[e.jsx(Mt,{className:"w-6 h-6 text-blue-600"}),e.jsx("h2",{className:"text-2xl font-bold",children:"  "})]}),e.jsxs(k,{children:[e.jsx(I,{children:e.jsxs(L,{className:"flex items-center space-x-2",children:[e.jsx(Mt,{className:"w-5 h-5"}),e.jsx("span",{children:" "})]})}),e.jsx(E,{children:e.jsx("form",{id:"search-form",onSubmit:y,className:"space-y-4",children:e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(J,{type:"text",placeholder:"    ...",value:t,onChange:P=>s(P.target.value),className:"text-lg"})}),e.jsx("div",{className:"w-48",children:e.jsxs(Tr,{value:r,onValueChange:n,children:[e.jsx(hr,{children:e.jsx(Pr,{placeholder:" "})}),e.jsxs(mr,{children:[e.jsx(lt,{value:"",children:" "}),l.map(P=>e.jsx(lt,{value:P.id.toString(),children:P.name},P.id))]})]})}),e.jsx(M,{type:"submit",disabled:u,className:"px-6",children:u?e.jsxs(e.Fragment,{children:[e.jsx(Mt,{className:"w-4 h-4 mr-2 animate-spin"})," ..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Mt,{className:"w-4 h-4 mr-2"}),""]})})]})})})]}),p&&c.length>0&&e.jsxs(k,{children:[e.jsx(I,{children:e.jsxs(L,{className:"flex items-center space-x-2",children:[e.jsx(ot,{className:"w-5 h-5"}),e.jsx("span",{children:" "})]})}),e.jsx(E,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:c.map(P=>e.jsxs(ee,{variant:"outline",className:"cursor-pointer hover:bg-gray-100",onClick:()=>b(P),children:[P.search_query,e.jsxs("span",{className:"ml-1 text-xs text-gray-500",children:["(",P.search_results_count,")"]})]},P.id))})})]}),f&&e.jsx(Ms,{className:"border-red-200 bg-red-50",children:e.jsx(Ls,{className:"text-red-800",children:f})}),u&&e.jsx("div",{className:"space-y-4",children:[...Array(3)].map((P,C)=>e.jsx(k,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex space-x-4",children:[e.jsx(Qe,{className:"w-24 h-24 rounded"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx(Qe,{className:"h-4 w-full"}),e.jsx(Qe,{className:"h-4 w-3/4"}),e.jsx(Qe,{className:"h-4 w-1/2"})]})]})})},C))}),g&&!u&&e.jsxs(k,{children:[e.jsx(I,{children:e.jsxs(L,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ft,{className:"w-5 h-5"}),e.jsx("span",{children:" "})]}),e.jsxs(ee,{variant:"secondary",children:[a.length,"  "]})]})}),e.jsx(E,{children:a.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(Mt,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),e.jsx("p",{children:"   "}),e.jsx("p",{className:"text-sm mt-1",children:"     "})]}):e.jsx("div",{className:"space-y-4",children:a.map(P=>e.jsxs("div",{className:"flex space-x-4 p-4 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>N(P),children:[e.jsx("img",{src:P.image_url||"/placeholder-news.jpg",alt:P.title,className:"w-24 h-24 object-cover rounded"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsxs(ee,{className:`${S(P.search_rank)} text-xs`,children:[Math.round(P.search_rank*100),"% "]}),e.jsx(ee,{variant:"outline",className:"text-xs",children:P.category_name})]}),e.jsx("h3",{className:"font-semibold text-lg mb-2 hover:text-blue-600 transition-colors",children:P.title}),e.jsx("p",{className:"text-gray-600 text-sm mb-2 line-clamp-2",children:P.excerpt}),e.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[e.jsx(ot,{className:"w-3 h-3"}),e.jsx("span",{children:A(P.published_at)})]})]})]},P.id))})})]}),e.jsxs(k,{className:"bg-blue-50 border-blue-200",children:[e.jsx(I,{children:e.jsxs(L,{className:"flex items-center space-x-2",children:[e.jsx(li,{className:"w-5 h-5"}),e.jsx("span",{children:" "})]})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"   :"}),e.jsxs("ul",{className:"space-y-1",children:[e.jsx("li",{children:"    "}),e.jsx("li",{children:"    "}),e.jsx("li",{children:"    "}),e.jsx("li",{children:"    "})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:" :"}),e.jsxs("ul",{className:"space-y-1",children:[e.jsx("li",{children:"    "}),e.jsx("li",{children:"   "}),e.jsx("li",{children:"   "}),e.jsx("li",{children:"   "})]})]})]})})]})]})};function I7(){return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Af,{}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx(O7,{})}),e.jsx(Rf,{})]})}const D7=()=>{const[t,s]=h.useState([]),[r,n]=h.useState([]),[a,i]=h.useState(!0),[l,o]=h.useState(null),[c,d]=h.useState({}),{user:u}=tt();h.useEffect(()=>{u!=null&&u.access_token?(f(),x()):m()},[u]);const m=async()=>{try{i(!0),o(null);const{getPopularArticles:_}=await le(async()=>{const{getPopularArticles:T}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getPopularArticles:T}},[]),N=(await _(12)).map(T=>{var A;return{...T,recommendation_score:.8,reason:" ",category_name:((A=T.category)==null?void 0:A.name)||"",image_url:T.imageUrl||T.image_url}});s(N)}catch(_){o("     "),console.error("Error fetching popular articles:",_)}finally{i(!1)}},f=async()=>{try{if(i(!0),o(null),!(u!=null&&u.access_token)){await m();return}const _=await fetch("/api/personalized-recommendations?limit=12",{headers:{Authorization:`Bearer ${u.access_token}`,"Content-Type":"application/json"}});if(_.status===401){o("      ");return}if(!_.ok){const N=await _.json().catch(()=>({}));throw new Error(N.message||`HTTP ${_.status}: Failed to fetch recommendations`)}const b=await _.json();s(Array.isArray(b)?b:[])}catch(_){const b=_.message||"     ";o(b),console.error("Error fetching personalized recommendations:",{message:_.message,stack:_.stack,name:_.name,user:u?"authenticated":"not authenticated"})}finally{i(!1)}},x=async()=>{try{const _=await fetch("/api/user/preferences");if(_.ok){const b=await _.json();n(b)}}catch(_){console.error("Error fetching user preferences:",_)}},g=async(_,b,N)=>{if(!(!u||c[_])){d(T=>({...T,[_]:!0}));try{await fetch("/api/interactions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({articleId:_,interactionType:b,duration:N||0,metadata:{source:"personalized_recommendations",timestamp:new Date().toISOString()}})})}catch(T){console.error("Error tracking interaction:",T)}finally{d(T=>({...T,[_]:!1}))}}},v=_=>{g(_.id,"view",0),window.open(`/article/${_.id}`,"_blank")},p=_=>{if(g(_.id,"share"),navigator.share)navigator.share({title:_.title,text:_.excerpt,url:`${window.location.origin}/article/${_.id}`});else{const b=`${window.location.origin}/article/${_.id}`;navigator.clipboard.writeText(b)}},j=_=>{g(_.id,"like")},w=_=>{const b=new Date(_),T=Math.floor((new Date().getTime()-b.getTime())/(1e3*60*60));return T<1?"  ":T<24?`${T}  `:T<48?"":b.toLocaleDateString("bn-BD")},y=_=>_>=.8?"bg-green-100 text-green-800":_>=.6?"bg-blue-100 text-blue-800":_>=.4?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800";return u?a?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Qe,{className:"h-8 w-64"}),e.jsx(Qe,{className:"h-4 w-32"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((_,b)=>e.jsxs(k,{className:"overflow-hidden",children:[e.jsx(Qe,{className:"h-48 w-full"}),e.jsxs(E,{className:"p-4 space-y-2",children:[e.jsx(Qe,{className:"h-4 w-full"}),e.jsx(Qe,{className:"h-4 w-3/4"}),e.jsx(Qe,{className:"h-4 w-1/2"})]})]},b))})]}):l?e.jsx(Ms,{className:"border-red-200 bg-red-50",children:e.jsx(Ls,{className:"text-red-800",children:l})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold flex items-center space-x-2",children:[e.jsx(li,{className:"w-6 h-6 text-yellow-500"}),e.jsx("span",{children:u!=null&&u.access_token?"   ":" "})]}),e.jsx("p",{className:"text-gray-600 mt-1",children:u!=null&&u.access_token?"     ":"  "})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[t.length,"  "]})]}),r.length>0&&e.jsxs(k,{className:"bg-blue-50 border-blue-200",children:[e.jsx(I,{className:"pb-3",children:e.jsxs(L,{className:"text-lg flex items-center space-x-2",children:[e.jsx(Ft,{className:"w-5 h-5"}),e.jsx("span",{children:"  "})]})}),e.jsx(E,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:r.slice(0,5).map((_,b)=>e.jsxs(ee,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:[_.categories.name,e.jsxs("span",{className:"ml-1 text-xs",children:["(",Math.round(_.interest_score*100),"%)"]})]},b))})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(_=>e.jsxs(k,{className:"overflow-hidden hover:shadow-lg transition-shadow cursor-pointer group",onClick:()=>v(_),children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:_.image_url||"/placeholder-news.jpg",alt:_.title,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),e.jsx("div",{className:"absolute top-2 left-2",children:e.jsxs(ee,{className:`${y(_.recommendation_score)} text-xs`,children:[Math.round(_.recommendation_score*100),"% "]})}),e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx(ee,{variant:"secondary",className:"text-xs",children:_.category_name})})]}),e.jsxs(E,{className:"p-4",children:[e.jsx("h3",{className:"font-semibold text-lg mb-2 line-clamp-2 group-hover:text-blue-600 transition-colors",children:_.title}),e.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-3",children:_.excerpt}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ot,{className:"w-3 h-3"}),e.jsx("span",{children:w(_.published_at)})]}),_.article_analytics&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx($t,{className:"w-3 h-3"}),e.jsx("span",{children:_.article_analytics.view_count})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-xs text-blue-600 font-medium",children:_.reason}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(M,{variant:"ghost",size:"sm",onClick:b=>{b.stopPropagation(),j(_)},className:"p-1 h-8 w-8",children:e.jsx(z2,{className:"w-4 h-4"})}),e.jsx(M,{variant:"ghost",size:"sm",onClick:b=>{b.stopPropagation(),p(_)},className:"p-1 h-8 w-8",children:e.jsx(la,{className:"w-4 h-4"})})]})]})]})]},_.id))}),t.length===0&&e.jsxs(k,{className:"p-8 text-center",children:[e.jsxs("div",{className:"text-gray-500 mb-4",children:[e.jsx(li,{className:"w-12 h-12 mx-auto mb-2"}),e.jsx("p",{children:"    "}),e.jsx("p",{className:"text-sm mt-1",children:"           "})]}),e.jsx(M,{onClick:()=>window.location.href="/",className:"bg-blue-600 hover:bg-blue-700",children:"   "})]})]}):e.jsx(Ms,{children:e.jsx(Ls,{children:"      "})})};function M7(){return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Af,{}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx(D7,{})}),e.jsx(Rf,{})]})}const L7=()=>{var y,_;const[t,s]=h.useState(null),[r,n]=h.useState([]),[a,i]=h.useState([]),[l,o]=h.useState(null),[c,d]=h.useState(!0),[u,m]=h.useState(null),{user:f}=tt();h.useEffect(()=>{f&&x()},[f]);const x=async()=>{try{d(!0),m(null);const[b,N,T,A]=await Promise.all([fetch("/api/user/analytics"),fetch("/api/user/interactions?limit=20"),fetch("/api/user/preferences"),fetch("/api/user/notifications")]);if(b.ok){const S=await b.json();s(S)}if(N.ok){const S=await N.json();n(S)}if(T.ok){const S=await T.json();i(S)}if(A.ok){const S=await A.json();o(S)}}catch(b){m("     "),console.error("Error fetching user data:",b)}finally{d(!1)}},g=async b=>{try{const N=await fetch("/api/user/notifications",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(N.ok){const T=await N.json();o(T)}}catch(N){console.error("Error updating notification preferences:",N)}},v=b=>new Date(b).toLocaleDateString("bn-BD",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),p=b=>{switch(b){case"view":return e.jsx($t,{className:"w-4 h-4"});case"like":return e.jsx(xr,{className:"w-4 h-4"});case"share":return e.jsx(la,{className:"w-4 h-4"});case"comment":return e.jsx(Kn,{className:"w-4 h-4"});default:return e.jsx(Bs,{className:"w-4 h-4"})}},j=b=>{switch(b){case"view":return"bg-blue-100 text-blue-800";case"like":return"bg-red-100 text-red-800";case"share":return"bg-green-100 text-green-800";case"comment":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},w=b=>{switch(b){case"view":return"";case"like":return" ";case"share":return" ";case"comment":return" ";default:return" "}};return f?c?e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[...Array(4)].map((b,N)=>e.jsx(k,{children:e.jsxs(E,{className:"p-6",children:[e.jsx(Qe,{className:"h-8 w-16 mb-2"}),e.jsx(Qe,{className:"h-4 w-24"})]})},N))})}):u?e.jsx(Ms,{className:"border-red-200 bg-red-50",children:e.jsx(Ls,{className:"text-red-800",children:u})}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold flex items-center space-x-2",children:[e.jsx(Xr,{className:"w-6 h-6 text-blue-600"}),e.jsx("span",{children:" "})]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"     "})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx(k,{children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:" "}),e.jsx("p",{className:"text-2xl font-bold",children:(t==null?void 0:t.totalInteractions)||0})]}),e.jsx(Bs,{className:"w-8 h-8 text-blue-600"})]})})}),e.jsx(k,{children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:" "}),e.jsx("p",{className:"text-2xl font-bold",children:a.length})]}),e.jsx(xr,{className:"w-8 h-8 text-red-600"})]})})}),e.jsx(k,{children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:" "}),e.jsx("p",{className:"text-2xl font-bold",children:((y=t==null?void 0:t.recentReading)==null?void 0:y.length)||0})]}),e.jsx(Kn,{className:"w-8 h-8 text-green-600"})]})})}),e.jsx(k,{children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:""}),e.jsx("p",{className:"text-2xl font-bold",children:Math.max(...Object.values((t==null?void 0:t.interactionsByType)||{}))})]}),e.jsx(Ft,{className:"w-8 h-8 text-purple-600"})]})})})]}),e.jsxs(ms,{defaultValue:"interactions",className:"w-full",children:[e.jsxs(is,{className:"grid w-full grid-cols-4",children:[e.jsx(we,{value:"interactions",children:""}),e.jsx(we,{value:"preferences",children:""}),e.jsx(we,{value:"reading",children:" "}),e.jsx(we,{value:"settings",children:""})]}),e.jsx(je,{value:"interactions",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(k,{children:[e.jsx(I,{children:e.jsxs(L,{className:"flex items-center space-x-2",children:[e.jsx(Bs,{className:"w-5 h-5"}),e.jsx("span",{children:" "})]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:Object.entries((t==null?void 0:t.interactionsByType)||{}).map(([b,N])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`p-1 rounded ${j(b)}`,children:p(b)}),e.jsx("span",{className:"text-sm",children:w(b)})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium",children:N}),e.jsx("div",{className:"w-16",children:e.jsx(Os,{value:N/((t==null?void 0:t.totalInteractions)||1)*100,className:"h-2"})})]})]},b))})})]}),e.jsxs(k,{children:[e.jsx(I,{children:e.jsxs(L,{className:"flex items-center space-x-2",children:[e.jsx(ot,{className:"w-5 h-5"}),e.jsx("span",{children:" "})]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:r.slice(0,10).map(b=>e.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded hover:bg-gray-50",children:[e.jsx("div",{className:`p-1 rounded ${j(b.interaction_type)}`,children:p(b.interaction_type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:b.articles.title}),e.jsx("p",{className:"text-xs text-gray-500",children:v(b.created_at)})]})]},b.id))})})]})]})}),e.jsx(je,{value:"preferences",className:"space-y-4",children:e.jsxs(k,{children:[e.jsx(I,{children:e.jsxs(L,{className:"flex items-center space-x-2",children:[e.jsx(xr,{className:"w-5 h-5"}),e.jsx("span",{children:" "})]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:a.map(b=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ee,{variant:"outline",children:b.categories.name}),e.jsxs("span",{className:"text-sm text-gray-600",children:[" : ",Math.round(b.interest_score*100),"%"]})]}),e.jsx("div",{className:"w-32",children:e.jsx(Os,{value:Math.min(b.interest_score*100,100),className:"h-2"})})]},b.category_id))})})]})}),e.jsx(je,{value:"reading",className:"space-y-4",children:e.jsxs(k,{children:[e.jsx(I,{children:e.jsxs(L,{className:"flex items-center space-x-2",children:[e.jsx(Kn,{className:"w-5 h-5"}),e.jsx("span",{children:" "})]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:(_=t==null?void 0:t.recentReading)==null?void 0:_.map(b=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium truncate",children:b.articles.title}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[e.jsx(ee,{variant:"outline",className:"text-xs",children:b.articles.categories.name}),e.jsxs("span",{children:[" ",b.read_count," "]})]})]}),e.jsx("div",{className:"text-right",children:e.jsx("p",{className:"text-sm text-gray-500",children:v(b.last_read_at)})})]},b.article_id))})})]})}),e.jsx(je,{value:"settings",className:"space-y-4",children:e.jsxs(k,{children:[e.jsx(I,{children:e.jsxs(L,{className:"flex items-center space-x-2",children:[e.jsx(qs,{className:"w-5 h-5"}),e.jsx("span",{children:" "})]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:l&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:" "}),e.jsx("p",{className:"text-sm text-gray-600",children:"    "})]}),e.jsx("input",{type:"checkbox",checked:l.breaking_news,onChange:b=>g({breaking_news:b.target.checked}),className:"w-4 h-4"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:" "}),e.jsx("p",{className:"text-sm text-gray-600",children:"    "})]}),e.jsx("input",{type:"checkbox",checked:l.category_updates,onChange:b=>g({category_updates:b.target.checked}),className:"w-4 h-4"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:" "}),e.jsx("p",{className:"text-sm text-gray-600",children:"    "})]}),e.jsx("input",{type:"checkbox",checked:l.personalized_recommendations,onChange:b=>g({personalized_recommendations:b.target.checked}),className:"w-4 h-4"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:" "}),e.jsx("p",{className:"text-sm text-gray-600",children:"   "})]}),e.jsx("input",{type:"checkbox",checked:l.email_notifications,onChange:b=>g({email_notifications:b.target.checked}),className:"w-4 h-4"})]})]})})})]})})]})]}):e.jsx(Ms,{children:e.jsx(Ls,{children:"      "})})};function F7(){return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Af,{}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx(L7,{})}),e.jsx(Rf,{})]})}const $7=()=>{const[t,s]=h.useState(" -   "),[r,n]=h.useState("           WhatsApp, Telegram, Instagram, Facebook  Twitter     "),[a,i]=h.useState("/og-default-image.svg"),[l,o]=h.useState(!1),c=xu({title:t,description:r,image:a,url:"/social-media-test",type:"website"}),{metaElements:d,linkElements:u}=pu(c),m=`${window.location.origin}/social-media-test`,f=async()=>{await navigator.clipboard.writeText(m),o(!0),setTimeout(()=>o(!1),2e3)},x={facebook:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(m)}`,twitter:`https://twitter.com/intent/tweet?url=${encodeURIComponent(m)}&text=${encodeURIComponent(t)}`,whatsapp:`https://wa.me/?text=${encodeURIComponent(`${t} - ${m}`)}`,telegram:`https://t.me/share/url?url=${encodeURIComponent(m)}&text=${encodeURIComponent(t)}`,linkedin:`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(m)}`},g={facebook:`https://developers.facebook.com/tools/debug/?q=${encodeURIComponent(m)}`,twitter:`https://cards-dev.twitter.com/validator?q=${encodeURIComponent(m)}`,linkedin:`https://www.linkedin.com/post-inspector/inspect/${encodeURIComponent(m)}`};return e.jsxs(e.Fragment,{children:[e.jsxs(Ws,{children:[e.jsx("title",{children:c.title}),d.map((v,p)=>v.property?e.jsx("meta",{property:v.property,content:v.content},p):e.jsx("meta",{name:v.name,content:v.content},p)),u.map((v,p)=>e.jsx("link",{rel:v.rel,href:v.href},p))]}),e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4 font-hind",children:"   "}),e.jsx("p",{className:"text-lg text-muted-foreground",children:"WhatsApp, Telegram, Instagram, Facebook, Twitter         "})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs(k,{children:[e.jsx(I,{children:e.jsx(L,{children:"  "})}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"title",children:""}),e.jsx(J,{id:"title",value:t,onChange:v=>s(v.target.value),placeholder:"  "})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"description",children:""}),e.jsx(Kt,{id:"description",value:r,onChange:v=>n(v.target.value),placeholder:"   (  )",rows:3}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[r.length,"/160 "]})]}),e.jsxs("div",{children:[e.jsx(Q,{htmlFor:"image",children:" URL"}),e.jsx(J,{id:"image",value:a,onChange:v=>i(v.target.value),placeholder:"  (1200x630px   )"})]})]})]}),e.jsxs(k,{children:[e.jsx(I,{children:e.jsx(L,{children:"  "})}),e.jsxs(E,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{value:m,readOnly:!0}),e.jsx(M,{onClick:f,variant:"outline",size:"sm",children:l?e.jsx(as,{className:"w-4 h-4"}):e.jsx(D2,{className:"w-4 h-4"})})]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"       "})]})]}),e.jsxs(k,{children:[e.jsx(I,{children:e.jsx(L,{children:"   "})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs(M,{onClick:()=>window.open(x.facebook,"_blank"),className:"flex items-center gap-2",variant:"outline",children:[e.jsx(Ym,{className:"w-4 h-4"}),"Facebook"]}),e.jsxs(M,{onClick:()=>window.open(x.twitter,"_blank"),className:"flex items-center gap-2",variant:"outline",children:[e.jsx(ef,{className:"w-4 h-4"}),"Twitter"]}),e.jsxs(M,{onClick:()=>window.open(x.whatsapp,"_blank"),className:"flex items-center gap-2",variant:"outline",children:[e.jsx(Yi,{className:"w-4 h-4"}),"WhatsApp"]}),e.jsxs(M,{onClick:()=>window.open(x.telegram,"_blank"),className:"flex items-center gap-2",variant:"outline",children:[e.jsx(Io,{className:"w-4 h-4"}),"Telegram"]}),e.jsxs(M,{onClick:()=>window.open(x.linkedin,"_blank"),className:"flex items-center gap-2",variant:"outline",children:[e.jsx(ey,{className:"w-4 h-4"}),"LinkedIn"]}),e.jsxs(M,{onClick:()=>{var v;return(v=navigator.share)==null?void 0:v.call(navigator,{title:t,text:r,url:m})},className:"flex items-center gap-2",variant:"outline",disabled:!navigator.share,children:[e.jsx(ty,{className:"w-4 h-4"}),""]})]})})]}),e.jsxs(k,{children:[e.jsx(I,{children:e.jsx(L,{children:" "})}),e.jsxs(E,{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"         :"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{onClick:()=>window.open(g.facebook,"_blank"),className:"w-full justify-start",variant:"outline",size:"sm",children:"Facebook Sharing Debugger"}),e.jsx(M,{onClick:()=>window.open(g.twitter,"_blank"),className:"w-full justify-start",variant:"outline",size:"sm",children:"Twitter Card Validator"}),e.jsx(M,{onClick:()=>window.open(g.linkedin,"_blank"),className:"w-full justify-start",variant:"outline",size:"sm",children:"LinkedIn Post Inspector"})]})]})]})]}),e.jsxs("div",{children:[e.jsxs(k,{children:[e.jsx(I,{children:e.jsx(L,{children:"   "})}),e.jsx(E,{children:e.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 p-4 rounded-lg",children:e.jsx("code",{className:"text-sm",children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{children:["<title>",c.title,"</title>"]}),d.map((v,p)=>e.jsxs("div",{children:["<meta ",v.property?`property="${v.property}"`:`name="${v.name}"`,' content="',v.content,'" />']},p)),u.map((v,p)=>e.jsxs("div",{children:['<link rel="',v.rel,'" href="',v.href,'" />']},p))]})})})})]}),e.jsxs("div",{className:"mt-6 space-y-4",children:[e.jsxs(k,{children:[e.jsx(I,{children:e.jsx(L,{children:"Facebook/WhatsApp/Telegram "})}),e.jsx(E,{children:e.jsxs("div",{className:"border rounded-lg overflow-hidden bg-white",children:[e.jsx("div",{className:"aspect-video bg-gray-200 flex items-center justify-center",children:a?e.jsx("img",{src:a,alt:"Preview",className:"w-full h-full object-cover"}):e.jsx("div",{className:"text-gray-500",children:" "})}),e.jsxs("div",{className:"p-3 border-t",children:[e.jsx("div",{className:"text-sm text-gray-600 uppercase tracking-wide"}),e.jsx("div",{className:"font-semibold text-gray-900 mt-1",children:t}),e.jsx("div",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:r})]})]})})]}),e.jsxs(k,{children:[e.jsx(I,{children:e.jsx(L,{children:"Twitter  "})}),e.jsx(E,{children:e.jsxs("div",{className:"border rounded-lg overflow-hidden bg-white",children:[e.jsx("div",{className:"aspect-video bg-gray-200 flex items-center justify-center",children:a?e.jsx("img",{src:a,alt:"Preview",className:"w-full h-full object-cover"}):e.jsx("div",{className:"text-gray-500",children:" "})}),e.jsxs("div",{className:"p-3 border-t",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:t}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:r}),e.jsx("div",{className:"text-sm text-gray-500 mt-2",children:" prothomalo.com"})]})]})})]})]})]})]}),e.jsxs(k,{className:"mt-8",children:[e.jsx(I,{children:e.jsx(L,{children:"  "})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-3",children:"  :"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"WhatsApp:"}),"       "]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Telegram:"}),"       "]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Instagram:"})," Stories-    "]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Facebook:"}),"      "]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Twitter:"}),"    DM "]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-3",children:"  :"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:"   "}),e.jsx("li",{children:"   "}),e.jsx("li",{children:"    (1200x630px)"}),e.jsx("li",{children:'   "" '}),e.jsx("li",{children:" URL  "})]})]})]})})]})]})]})};function U7(){const[t,s]=h.useState([]),[r,n]=h.useState(!0),{user:a}=tt();h.useEffect(()=>{i()},[]);const i=async()=>{n(!0);try{const f=[{name:"user_saved_articles",description:"  ",component:"SavedArticleButton",endpoint:"/api/saved-articles"},{name:"user_likes",description:"  ",component:"LikeButton",endpoint:"/api/articles/1/like-status"},{name:"comments",description:"  ",component:"CommentsSection",endpoint:"/api/articles/1/comments"},{name:"tags",description:" ",component:"TagsDisplay",endpoint:"/api/tags"},{name:"newsletters",description:" ",component:"NewsletterSignup",endpoint:"/api/newsletter/subscribe"},{name:"polls",description:"   ",component:"PollsSection",endpoint:"/api/polls"},{name:"user_shares",description:"  ",component:"ShareButton",endpoint:"/api/articles/1/share"},{name:"page_views",description:"  ",component:"Analytics",endpoint:"/api/page-view"},{name:"user_profiles",description:" ",component:"UserProfile",endpoint:"/api/user/profile"},{name:"user_achievements",description:"  ",component:"Achievements",endpoint:"/api/user/achievements"}],x=[];for(const g of f)try{let v;if((g.endpoint.includes("like-status")||g.endpoint.includes("profile")||g.endpoint.includes("achievements")||g.endpoint.includes("saved-articles"))&&!a){x.push({name:g.name,count:0,status:"empty",description:g.description,component:g.component});continue}if(g.endpoint==="/api/newsletter/subscribe"){x.push({name:g.name,count:1,status:"active",description:g.description,component:g.component});continue}if(v=await fetch(g.endpoint),v.ok){const p=await v.json(),j=Array.isArray(p)?p.length:p?1:0;x.push({name:g.name,count:j,status:j>0?"active":"empty",description:g.description,component:g.component})}else x.push({name:g.name,count:0,status:"error",description:g.description,component:g.component})}catch(v){console.error(`Error testing ${g.name}:`,v),x.push({name:g.name,count:0,status:"error",description:g.description,component:g.component})}s(x)}catch(m){console.error("Error loading table statuses:",m)}finally{n(!1)}},l=m=>{switch(m){case"active":return e.jsx(Ja,{className:"h-5 w-5 text-green-500"});case"empty":return e.jsx(Yt,{className:"h-5 w-5 text-yellow-500"});case"error":return e.jsx(Yt,{className:"h-5 w-5 text-red-500"});default:return e.jsx(Zn,{className:"h-5 w-5 text-gray-500"})}},o=m=>{switch(m){case"active":return e.jsx(ee,{className:"bg-green-100 text-green-800 border-green-200",children:""});case"empty":return e.jsx(ee,{variant:"outline",className:"bg-yellow-100 text-yellow-800 border-yellow-200",children:""});case"error":return e.jsx(ee,{variant:"destructive",children:""});default:return e.jsx(ee,{variant:"secondary",children:""})}},c=t.filter(m=>m.status==="active").length,d=t.length,u=d>0?c/d*100:0;return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background to-muted/20",children:[e.jsxs(Ws,{children:[e.jsx("title",{children:"   -  "}),e.jsx("meta",{name:"description",content:"        "})]}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"flex items-center justify-center mb-6",children:e.jsx("div",{className:"bg-primary/10 p-4 rounded-full",children:e.jsx(Zn,{className:"h-12 w-12 text-primary"})})}),e.jsx("h1",{className:"text-4xl font-bold mb-4 bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent",children:"  "}),e.jsx("p",{className:"text-xl text-muted-foreground mb-8",children:"       "}),e.jsx(k,{className:"max-w-md mx-auto",children:e.jsx(E,{className:"pt-6",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsxs("div",{className:"text-3xl font-bold text-primary",children:[c,"/",d]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:" "}),e.jsx(Os,{value:u,className:"h-3"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[Math.round(u),"% "]})]})})})]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:r?[...Array(6)].map((m,f)=>e.jsx(k,{className:"animate-pulse",children:e.jsx(E,{className:"pt-6",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),e.jsx("div",{className:"h-3 bg-muted rounded w-1/2"}),e.jsx("div",{className:"h-2 bg-muted rounded w-full"})]})})},f)):t.map(m=>e.jsxs(k,{className:"border-l-4 border-l-primary/20 hover:border-l-primary/60 transition-colors",children:[e.jsx(I,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[l(m.status),e.jsx(L,{className:"text-lg",children:m.name})]}),o(m.status)]})}),e.jsxs(E,{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:m.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:m.count})," "]}),m.component&&e.jsx(ee,{variant:"outline",className:"text-xs",children:m.component})]})]})]},m.name))}),e.jsxs("div",{className:"space-y-8",children:[e.jsx(Tn,{}),e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:" "}),e.jsx("p",{className:"text-muted-foreground mb-8",children:"        "})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs(k,{children:[e.jsx(I,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(xr,{className:"h-5 w-5"})," "]})}),e.jsxs(E,{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:" ,     "}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(jT,{articleId:1,variant:"button"}),e.jsx(wT,{articleId:1}),e.jsx(bT,{articleId:1,title:" "})]})]})]}),e.jsxs(k,{children:[e.jsx(I,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(el,{className:"h-5 w-5"})," "]})}),e.jsxs(E,{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"   "}),e.jsx(_T,{articleId:1})]})]}),e.jsx(ST,{})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(k,{children:[e.jsx(I,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Yi,{className:"h-5 w-5"})," "]})}),e.jsxs(E,{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"   "}),e.jsx("div",{className:"max-h-64 overflow-y-auto",children:e.jsx(NT,{articleId:1})})]})]}),e.jsx(kT,{})]})]})]}),e.jsxs("div",{className:"mt-12 text-center space-y-4",children:[e.jsxs("div",{className:"flex justify-center gap-4",children:[e.jsxs(M,{onClick:i,disabled:r,children:[e.jsx(Ft,{className:"h-4 w-4 mr-2"}),"  "]}),e.jsx(M,{variant:"outline",asChild:!0,children:e.jsxs("a",{href:"/",className:"flex items-center gap-2",children:[e.jsx(Zn,{className:"h-4 w-4"})," "]})})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"   !       "})]})]})})]})}const z7=ma({email:Zt().email("   "),password:Zt().min(6,"     ")}),V7=ma({name:Zt().min(2,"     "),email:Zt().email("   "),password:Zt().min(6,"     "),confirmPassword:Zt()}).refine(t=>t.password===t.confirmPassword,{message:"  ",path:["confirmPassword"]}),B7=ma({email:Zt().email("   ")}),zx=()=>{const[t,s]=St(),{user:r,signIn:n,signUp:a,resetPassword:i,loading:l}=tt(),o=()=>t==="/register"?"register":"login",[c,d]=h.useState(o());h.useEffect(()=>{d(o())},[t]),h.useEffect(()=>{r&&s("/dashboard")},[r,s]);const u=Yn({resolver:Xn(z7),defaultValues:{email:"",password:""}}),m=Yn({resolver:Xn(V7),defaultValues:{name:"",email:"",password:"",confirmPassword:""}}),f=Yn({resolver:Xn(B7),defaultValues:{email:""}}),x=async p=>{try{await n(p.email,p.password)}catch(j){console.error("Login error:",j)}},g=async p=>{try{await a(p.email,p.password,{name:p.name})}catch(j){console.error("Register error:",j)}},v=async p=>{try{await i(p.email),f.reset()}catch(j){console.error("Reset password error:",j)}};return e.jsxs(e.Fragment,{children:[e.jsx(Ws,{children:e.jsx("title",{children:" | "})}),e.jsx("div",{className:"container mx-auto px-4 py-12",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-center",children:[e.jsx("div",{className:"w-full md:w-1/2 max-w-md mx-auto",children:e.jsxs(ms,{value:c,onValueChange:p=>{d(p),s(`/${p}`)},className:"w-full",children:[e.jsxs(is,{className:"grid w-full grid-cols-2",children:[e.jsx(we,{value:"login",children:""}),e.jsx(we,{value:"register",children:""})]}),e.jsx(je,{value:"login",children:e.jsxs(k,{children:[e.jsxs(I,{children:[e.jsx(L,{children:" "}),e.jsx(_e,{children:"       "})]}),e.jsx(E,{children:e.jsx(Jn,{...u,children:e.jsxs("form",{onSubmit:u.handleSubmit(x),className:"space-y-4",children:[e.jsx(Et,{control:u.control,name:"email",render:({field:p})=>e.jsxs(wt,{children:[e.jsx(bt,{children:""}),e.jsx(Nt,{children:e.jsx(J,{placeholder:"  ",...p})}),e.jsx(zt,{})]})}),e.jsx(Et,{control:u.control,name:"password",render:({field:p})=>e.jsxs(wt,{children:[e.jsx(bt,{children:""}),e.jsx(Nt,{children:e.jsx(J,{type:"password",placeholder:" ",...p})}),e.jsx(zt,{})]})}),e.jsx(M,{type:"submit",className:"w-full",disabled:l,children:l?" ...":" "})]})})}),e.jsx(tl,{className:"flex justify-center",children:e.jsx(M,{variant:"link",onClick:()=>d("forgot-password"),children:"  ?"})})]})}),e.jsx(je,{value:"register",children:e.jsxs(k,{children:[e.jsxs(I,{children:[e.jsx(L,{children:"   "}),e.jsx(_e,{children:"        "})]}),e.jsx(E,{children:e.jsx(Jn,{...m,children:e.jsxs("form",{onSubmit:m.handleSubmit(g),className:"space-y-4",children:[e.jsx(Et,{control:m.control,name:"name",render:({field:p})=>e.jsxs(wt,{children:[e.jsx(bt,{children:""}),e.jsx(Nt,{children:e.jsx(J,{placeholder:" ",...p})}),e.jsx(zt,{})]})}),e.jsx(Et,{control:m.control,name:"email",render:({field:p})=>e.jsxs(wt,{children:[e.jsx(bt,{children:""}),e.jsx(Nt,{children:e.jsx(J,{placeholder:"  ",...p})}),e.jsx(zt,{})]})}),e.jsx(Et,{control:m.control,name:"password",render:({field:p})=>e.jsxs(wt,{children:[e.jsx(bt,{children:""}),e.jsx(Nt,{children:e.jsx(J,{type:"password",placeholder:" ",...p})}),e.jsx(zt,{})]})}),e.jsx(Et,{control:m.control,name:"confirmPassword",render:({field:p})=>e.jsxs(wt,{children:[e.jsx(bt,{children:"  "}),e.jsx(Nt,{children:e.jsx(J,{type:"password",placeholder:"  ",...p})}),e.jsx(zt,{})]})}),e.jsx(M,{type:"submit",className:"w-full",disabled:l,children:l?" ...":" "})]})})})]})}),e.jsx(je,{value:"forgot-password",children:e.jsxs(k,{children:[e.jsxs(I,{children:[e.jsx(L,{children:"  "}),e.jsx(_e,{children:"       "})]}),e.jsx(E,{children:e.jsx(Jn,{...f,children:e.jsxs("form",{onSubmit:f.handleSubmit(v),className:"space-y-4",children:[e.jsx(Et,{control:f.control,name:"email",render:({field:p})=>e.jsxs(wt,{children:[e.jsx(bt,{children:""}),e.jsx(Nt,{children:e.jsx(J,{placeholder:"  ",...p})}),e.jsx(zt,{})]})}),e.jsx(M,{type:"submit",className:"w-full",disabled:l,children:l?" ...":"  "})]})})}),e.jsx(tl,{className:"flex justify-center",children:e.jsx(M,{variant:"link",onClick:()=>d("login"),children:"   "})})]})})]})}),e.jsx("div",{className:"w-full md:w-1/2",children:e.jsxs("div",{className:"bg-muted/30 dark:bg-muted p-8 rounded-lg",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4 font-hind",children:" ,  "}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"bg-primary/10 p-2 rounded-full text-primary",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium font-hind",children:" "}),e.jsx("p",{className:"text-muted-foreground",children:"    "})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"bg-primary/10 p-2 rounded-full text-primary",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium font-hind",children:" "}),e.jsx("p",{className:"text-muted-foreground",children:"    "})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"bg-primary/10 p-2 rounded-full text-primary",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium font-hind",children:"  "}),e.jsx("p",{className:"text-muted-foreground",children:"    "})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"bg-primary/10 p-2 rounded-full text-primary",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium font-hind",children:"  "}),e.jsx("p",{className:"text-muted-foreground",children:"    "})]})]})]})]})})]})})]})},q7=ma({name:Zt().min(2,"     "),email:Zt().email("   ").optional()}),H7=ma({currentPassword:Zt().min(6,"      "),newPassword:Zt().min(6,"      "),confirmPassword:Zt()}).refine(t=>t.newPassword===t.confirmPassword,{message:"  ",path:["confirmPassword"]}),W7=()=>{var g,v,p,j,w,y,_;const[t,s]=h.useState("profile"),{user:r,loading:n,session:a}=tt(),[i,l]=St(),{toast:o}=Xe(),[c,d]=h.useState(!1);h.useEffect(()=>{!n&&!r&&l("/auth")},[n,r,l]);const u=Yn({resolver:Xn(q7),defaultValues:{name:((g=r==null?void 0:r.user_metadata)==null?void 0:g.name)||"",email:(r==null?void 0:r.email)||""}}),m=Yn({resolver:Xn(H7),defaultValues:{currentPassword:"",newPassword:"",confirmPassword:""}}),f=async b=>{d(!0);try{const{updateUserProfile:N}=await le(async()=>{const{updateUserProfile:A}=await import("./supabase-api-direct-D5Ds99Uk.js");return{updateUserProfile:A}},[]),T=await N(r.id,{name:b.name,email:b.email});if(!T.success)throw new Error(T.message);o({title:"  ",description:"     "})}catch(N){o({title:"  ",description:N.message,variant:"destructive"})}finally{d(!1)}},x=async b=>{d(!0);try{const{updateUserPassword:N}=await le(async()=>{const{updateUserPassword:A}=await import("./supabase-api-direct-D5Ds99Uk.js");return{updateUserPassword:A}},[]),T=await N(r.id,b.currentPassword,b.newPassword);if(!T.success)throw new Error(T.message);o({title:"  ",description:"     "}),m.reset()}catch(N){o({title:"  ",description:N.message,variant:"destructive"})}finally{d(!1)}};return n?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(oe,{className:"h-8 w-8 animate-spin text-primary"})}):e.jsxs(e.Fragment,{children:[e.jsx(Ws,{children:e.jsx("title",{children:" | "})}),e.jsx("div",{className:"container mx-auto px-4 py-12",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-8 mb-8",children:[e.jsxs(k,{className:"w-full md:w-1/3",children:[e.jsxs(I,{className:"pb-0",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsxs(pl,{className:"h-24 w-24",children:[e.jsx(gl,{src:(v=r==null?void 0:r.user_metadata)==null?void 0:v.avatar_url,alt:((p=r==null?void 0:r.user_metadata)==null?void 0:p.name)||(r==null?void 0:r.email)||"User"}),e.jsx(vl,{className:"text-2xl bg-accent text-white",children:(((w=(j=r==null?void 0:r.user_metadata)==null?void 0:j.name)==null?void 0:w[0])||((y=r==null?void 0:r.email)==null?void 0:y[0])||"?").toUpperCase()})]})}),e.jsx(L,{className:"text-center text-xl",children:((_=r==null?void 0:r.user_metadata)==null?void 0:_.name)||""}),e.jsx(_e,{className:"text-center",children:r==null?void 0:r.email})]}),e.jsx(E,{className:"pt-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border-t border-border pt-4",children:[e.jsx("h4",{className:"text-sm font-medium mb-1",children:""}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date((r==null?void 0:r.created_at)||"").toLocaleDateString("bn-BD"),"  "]})]}),e.jsxs("div",{className:"border-t border-border pt-4",children:[e.jsx("h4",{className:"text-sm font-medium mb-1",children:" "}),e.jsx("p",{className:"text-sm text-muted-foreground",children:new Date((r==null?void 0:r.last_sign_in_at)||"").toLocaleDateString("bn-BD")})]})]})})]}),e.jsx("div",{className:"w-full md:w-2/3",children:e.jsxs(ms,{value:t,onValueChange:s,className:"w-full",children:[e.jsxs(is,{className:"grid w-full grid-cols-2",children:[e.jsx(we,{value:"profile",children:""}),e.jsx(we,{value:"password",children:""})]}),e.jsx(je,{value:"profile",children:e.jsxs(k,{children:[e.jsxs(I,{children:[e.jsx(L,{children:" "}),e.jsx(_e,{children:"    "})]}),e.jsx(E,{children:e.jsx(Jn,{...u,children:e.jsxs("form",{onSubmit:u.handleSubmit(f),className:"space-y-4",children:[e.jsx(Et,{control:u.control,name:"name",render:({field:b})=>e.jsxs(wt,{children:[e.jsx(bt,{children:""}),e.jsx(Nt,{children:e.jsx(J,{placeholder:" ",...b})}),e.jsx(zt,{})]})}),e.jsx(Et,{control:u.control,name:"email",render:({field:b})=>e.jsxs(wt,{children:[e.jsx(bt,{children:""}),e.jsx(Nt,{children:e.jsx(J,{placeholder:" ",disabled:!0,...b})}),e.jsx(VS,{children:"    "}),e.jsx(zt,{})]})}),e.jsx(M,{type:"submit",className:"w-full",disabled:c,children:c?" ...":"  "})]})})})]})}),e.jsx(je,{value:"password",children:e.jsxs(k,{children:[e.jsxs(I,{children:[e.jsx(L,{children:" "}),e.jsx(_e,{children:"    "})]}),e.jsx(E,{children:e.jsx(Jn,{...m,children:e.jsxs("form",{onSubmit:m.handleSubmit(x),className:"space-y-4",children:[e.jsx(Et,{control:m.control,name:"currentPassword",render:({field:b})=>e.jsxs(wt,{children:[e.jsx(bt,{children:" "}),e.jsx(Nt,{children:e.jsx(J,{type:"password",placeholder:"  ",...b})}),e.jsx(zt,{})]})}),e.jsx(Et,{control:m.control,name:"newPassword",render:({field:b})=>e.jsxs(wt,{children:[e.jsx(bt,{children:" "}),e.jsx(Nt,{children:e.jsx(J,{type:"password",placeholder:" ",...b})}),e.jsx(zt,{})]})}),e.jsx(Et,{control:m.control,name:"confirmPassword",render:({field:b})=>e.jsxs(wt,{children:[e.jsx(bt,{children:"  "}),e.jsx(Nt,{children:e.jsx(J,{type:"password",placeholder:"   ",...b})}),e.jsx(zt,{})]})}),e.jsx(M,{type:"submit",className:"w-full",disabled:c,children:c?" ...":"  "})]})})})]})})]})})]}),e.jsxs(k,{children:[e.jsxs(I,{children:[e.jsx(L,{children:" "}),e.jsx(_e,{children:"    "})]}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium mb-2",children:" "}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"            "}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("div",{className:"bg-accent/10 hover:bg-accent/20 border border-border rounded-full px-4 py-1 text-sm cursor-pointer transition",children:""}),e.jsx("div",{className:"bg-muted hover:bg-accent/20 border border-border rounded-full px-4 py-1 text-sm cursor-pointer transition",children:""}),e.jsx("div",{className:"bg-muted hover:bg-accent/20 border border-border rounded-full px-4 py-1 text-sm cursor-pointer transition",children:""}),e.jsx("div",{className:"bg-accent/10 hover:bg-accent/20 border border-border rounded-full px-4 py-1 text-sm cursor-pointer transition",children:""}),e.jsx("div",{className:"bg-muted hover:bg-accent/20 border border-border rounded-full px-4 py-1 text-sm cursor-pointer transition",children:""})]})]}),e.jsxs("div",{className:"border-t border-border pt-4",children:[e.jsx("h3",{className:"font-medium mb-2",children:" "}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm",children:""}),e.jsx("input",{type:"range",min:"1",max:"3",defaultValue:"2",className:"w-full h-2 bg-muted rounded-lg appearance-none cursor-pointer"}),e.jsx("span",{className:"text-sm",children:""})]})]})]})}),e.jsx(tl,{children:e.jsx(M,{children:"  "})})]})]})})]})};function K7(){var K,W,D,B;const{user:t,loading:s}=tt(),[,r]=St(),{toast:n}=Xe(),a=hs(),[i,l]=h.useState(!1),{data:o,isLoading:c,error:d}=xe({queryKey:["user-stats",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))throw new Error("No user ID");const{getUserStats:V}=await le(async()=>{const{getUserStats:O}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getUserStats:O}},[]);return await V(t.id)},enabled:!!(t!=null&&t.id)}),{data:u,isLoading:m,error:f}=xe({queryKey:["user-bookmarks",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return[];const{getUserBookmarks:V}=await le(async()=>{const{getUserBookmarks:O}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getUserBookmarks:O}},[]);return await V(t.id)},enabled:!!(t!=null&&t.id)}),{data:x,isLoading:g,error:v}=xe({queryKey:["user-reading-history",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return[];const{getUserReadingHistory:V}=await le(async()=>{const{getUserReadingHistory:O}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getUserReadingHistory:O}},[]);return await V(t.id)},enabled:!!(t!=null&&t.id)}),{data:p,isLoading:j}=xe({queryKey:["user-analytics",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return{totalInteractions:0,interactionsByType:{},topCategories:[],recentReading:[]};const{getUserStats:V}=await le(async()=>{const{getUserStats:z}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getUserStats:z}},[]),O=await V(t.id);return{totalInteractions:O.totalInteractions||0,interactionsByType:{like:O.totalInteractions||0},topCategories:O.favoriteCategories||[],recentReading:[]}},enabled:!!(t!=null&&t.id)}),{data:w,isLoading:y}=xe({queryKey:["user-preferences",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return{theme:"light",language:"bn",notifications:!0,autoPlay:!1,fontSize:"medium"};const{getUserPreferences:V}=await le(async()=>{const{getUserPreferences:O}=await import("./supabase-api-direct-D5Ds99Uk.js");return{getUserPreferences:O}},[]);return await V(t.id)},enabled:!!(t!=null&&t.id)}),{data:_,isLoading:b}=xe({queryKey:["user-interactions",t==null?void 0:t.id],queryFn:async()=>t!=null&&t.id?[]:[],enabled:!!(t!=null&&t.id)}),{data:N,isLoading:T}=xe({queryKey:["user-achievements",t==null?void 0:t.id],queryFn:async()=>t!=null&&t.id?[{id:1,name:" ",description:"  ",earned:!0},{id:2,name:" ",description:"   ",earned:!1}]:[],enabled:!!(t!=null&&t.id)}),{data:A,isLoading:S}=xe({queryKey:["user-achievement-progress",t==null?void 0:t.id],queryFn:async()=>t!=null&&t.id?[{achievement_id:1,progress:100,target:100},{achievement_id:2,progress:3,target:7}]:[],enabled:!!(t!=null&&t.id)});if(h.useEffect(()=>{!s&&!t&&r("/auth")},[s,t,r]),s)return e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:e.jsx(oe,{className:"h-8 w-8 animate-spin text-primary"})});if(!t)return null;const P=o||{savedArticles:(u==null?void 0:u.length)||0,readArticles:(x==null?void 0:x.length)||0,memberSince:new Date(t.created_at).toLocaleDateString("bn-BD"),totalInteractions:(p==null?void 0:p.totalInteractions)||0,readingStreak:C(x||[]),favoriteCategories:((K=p==null?void 0:p.topCategories)==null?void 0:K.slice(0,3))||[]};function C(V){if(!V||V.length===0)return 0;const O=new Date;let z=0;const U=V.sort((G,q)=>new Date(q.lastReadAt).getTime()-new Date(G.lastReadAt).getTime());for(let G=0;G<U.length;G++){const q=new Date(U[G].lastReadAt);if(Math.floor((O.getTime()-q.getTime())/(1e3*60*60*24))===G)z++;else break}return z}const R=async()=>{try{n({title:" ",description:"    "}),l(!1),a.invalidateQueries()}catch{n({title:" ",description:"   ",variant:"destructive"})}};return e.jsxs("div",{className:"min-h-screen bg-background",children:[i&&e.jsx("div",{className:"container mx-auto px-4 py-4",children:e.jsxs(Ms,{className:"border-yellow-200 bg-yellow-50 dark:bg-yellow-950",children:[e.jsx(Yt,{className:"h-4 w-4"}),e.jsxs(Ls,{className:"text-yellow-800 dark:text-yellow-200",children:["          ",e.jsx(M,{onClick:R,size:"sm",className:"ml-2",children:" "})]})]})}),e.jsx("div",{className:"bg-card border-b border-border",children:e.jsx("div",{className:"container mx-auto px-4 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(pl,{className:"w-16 h-16",children:[e.jsx(gl,{src:(W=t.user_metadata)==null?void 0:W.avatar_url}),e.jsx(vl,{className:"text-lg bg-primary text-primary-foreground",children:(D=t.email)==null?void 0:D.charAt(0).toUpperCase()})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-foreground",children:((B=t.user_metadata)==null?void 0:B.name)||t.email}),e.jsxs("p",{className:"text-muted-foreground",children:[" : ",P.memberSince]})]})]}),e.jsx(X,{href:"/profile",children:e.jsxs(M,{variant:"outline",children:[e.jsx(lg,{className:"h-4 w-4 mr-2"})," "]})})]})})}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-3",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx(k,{className:"border-border bg-card",children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(xr,{className:"h-8 w-8 text-red-500"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-foreground",children:P.savedArticles})]})]})})}),e.jsx(k,{className:"border-border bg-card",children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Kn,{className:"h-8 w-8 text-blue-500"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-foreground",children:P.readArticles})]})]})})}),e.jsx(k,{className:"border-border bg-card",children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ft,{className:"h-8 w-8 text-green-500"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:" "}),e.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[P.readingStreak," "]})]})]})})}),e.jsx(k,{className:"border-border bg-card",children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Bs,{className:"h-8 w-8 text-purple-500"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-foreground",children:P.totalInteractions})]})]})})})]})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(ms,{defaultValue:"saved",className:"space-y-6",children:[e.jsxs(is,{className:"grid w-full grid-cols-4",children:[e.jsx(we,{value:"saved",children:" "}),e.jsx(we,{value:"history",children:" "}),e.jsx(we,{value:"achievements",children:""}),e.jsx(we,{value:"activity",children:""})]}),e.jsx(je,{value:"saved",children:e.jsxs(k,{children:[e.jsxs(I,{children:[e.jsx(L,{children:" "}),e.jsx(_e,{children:"    "})]}),e.jsx(E,{children:m?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(oe,{className:"h-6 w-6 animate-spin"})}):u!=null&&u.length?e.jsxs("div",{className:"space-y-4",children:[u.slice(0,5).map((V,O)=>{var z;return e.jsxs("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg bg-card",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(X,{href:`/article/${V.slug}`,children:e.jsx("h3",{className:"font-medium text-foreground hover:text-primary cursor-pointer",children:V.title})}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:(z=V.category)==null?void 0:z.name})]}),e.jsx(ee,{variant:"secondary",children:V.readingTime||" "})]},`saved-${V.id||O}`)}),e.jsx(X,{href:"/saved-articles",children:e.jsx(M,{variant:"outline",className:"w-full",children:" "})})]}):e.jsx("p",{className:"text-muted-foreground text-center py-8",children:"   "})})]})}),e.jsx(je,{value:"history",children:e.jsxs(k,{children:[e.jsxs(I,{children:[e.jsx(L,{children:" "}),e.jsx(_e,{children:"   "})]}),e.jsx(E,{children:g?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(oe,{className:"h-6 w-6 animate-spin"})}):x!=null&&x.length?e.jsxs("div",{className:"space-y-4",children:[x.slice(0,5).map((V,O)=>{var z,U;return e.jsxs("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg bg-card",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(X,{href:`/article/${(z=V.article)==null?void 0:z.slug}`,children:e.jsx("h3",{className:"font-medium text-foreground hover:text-primary cursor-pointer",children:(U=V.article)==null?void 0:U.title})}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[": ",new Date(V.lastReadAt||V.readAt).toLocaleDateString("bn-BD")]})]}),e.jsx(ot,{className:"h-4 w-4 text-muted-foreground"})]},`history-${V.id||O}`)}),e.jsx(X,{href:"/reading-history",children:e.jsx(M,{variant:"outline",className:"w-full",children:"  "})})]}):e.jsx("p",{className:"text-muted-foreground text-center py-8",children:"   "})})]})}),e.jsx(je,{value:"achievements",children:e.jsxs(k,{children:[e.jsxs(I,{children:[e.jsx(L,{children:""}),e.jsx(_e,{children:"     "})]}),e.jsx(E,{children:T||S?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(oe,{className:"h-6 w-6 animate-spin"})}):e.jsxs("div",{className:"space-y-6",children:[N&&N.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-foreground mb-4 flex items-center",children:[e.jsx(Ku,{className:"h-5 w-5 mr-2 text-yellow-500"}),"  (",N.length,")"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:N.map(V=>{var O,z;return e.jsx("div",{className:"p-4 border border-border rounded-lg bg-gradient-to-r from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-yellow-100 dark:bg-yellow-900/30 rounded-full mr-3",children:e.jsx(Ku,{className:"h-6 w-6 text-yellow-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-foreground",children:(O=V.achievements)==null?void 0:O.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:(z=V.achievements)==null?void 0:z.description}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[": ",new Date(V.earned_at).toLocaleDateString("bn-BD")]})]}),e.jsx(as,{className:"h-6 w-6 text-green-500"})]})},V.id)})})]}),A&&A.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-foreground mb-4 flex items-center",children:[e.jsx(Do,{className:"h-5 w-5 mr-2 text-blue-500"}),""]}),e.jsx("div",{className:"space-y-4",children:A.filter(V=>!V.isEarned).slice(0,5).map((V,O)=>e.jsxs("div",{className:"p-4 border border-border rounded-lg bg-card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"p-2 bg-muted rounded-full mr-3",children:[V.icon==="BookOpen"&&e.jsx(Kn,{className:"h-4 w-4"}),V.icon==="Trophy"&&e.jsx(Ku,{className:"h-4 w-4"}),V.icon==="Award"&&e.jsx(Zh,{className:"h-4 w-4"}),V.icon==="Star"&&e.jsx(li,{className:"h-4 w-4"}),V.icon==="Heart"&&e.jsx(xr,{className:"h-4 w-4"}),V.icon==="Archive"&&e.jsx(Kn,{className:"h-4 w-4"}),V.icon==="Zap"&&e.jsx(nc,{className:"h-4 w-4"}),V.icon==="Calendar"&&e.jsx(Ds,{className:"h-4 w-4"}),V.icon==="Target"&&e.jsx(Do,{className:"h-4 w-4"}),V.icon==="Activity"&&e.jsx(Bs,{className:"h-4 w-4"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-foreground",children:V.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:V.description})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-medium text-foreground",children:[V.currentValue,"/",V.requirement]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[Math.round(V.progressPercentage),"%"]})]})]}),e.jsx(Os,{value:V.progressPercentage,className:"h-2"})]},V.id||`progress-${O}-${V.name||O}`))})]}),(!N||N.length===0)&&(!A||A.length===0)&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ku,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"   "}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"      "})]})]})})]})}),e.jsx(je,{value:"activity",children:e.jsxs(k,{children:[e.jsxs(I,{children:[e.jsx(L,{children:" "}),e.jsx(_e,{children:"   "})]}),e.jsx(E,{children:b?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(oe,{className:"h-6 w-6 animate-spin"})}):_!=null&&_.length?e.jsx("div",{className:"space-y-4",children:_.map((V,O)=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-muted rounded-lg",children:[V.interactionType==="read"&&e.jsx(Kn,{className:"h-5 w-5 text-blue-600"}),V.interactionType==="save"&&e.jsx(xr,{className:"h-5 w-5 text-green-600"}),V.interactionType==="like"&&e.jsx(li,{className:"h-5 w-5 text-yellow-600"}),V.interactionType==="share"&&e.jsx(la,{className:"h-5 w-5 text-purple-600"}),V.interactionType==="view"&&e.jsx($t,{className:"h-5 w-5 text-gray-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"text-sm font-medium text-foreground",children:[V.interactionType==="read"&&" ",V.interactionType==="save"&&"  ",V.interactionType==="like"&&"  ",V.interactionType==="share"&&"  ",V.interactionType==="view"&&" "]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(V.createdAt).toLocaleDateString("bn-BD")})]})]},V.id||`activity-${O}-${V.createdAt||Date.now()}`))}):e.jsx("p",{className:"text-muted-foreground text-center py-8",children:"   "})})]})})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(k,{className:"border-border bg-card",children:[e.jsx(I,{children:e.jsx(L,{className:"text-foreground",children:" "})}),e.jsxs(E,{className:"space-y-3",children:[e.jsx(X,{href:"/profile",children:e.jsxs(M,{variant:"outline",className:"w-full justify-start",children:[e.jsx(Xr,{className:"h-4 w-4 mr-2"})," "]})}),e.jsx(X,{href:"/saved-articles",children:e.jsxs(M,{variant:"outline",className:"w-full justify-start",children:[e.jsx(xr,{className:"h-4 w-4 mr-2"})," "]})}),e.jsx(X,{href:"/reading-history",children:e.jsxs(M,{variant:"outline",className:"w-full justify-start",children:[e.jsx(ot,{className:"h-4 w-4 mr-2"})," "]})})]})]}),P.favoriteCategories&&P.favoriteCategories.length>0&&e.jsxs(k,{className:"border-border bg-card",children:[e.jsxs(I,{children:[e.jsx(L,{className:"text-foreground",children:" "}),e.jsx(_e,{children:"  "})]}),e.jsx(E,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:P.favoriteCategories.map((V,O)=>e.jsx(ee,{variant:"secondary",className:"text-xs",children:V.name||V},`fav-category-${V.id||V.name||V}-${O}`))})})]}),e.jsxs(k,{className:"border-border bg-card",children:[e.jsxs(I,{children:[e.jsx(L,{className:"text-foreground",children:" "}),e.jsx(_e,{children:"  "})]}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-muted-foreground",children:" "}),e.jsxs("span",{className:"text-foreground",children:[P.readArticles,"/"]})]}),e.jsx(Os,{value:Math.min(P.readArticles/50*100,100),className:"h-2"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-muted-foreground",children:" "}),e.jsxs("span",{className:"text-foreground",children:[P.savedArticles,"/"]})]}),e.jsx(Os,{value:Math.min(P.savedArticles/20*100,100),className:"h-2"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-muted-foreground",children:" "}),e.jsxs("span",{className:"text-foreground",children:[P.readingStreak,"/ "]})]}),e.jsx(Os,{value:Math.min(P.readingStreak/30*100,100),className:"h-2"})]})]})})]})]})]})})]})}const G7=()=>{const[t,s]=h.useState([]),[r,n]=h.useState(!0),[a,i]=h.useState(null),{user:l}=tt(),[o,c]=St(),{toast:d}=Xe();h.useEffect(()=>{!l&&!r&&c("/auth")},[l,r]),h.useEffect(()=>{l&&(async()=>{try{n(!0);const{data:{session:f}}=await Tt.auth.getSession();if(!f){i("   ");return}const x=f.access_token,g=await fetch("/api/saved-articles",{headers:{Authorization:`Bearer ${x}`}});if(!g.ok)throw new Error("     ");const v=await g.json();s(v),i(null)}catch(f){i(f.message||"     "),console.error("Error fetching saved articles:",f)}finally{n(!1)}})()},[l]);const u=async m=>{try{const{data:{session:f}}=await Tt.auth.getSession();if(!f){i("   ");return}const x=f.access_token;if(!(await fetch(`/api/unsave-article/${m}`,{method:"DELETE",headers:{Authorization:`Bearer ${x}`}})).ok)throw new Error("     ");s(t.filter(v=>v.id!==m)),d({title:"  ",description:"      "})}catch(f){d({title:" ",description:f.message||"     ",variant:"destructive"}),console.error("Error unsaving article:",f)}};return r?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(oe,{className:"h-8 w-8 animate-spin text-primary"})}):e.jsxs(e.Fragment,{children:[e.jsx(Ws,{children:e.jsx("title",{children:"  | "})}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6 font-hind",children:" "}),a?e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-md mb-6",children:a}):null,t.length===0&&!a?e.jsxs("div",{className:"bg-muted/30 p-8 rounded-lg text-center",children:[e.jsx("h3",{className:"text-xl mb-2 font-hind",children:"   "}),e.jsx("p",{className:"mb-4 text-muted-foreground",children:'         " "        '}),e.jsx(M,{asChild:!0,children:e.jsx(X,{href:"/",children:"  "})})]}):e.jsx("div",{className:"grid grid-cols-1 gap-6",children:t.map(m=>e.jsx(k,{className:"overflow-hidden",children:e.jsxs("div",{className:"flex flex-col md:flex-row",children:[e.jsx("div",{className:"md:w-1/3",children:e.jsx("img",{src:m.imageUrl,alt:m.title,className:"w-full h-48 md:h-full object-cover"})}),e.jsxs("div",{className:"md:w-2/3 p-4 md:p-6 flex flex-col",children:[e.jsxs(I,{className:"p-0 pb-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[m.category?e.jsx(X,{href:`/category/${m.category.slug}`,className:"text-sm font-medium text-accent hover:underline mb-1 inline-block",children:m.category.name}):e.jsx("span",{className:"text-sm font-medium text-muted-foreground mb-1 inline-block",children:" "}),e.jsx(M,{variant:"ghost",size:"icon",onClick:()=>u(m.id),title:" ",children:e.jsx(As,{className:"h-4 w-4 text-muted-foreground hover:text-destructive"})})]}),e.jsx(L,{className:"text-xl",children:e.jsx(X,{href:`/article/${m.slug}`,className:"hover:text-accent transition-colors",children:m.title})})]}),e.jsx(E,{className:"p-0 py-2 flex-grow",children:e.jsx("p",{className:"text-muted-foreground line-clamp-3",children:m.excerpt})}),e.jsxs(tl,{className:"p-0 pt-2 flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:us(m.publishedAt)}),e.jsx(M,{asChild:!0,variant:"ghost",size:"sm",children:e.jsx(X,{href:`/article/${m.slug}`,children:" "})})]})]})]})},m.id))})]})})]})},Q7=()=>{const[t,s]=h.useState([]),[r,n]=h.useState(!0),[a,i]=h.useState(null),{user:l}=tt(),[o,c]=St();return Xe(),h.useEffect(()=>{!l&&!r&&c("/auth")},[l,r]),h.useEffect(()=>{l&&(async()=>{try{n(!0);const{data:{session:u}}=await Tt.auth.getSession();if(!u){i("   ");return}const m=u.access_token,f=await fetch("/api/reading-history",{headers:{Authorization:`Bearer ${m}`}});if(!f.ok)throw new Error("     ");const x=await f.json();s(x),i(null)}catch(u){i(u.message||"     "),console.error("Error fetching reading history:",u)}finally{n(!1)}})()},[l]),r?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(oe,{className:"h-8 w-8 animate-spin text-primary"})}):e.jsxs(e.Fragment,{children:[e.jsx(Ws,{children:e.jsx("title",{children:"  | "})}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6 font-hind",children:" "}),a?e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-md mb-6",children:a}):null,t.length===0&&!a?e.jsxs("div",{className:"bg-muted/30 p-8 rounded-lg text-center",children:[e.jsx("h3",{className:"text-xl mb-2 font-hind",children:"   "}),e.jsx("p",{className:"mb-4 text-muted-foreground",children:"           "}),e.jsx(M,{asChild:!0,children:e.jsx(X,{href:"/",children:"  "})})]}):e.jsx("div",{className:"space-y-6",children:e.jsxs(ms,{defaultValue:"recent",className:"w-full",children:[e.jsxs(is,{className:"mb-6",children:[e.jsx(we,{value:"recent",children:" "}),e.jsx(we,{value:"mostread",children:" "})]}),e.jsx(je,{value:"recent",className:"space-y-4",children:t.sort((d,u)=>new Date(u.last_read_at).getTime()-new Date(d.last_read_at).getTime()).map(d=>e.jsx(Sb,{item:d},d.id))}),e.jsx(je,{value:"mostread",className:"space-y-4",children:t.sort((d,u)=>u.read_count-d.read_count).map(d=>e.jsx(Sb,{item:d},d.id))})]})})]})})]})},Sb=({item:t})=>{const s=n=>{try{const a=new Date(n);return formatDistanceToNow(a,{addSuffix:!0}).replace(/\d+/g,l=>{const o=["","","","","","","","","",""];return l.split("").map(c=>{const d=parseInt(c);return isNaN(d)?c:o[d]}).join("")})}catch{return" "}},r=n=>{const a=["","","","","","","","","",""];return n.toString().split("").map(i=>a[parseInt(i)]).join("")};return e.jsx(k,{className:"overflow-hidden",children:e.jsxs("div",{className:"flex flex-col md:flex-row",children:[e.jsx("div",{className:"md:w-1/4",children:e.jsx("img",{src:t.imageUrl,alt:t.title,className:"w-full h-40 md:h-full object-cover"})}),e.jsxs("div",{className:"md:w-3/4 p-4 md:p-6 flex flex-col",children:[e.jsxs(I,{className:"p-0 pb-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(X,{href:`/category/${t.category.slug}`,className:"text-sm font-medium text-accent hover:underline mb-1 inline-block",children:t.category.name}),e.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[e.jsx(ot,{className:"h-3 w-3 mr-1"}),e.jsx("span",{children:s(t.lastReadAt)})]})]}),e.jsx(L,{className:"text-xl",children:e.jsx(X,{href:`/article/${t.slug}`,className:"hover:text-accent transition-colors",children:t.title})})]}),e.jsx(E,{className:"p-0 py-2 flex-grow",children:e.jsx("p",{className:"text-muted-foreground line-clamp-2",children:t.excerpt})}),e.jsxs(tl,{className:"p-0 pt-2 flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:t.read_count>1?`${r(t.read_count)}  `:" "}),e.jsx(M,{asChild:!0,variant:"ghost",size:"sm",children:e.jsx(X,{href:`/article/${t.slug}`,children:" "})})]})]})]})})};function Z7(){const[t,s]=h.useState([]),[r,n]=h.useState([]),[a,i]=h.useState(!0),[l,o]=h.useState(null);h.useEffect(()=>{(async()=>{try{i(!0),o(null);const{data:u,error:m}=await Tt.from("team_members").select("*").order("is_featured",{ascending:!1});m?(console.error("Error fetching team members:",m),s([{id:1,name:" ",position:"  ",department:"",bio:"         ",image_url:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face",email:"editor@prothomalo.com",phone:"-",join_date:"2000-01-01",is_featured:!0},{id:2,name:" ",position:" ",department:"",bio:"         ",image_url:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",email:"anisul@prothomalo.com",phone:"-",join_date:"2005-03-15",is_featured:!0},{id:3,name:" ",position:" ",department:"",bio:"         ",image_url:"https://images.unsplash.com/photo-1560250097-0b93528c311a?w=150&h=150&fit=crop&crop=face",email:"firoz@prothomalo.com",phone:"-",join_date:"2010-07-20",is_featured:!1}])):s(u||[]);const{data:f,error:x}=await Tt.from("company_info").select("*").order("display_order",{ascending:!0});x?(console.error("Error fetching company info:",x),n([{id:1,section:"mission",title:" ",content:"      ,         ,       ",display_order:1,updated_at:new Date().toISOString()},{id:2,section:"vision",title:" ",content:" ,                   ",display_order:2,updated_at:new Date().toISOString()},{id:3,section:"values",title:" ",content:", ,                      ",display_order:3,updated_at:new Date().toISOString()},{id:4,section:"history",title:" ",content:"                   ,        ",display_order:4,updated_at:new Date().toISOString()}])):n(f||[])}catch(u){console.error("Error fetching about data:",u),o("    ")}finally{i(!1)}})()},[]);const c=d=>{switch(d){case"mission":return e.jsx(Do,{className:"h-5 w-5 text-blue-500"});case"vision":return e.jsx(xr,{className:"h-5 w-5 text-red-500"});case"values":return e.jsx(Zh,{className:"h-5 w-5 text-green-500"});case"history":return e.jsx(gt,{className:"h-5 w-5 text-purple-500"});default:return e.jsx(gt,{className:"h-5 w-5 text-gray-500"})}};return a?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsxs("div",{className:"animate-pulse space-y-6",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[...Array(3)].map((d,u)=>e.jsxs("div",{className:"bg-white rounded-lg p-6",children:[e.jsx("div",{className:"h-32 bg-gray-200 rounded-full w-32 mx-auto mb-4"}),e.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]},u))})]})})}):l?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsx(k,{children:e.jsxs(E,{className:"text-center py-8",children:[e.jsx("p",{className:"text-red-500 mb-4",children:l}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"  "})]})})})}):e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4",children:""}),e.jsx("p",{className:"text-gray-600",children:"  "})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12",children:r.map(d=>e.jsxs(k,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(I,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[c(d.section),d.title]})}),e.jsxs(E,{children:[e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:d.content}),e.jsxs("div",{className:"text-sm text-gray-500",children:[" : ",e.jsx(vt,{date:d.updated_at})]})]})]},d.id))}),e.jsxs("div",{className:"mb-12",children:[e.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[e.jsx(gt,{className:"h-6 w-6 text-blue-500"})," "]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(d=>e.jsx(k,{className:"hover:shadow-lg transition-shadow",children:e.jsx(E,{className:"pt-6",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"relative mb-4",children:[e.jsx("img",{src:d.image_url,alt:d.name,className:"w-24 h-24 rounded-full mx-auto object-cover",onError:u=>{u.currentTarget.style.display="none",u.currentTarget.nextElementSibling.style.display="flex"}}),e.jsx("div",{className:"hidden w-24 h-24 rounded-full mx-auto bg-gray-200 flex items-center justify-center",children:e.jsx(gt,{className:"h-8 w-8 text-gray-400"})}),d.is_featured&&e.jsx(ee,{className:"absolute -top-2 -right-2 bg-blue-500",children:""})]}),e.jsx("h3",{className:"font-bold text-lg mb-1",children:d.name}),e.jsx("p",{className:"text-blue-600 font-medium mb-2",children:d.position}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:d.bio}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[e.jsx(Ao,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-gray-600",children:d.email})]}),e.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[e.jsx(Xi,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-gray-600",children:d.phone})]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[": ",e.jsx(vt,{date:d.join_date})]})]})]})})},d.id))})]}),e.jsxs(k,{className:"bg-blue-50",children:[e.jsx(I,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Ro,{className:"h-5 w-5 text-blue-500"})," "]})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:" "}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ro,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm",children:"/,  ,  , -"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xi,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm",children:"-"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ao,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm",children:"info@prothomalo.com"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:" "}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsx("p",{children:" - :   -  "}),e.jsx("p",{children:":   -  "}),e.jsx("p",{children:": "})]})]})]})})]})]})})}function Y7(){const[t,s]=h.useState([]),[r,n]=h.useState(!0),[a,i]=h.useState(!1),[l,o]=h.useState(null),{toast:c}=Xe(),[d,u]=h.useState({name:"",email:"",phone:"",subject:"",message:"",department:"general"}),[m,f]=h.useState({});h.useEffect(()=>{(async()=>{try{n(!0),o(null);const{data:j,error:w}=await Tt.from("contact_info").select("*").order("is_primary",{ascending:!1});w?(console.error("Error fetching contact info:",w),s([{id:1,department:" ",phone:"-",email:"editorial@prothomalo.com",address:"/,  ,  , -",working_hours:"  -  ",is_primary:!0},{id:2,department:" ",phone:"-",email:"ads@prothomalo.com",address:"/,  ,  , -",working_hours:"  -  ",is_primary:!1},{id:3,department:" ",phone:"-",email:"tech@prothomalo.com",address:"/,  ,  , -",working_hours:"  -  ",is_primary:!1}])):s(j||[])}catch(j){console.error("Error fetching contact info:",j),o("     ")}finally{n(!1)}})()},[]);const x=()=>{const p={};return d.name.trim()||(p.name=" "),d.email.trim()?/\S+@\S+\.\S+/.test(d.email)||(p.email="  "):p.email=" ",d.subject.trim()||(p.subject=" "),d.message.trim()||(p.message=" "),f(p),Object.keys(p).length===0},g=async p=>{if(p.preventDefault(),!!x())try{i(!0);const{data:j,error:w}=await Tt.from("contact_messages").insert([{name:d.name,email:d.email,phone:d.phone,subject:d.subject,message:d.message,department:d.department,status:"pending",created_at:new Date().toISOString()}]);w?(console.error("Error saving message:",w),c({title:"  ",description:"     "})):c({title:"   ",description:"     "}),u({name:"",email:"",phone:"",subject:"",message:"",department:"general"}),f({})}catch(j){console.error("Error submitting form:",j),c({title:" ",description:"    ",variant:"destructive"})}finally{i(!1)}},v=(p,j)=>{u(w=>({...w,[p]:j})),m[p]&&f(w=>({...w,[p]:void 0}))};return r?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsxs("div",{className:"animate-pulse space-y-6",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx("div",{className:"space-y-4",children:[...Array(3)].map((p,j)=>e.jsxs("div",{className:"bg-white rounded-lg p-6",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4 mb-4"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]})]},j))}),e.jsxs("div",{className:"bg-white rounded-lg p-6",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4 mb-4"}),e.jsx("div",{className:"space-y-4",children:[...Array(6)].map((p,j)=>e.jsx("div",{className:"h-10 bg-gray-200 rounded"},j))})]})]})]})})}):e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4",children:""}),e.jsx("p",{className:"text-gray-600",children:"   "})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:" "}),l&&e.jsx(k,{className:"border-red-200 bg-red-50",children:e.jsx(E,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[e.jsx(Yt,{className:"h-5 w-5"}),e.jsx("span",{children:l})]})})}),t.map(p=>e.jsxs(k,{className:`hover:shadow-lg transition-shadow ${p.is_primary?"ring-2 ring-blue-500":""}`,children:[e.jsx(I,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Xm,{className:"h-5 w-5 text-blue-500"}),p.department,p.is_primary&&e.jsx(ee,{variant:"secondary",children:""})]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Xi,{className:"h-4 w-4 text-gray-500"}),e.jsx("a",{href:`tel:${p.phone}`,className:"hover:text-blue-600 transition-colors",children:p.phone})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ao,{className:"h-4 w-4 text-gray-500"}),e.jsx("a",{href:`mailto:${p.email}`,className:"hover:text-blue-600 transition-colors",children:p.email})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Ro,{className:"h-4 w-4 text-gray-500 mt-1"}),e.jsx("span",{className:"text-sm",children:p.address})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ot,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm",children:p.working_hours})]})]})})]},p.id))]}),e.jsx("div",{children:e.jsxs(k,{children:[e.jsx(I,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Io,{className:"h-5 w-5 text-blue-500"}),"  "]})}),e.jsx(E,{children:e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium mb-2",children:" *"}),e.jsx(J,{id:"name",type:"text",placeholder:"  ",value:d.name,onChange:p=>v("name",p.target.value),className:m.name?"border-red-500":""}),m.name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-2",children:" *"}),e.jsx(J,{id:"email",type:"email",placeholder:"  ",value:d.email,onChange:p=>v("email",p.target.value),className:m.email?"border-red-500":""}),m.email&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.email})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium mb-2",children:""}),e.jsx(J,{id:"phone",type:"tel",placeholder:"   ",value:d.phone,onChange:p=>v("phone",p.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"department",className:"block text-sm font-medium mb-2",children:""}),e.jsxs("select",{id:"department",value:d.department,onChange:p=>v("department",p.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"general",children:""}),e.jsx("option",{value:"editorial",children:""}),e.jsx("option",{value:"advertisement",children:""}),e.jsx("option",{value:"technical",children:""}),e.jsx("option",{value:"complaint",children:""})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium mb-2",children:" *"}),e.jsx(J,{id:"subject",type:"text",placeholder:"  ",value:d.subject,onChange:p=>v("subject",p.target.value),className:m.subject?"border-red-500":""}),m.subject&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.subject})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"message",className:"block text-sm font-medium mb-2",children:" *"}),e.jsx(Kt,{id:"message",placeholder:"  ",value:d.message,onChange:p=>v("message",p.target.value),className:`min-h-[120px] ${m.message?"border-red-500":""}`}),m.message&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.message})]}),e.jsx(M,{type:"submit",disabled:a,className:"w-full",children:a?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"})," ..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Io,{className:"h-4 w-4 mr-2"})," "]})})]})})]})})]})]})})}function X7(){const[t,s]=h.useState([]),[r,n]=h.useState([]),[a,i]=h.useState(!0),[l,o]=h.useState(null);h.useEffect(()=>{(async()=>{try{i(!0),o(null);const{data:u,error:m}=await Tt.from("editorial_policies").select("*").eq("is_active",!0).order("priority",{ascending:!0});m?(console.error("Error fetching policies:",m),s([{id:1,title:" ",content:"                                ",category:"independence",priority:1,is_active:!0,updated_at:new Date().toISOString()},{id:2,title:"  ",content:"                            ",category:"accuracy",priority:2,is_active:!0,updated_at:new Date().toISOString()},{id:3,title:"  ",content:"           , , ,                ",category:"ethics",priority:3,is_active:!0,updated_at:new Date().toISOString()},{id:4,title:"   ",content:"                           ",category:"privacy",priority:4,is_active:!0,updated_at:new Date().toISOString()}])):s(u||[]);const{data:f,error:x}=await Tt.from("editorial_guidelines").select("*").order("created_at",{ascending:!1});x?(console.error("Error fetching guidelines:",x),n([{id:1,title:" ",description:"            ",category:"verification",is_mandatory:!0,created_at:new Date().toISOString()},{id:2,title:"  ",description:" ,               ",category:"language",is_mandatory:!0,created_at:new Date().toISOString()},{id:3,title:"  ",description:"                ",category:"media",is_mandatory:!1,created_at:new Date().toISOString()},{id:4,title:"  ",description:"              ",category:"correction",is_mandatory:!0,created_at:new Date().toISOString()}])):n(f||[])}catch(u){console.error("Error fetching policy data:",u),o("     ")}finally{i(!1)}})()},[]);const c=d=>{switch(d){case"independence":return e.jsx(vs,{className:"h-5 w-5 text-green-500"});case"accuracy":return e.jsx(as,{className:"h-5 w-5 text-blue-500"});case"ethics":return e.jsx(gt,{className:"h-5 w-5 text-purple-500"});case"privacy":return e.jsx(vs,{className:"h-5 w-5 text-orange-500"});default:return e.jsx(Xt,{className:"h-5 w-5 text-gray-500"})}};return a?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"animate-pulse space-y-6",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),e.jsx("div",{className:"space-y-4",children:[...Array(4)].map((d,u)=>e.jsxs("div",{className:"bg-white rounded-lg p-6",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4 mb-4"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]},u))})]})})}):l?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsx(k,{children:e.jsxs(E,{className:"text-center py-8",children:[e.jsx(Yt,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-red-500 mb-4",children:l}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"  "})]})})})}):e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4",children:" "}),e.jsx("p",{className:"text-gray-600",children:"    "})]}),e.jsxs("div",{className:"space-y-6 mb-12",children:[e.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[e.jsx(Xt,{className:"h-6 w-6 text-blue-500"})," "]}),t.map(d=>e.jsxs(k,{children:[e.jsx(I,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[c(d.category),d.title]})}),e.jsxs(E,{children:[e.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-line mb-4",children:d.content}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(ee,{variant:"secondary",children:[": ",d.priority]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[" : ",e.jsx(vt,{date:d.updated_at})]})]})]})]},d.id))]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[e.jsx(as,{className:"h-6 w-6 text-green-500"})," "]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:r.map(d=>e.jsxs(k,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(I,{children:e.jsxs(L,{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[c(d.category),d.title]}),d.is_mandatory&&e.jsx(ee,{variant:"destructive",children:""})]})}),e.jsxs(E,{children:[e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:d.description}),e.jsxs("div",{className:"text-sm text-gray-500",children:[": ",e.jsx(vt,{date:d.created_at})]})]})]},d.id))})]}),e.jsx(k,{className:"mt-12 bg-blue-50",children:e.jsx(E,{className:"pt-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Xt,{className:"h-5 w-5 text-blue-500 mt-1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:" "}),e.jsx("p",{className:"text-sm text-gray-700",children:"                           "})]})]})})})]})})}function J7(){const[t,s]=h.useState([]),[r,n]=h.useState([]),[a,i]=h.useState(!0),[l,o]=h.useState(null);h.useEffect(()=>{(async()=>{try{i(!0),o(null);const{data:u,error:m}=await Tt.from("ad_packages").select("*").eq("is_active",!0).order("price",{ascending:!0});m?(console.error("Error fetching ad packages:",m),s([{id:1,name:" ",description:"     ",price:5e3,duration:" ",features:["   ","   "," "],is_popular:!1,is_active:!0},{id:2,name:" ",description:"     ",price:15e3,duration:" ",features:["   ","   ","  "," "],is_popular:!0,is_active:!0},{id:3,name:" ",description:"     ",price:4e4,duration:" ",features:["   ","   ","   "," ","  "],is_popular:!1,is_active:!0}])):s(u||[]);const{data:f,error:x}=await Tt.from("ad_rates").select("*").order("category",{ascending:!0});x?(console.error("Error fetching ad rates:",x),n([{id:1,category:" ",position:"  ",size:"728x90",rate_per_day:1e3,rate_per_week:6e3,rate_per_month:2e4,discount_percentage:20,updated_at:new Date().toISOString()},{id:2,category:" ",position:" ",size:"300x250",rate_per_day:500,rate_per_week:3e3,rate_per_month:1e4,discount_percentage:15,updated_at:new Date().toISOString()},{id:3,category:" ",position:" ",size:"320x50",rate_per_day:300,rate_per_week:1800,rate_per_month:6e3,discount_percentage:10,updated_at:new Date().toISOString()}])):n(f||[])}catch(u){console.error("Error fetching ad data:",u),o("     ")}finally{i(!1)}})()},[]);const c=d=>new Intl.NumberFormat("bn-BD",{style:"currency",currency:"BDT",minimumFractionDigits:0,maximumFractionDigits:0}).format(d);return a?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsxs("div",{className:"animate-pulse space-y-6",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[...Array(3)].map((d,u)=>e.jsxs("div",{className:"bg-white rounded-lg p-6",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-4"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]},u))})]})})}):l?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsx(k,{children:e.jsxs(E,{className:"text-center py-8",children:[e.jsx("p",{className:"text-red-500 mb-4",children:l}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"  "})]})})})}):e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4",children:""}),e.jsx("p",{className:"text-gray-600",children:"    "})]}),e.jsxs("div",{className:"mb-12",children:[e.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[e.jsx(Do,{className:"h-6 w-6 text-blue-500"})," "]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:t.map(d=>e.jsxs(k,{className:`relative hover:shadow-lg transition-shadow ${d.is_popular?"ring-2 ring-blue-500":""}`,children:[d.is_popular&&e.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:e.jsx(ee,{className:"bg-blue-500 text-white",children:""})}),e.jsx(I,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Xh,{className:"h-5 w-5 text-green-500"}),d.name]})}),e.jsxs(E,{children:[e.jsx("p",{className:"text-gray-600 mb-4",children:d.description}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-1",children:c(d.price)}),e.jsx("div",{className:"text-sm text-gray-500",children:d.duration})]}),e.jsx("div",{className:"space-y-2 mb-6",children:d.features.map((u,m)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-sm",children:u})]},m))}),e.jsx(M,{className:"w-full",children:"  "})]})]},d.id))})]}),e.jsxs("div",{className:"mb-12",children:[e.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[e.jsx(Ft,{className:"h-6 w-6 text-green-500"})," "]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(d=>e.jsxs(k,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(I,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Xt,{className:"h-5 w-5 text-purple-500"}),d.category]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-500",children:":"}),e.jsx("span",{className:"font-medium",children:d.position})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-500",children:":"}),e.jsx(ee,{variant:"outline",children:d.size})]}),e.jsxs("div",{className:"border-t pt-3",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm",children:" :"}),e.jsx("span",{className:"font-bold text-green-600",children:c(d.rate_per_day)})]}),e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm",children:" :"}),e.jsx("span",{className:"font-bold text-blue-600",children:c(d.rate_per_week)})]}),e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm",children:" :"}),e.jsx("span",{className:"font-bold text-purple-600",children:c(d.rate_per_month)})]}),d.discount_percentage>0&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-green-600",children:":"}),e.jsxs(ee,{variant:"secondary",className:"text-green-600",children:[d.discount_percentage,"%"]})]})]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[" : ",e.jsx(vt,{date:d.updated_at})]})]})})]},d.id))})]}),e.jsxs("div",{className:"mb-12",children:[e.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[e.jsx(gt,{className:"h-6 w-6 text-orange-500"}),"   ?"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(k,{children:e.jsxs(E,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(gt,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold",children:" "}),e.jsx("p",{className:"text-sm text-gray-600",children:"  + "})]})]}),e.jsx("p",{className:"text-gray-700",children:"                "})]})}),e.jsx(k,{children:e.jsxs(E,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(Ft,{className:"h-6 w-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold",children:" "}),e.jsx("p",{className:"text-sm text-gray-600",children:" "})]})]}),e.jsx("p",{className:"text-gray-700",children:"              "})]})})]})]}),e.jsxs(k,{className:"bg-blue-50",children:[e.jsx(I,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Xi,{className:"h-5 w-5 text-blue-500"}),"  "]})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Xi,{className:"h-5 w-5 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:""}),e.jsx("p",{className:"text-sm text-gray-600",children:"-"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ao,{className:"h-5 w-5 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:""}),e.jsx("p",{className:"text-sm text-gray-600",children:"ads@prothomalo.com"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ds,{className:"h-5 w-5 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:" "}),e.jsx("p",{className:"text-sm text-gray-600",children:"  -  "})]})]}),e.jsx(M,{className:"w-full",children:"  "})]})]})})]})]})})}function eB(){const[t,s]=h.useState([]),[r,n]=h.useState(null),[a,i]=h.useState(!0),[l,o]=h.useState(!1),[c,d]=h.useState(null),[u,m]=h.useState(""),[f,x]=h.useState("all"),[g,v]=h.useState("all"),[p,j]=h.useState("all"),[w,y]=h.useState(1),_=20,b=[{id:"all",name:" "},{id:"politics",name:""},{id:"economy",name:""},{id:"international",name:""},{id:"sports",name:""},{id:"entertainment",name:""},{id:"technology",name:""},{id:"lifestyle",name:""}],N=Array.from({length:5},(C,R)=>2025-R),T=[{value:"all",label:" "},{value:"01",label:""},{value:"02",label:""},{value:"03",label:""},{value:"04",label:""},{value:"05",label:""},{value:"06",label:""},{value:"07",label:""},{value:"08",label:""},{value:"09",label:""},{value:"10",label:""},{value:"11",label:""},{value:"12",label:""}];h.useEffect(()=>{A()},[f,g,p,u,w]);const A=async()=>{try{i(!0),d(null);let C=Tt.from("articles").select(`
          id,
          title,
          slug,
          excerpt,
          image_url,
          published_at,
          view_count,
          categories!inner (
            id,
            name,
            slug
          )
        `).order("published_at",{ascending:!1});if(f!=="all"&&(C=C.eq("categories.slug",f)),g!=="all"){const O=`${g}-01-01`,z=`${g}-12-31`;C=C.gte("published_at",O).lte("published_at",z)}if(p!=="all"&&g!=="all"){const O=`${g}-${p}-01`,z=`${g}-${p}-31`;C=C.gte("published_at",O).lte("published_at",z)}u.trim()&&(C=C.or(`title.ilike.%${u}%,excerpt.ilike.%${u}%`));const R=(w-1)*_,K=R+_-1;C=C.range(R,K);const{data:W,error:D}=await C;if(D)console.error("Error fetching archive:",D),s([{id:1,title:"   ",slug:"bangladesh-economic-growth-2024",excerpt:"     .%  ...",image_url:"https://images.unsplash.com/photo-1495020689067-958852a7765e?w=400&h=250&fit=crop",category:{id:2,name:"",slug:"economy"},published_at:"2024-12-15T10:30:00Z",view_count:15420},{id:2,title:"    ",slug:"national-parliament-new-law-passed",excerpt:"      ...",image_url:"https://images.unsplash.com/photo-1577962917302-cd874c4e31d2?w=400&h=250&fit=crop",category:{id:1,name:"",slug:"politics"},published_at:"2024-12-10T14:20:00Z",view_count:8750}]);else{const O=(W==null?void 0:W.map(z=>({id:z.id,title:z.title,slug:z.slug,excerpt:z.excerpt,image_url:z.image_url,category:{id:z.categories.id,name:z.categories.name,slug:z.categories.slug},published_at:z.published_at,view_count:z.view_count||0})))||[];s(O)}const{data:B,error:V}=await Tt.from("articles").select("published_at, categories(id)").order("published_at",{ascending:!1});if(!V&&B){const O=B.length,z=new Set(B.map(G=>{var q;return(q=G.categories)==null?void 0:q.id})).size,U=B.map(G=>G.published_at).filter(Boolean);n({total_articles:O,categories_count:z,date_range:{earliest:U[U.length-1]||"2020-01-01",latest:U[0]||new Date().toISOString()}})}else n({total_articles:2500,categories_count:8,date_range:{earliest:"2020-01-01",latest:new Date().toISOString()}})}catch(C){console.error("Error fetching archive data:",C),d("     ")}finally{i(!1)}},S=C=>{C.preventDefault(),y(1),A()},P=C=>C>=1e3?`${(C/1e3).toFixed(1)}K`:C.toString();return a&&t.length===0?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsxs("div",{className:"animate-pulse space-y-6",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[...Array(4)].map((C,R)=>e.jsx("div",{className:"h-10 bg-gray-200 rounded"},R))}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((C,R)=>e.jsxs("div",{className:"bg-white rounded-lg p-4",children:[e.jsx("div",{className:"h-40 bg-gray-200 rounded mb-4"}),e.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"})]},R))})]})})}):e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h1",{className:"text-4xl font-bold mb-4 flex items-center gap-2",children:[e.jsx(A2,{className:"h-8 w-8 text-blue-500"}),""]}),e.jsx("p",{className:"text-gray-600",children:"    "})]}),r&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[e.jsx(k,{children:e.jsx(E,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(Xt,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:r.total_articles.toLocaleString()}),e.jsx("p",{className:"text-sm text-gray-600",children:" "})]})]})})}),e.jsx(k,{children:e.jsx(E,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(M2,{className:"h-6 w-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:r.categories_count}),e.jsx("p",{className:"text-sm text-gray-600",children:""})]})]})})}),e.jsx(k,{children:e.jsx(E,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:e.jsx(Ds,{className:"h-6 w-6 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold",children:e.jsx(vt,{date:r.date_range.earliest})}),e.jsx("p",{className:"text-xs text-gray-600",children:"  "})]})]})})})]}),e.jsxs(k,{className:"mb-8",children:[e.jsx(I,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Mt,{className:"h-5 w-5 text-blue-500"}),"  "]})}),e.jsx(E,{children:e.jsxs("form",{onSubmit:S,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:""}),e.jsx(J,{type:"text",placeholder:"  ...",value:u,onChange:C=>m(C.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:""}),e.jsx("select",{value:f,onChange:C=>x(C.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",children:b.map(C=>e.jsx("option",{value:C.id,children:C.name},C.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:""}),e.jsxs("select",{value:g,onChange:C=>v(C.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:" "}),N.map(C=>e.jsx("option",{value:C,children:C},C))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:""}),e.jsx("select",{value:p,onChange:C=>j(C.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",children:T.map(C=>e.jsx("option",{value:C.value,children:C.label},C.value))})]})]}),e.jsx(M,{type:"submit",disabled:l,children:l?"...":" "})]})})]}),c&&e.jsx(k,{className:"mb-8 border-red-200 bg-red-50",children:e.jsx(E,{className:"pt-6",children:e.jsx("p",{className:"text-red-600",children:c})})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:t.map(C=>e.jsxs(k,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[e.jsx(X,{href:`/article/${C.slug}`,children:e.jsxs("div",{className:"aspect-video bg-gray-200",children:[e.jsx("img",{src:C.image_url,alt:C.title,className:"w-full h-full object-cover",onError:R=>{R.currentTarget.style.display="none",R.currentTarget.nextElementSibling.style.display="flex"}}),e.jsx("div",{className:"hidden w-full h-full bg-gray-200 flex items-center justify-center",children:e.jsx(Xt,{className:"h-12 w-12 text-gray-400"})})]})}),e.jsxs(E,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(ee,{variant:"secondary",className:"text-xs",children:C.category.name}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[e.jsx($t,{className:"h-3 w-3"}),e.jsx("span",{children:P(C.view_count)})]})]}),e.jsx("h3",{className:"font-bold text-lg mb-2 line-clamp-2",children:e.jsx(X,{href:`/article/${C.slug}`,className:"hover:text-blue-600 transition-colors",children:C.title})}),e.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:C.excerpt}),e.jsx("div",{className:"text-xs text-gray-500",children:e.jsx(vt,{date:C.published_at})})]})]},C.id))}),e.jsxs("div",{className:"flex justify-center items-center gap-2",children:[e.jsx(M,{variant:"outline",onClick:()=>y(Math.max(1,w-1)),disabled:w===1,children:""}),e.jsxs("span",{className:"px-4 py-2 bg-gray-100 rounded",children:[" ",w]}),e.jsx(M,{variant:"outline",onClick:()=>y(w+1),disabled:t.length<_,children:""})]})]})})}function tB(){const[t,s]=h.useState([]),[r,n]=h.useState(!0),[a,i]=h.useState(null);h.useEffect(()=>{(async()=>{try{n(!0),i(null);const{data:c,error:d}=await Tt.from("privacy_policy_sections").select("*").eq("is_active",!0).order("display_order",{ascending:!0});d?(console.error("Error fetching privacy policy:",d),s([{id:1,title:" ",content:`                :

    
  
  
    
    

          `,section_type:"collection",is_active:!0,display_order:1,updated_at:new Date().toISOString()},{id:2,title:" ",content:`       :

     
    
      
     
    

        `,section_type:"usage",is_active:!0,display_order:2,updated_at:new Date().toISOString()},{id:3,title:" ",content:`            :

 SSL  
    
   
    
     

,       `,section_type:"security",is_active:!0,display_order:3,updated_at:new Date().toISOString()},{id:4,title:"  ",content:`       :

    
    
    
    

          `,section_type:"cookies",is_active:!0,display_order:4,updated_at:new Date().toISOString()},{id:5,title:"  ",content:`           :

   -   
    -   
   -   
   -  

     `,section_type:"third_party",is_active:!0,display_order:5,updated_at:new Date().toISOString()},{id:6,title:" ",content:`       :

      
    
    
  
   

       `,section_type:"rights",is_active:!0,display_order:6,updated_at:new Date().toISOString()}])):s(c||[])}catch(c){console.error("Error fetching privacy policy:",c),i("     ")}finally{n(!1)}})()},[]);const l=o=>{switch(o){case"collection":return e.jsx(Zn,{className:"h-5 w-5 text-blue-500"});case"usage":return e.jsx($t,{className:"h-5 w-5 text-green-500"});case"security":return e.jsx(vs,{className:"h-5 w-5 text-purple-500"});case"cookies":return e.jsx(ZO,{className:"h-5 w-5 text-orange-500"});case"third_party":return e.jsx(og,{className:"h-5 w-5 text-indigo-500"});case"rights":return e.jsx(sy,{className:"h-5 w-5 text-red-500"});default:return e.jsx(Rs,{className:"h-5 w-5 text-gray-500"})}};return r?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"animate-pulse space-y-6",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),e.jsx("div",{className:"space-y-4",children:[...Array(6)].map((o,c)=>e.jsxs("div",{className:"bg-white rounded-lg p-6",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4 mb-4"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]},c))})]})})}):a?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsx(k,{children:e.jsxs(E,{className:"text-center py-8",children:[e.jsx(Rs,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-red-500 mb-4",children:a}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"  "})]})})})}):e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h1",{className:"text-4xl font-bold mb-4 flex items-center gap-2",children:[e.jsx(vs,{className:"h-8 w-8 text-blue-500"})," "]}),e.jsx("p",{className:"text-gray-600",children:"        "})]}),e.jsx(k,{className:"mb-8 bg-blue-50",children:e.jsx(E,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-2 text-blue-700",children:[e.jsx(Rs,{className:"h-5 w-5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:" "}),e.jsxs("p",{className:"text-sm",children:["    ",e.jsx(vt,{date:new Date().toISOString()}),"    "]})]})]})})}),e.jsx("div",{className:"space-y-6",children:t.map(o=>e.jsxs(k,{children:[e.jsx(I,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[l(o.section_type),o.title]})}),e.jsxs(E,{children:[e.jsx("div",{className:"prose prose-gray max-w-none",children:e.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-line",children:o.content})}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"text-sm text-gray-500",children:[" : ",e.jsx(vt,{date:o.updated_at})]})})]})]},o.id))}),e.jsxs(k,{className:"mt-12 bg-green-50",children:[e.jsx(I,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(og,{className:"h-5 w-5 text-green-500"}),"  "]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-700",children:"            :"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:""}),e.jsx("p",{className:"text-sm text-gray-600",children:"privacy@prothomalo.com"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:""}),e.jsx("p",{className:"text-sm text-gray-600",children:"-"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:""}),e.jsx("p",{className:"text-sm text-gray-600",children:"/,  ,  , -"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:" "}),e.jsx("p",{className:"text-sm text-gray-600",children:"  -  "})]})]})]})})]}),e.jsx(k,{className:"mt-6 border-orange-200 bg-orange-50",children:e.jsx(E,{className:"pt-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Rs,{className:"h-5 w-5 text-orange-500 mt-1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-orange-800 mb-2",children:" "}),e.jsx("p",{className:"text-sm text-orange-700",children:"                            "})]})]})})})]})})}function sB(){const[t,s]=h.useState([]),[r,n]=h.useState(!0),[a,i]=h.useState(null);h.useEffect(()=>{(async()=>{try{n(!0),i(null);const{data:d,error:u}=await Tt.from("terms_of_service_sections").select("*").eq("is_active",!0).order("display_order",{ascending:!0});u?(console.error("Error fetching terms of service:",u),s([{id:1,title:"  ",content:`  (www.prothomalo.com)                  ,        

                   `,section_type:"acceptance",is_active:!0,display_order:1,updated_at:new Date().toISOString()},{id:2,title:" ",content:`       :

       
     
      
      

 :
  
   
   
  
     `,section_type:"usage",is_active:!0,display_order:2,updated_at:new Date().toISOString()},{id:3,title:" ",content:`   , , , ,                 

 :
      
     (   )
    ( )

  :
    
    
    `,section_type:"intellectual_property",is_active:!0,display_order:3,updated_at:new Date().toISOString()},{id:4,title:" ",content:`    ,      ,     :

      
        
     
       

                `,section_type:"user_content",is_active:!0,display_order:4,updated_at:new Date().toISOString()},{id:5,title:" ",content:`       :

     
    
     
    
   

 " "          `,section_type:"liability",is_active:!0,display_order:5,updated_at:new Date().toISOString()},{id:6,title:"   ",content:`         :

  
    
    
    

                `,section_type:"termination",is_active:!0,display_order:6,updated_at:new Date().toISOString()},{id:7,title:"    ",content:`            

  :
      
     
    

          `,section_type:"governing_law",is_active:!0,display_order:7,updated_at:new Date().toISOString()}])):s(d||[])}catch(d){console.error("Error fetching terms of service:",d),i("     ")}finally{n(!1)}})()},[]);const l=c=>{switch(c){case"acceptance":return e.jsx(as,{className:"h-5 w-5 text-green-500"});case"usage":return e.jsx(gt,{className:"h-5 w-5 text-blue-500"});case"intellectual_property":return e.jsx(vs,{className:"h-5 w-5 text-purple-500"});case"user_content":return e.jsx(Xt,{className:"h-5 w-5 text-orange-500"});case"liability":return e.jsx(Rs,{className:"h-5 w-5 text-red-500"});case"termination":return e.jsx(Qm,{className:"h-5 w-5 text-gray-500"});case"governing_law":return e.jsx(nw,{className:"h-5 w-5 text-indigo-500"});default:return e.jsx(Xt,{className:"h-5 w-5 text-gray-500"})}},o=c=>{switch(c){case"acceptance":return"bg-green-50 border-green-200";case"usage":return"bg-blue-50 border-blue-200";case"intellectual_property":return"bg-purple-50 border-purple-200";case"user_content":return"bg-orange-50 border-orange-200";case"liability":return"bg-red-50 border-red-200";case"termination":return"bg-gray-50 border-gray-200";case"governing_law":return"bg-indigo-50 border-indigo-200";default:return"bg-gray-50 border-gray-200"}};return r?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"animate-pulse space-y-6",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),e.jsx("div",{className:"space-y-4",children:[...Array(7)].map((c,d)=>e.jsxs("div",{className:"bg-white rounded-lg p-6",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4 mb-4"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]},d))})]})})}):a?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsx(k,{children:e.jsxs(E,{className:"text-center py-8",children:[e.jsx(Rs,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-red-500 mb-4",children:a}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"  "})]})})})}):e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h1",{className:"text-4xl font-bold mb-4 flex items-center gap-2",children:[e.jsx(nw,{className:"h-8 w-8 text-blue-500"})," "]}),e.jsx("p",{className:"text-gray-600",children:"    "})]}),e.jsx(k,{className:"mb-8 bg-blue-50",children:e.jsx(E,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-2 text-blue-700",children:[e.jsx(as,{className:"h-5 w-5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:" "}),e.jsxs("p",{className:"text-sm",children:["  ",e.jsx(vt,{date:new Date().toISOString()}),"   "]})]})]})})}),e.jsx("div",{className:"space-y-6",children:t.map((c,d)=>e.jsxs(k,{className:`${o(c.section_type)} border-l-4`,children:[e.jsx(I,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(L,{className:"flex items-center gap-2",children:[l(c.section_type),e.jsxs("span",{className:"text-gray-500 text-sm font-normal",children:[(d+1).toString().padStart(2,"0"),"."]}),c.title]}),e.jsx(ee,{variant:"outline",className:"text-xs",children:c.section_type})]})}),e.jsxs(E,{children:[e.jsx("div",{className:"prose prose-gray max-w-none",children:e.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-line",children:c.content})}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"text-sm text-gray-500",children:[" : ",e.jsx(vt,{date:c.updated_at})]})})]})]},c.id))}),e.jsxs(k,{className:"mt-12 bg-green-50 border-green-200",children:[e.jsx(I,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(as,{className:"h-5 w-5 text-green-500"})," "]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-700",children:"                ,        "}),e.jsx("div",{className:"p-4 bg-white rounded-lg border border-green-200",children:e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("strong",{children:" :"}),"               "]})})]})})]}),e.jsxs(k,{className:"mt-6 bg-blue-50",children:[e.jsx(I,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(gt,{className:"h-5 w-5 text-blue-500"}),""]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-700",children:"           :"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:" "}),e.jsx("p",{className:"text-sm text-gray-600",children:"legal@prothomalo.com"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:" "}),e.jsx("p",{className:"text-sm text-gray-600",children:"-"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:""}),e.jsx("p",{className:"text-sm text-gray-600",children:"/,  ,  , -"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:" "}),e.jsx("p",{className:"text-sm text-gray-600",children:"  -  "})]})]})]})})]}),e.jsx(k,{className:"mt-6 border-gray-200 bg-gray-50",children:e.jsx(E,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(Xt,{className:"h-4 w-4"}),e.jsx("div",{className:"text-sm",children:e.jsxs("p",{children:[": . |  : ",e.jsx(vt,{date:new Date().toISOString()})]})})]})})})]})})}function rB(){return e.jsxs(s2,{children:[e.jsx(Te,{path:"/",component:e7}),e.jsx(Te,{path:"/category/:slug",component:t7}),e.jsx(Te,{path:"/article/:slug",component:k7}),e.jsx(Te,{path:"/video/:slug",component:C7}),e.jsx(Te,{path:"/audio/:slug",component:E7}),e.jsx(Te,{path:"/videos",component:T7}),e.jsx(Te,{path:"/audio-articles",component:P7}),e.jsx(Te,{path:"/epaper",component:A7}),e.jsx(Te,{path:"/search",component:R7}),e.jsx(Te,{path:"/advanced-search",component:I7}),e.jsx(Te,{path:"/recommendations",component:M7}),e.jsx(Te,{path:"/user-analytics",component:F7}),e.jsx(Te,{path:"/social-media-test",component:$7}),e.jsx(Te,{path:"/unused-tables-demo",component:U7}),e.jsx(Te,{path:"/login",component:zx}),e.jsx(Te,{path:"/register",component:zx}),e.jsx(Te,{path:"/auth",component:zx}),e.jsx(Te,{path:"/profile",component:W7}),e.jsx(Te,{path:"/dashboard",component:K7}),e.jsx(Te,{path:"/saved-articles",component:G7}),e.jsx(Te,{path:"/reading-history",component:Q7}),e.jsx(Te,{path:"/about",component:Z7}),e.jsx(Te,{path:"/contact",component:Y7}),e.jsx(Te,{path:"/editorial-policy",component:X7}),e.jsx(Te,{path:"/advertisement",component:J7}),e.jsx(Te,{path:"/archive",component:eB}),e.jsx(Te,{path:"/privacy-policy",component:tB}),e.jsx(Te,{path:"/terms-of-service",component:sB}),e.jsx(Te,{component:fV})]})}function nB(){return e.jsx(tS,{children:e.jsx(iS,{children:e.jsxs(nS,{children:[e.jsx(wz,{}),e.jsxs("div",{className:"flex flex-col min-h-screen bg-background",children:[e.jsx(Af,{}),e.jsx("main",{className:"flex-grow",children:e.jsx(rB,{})}),e.jsx(Rf,{}),e.jsx(J2,{})]})]})})})}const aB=()=>{var m,f;const{user:t,loading:s}=tt(),[r,n]=h.useState(""),[a,i]=h.useState(!1),[l,o]=h.useState(""),[c,d]=h.useState(!1),u=async()=>{if(!r.trim()){o("Please enter an email address");return}i(!0),o(""),d(!1);try{const{supabase:x}=await le(async()=>{const{supabase:j}=await Promise.resolve().then(()=>u6);return{supabase:j}},void 0),{data:g,error:v}=await x.auth.admin.getUserByEmail(r.trim());if(v||!g.user){o("User not found with this email");return}const{error:p}=await x.auth.admin.updateUserById(g.user.id,{user_metadata:{role:"admin"}});p?o(p.message||"Failed to set admin role"):(d(!0),o(`Successfully set ${r} as admin!`),n(""))}catch(x){console.error("Error setting admin role:",x),o("Error occurred while setting admin role")}finally{i(!1)}};return s?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(oe,{className:"h-8 w-8 animate-spin"})}):e.jsxs(e.Fragment,{children:[e.jsx(Ws,{children:e.jsx("title",{children:"Set Admin Role | "})}),e.jsx("div",{className:"container mx-auto px-4 py-12",children:e.jsx("div",{className:"max-w-md mx-auto",children:e.jsxs(k,{children:[e.jsxs(I,{children:[e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(vs,{className:"w-5 h-5"}),"Set Admin Role"]}),e.jsx(_e,{children:"Set a user as admin for the Bengali News Website. This is a one-time setup utility."})]}),e.jsxs(E,{children:[l&&e.jsxs(Ms,{variant:c?"default":"destructive",className:"mb-4",children:[c&&e.jsx(as,{className:"h-4 w-4"}),e.jsx(Ls,{children:l})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-1",children:"User Email"}),e.jsx(J,{id:"email",type:"email",placeholder:"Enter user email to make admin",value:r,onChange:x=>n(x.target.value),disabled:a})]}),e.jsx(M,{onClick:u,disabled:a||!r.trim(),className:"w-full",children:a?e.jsxs(e.Fragment,{children:[e.jsx(oe,{className:"mr-2 h-4 w-4 animate-spin"}),"Setting Admin Role..."]}):e.jsxs(e.Fragment,{children:[e.jsx(vs,{className:"mr-2 h-4 w-4"}),"Set as Admin"]})})]}),t&&e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 dark:bg-gray-800 rounded",children:[e.jsx("h3",{className:"font-medium mb-2",children:"Current User Info:"}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Email: ",t.email]}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Role: ",((m=t.user_metadata)==null?void 0:m.role)||"user"]}),((f=t.user_metadata)==null?void 0:f.role)==="admin"&&e.jsx("p",{className:"text-sm text-green-600 font-medium mt-1",children:" You already have admin access"})]})]})]})})})]})};function iB(){const[t]=St();return t.startsWith("/admin")||t==="/admin-login"||t==="/admin-access"?e.jsx(jz,{}):t==="/set-admin-role"?e.jsx(aB,{}):e.jsx(nB,{})}const lB=Q1(document.getElementById("root"));lB.render(e.jsx(h.StrictMode,{children:e.jsx(MR,{client:x6,children:e.jsx(iB,{})})}));export{qe as s};
