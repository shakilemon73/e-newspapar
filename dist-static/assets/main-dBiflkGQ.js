const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/queryClient-direct-A641_tZv.js","assets/supabase-direct-api-DNhvXpWN.js"])))=>i.map(i=>d[i]);
var Ij=t=>{throw TypeError(t)};var Yf=(t,s,r)=>s.has(t)||Ij("Cannot "+r);var F=(t,s,r)=>(Yf(t,s,"read from private field"),r?r.call(t):s.get(t)),Le=(t,s,r)=>s.has(t)?Ij("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(t):s.set(t,r),be=(t,s,r,n)=>(Yf(t,s,"write to private field"),n?n.call(t,r):s.set(t,r),r),Ke=(t,s,r)=>(Yf(t,s,"access private method"),r);var Pu=(t,s,r,n)=>({set _(a){be(t,s,a,r)},get _(){return F(t,s,n)}});function oA(t,s){for(var r=0;r<s.length;r++){const n=s[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Ir=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function lA(t){if(t.__esModule)return t;var s=t.default;if(typeof s=="function"){var r=function n(){return this instanceof n?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};r.prototype=s.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var a=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return t[n]}})}),r}var vN={exports:{}},Rm={},yN={exports:{}},Xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yd=Symbol.for("react.element"),cA=Symbol.for("react.portal"),dA=Symbol.for("react.fragment"),uA=Symbol.for("react.strict_mode"),hA=Symbol.for("react.profiler"),mA=Symbol.for("react.provider"),fA=Symbol.for("react.context"),xA=Symbol.for("react.forward_ref"),pA=Symbol.for("react.suspense"),gA=Symbol.for("react.memo"),vA=Symbol.for("react.lazy"),Dj=Symbol.iterator;function yA(t){return t===null||typeof t!="object"?null:(t=Dj&&t[Dj]||t["@@iterator"],typeof t=="function"?t:null)}var jN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wN=Object.assign,bN={};function Jl(t,s,r){this.props=t,this.context=s,this.refs=bN,this.updater=r||jN}Jl.prototype.isReactComponent={};Jl.prototype.setState=function(t,s){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,s,"setState")};Jl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function NN(){}NN.prototype=Jl.prototype;function av(t,s,r){this.props=t,this.context=s,this.refs=bN,this.updater=r||jN}var iv=av.prototype=new NN;iv.constructor=av;wN(iv,Jl.prototype);iv.isPureReactComponent=!0;var Lj=Array.isArray,_N=Object.prototype.hasOwnProperty,ov={current:null},SN={key:!0,ref:!0,__self:!0,__source:!0};function kN(t,s,r){var n,a={},i=null,o=null;if(s!=null)for(n in s.ref!==void 0&&(o=s.ref),s.key!==void 0&&(i=""+s.key),s)_N.call(s,n)&&!SN.hasOwnProperty(n)&&(a[n]=s[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Yd,type:t,key:i,ref:o,props:a,_owner:ov.current}}function jA(t,s){return{$$typeof:Yd,type:t.type,key:s,ref:t.ref,props:t.props,_owner:t._owner}}function lv(t){return typeof t=="object"&&t!==null&&t.$$typeof===Yd}function wA(t){var s={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return s[r]})}var Mj=/\/+/g;function Xf(t,s){return typeof t=="object"&&t!==null&&t.key!=null?wA(""+t.key):s.toString(36)}function oh(t,s,r,n,a){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Yd:case cA:o=!0}}if(o)return o=t,a=a(o),t=n===""?"."+Xf(o,0):n,Lj(a)?(r="",t!=null&&(r=t.replace(Mj,"$&/")+"/"),oh(a,s,r,"",function(d){return d})):a!=null&&(lv(a)&&(a=jA(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(Mj,"$&/")+"/")+t)),s.push(a)),1;if(o=0,n=n===""?".":n+":",Lj(t))for(var l=0;l<t.length;l++){i=t[l];var c=n+Xf(i,l);o+=oh(i,s,r,c,a)}else if(c=yA(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=n+Xf(i,l++),o+=oh(i,s,r,c,a);else if(i==="object")throw s=String(t),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return o}function Au(t,s,r){if(t==null)return t;var n=[],a=0;return oh(t,n,"","",function(i){return s.call(r,i,a++)}),n}function bA(t){if(t._status===-1){var s=t._result;s=s(),s.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=s)}if(t._status===1)return t._result.default;throw t._result}var Hs={current:null},lh={transition:null},NA={ReactCurrentDispatcher:Hs,ReactCurrentBatchConfig:lh,ReactCurrentOwner:ov};function CN(){throw Error("act(...) is not supported in production builds of React.")}Xe.Children={map:Au,forEach:function(t,s,r){Au(t,function(){s.apply(this,arguments)},r)},count:function(t){var s=0;return Au(t,function(){s++}),s},toArray:function(t){return Au(t,function(s){return s})||[]},only:function(t){if(!lv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Xe.Component=Jl;Xe.Fragment=dA;Xe.Profiler=hA;Xe.PureComponent=av;Xe.StrictMode=uA;Xe.Suspense=pA;Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NA;Xe.act=CN;Xe.cloneElement=function(t,s,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=wN({},t.props),a=t.key,i=t.ref,o=t._owner;if(s!=null){if(s.ref!==void 0&&(i=s.ref,o=ov.current),s.key!==void 0&&(a=""+s.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in s)_N.call(s,c)&&!SN.hasOwnProperty(c)&&(n[c]=s[c]===void 0&&l!==void 0?l[c]:s[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:Yd,type:t.type,key:a,ref:i,props:n,_owner:o}};Xe.createContext=function(t){return t={$$typeof:fA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:mA,_context:t},t.Consumer=t};Xe.createElement=kN;Xe.createFactory=function(t){var s=kN.bind(null,t);return s.type=t,s};Xe.createRef=function(){return{current:null}};Xe.forwardRef=function(t){return{$$typeof:xA,render:t}};Xe.isValidElement=lv;Xe.lazy=function(t){return{$$typeof:vA,_payload:{_status:-1,_result:t},_init:bA}};Xe.memo=function(t,s){return{$$typeof:gA,type:t,compare:s===void 0?null:s}};Xe.startTransition=function(t){var s=lh.transition;lh.transition={};try{t()}finally{lh.transition=s}};Xe.unstable_act=CN;Xe.useCallback=function(t,s){return Hs.current.useCallback(t,s)};Xe.useContext=function(t){return Hs.current.useContext(t)};Xe.useDebugValue=function(){};Xe.useDeferredValue=function(t){return Hs.current.useDeferredValue(t)};Xe.useEffect=function(t,s){return Hs.current.useEffect(t,s)};Xe.useId=function(){return Hs.current.useId()};Xe.useImperativeHandle=function(t,s,r){return Hs.current.useImperativeHandle(t,s,r)};Xe.useInsertionEffect=function(t,s){return Hs.current.useInsertionEffect(t,s)};Xe.useLayoutEffect=function(t,s){return Hs.current.useLayoutEffect(t,s)};Xe.useMemo=function(t,s){return Hs.current.useMemo(t,s)};Xe.useReducer=function(t,s,r){return Hs.current.useReducer(t,s,r)};Xe.useRef=function(t){return Hs.current.useRef(t)};Xe.useState=function(t){return Hs.current.useState(t)};Xe.useSyncExternalStore=function(t,s,r){return Hs.current.useSyncExternalStore(t,s,r)};Xe.useTransition=function(){return Hs.current.useTransition()};Xe.version="18.3.1";yN.exports=Xe;var m=yN.exports;const Be=Xl(m),cv=oA({__proto__:null,default:Be},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _A=m,SA=Symbol.for("react.element"),kA=Symbol.for("react.fragment"),CA=Object.prototype.hasOwnProperty,EA=_A.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,TA={key:!0,ref:!0,__self:!0,__source:!0};function EN(t,s,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),s.key!==void 0&&(i=""+s.key),s.ref!==void 0&&(o=s.ref);for(n in s)CA.call(s,n)&&!TA.hasOwnProperty(n)&&(a[n]=s[n]);if(t&&t.defaultProps)for(n in s=t.defaultProps,s)a[n]===void 0&&(a[n]=s[n]);return{$$typeof:SA,type:t,key:i,ref:o,props:a,_owner:EA.current}}Rm.Fragment=kA;Rm.jsx=EN;Rm.jsxs=EN;vN.exports=Rm;var e=vN.exports,TN={exports:{}},Nr={},PN={exports:{}},AN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function s(O,U){var ee=O.length;O.push(U);e:for(;0<ee;){var se=ee-1>>>1,W=O[se];if(0<a(W,U))O[se]=U,O[ee]=W,ee=se;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var U=O[0],ee=O.pop();if(ee!==U){O[0]=ee;e:for(var se=0,W=O.length,ue=W>>>1;se<ue;){var ye=2*(se+1)-1,me=O[ye],Ee=ye+1,K=O[Ee];if(0>a(me,ee))Ee<W&&0>a(K,me)?(O[se]=K,O[Ee]=ee,se=Ee):(O[se]=me,O[ye]=ee,se=ye);else if(Ee<W&&0>a(K,ee))O[se]=K,O[Ee]=ee,se=Ee;else break e}}return U}function a(O,U){var ee=O.sortIndex-U.sortIndex;return ee!==0?ee:O.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,f=3,x=!1,g=!1,v=!1,p=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(O){for(var U=r(d);U!==null;){if(U.callback===null)n(d);else if(U.startTime<=O)n(d),U.sortIndex=U.expirationTime,s(c,U);else break;U=r(d)}}function b(O){if(v=!1,w(O),!g)if(r(c)!==null)g=!0,V(N);else{var U=r(d);U!==null&&z(b,U.startTime-O)}}function N(O,U){g=!1,v&&(v=!1,y(A),A=-1),x=!0;var ee=f;try{for(w(U),h=r(c);h!==null&&(!(h.expirationTime>U)||O&&!S());){var se=h.callback;if(typeof se=="function"){h.callback=null,f=h.priorityLevel;var W=se(h.expirationTime<=U);U=t.unstable_now(),typeof W=="function"?h.callback=W:h===r(c)&&n(c),w(U)}else n(c);h=r(c)}if(h!==null)var ue=!0;else{var ye=r(d);ye!==null&&z(b,ye.startTime-U),ue=!1}return ue}finally{h=null,f=ee,x=!1}}var _=!1,P=null,A=-1,k=5,T=-1;function S(){return!(t.unstable_now()-T<k)}function R(){if(P!==null){var O=t.unstable_now();T=O;var U=!0;try{U=P(!0,O)}finally{U?B():(_=!1,P=null)}}else _=!1}var B;if(typeof j=="function")B=function(){j(R)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,I=H.port2;H.port1.onmessage=R,B=function(){I.postMessage(null)}}else B=function(){p(R,0)};function V(O){P=O,_||(_=!0,B())}function z(O,U){A=p(function(){O(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){g||x||(g=!0,V(N))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(O){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var ee=f;f=U;try{return O()}finally{f=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,U){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var ee=f;f=O;try{return U()}finally{f=ee}},t.unstable_scheduleCallback=function(O,U,ee){var se=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?se+ee:se):ee=se,O){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=ee+W,O={id:u++,callback:U,priorityLevel:O,startTime:ee,expirationTime:W,sortIndex:-1},ee>se?(O.sortIndex=ee,s(d,O),r(c)===null&&O===r(d)&&(v?(y(A),A=-1):v=!0,z(b,ee-se))):(O.sortIndex=W,s(c,O),g||x||(g=!0,V(N))),O},t.unstable_shouldYield=S,t.unstable_wrapCallback=function(O){var U=f;return function(){var ee=f;f=U;try{return O.apply(this,arguments)}finally{f=ee}}}})(AN);PN.exports=AN;var PA=PN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AA=m,jr=PA;function re(t){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)s+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var RN=new Set,jd={};function ho(t,s){El(t,s),El(t+"Capture",s)}function El(t,s){for(jd[t]=s,t=0;t<s.length;t++)RN.add(s[t])}var sa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tp=Object.prototype.hasOwnProperty,RA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Fj={},$j={};function OA(t){return tp.call($j,t)?!0:tp.call(Fj,t)?!1:RA.test(t)?$j[t]=!0:(Fj[t]=!0,!1)}function IA(t,s,r,n){if(r!==null&&r.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function DA(t,s,r,n){if(s===null||typeof s>"u"||IA(t,s,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function Ws(t,s,r,n,a,i,o){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=t,this.type=s,this.sanitizeURL=i,this.removeEmptyString=o}var Ns={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ns[t]=new Ws(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var s=t[0];Ns[s]=new Ws(s,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ns[t]=new Ws(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ns[t]=new Ws(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ns[t]=new Ws(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ns[t]=new Ws(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ns[t]=new Ws(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ns[t]=new Ws(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ns[t]=new Ws(t,5,!1,t.toLowerCase(),null,!1,!1)});var dv=/[\-:]([a-z])/g;function uv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var s=t.replace(dv,uv);Ns[s]=new Ws(s,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var s=t.replace(dv,uv);Ns[s]=new Ws(s,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var s=t.replace(dv,uv);Ns[s]=new Ws(s,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ns[t]=new Ws(t,1,!1,t.toLowerCase(),null,!1,!1)});Ns.xlinkHref=new Ws("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ns[t]=new Ws(t,1,!1,t.toLowerCase(),null,!0,!0)});function hv(t,s,r,n){var a=Ns.hasOwnProperty(s)?Ns[s]:null;(a!==null?a.type!==0:n||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(DA(s,r,a,n)&&(r=null),n||a===null?OA(s)&&(r===null?t.removeAttribute(s):t.setAttribute(s,""+r)):a.mustUseProperty?t[a.propertyName]=r===null?a.type===3?!1:"":r:(s=a.attributeName,n=a.attributeNamespace,r===null?t.removeAttribute(s):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?t.setAttributeNS(n,s,r):t.setAttribute(s,r))))}var da=AA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ru=Symbol.for("react.element"),Ho=Symbol.for("react.portal"),Wo=Symbol.for("react.fragment"),mv=Symbol.for("react.strict_mode"),sp=Symbol.for("react.profiler"),ON=Symbol.for("react.provider"),IN=Symbol.for("react.context"),fv=Symbol.for("react.forward_ref"),rp=Symbol.for("react.suspense"),np=Symbol.for("react.suspense_list"),xv=Symbol.for("react.memo"),wa=Symbol.for("react.lazy"),DN=Symbol.for("react.offscreen"),Uj=Symbol.iterator;function Pc(t){return t===null||typeof t!="object"?null:(t=Uj&&t[Uj]||t["@@iterator"],typeof t=="function"?t:null)}var zt=Object.assign,Jf;function Wc(t){if(Jf===void 0)try{throw Error()}catch(r){var s=r.stack.trim().match(/\n( *(at )?)/);Jf=s&&s[1]||""}return`
`+Jf+t}var ex=!1;function tx(t,s){if(!t||ex)return"";ex=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(d){var n=d}Reflect.construct(t,[],s)}else{try{s.call()}catch(d){n=d}t.call(s.prototype)}else{try{throw Error()}catch(d){n=d}t()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{ex=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Wc(t):""}function LA(t){switch(t.tag){case 5:return Wc(t.type);case 16:return Wc("Lazy");case 13:return Wc("Suspense");case 19:return Wc("SuspenseList");case 0:case 2:case 15:return t=tx(t.type,!1),t;case 11:return t=tx(t.type.render,!1),t;case 1:return t=tx(t.type,!0),t;default:return""}}function ap(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Wo:return"Fragment";case Ho:return"Portal";case sp:return"Profiler";case mv:return"StrictMode";case rp:return"Suspense";case np:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case IN:return(t.displayName||"Context")+".Consumer";case ON:return(t._context.displayName||"Context")+".Provider";case fv:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case xv:return s=t.displayName||null,s!==null?s:ap(t.type)||"Memo";case wa:s=t._payload,t=t._init;try{return ap(t(s))}catch{}}return null}function MA(t){var s=t.type;switch(t.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=s.render,t=t.displayName||t.name||"",s.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ap(s);case 8:return s===mv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Xa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function LN(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function FA(t){var s=LN(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),n=""+t[s];if(!t.hasOwnProperty(s)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,s,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Ou(t){t._valueTracker||(t._valueTracker=FA(t))}function MN(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var r=s.getValue(),n="";return t&&(n=LN(t)?t.checked?"true":"false":t.value),t=n,t!==r?(s.setValue(t),!0):!1}function Th(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ip(t,s){var r=s.checked;return zt({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function zj(t,s){var r=s.defaultValue==null?"":s.defaultValue,n=s.checked!=null?s.checked:s.defaultChecked;r=Xa(s.value!=null?s.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function FN(t,s){s=s.checked,s!=null&&hv(t,"checked",s,!1)}function op(t,s){FN(t,s);var r=Xa(s.value),n=s.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}s.hasOwnProperty("value")?lp(t,s.type,r):s.hasOwnProperty("defaultValue")&&lp(t,s.type,Xa(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(t.defaultChecked=!!s.defaultChecked)}function Vj(t,s,r){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var n=s.type;if(!(n!=="submit"&&n!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+t._wrapperState.initialValue,r||s===t.value||(t.value=s),t.defaultValue=s}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function lp(t,s,r){(s!=="number"||Th(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Kc=Array.isArray;function al(t,s,r,n){if(t=t.options,s){s={};for(var a=0;a<r.length;a++)s["$"+r[a]]=!0;for(r=0;r<t.length;r++)a=s.hasOwnProperty("$"+t[r].value),t[r].selected!==a&&(t[r].selected=a),a&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Xa(r),s=null,a=0;a<t.length;a++){if(t[a].value===r){t[a].selected=!0,n&&(t[a].defaultSelected=!0);return}s!==null||t[a].disabled||(s=t[a])}s!==null&&(s.selected=!0)}}function cp(t,s){if(s.dangerouslySetInnerHTML!=null)throw Error(re(91));return zt({},s,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Bj(t,s){var r=s.value;if(r==null){if(r=s.children,s=s.defaultValue,r!=null){if(s!=null)throw Error(re(92));if(Kc(r)){if(1<r.length)throw Error(re(93));r=r[0]}s=r}s==null&&(s=""),r=s}t._wrapperState={initialValue:Xa(r)}}function $N(t,s){var r=Xa(s.value),n=Xa(s.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),s.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function qj(t){var s=t.textContent;s===t._wrapperState.initialValue&&s!==""&&s!==null&&(t.value=s)}function UN(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dp(t,s){return t==null||t==="http://www.w3.org/1999/xhtml"?UN(s):t==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Iu,zN=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,r,n,a){MSApp.execUnsafeLocalFunction(function(){return t(s,r,n,a)})}:t}(function(t,s){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=s;else{for(Iu=Iu||document.createElement("div"),Iu.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Iu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;s.firstChild;)t.appendChild(s.firstChild)}});function wd(t,s){if(s){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=s;return}}t.textContent=s}var id={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$A=["Webkit","ms","Moz","O"];Object.keys(id).forEach(function(t){$A.forEach(function(s){s=s+t.charAt(0).toUpperCase()+t.substring(1),id[s]=id[t]})});function VN(t,s,r){return s==null||typeof s=="boolean"||s===""?"":r||typeof s!="number"||s===0||id.hasOwnProperty(t)&&id[t]?(""+s).trim():s+"px"}function BN(t,s){t=t.style;for(var r in s)if(s.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=VN(r,s[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,a):t[r]=a}}var UA=zt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function up(t,s){if(s){if(UA[t]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(re(137,t));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(re(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(re(61))}if(s.style!=null&&typeof s.style!="object")throw Error(re(62))}}function hp(t,s){if(t.indexOf("-")===-1)return typeof s.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mp=null;function pv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fp=null,il=null,ol=null;function Hj(t){if(t=eu(t)){if(typeof fp!="function")throw Error(re(280));var s=t.stateNode;s&&(s=Mm(s),fp(t.stateNode,t.type,s))}}function qN(t){il?ol?ol.push(t):ol=[t]:il=t}function HN(){if(il){var t=il,s=ol;if(ol=il=null,Hj(t),s)for(t=0;t<s.length;t++)Hj(s[t])}}function WN(t,s){return t(s)}function KN(){}var sx=!1;function GN(t,s,r){if(sx)return t(s,r);sx=!0;try{return WN(t,s,r)}finally{sx=!1,(il!==null||ol!==null)&&(KN(),HN())}}function bd(t,s){var r=t.stateNode;if(r===null)return null;var n=Mm(r);if(n===null)return null;r=n[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(re(231,s,typeof r));return r}var xp=!1;if(sa)try{var Ac={};Object.defineProperty(Ac,"passive",{get:function(){xp=!0}}),window.addEventListener("test",Ac,Ac),window.removeEventListener("test",Ac,Ac)}catch{xp=!1}function zA(t,s,r,n,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{s.apply(r,d)}catch(u){this.onError(u)}}var od=!1,Ph=null,Ah=!1,pp=null,VA={onError:function(t){od=!0,Ph=t}};function BA(t,s,r,n,a,i,o,l,c){od=!1,Ph=null,zA.apply(VA,arguments)}function qA(t,s,r,n,a,i,o,l,c){if(BA.apply(this,arguments),od){if(od){var d=Ph;od=!1,Ph=null}else throw Error(re(198));Ah||(Ah=!0,pp=d)}}function mo(t){var s=t,r=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,s.flags&4098&&(r=s.return),t=s.return;while(t)}return s.tag===3?r:null}function QN(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function Wj(t){if(mo(t)!==t)throw Error(re(188))}function HA(t){var s=t.alternate;if(!s){if(s=mo(t),s===null)throw Error(re(188));return s!==t?null:t}for(var r=t,n=s;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return Wj(a),t;if(i===n)return Wj(a),s;i=i.sibling}throw Error(re(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(re(189))}}if(r.alternate!==n)throw Error(re(190))}if(r.tag!==3)throw Error(re(188));return r.stateNode.current===r?t:s}function ZN(t){return t=HA(t),t!==null?YN(t):null}function YN(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var s=YN(t);if(s!==null)return s;t=t.sibling}return null}var XN=jr.unstable_scheduleCallback,Kj=jr.unstable_cancelCallback,WA=jr.unstable_shouldYield,KA=jr.unstable_requestPaint,es=jr.unstable_now,GA=jr.unstable_getCurrentPriorityLevel,gv=jr.unstable_ImmediatePriority,JN=jr.unstable_UserBlockingPriority,Rh=jr.unstable_NormalPriority,QA=jr.unstable_LowPriority,e1=jr.unstable_IdlePriority,Om=null,Nn=null;function ZA(t){if(Nn&&typeof Nn.onCommitFiberRoot=="function")try{Nn.onCommitFiberRoot(Om,t,void 0,(t.current.flags&128)===128)}catch{}}var Jr=Math.clz32?Math.clz32:JA,YA=Math.log,XA=Math.LN2;function JA(t){return t>>>=0,t===0?32:31-(YA(t)/XA|0)|0}var Du=64,Lu=4194304;function Gc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Oh(t,s){var r=t.pendingLanes;if(r===0)return 0;var n=0,a=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=Gc(l):(i&=o,i!==0&&(n=Gc(i)))}else o=r&~a,o!==0?n=Gc(o):i!==0&&(n=Gc(i));if(n===0)return 0;if(s!==0&&s!==n&&!(s&a)&&(a=n&-n,i=s&-s,a>=i||a===16&&(i&4194240)!==0))return s;if(n&4&&(n|=r&16),s=t.entangledLanes,s!==0)for(t=t.entanglements,s&=n;0<s;)r=31-Jr(s),a=1<<r,n|=t[r],s&=~a;return n}function eR(t,s){switch(t){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tR(t,s){for(var r=t.suspendedLanes,n=t.pingedLanes,a=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Jr(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=eR(l,s)):c<=s&&(t.expiredLanes|=l),i&=~l}}function gp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function t1(){var t=Du;return Du<<=1,!(Du&4194240)&&(Du=64),t}function rx(t){for(var s=[],r=0;31>r;r++)s.push(t);return s}function Xd(t,s,r){t.pendingLanes|=s,s!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,s=31-Jr(s),t[s]=r}function sR(t,s){var r=t.pendingLanes&~s;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=s,t.mutableReadLanes&=s,t.entangledLanes&=s,s=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var a=31-Jr(r),i=1<<a;s[a]=0,n[a]=-1,t[a]=-1,r&=~i}}function vv(t,s){var r=t.entangledLanes|=s;for(t=t.entanglements;r;){var n=31-Jr(r),a=1<<n;a&s|t[n]&s&&(t[n]|=s),r&=~a}}var ft=0;function s1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var r1,yv,n1,a1,i1,vp=!1,Mu=[],za=null,Va=null,Ba=null,Nd=new Map,_d=new Map,Sa=[],rR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gj(t,s){switch(t){case"focusin":case"focusout":za=null;break;case"dragenter":case"dragleave":Va=null;break;case"mouseover":case"mouseout":Ba=null;break;case"pointerover":case"pointerout":Nd.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":_d.delete(s.pointerId)}}function Rc(t,s,r,n,a,i){return t===null||t.nativeEvent!==i?(t={blockedOn:s,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},s!==null&&(s=eu(s),s!==null&&yv(s)),t):(t.eventSystemFlags|=n,s=t.targetContainers,a!==null&&s.indexOf(a)===-1&&s.push(a),t)}function nR(t,s,r,n,a){switch(s){case"focusin":return za=Rc(za,t,s,r,n,a),!0;case"dragenter":return Va=Rc(Va,t,s,r,n,a),!0;case"mouseover":return Ba=Rc(Ba,t,s,r,n,a),!0;case"pointerover":var i=a.pointerId;return Nd.set(i,Rc(Nd.get(i)||null,t,s,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,_d.set(i,Rc(_d.get(i)||null,t,s,r,n,a)),!0}return!1}function o1(t){var s=ki(t.target);if(s!==null){var r=mo(s);if(r!==null){if(s=r.tag,s===13){if(s=QN(r),s!==null){t.blockedOn=s,i1(t.priority,function(){n1(r)});return}}else if(s===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ch(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var r=yp(t.domEventName,t.eventSystemFlags,s[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);mp=n,r.target.dispatchEvent(n),mp=null}else return s=eu(r),s!==null&&yv(s),t.blockedOn=r,!1;s.shift()}return!0}function Qj(t,s,r){ch(t)&&r.delete(s)}function aR(){vp=!1,za!==null&&ch(za)&&(za=null),Va!==null&&ch(Va)&&(Va=null),Ba!==null&&ch(Ba)&&(Ba=null),Nd.forEach(Qj),_d.forEach(Qj)}function Oc(t,s){t.blockedOn===s&&(t.blockedOn=null,vp||(vp=!0,jr.unstable_scheduleCallback(jr.unstable_NormalPriority,aR)))}function Sd(t){function s(a){return Oc(a,t)}if(0<Mu.length){Oc(Mu[0],t);for(var r=1;r<Mu.length;r++){var n=Mu[r];n.blockedOn===t&&(n.blockedOn=null)}}for(za!==null&&Oc(za,t),Va!==null&&Oc(Va,t),Ba!==null&&Oc(Ba,t),Nd.forEach(s),_d.forEach(s),r=0;r<Sa.length;r++)n=Sa[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Sa.length&&(r=Sa[0],r.blockedOn===null);)o1(r),r.blockedOn===null&&Sa.shift()}var ll=da.ReactCurrentBatchConfig,Ih=!0;function iR(t,s,r,n){var a=ft,i=ll.transition;ll.transition=null;try{ft=1,jv(t,s,r,n)}finally{ft=a,ll.transition=i}}function oR(t,s,r,n){var a=ft,i=ll.transition;ll.transition=null;try{ft=4,jv(t,s,r,n)}finally{ft=a,ll.transition=i}}function jv(t,s,r,n){if(Ih){var a=yp(t,s,r,n);if(a===null)mx(t,s,n,Dh,r),Gj(t,n);else if(nR(a,t,s,r,n))n.stopPropagation();else if(Gj(t,n),s&4&&-1<rR.indexOf(t)){for(;a!==null;){var i=eu(a);if(i!==null&&r1(i),i=yp(t,s,r,n),i===null&&mx(t,s,n,Dh,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else mx(t,s,n,null,r)}}var Dh=null;function yp(t,s,r,n){if(Dh=null,t=pv(n),t=ki(t),t!==null)if(s=mo(t),s===null)t=null;else if(r=s.tag,r===13){if(t=QN(s),t!==null)return t;t=null}else if(r===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null);return Dh=t,null}function l1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(GA()){case gv:return 1;case JN:return 4;case Rh:case QA:return 16;case e1:return 536870912;default:return 16}default:return 16}}var $a=null,wv=null,dh=null;function c1(){if(dh)return dh;var t,s=wv,r=s.length,n,a="value"in $a?$a.value:$a.textContent,i=a.length;for(t=0;t<r&&s[t]===a[t];t++);var o=r-t;for(n=1;n<=o&&s[r-n]===a[i-n];n++);return dh=a.slice(t,1<n?1-n:void 0)}function uh(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Fu(){return!0}function Zj(){return!1}function _r(t){function s(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Fu:Zj,this.isPropagationStopped=Zj,this}return zt(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Fu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Fu)},persist:function(){},isPersistent:Fu}),s}var ec={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bv=_r(ec),Jd=zt({},ec,{view:0,detail:0}),lR=_r(Jd),nx,ax,Ic,Im=zt({},Jd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ic&&(Ic&&t.type==="mousemove"?(nx=t.screenX-Ic.screenX,ax=t.screenY-Ic.screenY):ax=nx=0,Ic=t),nx)},movementY:function(t){return"movementY"in t?t.movementY:ax}}),Yj=_r(Im),cR=zt({},Im,{dataTransfer:0}),dR=_r(cR),uR=zt({},Jd,{relatedTarget:0}),ix=_r(uR),hR=zt({},ec,{animationName:0,elapsedTime:0,pseudoElement:0}),mR=_r(hR),fR=zt({},ec,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xR=_r(fR),pR=zt({},ec,{data:0}),Xj=_r(pR),gR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jR(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=yR[t])?!!s[t]:!1}function Nv(){return jR}var wR=zt({},Jd,{key:function(t){if(t.key){var s=gR[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=uh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nv,charCode:function(t){return t.type==="keypress"?uh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?uh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),bR=_r(wR),NR=zt({},Im,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jj=_r(NR),_R=zt({},Jd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nv}),SR=_r(_R),kR=zt({},ec,{propertyName:0,elapsedTime:0,pseudoElement:0}),CR=_r(kR),ER=zt({},Im,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),TR=_r(ER),PR=[9,13,27,32],_v=sa&&"CompositionEvent"in window,ld=null;sa&&"documentMode"in document&&(ld=document.documentMode);var AR=sa&&"TextEvent"in window&&!ld,d1=sa&&(!_v||ld&&8<ld&&11>=ld),e0=" ",t0=!1;function u1(t,s){switch(t){case"keyup":return PR.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function h1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ko=!1;function RR(t,s){switch(t){case"compositionend":return h1(s);case"keypress":return s.which!==32?null:(t0=!0,e0);case"textInput":return t=s.data,t===e0&&t0?null:t;default:return null}}function OR(t,s){if(Ko)return t==="compositionend"||!_v&&u1(t,s)?(t=c1(),dh=wv=$a=null,Ko=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return d1&&s.locale!=="ko"?null:s.data;default:return null}}var IR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function s0(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!IR[t.type]:s==="textarea"}function m1(t,s,r,n){qN(n),s=Lh(s,"onChange"),0<s.length&&(r=new bv("onChange","change",null,r,n),t.push({event:r,listeners:s}))}var cd=null,kd=null;function DR(t){_1(t,0)}function Dm(t){var s=Zo(t);if(MN(s))return t}function LR(t,s){if(t==="change")return s}var f1=!1;if(sa){var ox;if(sa){var lx="oninput"in document;if(!lx){var r0=document.createElement("div");r0.setAttribute("oninput","return;"),lx=typeof r0.oninput=="function"}ox=lx}else ox=!1;f1=ox&&(!document.documentMode||9<document.documentMode)}function n0(){cd&&(cd.detachEvent("onpropertychange",x1),kd=cd=null)}function x1(t){if(t.propertyName==="value"&&Dm(kd)){var s=[];m1(s,kd,t,pv(t)),GN(DR,s)}}function MR(t,s,r){t==="focusin"?(n0(),cd=s,kd=r,cd.attachEvent("onpropertychange",x1)):t==="focusout"&&n0()}function FR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Dm(kd)}function $R(t,s){if(t==="click")return Dm(s)}function UR(t,s){if(t==="input"||t==="change")return Dm(s)}function zR(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var nn=typeof Object.is=="function"?Object.is:zR;function Cd(t,s){if(nn(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var r=Object.keys(t),n=Object.keys(s);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!tp.call(s,a)||!nn(t[a],s[a]))return!1}return!0}function a0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function i0(t,s){var r=a0(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=s&&n>=s)return{node:r,offset:s-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=a0(r)}}function p1(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?p1(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function g1(){for(var t=window,s=Th();s instanceof t.HTMLIFrameElement;){try{var r=typeof s.contentWindow.location.href=="string"}catch{r=!1}if(r)t=s.contentWindow;else break;s=Th(t.document)}return s}function Sv(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}function VR(t){var s=g1(),r=t.focusedElem,n=t.selectionRange;if(s!==r&&r&&r.ownerDocument&&p1(r.ownerDocument.documentElement,r)){if(n!==null&&Sv(r)){if(s=n.start,t=n.end,t===void 0&&(t=s),"selectionStart"in r)r.selectionStart=s,r.selectionEnd=Math.min(t,r.value.length);else if(t=(s=r.ownerDocument||document)&&s.defaultView||window,t.getSelection){t=t.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!t.extend&&i>n&&(a=n,n=i,i=a),a=i0(r,i);var o=i0(r,n);a&&o&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(s=s.createRange(),s.setStart(a.node,a.offset),t.removeAllRanges(),i>n?(t.addRange(s),t.extend(o.node,o.offset)):(s.setEnd(o.node,o.offset),t.addRange(s)))}}for(s=[],t=r;t=t.parentNode;)t.nodeType===1&&s.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<s.length;r++)t=s[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var BR=sa&&"documentMode"in document&&11>=document.documentMode,Go=null,jp=null,dd=null,wp=!1;function o0(t,s,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;wp||Go==null||Go!==Th(n)||(n=Go,"selectionStart"in n&&Sv(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),dd&&Cd(dd,n)||(dd=n,n=Lh(jp,"onSelect"),0<n.length&&(s=new bv("onSelect","select",null,s,r),t.push({event:s,listeners:n}),s.target=Go)))}function $u(t,s){var r={};return r[t.toLowerCase()]=s.toLowerCase(),r["Webkit"+t]="webkit"+s,r["Moz"+t]="moz"+s,r}var Qo={animationend:$u("Animation","AnimationEnd"),animationiteration:$u("Animation","AnimationIteration"),animationstart:$u("Animation","AnimationStart"),transitionend:$u("Transition","TransitionEnd")},cx={},v1={};sa&&(v1=document.createElement("div").style,"AnimationEvent"in window||(delete Qo.animationend.animation,delete Qo.animationiteration.animation,delete Qo.animationstart.animation),"TransitionEvent"in window||delete Qo.transitionend.transition);function Lm(t){if(cx[t])return cx[t];if(!Qo[t])return t;var s=Qo[t],r;for(r in s)if(s.hasOwnProperty(r)&&r in v1)return cx[t]=s[r];return t}var y1=Lm("animationend"),j1=Lm("animationiteration"),w1=Lm("animationstart"),b1=Lm("transitionend"),N1=new Map,l0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ci(t,s){N1.set(t,s),ho(s,[t])}for(var dx=0;dx<l0.length;dx++){var ux=l0[dx],qR=ux.toLowerCase(),HR=ux[0].toUpperCase()+ux.slice(1);ci(qR,"on"+HR)}ci(y1,"onAnimationEnd");ci(j1,"onAnimationIteration");ci(w1,"onAnimationStart");ci("dblclick","onDoubleClick");ci("focusin","onFocus");ci("focusout","onBlur");ci(b1,"onTransitionEnd");El("onMouseEnter",["mouseout","mouseover"]);El("onMouseLeave",["mouseout","mouseover"]);El("onPointerEnter",["pointerout","pointerover"]);El("onPointerLeave",["pointerout","pointerover"]);ho("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ho("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ho("onBeforeInput",["compositionend","keypress","textInput","paste"]);ho("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ho("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ho("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qc));function c0(t,s,r){var n=t.type||"unknown-event";t.currentTarget=r,qA(n,s,void 0,t),t.currentTarget=null}function _1(t,s){s=(s&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],a=n.event;n=n.listeners;e:{var i=void 0;if(s)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;c0(a,l,d),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;c0(a,l,d),i=c}}}if(Ah)throw t=pp,Ah=!1,pp=null,t}function Pt(t,s){var r=s[kp];r===void 0&&(r=s[kp]=new Set);var n=t+"__bubble";r.has(n)||(S1(s,t,2,!1),r.add(n))}function hx(t,s,r){var n=0;s&&(n|=4),S1(r,t,n,s)}var Uu="_reactListening"+Math.random().toString(36).slice(2);function Ed(t){if(!t[Uu]){t[Uu]=!0,RN.forEach(function(r){r!=="selectionchange"&&(WR.has(r)||hx(r,!1,t),hx(r,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Uu]||(s[Uu]=!0,hx("selectionchange",!1,s))}}function S1(t,s,r,n){switch(l1(s)){case 1:var a=iR;break;case 4:a=oR;break;default:a=jv}r=a.bind(null,s,r,t),a=void 0,!xp||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(a=!0),n?a!==void 0?t.addEventListener(s,r,{capture:!0,passive:a}):t.addEventListener(s,r,!0):a!==void 0?t.addEventListener(s,r,{passive:a}):t.addEventListener(s,r,!1)}function mx(t,s,r,n,a){var i=n;if(!(s&1)&&!(s&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=ki(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}GN(function(){var d=i,u=pv(r),h=[];e:{var f=N1.get(t);if(f!==void 0){var x=bv,g=t;switch(t){case"keypress":if(uh(r)===0)break e;case"keydown":case"keyup":x=bR;break;case"focusin":g="focus",x=ix;break;case"focusout":g="blur",x=ix;break;case"beforeblur":case"afterblur":x=ix;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=Yj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=dR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=SR;break;case y1:case j1:case w1:x=mR;break;case b1:x=CR;break;case"scroll":x=lR;break;case"wheel":x=TR;break;case"copy":case"cut":case"paste":x=xR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=Jj}var v=(s&4)!==0,p=!v&&t==="scroll",y=v?f!==null?f+"Capture":null:f;v=[];for(var j=d,w;j!==null;){w=j;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,y!==null&&(b=bd(j,y),b!=null&&v.push(Td(j,b,w)))),p)break;j=j.return}0<v.length&&(f=new x(f,g,null,r,u),h.push({event:f,listeners:v}))}}if(!(s&7)){e:{if(f=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",f&&r!==mp&&(g=r.relatedTarget||r.fromElement)&&(ki(g)||g[ra]))break e;if((x||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,x?(g=r.relatedTarget||r.toElement,x=d,g=g?ki(g):null,g!==null&&(p=mo(g),g!==p||g.tag!==5&&g.tag!==6)&&(g=null)):(x=null,g=d),x!==g)){if(v=Yj,b="onMouseLeave",y="onMouseEnter",j="mouse",(t==="pointerout"||t==="pointerover")&&(v=Jj,b="onPointerLeave",y="onPointerEnter",j="pointer"),p=x==null?f:Zo(x),w=g==null?f:Zo(g),f=new v(b,j+"leave",x,r,u),f.target=p,f.relatedTarget=w,b=null,ki(u)===d&&(v=new v(y,j+"enter",g,r,u),v.target=w,v.relatedTarget=p,b=v),p=b,x&&g)t:{for(v=x,y=g,j=0,w=v;w;w=Eo(w))j++;for(w=0,b=y;b;b=Eo(b))w++;for(;0<j-w;)v=Eo(v),j--;for(;0<w-j;)y=Eo(y),w--;for(;j--;){if(v===y||y!==null&&v===y.alternate)break t;v=Eo(v),y=Eo(y)}v=null}else v=null;x!==null&&d0(h,f,x,v,!1),g!==null&&p!==null&&d0(h,p,g,v,!0)}}e:{if(f=d?Zo(d):window,x=f.nodeName&&f.nodeName.toLowerCase(),x==="select"||x==="input"&&f.type==="file")var N=LR;else if(s0(f))if(f1)N=UR;else{N=FR;var _=MR}else(x=f.nodeName)&&x.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=$R);if(N&&(N=N(t,d))){m1(h,N,r,u);break e}_&&_(t,f,d),t==="focusout"&&(_=f._wrapperState)&&_.controlled&&f.type==="number"&&lp(f,"number",f.value)}switch(_=d?Zo(d):window,t){case"focusin":(s0(_)||_.contentEditable==="true")&&(Go=_,jp=d,dd=null);break;case"focusout":dd=jp=Go=null;break;case"mousedown":wp=!0;break;case"contextmenu":case"mouseup":case"dragend":wp=!1,o0(h,r,u);break;case"selectionchange":if(BR)break;case"keydown":case"keyup":o0(h,r,u)}var P;if(_v)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Ko?u1(t,r)&&(A="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(d1&&r.locale!=="ko"&&(Ko||A!=="onCompositionStart"?A==="onCompositionEnd"&&Ko&&(P=c1()):($a=u,wv="value"in $a?$a.value:$a.textContent,Ko=!0)),_=Lh(d,A),0<_.length&&(A=new Xj(A,t,null,r,u),h.push({event:A,listeners:_}),P?A.data=P:(P=h1(r),P!==null&&(A.data=P)))),(P=AR?RR(t,r):OR(t,r))&&(d=Lh(d,"onBeforeInput"),0<d.length&&(u=new Xj("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:d}),u.data=P))}_1(h,s)})}function Td(t,s,r){return{instance:t,listener:s,currentTarget:r}}function Lh(t,s){for(var r=s+"Capture",n=[];t!==null;){var a=t,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=bd(t,r),i!=null&&n.unshift(Td(t,i,a)),i=bd(t,s),i!=null&&n.push(Td(t,i,a))),t=t.return}return n}function Eo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function d0(t,s,r,n,a){for(var i=s._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,a?(c=bd(r,i),c!=null&&o.unshift(Td(r,c,l))):a||(c=bd(r,i),c!=null&&o.push(Td(r,c,l)))),r=r.return}o.length!==0&&t.push({event:s,listeners:o})}var KR=/\r\n?/g,GR=/\u0000|\uFFFD/g;function u0(t){return(typeof t=="string"?t:""+t).replace(KR,`
`).replace(GR,"")}function zu(t,s,r){if(s=u0(s),u0(t)!==s&&r)throw Error(re(425))}function Mh(){}var bp=null,Np=null;function _p(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Sp=typeof setTimeout=="function"?setTimeout:void 0,QR=typeof clearTimeout=="function"?clearTimeout:void 0,h0=typeof Promise=="function"?Promise:void 0,ZR=typeof queueMicrotask=="function"?queueMicrotask:typeof h0<"u"?function(t){return h0.resolve(null).then(t).catch(YR)}:Sp;function YR(t){setTimeout(function(){throw t})}function fx(t,s){var r=s,n=0;do{var a=r.nextSibling;if(t.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){t.removeChild(a),Sd(s);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Sd(s)}function qa(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return t}function m0(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(s===0)return t;s--}else r==="/$"&&s++}t=t.previousSibling}return null}var tc=Math.random().toString(36).slice(2),pn="__reactFiber$"+tc,Pd="__reactProps$"+tc,ra="__reactContainer$"+tc,kp="__reactEvents$"+tc,XR="__reactListeners$"+tc,JR="__reactHandles$"+tc;function ki(t){var s=t[pn];if(s)return s;for(var r=t.parentNode;r;){if(s=r[ra]||r[pn]){if(r=s.alternate,s.child!==null||r!==null&&r.child!==null)for(t=m0(t);t!==null;){if(r=t[pn])return r;t=m0(t)}return s}t=r,r=t.parentNode}return null}function eu(t){return t=t[pn]||t[ra],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Zo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(re(33))}function Mm(t){return t[Pd]||null}var Cp=[],Yo=-1;function di(t){return{current:t}}function It(t){0>Yo||(t.current=Cp[Yo],Cp[Yo]=null,Yo--)}function St(t,s){Yo++,Cp[Yo]=t.current,t.current=s}var Ja={},Rs=di(Ja),ar=di(!1),Wi=Ja;function Tl(t,s){var r=t.type.contextTypes;if(!r)return Ja;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===s)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=s[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=a),a}function ir(t){return t=t.childContextTypes,t!=null}function Fh(){It(ar),It(Rs)}function f0(t,s,r){if(Rs.current!==Ja)throw Error(re(168));St(Rs,s),St(ar,r)}function k1(t,s,r){var n=t.stateNode;if(s=s.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in s))throw Error(re(108,MA(t)||"Unknown",a));return zt({},r,n)}function $h(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ja,Wi=Rs.current,St(Rs,t),St(ar,ar.current),!0}function x0(t,s,r){var n=t.stateNode;if(!n)throw Error(re(169));r?(t=k1(t,s,Wi),n.__reactInternalMemoizedMergedChildContext=t,It(ar),It(Rs),St(Rs,t)):It(ar),St(ar,r)}var Hn=null,Fm=!1,xx=!1;function C1(t){Hn===null?Hn=[t]:Hn.push(t)}function e5(t){Fm=!0,C1(t)}function ui(){if(!xx&&Hn!==null){xx=!0;var t=0,s=ft;try{var r=Hn;for(ft=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Hn=null,Fm=!1}catch(a){throw Hn!==null&&(Hn=Hn.slice(t+1)),XN(gv,ui),a}finally{ft=s,xx=!1}}return null}var Xo=[],Jo=0,Uh=null,zh=0,Er=[],Tr=0,Ki=null,Gn=1,Qn="";function bi(t,s){Xo[Jo++]=zh,Xo[Jo++]=Uh,Uh=t,zh=s}function E1(t,s,r){Er[Tr++]=Gn,Er[Tr++]=Qn,Er[Tr++]=Ki,Ki=t;var n=Gn;t=Qn;var a=32-Jr(n)-1;n&=~(1<<a),r+=1;var i=32-Jr(s)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Gn=1<<32-Jr(s)+a|r<<a|n,Qn=i+t}else Gn=1<<i|r<<a|n,Qn=t}function kv(t){t.return!==null&&(bi(t,1),E1(t,1,0))}function Cv(t){for(;t===Uh;)Uh=Xo[--Jo],Xo[Jo]=null,zh=Xo[--Jo],Xo[Jo]=null;for(;t===Ki;)Ki=Er[--Tr],Er[Tr]=null,Qn=Er[--Tr],Er[Tr]=null,Gn=Er[--Tr],Er[Tr]=null}var vr=null,xr=null,Ft=!1,Kr=null;function T1(t,s){var r=Pr(5,null,null,0);r.elementType="DELETED",r.stateNode=s,r.return=t,s=t.deletions,s===null?(t.deletions=[r],t.flags|=16):s.push(r)}function p0(t,s){switch(t.tag){case 5:var r=t.type;return s=s.nodeType!==1||r.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(t.stateNode=s,vr=t,xr=qa(s.firstChild),!0):!1;case 6:return s=t.pendingProps===""||s.nodeType!==3?null:s,s!==null?(t.stateNode=s,vr=t,xr=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(r=Ki!==null?{id:Gn,overflow:Qn}:null,t.memoizedState={dehydrated:s,treeContext:r,retryLane:1073741824},r=Pr(18,null,null,0),r.stateNode=s,r.return=t,t.child=r,vr=t,xr=null,!0):!1;default:return!1}}function Ep(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Tp(t){if(Ft){var s=xr;if(s){var r=s;if(!p0(t,s)){if(Ep(t))throw Error(re(418));s=qa(r.nextSibling);var n=vr;s&&p0(t,s)?T1(n,r):(t.flags=t.flags&-4097|2,Ft=!1,vr=t)}}else{if(Ep(t))throw Error(re(418));t.flags=t.flags&-4097|2,Ft=!1,vr=t}}}function g0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;vr=t}function Vu(t){if(t!==vr)return!1;if(!Ft)return g0(t),Ft=!0,!1;var s;if((s=t.tag!==3)&&!(s=t.tag!==5)&&(s=t.type,s=s!=="head"&&s!=="body"&&!_p(t.type,t.memoizedProps)),s&&(s=xr)){if(Ep(t))throw P1(),Error(re(418));for(;s;)T1(t,s),s=qa(s.nextSibling)}if(g0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(re(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(s===0){xr=qa(t.nextSibling);break e}s--}else r!=="$"&&r!=="$!"&&r!=="$?"||s++}t=t.nextSibling}xr=null}}else xr=vr?qa(t.stateNode.nextSibling):null;return!0}function P1(){for(var t=xr;t;)t=qa(t.nextSibling)}function Pl(){xr=vr=null,Ft=!1}function Ev(t){Kr===null?Kr=[t]:Kr.push(t)}var t5=da.ReactCurrentBatchConfig;function Dc(t,s,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(re(309));var n=r.stateNode}if(!n)throw Error(re(147,t));var a=n,i=""+t;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===i?s.ref:(s=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},s._stringRef=i,s)}if(typeof t!="string")throw Error(re(284));if(!r._owner)throw Error(re(290,t))}return t}function Bu(t,s){throw t=Object.prototype.toString.call(s),Error(re(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t))}function v0(t){var s=t._init;return s(t._payload)}function A1(t){function s(y,j){if(t){var w=y.deletions;w===null?(y.deletions=[j],y.flags|=16):w.push(j)}}function r(y,j){if(!t)return null;for(;j!==null;)s(y,j),j=j.sibling;return null}function n(y,j){for(y=new Map;j!==null;)j.key!==null?y.set(j.key,j):y.set(j.index,j),j=j.sibling;return y}function a(y,j){return y=Ga(y,j),y.index=0,y.sibling=null,y}function i(y,j,w){return y.index=w,t?(w=y.alternate,w!==null?(w=w.index,w<j?(y.flags|=2,j):w):(y.flags|=2,j)):(y.flags|=1048576,j)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function l(y,j,w,b){return j===null||j.tag!==6?(j=bx(w,y.mode,b),j.return=y,j):(j=a(j,w),j.return=y,j)}function c(y,j,w,b){var N=w.type;return N===Wo?u(y,j,w.props.children,b,w.key):j!==null&&(j.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===wa&&v0(N)===j.type)?(b=a(j,w.props),b.ref=Dc(y,j,w),b.return=y,b):(b=vh(w.type,w.key,w.props,null,y.mode,b),b.ref=Dc(y,j,w),b.return=y,b)}function d(y,j,w,b){return j===null||j.tag!==4||j.stateNode.containerInfo!==w.containerInfo||j.stateNode.implementation!==w.implementation?(j=Nx(w,y.mode,b),j.return=y,j):(j=a(j,w.children||[]),j.return=y,j)}function u(y,j,w,b,N){return j===null||j.tag!==7?(j=zi(w,y.mode,b,N),j.return=y,j):(j=a(j,w),j.return=y,j)}function h(y,j,w){if(typeof j=="string"&&j!==""||typeof j=="number")return j=bx(""+j,y.mode,w),j.return=y,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Ru:return w=vh(j.type,j.key,j.props,null,y.mode,w),w.ref=Dc(y,null,j),w.return=y,w;case Ho:return j=Nx(j,y.mode,w),j.return=y,j;case wa:var b=j._init;return h(y,b(j._payload),w)}if(Kc(j)||Pc(j))return j=zi(j,y.mode,w,null),j.return=y,j;Bu(y,j)}return null}function f(y,j,w,b){var N=j!==null?j.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return N!==null?null:l(y,j,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ru:return w.key===N?c(y,j,w,b):null;case Ho:return w.key===N?d(y,j,w,b):null;case wa:return N=w._init,f(y,j,N(w._payload),b)}if(Kc(w)||Pc(w))return N!==null?null:u(y,j,w,b,null);Bu(y,w)}return null}function x(y,j,w,b,N){if(typeof b=="string"&&b!==""||typeof b=="number")return y=y.get(w)||null,l(j,y,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ru:return y=y.get(b.key===null?w:b.key)||null,c(j,y,b,N);case Ho:return y=y.get(b.key===null?w:b.key)||null,d(j,y,b,N);case wa:var _=b._init;return x(y,j,w,_(b._payload),N)}if(Kc(b)||Pc(b))return y=y.get(w)||null,u(j,y,b,N,null);Bu(j,b)}return null}function g(y,j,w,b){for(var N=null,_=null,P=j,A=j=0,k=null;P!==null&&A<w.length;A++){P.index>A?(k=P,P=null):k=P.sibling;var T=f(y,P,w[A],b);if(T===null){P===null&&(P=k);break}t&&P&&T.alternate===null&&s(y,P),j=i(T,j,A),_===null?N=T:_.sibling=T,_=T,P=k}if(A===w.length)return r(y,P),Ft&&bi(y,A),N;if(P===null){for(;A<w.length;A++)P=h(y,w[A],b),P!==null&&(j=i(P,j,A),_===null?N=P:_.sibling=P,_=P);return Ft&&bi(y,A),N}for(P=n(y,P);A<w.length;A++)k=x(P,y,A,w[A],b),k!==null&&(t&&k.alternate!==null&&P.delete(k.key===null?A:k.key),j=i(k,j,A),_===null?N=k:_.sibling=k,_=k);return t&&P.forEach(function(S){return s(y,S)}),Ft&&bi(y,A),N}function v(y,j,w,b){var N=Pc(w);if(typeof N!="function")throw Error(re(150));if(w=N.call(w),w==null)throw Error(re(151));for(var _=N=null,P=j,A=j=0,k=null,T=w.next();P!==null&&!T.done;A++,T=w.next()){P.index>A?(k=P,P=null):k=P.sibling;var S=f(y,P,T.value,b);if(S===null){P===null&&(P=k);break}t&&P&&S.alternate===null&&s(y,P),j=i(S,j,A),_===null?N=S:_.sibling=S,_=S,P=k}if(T.done)return r(y,P),Ft&&bi(y,A),N;if(P===null){for(;!T.done;A++,T=w.next())T=h(y,T.value,b),T!==null&&(j=i(T,j,A),_===null?N=T:_.sibling=T,_=T);return Ft&&bi(y,A),N}for(P=n(y,P);!T.done;A++,T=w.next())T=x(P,y,A,T.value,b),T!==null&&(t&&T.alternate!==null&&P.delete(T.key===null?A:T.key),j=i(T,j,A),_===null?N=T:_.sibling=T,_=T);return t&&P.forEach(function(R){return s(y,R)}),Ft&&bi(y,A),N}function p(y,j,w,b){if(typeof w=="object"&&w!==null&&w.type===Wo&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Ru:e:{for(var N=w.key,_=j;_!==null;){if(_.key===N){if(N=w.type,N===Wo){if(_.tag===7){r(y,_.sibling),j=a(_,w.props.children),j.return=y,y=j;break e}}else if(_.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===wa&&v0(N)===_.type){r(y,_.sibling),j=a(_,w.props),j.ref=Dc(y,_,w),j.return=y,y=j;break e}r(y,_);break}else s(y,_);_=_.sibling}w.type===Wo?(j=zi(w.props.children,y.mode,b,w.key),j.return=y,y=j):(b=vh(w.type,w.key,w.props,null,y.mode,b),b.ref=Dc(y,j,w),b.return=y,y=b)}return o(y);case Ho:e:{for(_=w.key;j!==null;){if(j.key===_)if(j.tag===4&&j.stateNode.containerInfo===w.containerInfo&&j.stateNode.implementation===w.implementation){r(y,j.sibling),j=a(j,w.children||[]),j.return=y,y=j;break e}else{r(y,j);break}else s(y,j);j=j.sibling}j=Nx(w,y.mode,b),j.return=y,y=j}return o(y);case wa:return _=w._init,p(y,j,_(w._payload),b)}if(Kc(w))return g(y,j,w,b);if(Pc(w))return v(y,j,w,b);Bu(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,j!==null&&j.tag===6?(r(y,j.sibling),j=a(j,w),j.return=y,y=j):(r(y,j),j=bx(w,y.mode,b),j.return=y,y=j),o(y)):r(y,j)}return p}var Al=A1(!0),R1=A1(!1),Vh=di(null),Bh=null,el=null,Tv=null;function Pv(){Tv=el=Bh=null}function Av(t){var s=Vh.current;It(Vh),t._currentValue=s}function Pp(t,s,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,n!==null&&(n.childLanes|=s)):n!==null&&(n.childLanes&s)!==s&&(n.childLanes|=s),t===r)break;t=t.return}}function cl(t,s){Bh=t,Tv=el=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&s&&(sr=!0),t.firstContext=null)}function Dr(t){var s=t._currentValue;if(Tv!==t)if(t={context:t,memoizedValue:s,next:null},el===null){if(Bh===null)throw Error(re(308));el=t,Bh.dependencies={lanes:0,firstContext:t}}else el=el.next=t;return s}var Ci=null;function Rv(t){Ci===null?Ci=[t]:Ci.push(t)}function O1(t,s,r,n){var a=s.interleaved;return a===null?(r.next=r,Rv(s)):(r.next=a.next,a.next=r),s.interleaved=r,na(t,n)}function na(t,s){t.lanes|=s;var r=t.alternate;for(r!==null&&(r.lanes|=s),r=t,t=t.return;t!==null;)t.childLanes|=s,r=t.alternate,r!==null&&(r.childLanes|=s),r=t,t=t.return;return r.tag===3?r.stateNode:null}var ba=!1;function Ov(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function I1(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Xn(t,s){return{eventTime:t,lane:s,tag:0,payload:null,callback:null,next:null}}function Ha(t,s,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,st&2){var a=n.pending;return a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s,na(t,r)}return a=n.interleaved,a===null?(s.next=s,Rv(n)):(s.next=a.next,a.next=s),n.interleaved=s,na(t,r)}function hh(t,s,r){if(s=s.updateQueue,s!==null&&(s=s.shared,(r&4194240)!==0)){var n=s.lanes;n&=t.pendingLanes,r|=n,s.lanes=r,vv(t,r)}}function y0(t,s){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=s:i=i.next=s}else a=i=s;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=s:t.next=s,r.lastBaseUpdate=s}function qh(t,s,r,n){var a=t.updateQueue;ba=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=t.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var h=a.baseState;o=0,u=d=c=null,l=i;do{var f=l.lane,x=l.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=t,v=l;switch(f=s,x=r,v.tag){case 1:if(g=v.payload,typeof g=="function"){h=g.call(x,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,f=typeof g=="function"?g.call(x,h,f):g,f==null)break e;h=zt({},h,f);break e;case 2:ba=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=a.effects,f===null?a.effects=[l]:f.push(l))}else x={eventTime:x,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=x,c=h):u=u.next=x,o|=f;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;f=l,l=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(!0);if(u===null&&(c=h),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,s=a.shared.interleaved,s!==null){a=s;do o|=a.lane,a=a.next;while(a!==s)}else i===null&&(a.shared.lanes=0);Qi|=o,t.lanes=o,t.memoizedState=h}}function j0(t,s,r){if(t=s.effects,s.effects=null,t!==null)for(s=0;s<t.length;s++){var n=t[s],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(re(191,a));a.call(n)}}}var tu={},_n=di(tu),Ad=di(tu),Rd=di(tu);function Ei(t){if(t===tu)throw Error(re(174));return t}function Iv(t,s){switch(St(Rd,s),St(Ad,t),St(_n,tu),t=s.nodeType,t){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:dp(null,"");break;default:t=t===8?s.parentNode:s,s=t.namespaceURI||null,t=t.tagName,s=dp(s,t)}It(_n),St(_n,s)}function Rl(){It(_n),It(Ad),It(Rd)}function D1(t){Ei(Rd.current);var s=Ei(_n.current),r=dp(s,t.type);s!==r&&(St(Ad,t),St(_n,r))}function Dv(t){Ad.current===t&&(It(_n),It(Ad))}var $t=di(0);function Hh(t){for(var s=t;s!==null;){if(s.tag===13){var r=s.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var px=[];function Lv(){for(var t=0;t<px.length;t++)px[t]._workInProgressVersionPrimary=null;px.length=0}var mh=da.ReactCurrentDispatcher,gx=da.ReactCurrentBatchConfig,Gi=0,Ut=null,hs=null,gs=null,Wh=!1,ud=!1,Od=0,s5=0;function ks(){throw Error(re(321))}function Mv(t,s){if(s===null)return!1;for(var r=0;r<s.length&&r<t.length;r++)if(!nn(t[r],s[r]))return!1;return!0}function Fv(t,s,r,n,a,i){if(Gi=i,Ut=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,mh.current=t===null||t.memoizedState===null?i5:o5,t=r(n,a),ud){i=0;do{if(ud=!1,Od=0,25<=i)throw Error(re(301));i+=1,gs=hs=null,s.updateQueue=null,mh.current=l5,t=r(n,a)}while(ud)}if(mh.current=Kh,s=hs!==null&&hs.next!==null,Gi=0,gs=hs=Ut=null,Wh=!1,s)throw Error(re(300));return t}function $v(){var t=Od!==0;return Od=0,t}function hn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gs===null?Ut.memoizedState=gs=t:gs=gs.next=t,gs}function Lr(){if(hs===null){var t=Ut.alternate;t=t!==null?t.memoizedState:null}else t=hs.next;var s=gs===null?Ut.memoizedState:gs.next;if(s!==null)gs=s,hs=t;else{if(t===null)throw Error(re(310));hs=t,t={memoizedState:hs.memoizedState,baseState:hs.baseState,baseQueue:hs.baseQueue,queue:hs.queue,next:null},gs===null?Ut.memoizedState=gs=t:gs=gs.next=t}return gs}function Id(t,s){return typeof s=="function"?s(t):s}function vx(t){var s=Lr(),r=s.queue;if(r===null)throw Error(re(311));r.lastRenderedReducer=t;var n=hs,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((Gi&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:t(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,Ut.lanes|=u,Qi|=u}d=d.next}while(d!==null&&d!==i);c===null?o=n:c.next=l,nn(n,s.memoizedState)||(sr=!0),s.memoizedState=n,s.baseState=o,s.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){a=t;do i=a.lane,Ut.lanes|=i,Qi|=i,a=a.next;while(a!==t)}else a===null&&(r.lanes=0);return[s.memoizedState,r.dispatch]}function yx(t){var s=Lr(),r=s.queue;if(r===null)throw Error(re(311));r.lastRenderedReducer=t;var n=r.dispatch,a=r.pending,i=s.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=t(i,o.action),o=o.next;while(o!==a);nn(i,s.memoizedState)||(sr=!0),s.memoizedState=i,s.baseQueue===null&&(s.baseState=i),r.lastRenderedState=i}return[i,n]}function L1(){}function M1(t,s){var r=Ut,n=Lr(),a=s(),i=!nn(n.memoizedState,a);if(i&&(n.memoizedState=a,sr=!0),n=n.queue,Uv(U1.bind(null,r,n,t),[t]),n.getSnapshot!==s||i||gs!==null&&gs.memoizedState.tag&1){if(r.flags|=2048,Dd(9,$1.bind(null,r,n,a,s),void 0,null),ys===null)throw Error(re(349));Gi&30||F1(r,s,a)}return a}function F1(t,s,r){t.flags|=16384,t={getSnapshot:s,value:r},s=Ut.updateQueue,s===null?(s={lastEffect:null,stores:null},Ut.updateQueue=s,s.stores=[t]):(r=s.stores,r===null?s.stores=[t]:r.push(t))}function $1(t,s,r,n){s.value=r,s.getSnapshot=n,z1(s)&&V1(t)}function U1(t,s,r){return r(function(){z1(s)&&V1(t)})}function z1(t){var s=t.getSnapshot;t=t.value;try{var r=s();return!nn(t,r)}catch{return!0}}function V1(t){var s=na(t,1);s!==null&&en(s,t,1,-1)}function w0(t){var s=hn();return typeof t=="function"&&(t=t()),s.memoizedState=s.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Id,lastRenderedState:t},s.queue=t,t=t.dispatch=a5.bind(null,Ut,t),[s.memoizedState,t]}function Dd(t,s,r,n){return t={tag:t,create:s,destroy:r,deps:n,next:null},s=Ut.updateQueue,s===null?(s={lastEffect:null,stores:null},Ut.updateQueue=s,s.lastEffect=t.next=t):(r=s.lastEffect,r===null?s.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,s.lastEffect=t)),t}function B1(){return Lr().memoizedState}function fh(t,s,r,n){var a=hn();Ut.flags|=t,a.memoizedState=Dd(1|s,r,void 0,n===void 0?null:n)}function $m(t,s,r,n){var a=Lr();n=n===void 0?null:n;var i=void 0;if(hs!==null){var o=hs.memoizedState;if(i=o.destroy,n!==null&&Mv(n,o.deps)){a.memoizedState=Dd(s,r,i,n);return}}Ut.flags|=t,a.memoizedState=Dd(1|s,r,i,n)}function b0(t,s){return fh(8390656,8,t,s)}function Uv(t,s){return $m(2048,8,t,s)}function q1(t,s){return $m(4,2,t,s)}function H1(t,s){return $m(4,4,t,s)}function W1(t,s){if(typeof s=="function")return t=t(),s(t),function(){s(null)};if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function K1(t,s,r){return r=r!=null?r.concat([t]):null,$m(4,4,W1.bind(null,s,t),r)}function zv(){}function G1(t,s){var r=Lr();s=s===void 0?null:s;var n=r.memoizedState;return n!==null&&s!==null&&Mv(s,n[1])?n[0]:(r.memoizedState=[t,s],t)}function Q1(t,s){var r=Lr();s=s===void 0?null:s;var n=r.memoizedState;return n!==null&&s!==null&&Mv(s,n[1])?n[0]:(t=t(),r.memoizedState=[t,s],t)}function Z1(t,s,r){return Gi&21?(nn(r,s)||(r=t1(),Ut.lanes|=r,Qi|=r,t.baseState=!0),s):(t.baseState&&(t.baseState=!1,sr=!0),t.memoizedState=r)}function r5(t,s){var r=ft;ft=r!==0&&4>r?r:4,t(!0);var n=gx.transition;gx.transition={};try{t(!1),s()}finally{ft=r,gx.transition=n}}function Y1(){return Lr().memoizedState}function n5(t,s,r){var n=Ka(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},X1(t))J1(s,r);else if(r=O1(t,s,r,n),r!==null){var a=Vs();en(r,t,n,a),e_(r,s,n)}}function a5(t,s,r){var n=Ka(t),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(X1(t))J1(s,a);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=s.lastRenderedReducer,i!==null))try{var o=s.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,nn(l,o)){var c=s.interleaved;c===null?(a.next=a,Rv(s)):(a.next=c.next,c.next=a),s.interleaved=a;return}}catch{}finally{}r=O1(t,s,a,n),r!==null&&(a=Vs(),en(r,t,n,a),e_(r,s,n))}}function X1(t){var s=t.alternate;return t===Ut||s!==null&&s===Ut}function J1(t,s){ud=Wh=!0;var r=t.pending;r===null?s.next=s:(s.next=r.next,r.next=s),t.pending=s}function e_(t,s,r){if(r&4194240){var n=s.lanes;n&=t.pendingLanes,r|=n,s.lanes=r,vv(t,r)}}var Kh={readContext:Dr,useCallback:ks,useContext:ks,useEffect:ks,useImperativeHandle:ks,useInsertionEffect:ks,useLayoutEffect:ks,useMemo:ks,useReducer:ks,useRef:ks,useState:ks,useDebugValue:ks,useDeferredValue:ks,useTransition:ks,useMutableSource:ks,useSyncExternalStore:ks,useId:ks,unstable_isNewReconciler:!1},i5={readContext:Dr,useCallback:function(t,s){return hn().memoizedState=[t,s===void 0?null:s],t},useContext:Dr,useEffect:b0,useImperativeHandle:function(t,s,r){return r=r!=null?r.concat([t]):null,fh(4194308,4,W1.bind(null,s,t),r)},useLayoutEffect:function(t,s){return fh(4194308,4,t,s)},useInsertionEffect:function(t,s){return fh(4,2,t,s)},useMemo:function(t,s){var r=hn();return s=s===void 0?null:s,t=t(),r.memoizedState=[t,s],t},useReducer:function(t,s,r){var n=hn();return s=r!==void 0?r(s):s,n.memoizedState=n.baseState=s,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},n.queue=t,t=t.dispatch=n5.bind(null,Ut,t),[n.memoizedState,t]},useRef:function(t){var s=hn();return t={current:t},s.memoizedState=t},useState:w0,useDebugValue:zv,useDeferredValue:function(t){return hn().memoizedState=t},useTransition:function(){var t=w0(!1),s=t[0];return t=r5.bind(null,t[1]),hn().memoizedState=t,[s,t]},useMutableSource:function(){},useSyncExternalStore:function(t,s,r){var n=Ut,a=hn();if(Ft){if(r===void 0)throw Error(re(407));r=r()}else{if(r=s(),ys===null)throw Error(re(349));Gi&30||F1(n,s,r)}a.memoizedState=r;var i={value:r,getSnapshot:s};return a.queue=i,b0(U1.bind(null,n,i,t),[t]),n.flags|=2048,Dd(9,$1.bind(null,n,i,r,s),void 0,null),r},useId:function(){var t=hn(),s=ys.identifierPrefix;if(Ft){var r=Qn,n=Gn;r=(n&~(1<<32-Jr(n)-1)).toString(32)+r,s=":"+s+"R"+r,r=Od++,0<r&&(s+="H"+r.toString(32)),s+=":"}else r=s5++,s=":"+s+"r"+r.toString(32)+":";return t.memoizedState=s},unstable_isNewReconciler:!1},o5={readContext:Dr,useCallback:G1,useContext:Dr,useEffect:Uv,useImperativeHandle:K1,useInsertionEffect:q1,useLayoutEffect:H1,useMemo:Q1,useReducer:vx,useRef:B1,useState:function(){return vx(Id)},useDebugValue:zv,useDeferredValue:function(t){var s=Lr();return Z1(s,hs.memoizedState,t)},useTransition:function(){var t=vx(Id)[0],s=Lr().memoizedState;return[t,s]},useMutableSource:L1,useSyncExternalStore:M1,useId:Y1,unstable_isNewReconciler:!1},l5={readContext:Dr,useCallback:G1,useContext:Dr,useEffect:Uv,useImperativeHandle:K1,useInsertionEffect:q1,useLayoutEffect:H1,useMemo:Q1,useReducer:yx,useRef:B1,useState:function(){return yx(Id)},useDebugValue:zv,useDeferredValue:function(t){var s=Lr();return hs===null?s.memoizedState=t:Z1(s,hs.memoizedState,t)},useTransition:function(){var t=yx(Id)[0],s=Lr().memoizedState;return[t,s]},useMutableSource:L1,useSyncExternalStore:M1,useId:Y1,unstable_isNewReconciler:!1};function Vr(t,s){if(t&&t.defaultProps){s=zt({},s),t=t.defaultProps;for(var r in t)s[r]===void 0&&(s[r]=t[r]);return s}return s}function Ap(t,s,r,n){s=t.memoizedState,r=r(n,s),r=r==null?s:zt({},s,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Um={isMounted:function(t){return(t=t._reactInternals)?mo(t)===t:!1},enqueueSetState:function(t,s,r){t=t._reactInternals;var n=Vs(),a=Ka(t),i=Xn(n,a);i.payload=s,r!=null&&(i.callback=r),s=Ha(t,i,a),s!==null&&(en(s,t,a,n),hh(s,t,a))},enqueueReplaceState:function(t,s,r){t=t._reactInternals;var n=Vs(),a=Ka(t),i=Xn(n,a);i.tag=1,i.payload=s,r!=null&&(i.callback=r),s=Ha(t,i,a),s!==null&&(en(s,t,a,n),hh(s,t,a))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var r=Vs(),n=Ka(t),a=Xn(r,n);a.tag=2,s!=null&&(a.callback=s),s=Ha(t,a,n),s!==null&&(en(s,t,n,r),hh(s,t,n))}};function N0(t,s,r,n,a,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):s.prototype&&s.prototype.isPureReactComponent?!Cd(r,n)||!Cd(a,i):!0}function t_(t,s,r){var n=!1,a=Ja,i=s.contextType;return typeof i=="object"&&i!==null?i=Dr(i):(a=ir(s)?Wi:Rs.current,n=s.contextTypes,i=(n=n!=null)?Tl(t,a):Ja),s=new s(r,i),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Um,t.stateNode=s,s._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=i),s}function _0(t,s,r,n){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(r,n),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(r,n),s.state!==t&&Um.enqueueReplaceState(s,s.state,null)}function Rp(t,s,r,n){var a=t.stateNode;a.props=r,a.state=t.memoizedState,a.refs={},Ov(t);var i=s.contextType;typeof i=="object"&&i!==null?a.context=Dr(i):(i=ir(s)?Wi:Rs.current,a.context=Tl(t,i)),a.state=t.memoizedState,i=s.getDerivedStateFromProps,typeof i=="function"&&(Ap(t,s,i,r),a.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&Um.enqueueReplaceState(a,a.state,null),qh(t,r,a,n),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function Ol(t,s){try{var r="",n=s;do r+=LA(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:s,stack:a,digest:null}}function jx(t,s,r){return{value:t,source:null,stack:r??null,digest:s??null}}function Op(t,s){try{console.error(s.value)}catch(r){setTimeout(function(){throw r})}}var c5=typeof WeakMap=="function"?WeakMap:Map;function s_(t,s,r){r=Xn(-1,r),r.tag=3,r.payload={element:null};var n=s.value;return r.callback=function(){Qh||(Qh=!0,Bp=n),Op(t,s)},r}function r_(t,s,r){r=Xn(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var a=s.value;r.payload=function(){return n(a)},r.callback=function(){Op(t,s)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Op(t,s),typeof n!="function"&&(Wa===null?Wa=new Set([this]):Wa.add(this));var o=s.stack;this.componentDidCatch(s.value,{componentStack:o!==null?o:""})}),r}function S0(t,s,r){var n=t.pingCache;if(n===null){n=t.pingCache=new c5;var a=new Set;n.set(s,a)}else a=n.get(s),a===void 0&&(a=new Set,n.set(s,a));a.has(r)||(a.add(r),t=N5.bind(null,t,s,r),s.then(t,t))}function k0(t){do{var s;if((s=t.tag===13)&&(s=t.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return t;t=t.return}while(t!==null);return null}function C0(t,s,r,n,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===s?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(s=Xn(-1,1),s.tag=2,Ha(r,s,1))),r.lanes|=1),t)}var d5=da.ReactCurrentOwner,sr=!1;function Fs(t,s,r,n){s.child=t===null?R1(s,null,r,n):Al(s,t.child,r,n)}function E0(t,s,r,n,a){r=r.render;var i=s.ref;return cl(s,a),n=Fv(t,s,r,n,i,a),r=$v(),t!==null&&!sr?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a,aa(t,s,a)):(Ft&&r&&kv(s),s.flags|=1,Fs(t,s,n,a),s.child)}function T0(t,s,r,n,a){if(t===null){var i=r.type;return typeof i=="function"&&!Qv(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(s.tag=15,s.type=i,n_(t,s,i,n,a)):(t=vh(r.type,null,n,s,s.mode,a),t.ref=s.ref,t.return=s,s.child=t)}if(i=t.child,!(t.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Cd,r(o,n)&&t.ref===s.ref)return aa(t,s,a)}return s.flags|=1,t=Ga(i,n),t.ref=s.ref,t.return=s,s.child=t}function n_(t,s,r,n,a){if(t!==null){var i=t.memoizedProps;if(Cd(i,n)&&t.ref===s.ref)if(sr=!1,s.pendingProps=n=i,(t.lanes&a)!==0)t.flags&131072&&(sr=!0);else return s.lanes=t.lanes,aa(t,s,a)}return Ip(t,s,r,n,a)}function a_(t,s,r){var n=s.pendingProps,a=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},St(sl,hr),hr|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:t,cachePool:null,transitions:null},s.updateQueue=null,St(sl,hr),hr|=t,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,St(sl,hr),hr|=n}else i!==null?(n=i.baseLanes|r,s.memoizedState=null):n=r,St(sl,hr),hr|=n;return Fs(t,s,a,r),s.child}function i_(t,s){var r=s.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(s.flags|=512,s.flags|=2097152)}function Ip(t,s,r,n,a){var i=ir(r)?Wi:Rs.current;return i=Tl(s,i),cl(s,a),r=Fv(t,s,r,n,i,a),n=$v(),t!==null&&!sr?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a,aa(t,s,a)):(Ft&&n&&kv(s),s.flags|=1,Fs(t,s,r,a),s.child)}function P0(t,s,r,n,a){if(ir(r)){var i=!0;$h(s)}else i=!1;if(cl(s,a),s.stateNode===null)xh(t,s),t_(s,r,n),Rp(s,r,n,a),n=!0;else if(t===null){var o=s.stateNode,l=s.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=Dr(d):(d=ir(r)?Wi:Rs.current,d=Tl(s,d));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&_0(s,o,n,d),ba=!1;var f=s.memoizedState;o.state=f,qh(s,n,o,a),c=s.memoizedState,l!==n||f!==c||ar.current||ba?(typeof u=="function"&&(Ap(s,r,u,n),c=s.memoizedState),(l=ba||N0(s,r,l,n,f,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(s.flags|=4194308)):(typeof o.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=n,s.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(s.flags|=4194308),n=!1)}else{o=s.stateNode,I1(t,s),l=s.memoizedProps,d=s.type===s.elementType?l:Vr(s.type,l),o.props=d,h=s.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Dr(c):(c=ir(r)?Wi:Rs.current,c=Tl(s,c));var x=r.getDerivedStateFromProps;(u=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&_0(s,o,n,c),ba=!1,f=s.memoizedState,o.state=f,qh(s,n,o,a);var g=s.memoizedState;l!==h||f!==g||ar.current||ba?(typeof x=="function"&&(Ap(s,r,x,n),g=s.memoizedState),(d=ba||N0(s,r,d,n,f,g,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(s.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(s.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(s.flags|=1024),s.memoizedProps=n,s.memoizedState=g),o.props=n,o.state=g,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(s.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(s.flags|=1024),n=!1)}return Dp(t,s,r,n,i,a)}function Dp(t,s,r,n,a,i){i_(t,s);var o=(s.flags&128)!==0;if(!n&&!o)return a&&x0(s,r,!1),aa(t,s,i);n=s.stateNode,d5.current=s;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return s.flags|=1,t!==null&&o?(s.child=Al(s,t.child,null,i),s.child=Al(s,null,l,i)):Fs(t,s,l,i),s.memoizedState=n.state,a&&x0(s,r,!0),s.child}function o_(t){var s=t.stateNode;s.pendingContext?f0(t,s.pendingContext,s.pendingContext!==s.context):s.context&&f0(t,s.context,!1),Iv(t,s.containerInfo)}function A0(t,s,r,n,a){return Pl(),Ev(a),s.flags|=256,Fs(t,s,r,n),s.child}var Lp={dehydrated:null,treeContext:null,retryLane:0};function Mp(t){return{baseLanes:t,cachePool:null,transitions:null}}function l_(t,s,r){var n=s.pendingProps,a=$t.current,i=!1,o=(s.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(a&2)!==0),l?(i=!0,s.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),St($t,a&1),t===null)return Tp(s),t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(s.mode&1?t.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(o=n.children,t=n.fallback,i?(n=s.mode,i=s.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Bm(o,n,0,null),t=zi(t,n,r,null),i.return=s,t.return=s,i.sibling=t,s.child=i,s.child.memoizedState=Mp(r),s.memoizedState=Lp,t):Vv(s,o));if(a=t.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return u5(t,s,o,n,l,a,r);if(i){i=n.fallback,o=s.mode,a=t.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&s.child!==a?(n=s.child,n.childLanes=0,n.pendingProps=c,s.deletions=null):(n=Ga(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Ga(l,i):(i=zi(i,o,r,null),i.flags|=2),i.return=s,n.return=s,n.sibling=i,s.child=n,n=i,i=s.child,o=t.child.memoizedState,o=o===null?Mp(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,s.memoizedState=Lp,n}return i=t.child,t=i.sibling,n=Ga(i,{mode:"visible",children:n.children}),!(s.mode&1)&&(n.lanes=r),n.return=s,n.sibling=null,t!==null&&(r=s.deletions,r===null?(s.deletions=[t],s.flags|=16):r.push(t)),s.child=n,s.memoizedState=null,n}function Vv(t,s){return s=Bm({mode:"visible",children:s},t.mode,0,null),s.return=t,t.child=s}function qu(t,s,r,n){return n!==null&&Ev(n),Al(s,t.child,null,r),t=Vv(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function u5(t,s,r,n,a,i,o){if(r)return s.flags&256?(s.flags&=-257,n=jx(Error(re(422))),qu(t,s,o,n)):s.memoizedState!==null?(s.child=t.child,s.flags|=128,null):(i=n.fallback,a=s.mode,n=Bm({mode:"visible",children:n.children},a,0,null),i=zi(i,a,o,null),i.flags|=2,n.return=s,i.return=s,n.sibling=i,s.child=n,s.mode&1&&Al(s,t.child,null,o),s.child.memoizedState=Mp(o),s.memoizedState=Lp,i);if(!(s.mode&1))return qu(t,s,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(re(419)),n=jx(i,n,void 0),qu(t,s,o,n)}if(l=(o&t.childLanes)!==0,sr||l){if(n=ys,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,na(t,a),en(n,t,a,-1))}return Gv(),n=jx(Error(re(421))),qu(t,s,o,n)}return a.data==="$?"?(s.flags|=128,s.child=t.child,s=_5.bind(null,t),a._reactRetry=s,null):(t=i.treeContext,xr=qa(a.nextSibling),vr=s,Ft=!0,Kr=null,t!==null&&(Er[Tr++]=Gn,Er[Tr++]=Qn,Er[Tr++]=Ki,Gn=t.id,Qn=t.overflow,Ki=s),s=Vv(s,n.children),s.flags|=4096,s)}function R0(t,s,r){t.lanes|=s;var n=t.alternate;n!==null&&(n.lanes|=s),Pp(t.return,s,r)}function wx(t,s,r,n,a){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=s,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function c_(t,s,r){var n=s.pendingProps,a=n.revealOrder,i=n.tail;if(Fs(t,s,n.children,r),n=$t.current,n&2)n=n&1|2,s.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&R0(t,r,s);else if(t.tag===19)R0(t,r,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(St($t,n),!(s.mode&1))s.memoizedState=null;else switch(a){case"forwards":for(r=s.child,a=null;r!==null;)t=r.alternate,t!==null&&Hh(t)===null&&(a=r),r=r.sibling;r=a,r===null?(a=s.child,s.child=null):(a=r.sibling,r.sibling=null),wx(s,!1,a,r,i);break;case"backwards":for(r=null,a=s.child,s.child=null;a!==null;){if(t=a.alternate,t!==null&&Hh(t)===null){s.child=a;break}t=a.sibling,a.sibling=r,r=a,a=t}wx(s,!0,r,null,i);break;case"together":wx(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function xh(t,s){!(s.mode&1)&&t!==null&&(t.alternate=null,s.alternate=null,s.flags|=2)}function aa(t,s,r){if(t!==null&&(s.dependencies=t.dependencies),Qi|=s.lanes,!(r&s.childLanes))return null;if(t!==null&&s.child!==t.child)throw Error(re(153));if(s.child!==null){for(t=s.child,r=Ga(t,t.pendingProps),s.child=r,r.return=s;t.sibling!==null;)t=t.sibling,r=r.sibling=Ga(t,t.pendingProps),r.return=s;r.sibling=null}return s.child}function h5(t,s,r){switch(s.tag){case 3:o_(s),Pl();break;case 5:D1(s);break;case 1:ir(s.type)&&$h(s);break;case 4:Iv(s,s.stateNode.containerInfo);break;case 10:var n=s.type._context,a=s.memoizedProps.value;St(Vh,n._currentValue),n._currentValue=a;break;case 13:if(n=s.memoizedState,n!==null)return n.dehydrated!==null?(St($t,$t.current&1),s.flags|=128,null):r&s.child.childLanes?l_(t,s,r):(St($t,$t.current&1),t=aa(t,s,r),t!==null?t.sibling:null);St($t,$t.current&1);break;case 19:if(n=(r&s.childLanes)!==0,t.flags&128){if(n)return c_(t,s,r);s.flags|=128}if(a=s.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),St($t,$t.current),n)break;return null;case 22:case 23:return s.lanes=0,a_(t,s,r)}return aa(t,s,r)}var d_,Fp,u_,h_;d_=function(t,s){for(var r=s.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Fp=function(){};u_=function(t,s,r,n){var a=t.memoizedProps;if(a!==n){t=s.stateNode,Ei(_n.current);var i=null;switch(r){case"input":a=ip(t,a),n=ip(t,n),i=[];break;case"select":a=zt({},a,{value:void 0}),n=zt({},n,{value:void 0}),i=[];break;case"textarea":a=cp(t,a),n=cp(t,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Mh)}up(r,n);var o;r=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(jd.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(l=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(jd.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Pt("scroll",t),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(s.updateQueue=d)&&(s.flags|=4)}};h_=function(t,s,r,n){r!==n&&(s.flags|=4)};function Lc(t,s){if(!Ft)switch(t.tailMode){case"hidden":s=t.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Cs(t){var s=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(s)for(var a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=n,t.childLanes=r,s}function m5(t,s,r){var n=s.pendingProps;switch(Cv(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cs(s),null;case 1:return ir(s.type)&&Fh(),Cs(s),null;case 3:return n=s.stateNode,Rl(),It(ar),It(Rs),Lv(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Vu(s)?s.flags|=4:t===null||t.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Kr!==null&&(Wp(Kr),Kr=null))),Fp(t,s),Cs(s),null;case 5:Dv(s);var a=Ei(Rd.current);if(r=s.type,t!==null&&s.stateNode!=null)u_(t,s,r,n,a),t.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!n){if(s.stateNode===null)throw Error(re(166));return Cs(s),null}if(t=Ei(_n.current),Vu(s)){n=s.stateNode,r=s.type;var i=s.memoizedProps;switch(n[pn]=s,n[Pd]=i,t=(s.mode&1)!==0,r){case"dialog":Pt("cancel",n),Pt("close",n);break;case"iframe":case"object":case"embed":Pt("load",n);break;case"video":case"audio":for(a=0;a<Qc.length;a++)Pt(Qc[a],n);break;case"source":Pt("error",n);break;case"img":case"image":case"link":Pt("error",n),Pt("load",n);break;case"details":Pt("toggle",n);break;case"input":zj(n,i),Pt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Pt("invalid",n);break;case"textarea":Bj(n,i),Pt("invalid",n)}up(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&zu(n.textContent,l,t),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&zu(n.textContent,l,t),a=["children",""+l]):jd.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Pt("scroll",n)}switch(r){case"input":Ou(n),Vj(n,i,!0);break;case"textarea":Ou(n),qj(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Mh)}n=a,s.updateQueue=n,n!==null&&(s.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=UN(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[pn]=s,t[Pd]=n,d_(t,s,!1,!1),s.stateNode=t;e:{switch(o=hp(r,n),r){case"dialog":Pt("cancel",t),Pt("close",t),a=n;break;case"iframe":case"object":case"embed":Pt("load",t),a=n;break;case"video":case"audio":for(a=0;a<Qc.length;a++)Pt(Qc[a],t);a=n;break;case"source":Pt("error",t),a=n;break;case"img":case"image":case"link":Pt("error",t),Pt("load",t),a=n;break;case"details":Pt("toggle",t),a=n;break;case"input":zj(t,n),a=ip(t,n),Pt("invalid",t);break;case"option":a=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},a=zt({},n,{value:void 0}),Pt("invalid",t);break;case"textarea":Bj(t,n),a=cp(t,n),Pt("invalid",t);break;default:a=n}up(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?BN(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&zN(t,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&wd(t,c):typeof c=="number"&&wd(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(jd.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Pt("scroll",t):c!=null&&hv(t,i,c,o))}switch(r){case"input":Ou(t),Vj(t,n,!1);break;case"textarea":Ou(t),qj(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Xa(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?al(t,!!n.multiple,i,!1):n.defaultValue!=null&&al(t,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=Mh)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Cs(s),null;case 6:if(t&&s.stateNode!=null)h_(t,s,t.memoizedProps,n);else{if(typeof n!="string"&&s.stateNode===null)throw Error(re(166));if(r=Ei(Rd.current),Ei(_n.current),Vu(s)){if(n=s.stateNode,r=s.memoizedProps,n[pn]=s,(i=n.nodeValue!==r)&&(t=vr,t!==null))switch(t.tag){case 3:zu(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&zu(n.nodeValue,r,(t.mode&1)!==0)}i&&(s.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[pn]=s,s.stateNode=n}return Cs(s),null;case 13:if(It($t),n=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ft&&xr!==null&&s.mode&1&&!(s.flags&128))P1(),Pl(),s.flags|=98560,i=!1;else if(i=Vu(s),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(re(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(re(317));i[pn]=s}else Pl(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Cs(s),i=!1}else Kr!==null&&(Wp(Kr),Kr=null),i=!0;if(!i)return s.flags&65536?s:null}return s.flags&128?(s.lanes=r,s):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(s.child.flags|=8192,s.mode&1&&(t===null||$t.current&1?xs===0&&(xs=3):Gv())),s.updateQueue!==null&&(s.flags|=4),Cs(s),null);case 4:return Rl(),Fp(t,s),t===null&&Ed(s.stateNode.containerInfo),Cs(s),null;case 10:return Av(s.type._context),Cs(s),null;case 17:return ir(s.type)&&Fh(),Cs(s),null;case 19:if(It($t),i=s.memoizedState,i===null)return Cs(s),null;if(n=(s.flags&128)!==0,o=i.rendering,o===null)if(n)Lc(i,!1);else{if(xs!==0||t!==null&&t.flags&128)for(t=s.child;t!==null;){if(o=Hh(t),o!==null){for(s.flags|=128,Lc(i,!1),n=o.updateQueue,n!==null&&(s.updateQueue=n,s.flags|=4),s.subtreeFlags=0,n=r,r=s.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return St($t,$t.current&1|2),s.child}t=t.sibling}i.tail!==null&&es()>Il&&(s.flags|=128,n=!0,Lc(i,!1),s.lanes=4194304)}else{if(!n)if(t=Hh(o),t!==null){if(s.flags|=128,n=!0,r=t.updateQueue,r!==null&&(s.updateQueue=r,s.flags|=4),Lc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ft)return Cs(s),null}else 2*es()-i.renderingStartTime>Il&&r!==1073741824&&(s.flags|=128,n=!0,Lc(i,!1),s.lanes=4194304);i.isBackwards?(o.sibling=s.child,s.child=o):(r=i.last,r!==null?r.sibling=o:s.child=o,i.last=o)}return i.tail!==null?(s=i.tail,i.rendering=s,i.tail=s.sibling,i.renderingStartTime=es(),s.sibling=null,r=$t.current,St($t,n?r&1|2:r&1),s):(Cs(s),null);case 22:case 23:return Kv(),n=s.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(s.flags|=8192),n&&s.mode&1?hr&1073741824&&(Cs(s),s.subtreeFlags&6&&(s.flags|=8192)):Cs(s),null;case 24:return null;case 25:return null}throw Error(re(156,s.tag))}function f5(t,s){switch(Cv(s),s.tag){case 1:return ir(s.type)&&Fh(),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return Rl(),It(ar),It(Rs),Lv(),t=s.flags,t&65536&&!(t&128)?(s.flags=t&-65537|128,s):null;case 5:return Dv(s),null;case 13:if(It($t),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(re(340));Pl()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return It($t),null;case 4:return Rl(),null;case 10:return Av(s.type._context),null;case 22:case 23:return Kv(),null;case 24:return null;default:return null}}var Hu=!1,Ps=!1,x5=typeof WeakSet=="function"?WeakSet:Set,Se=null;function tl(t,s){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ht(t,s,n)}else r.current=null}function $p(t,s,r){try{r()}catch(n){Ht(t,s,n)}}var O0=!1;function p5(t,s){if(bp=Ih,t=g1(),Sv(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=t,f=null;t:for(;;){for(var x;h!==r||a!==0&&h.nodeType!==3||(l=o+a),h!==i||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(x=h.firstChild)!==null;)f=h,h=x;for(;;){if(h===t)break t;if(f===r&&++d===a&&(l=o),f===i&&++u===n&&(c=o),(x=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=x}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Np={focusedElem:t,selectionRange:r},Ih=!1,Se=s;Se!==null;)if(s=Se,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,Se=t;else for(;Se!==null;){s=Se;try{var g=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,p=g.memoizedState,y=s.stateNode,j=y.getSnapshotBeforeUpdate(s.elementType===s.type?v:Vr(s.type,v),p);y.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var w=s.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(b){Ht(s,s.return,b)}if(t=s.sibling,t!==null){t.return=s.return,Se=t;break}Se=s.return}return g=O0,O0=!1,g}function hd(t,s,r){var n=s.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&t)===t){var i=a.destroy;a.destroy=void 0,i!==void 0&&$p(s,r,i)}a=a.next}while(a!==n)}}function zm(t,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==s)}}function Up(t){var s=t.ref;if(s!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof s=="function"?s(t):s.current=t}}function m_(t){var s=t.alternate;s!==null&&(t.alternate=null,m_(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&(delete s[pn],delete s[Pd],delete s[kp],delete s[XR],delete s[JR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function f_(t){return t.tag===5||t.tag===3||t.tag===4}function I0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||f_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zp(t,s,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,s?r.nodeType===8?r.parentNode.insertBefore(t,s):r.insertBefore(t,s):(r.nodeType===8?(s=r.parentNode,s.insertBefore(t,r)):(s=r,s.appendChild(t)),r=r._reactRootContainer,r!=null||s.onclick!==null||(s.onclick=Mh));else if(n!==4&&(t=t.child,t!==null))for(zp(t,s,r),t=t.sibling;t!==null;)zp(t,s,r),t=t.sibling}function Vp(t,s,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,s?r.insertBefore(t,s):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Vp(t,s,r),t=t.sibling;t!==null;)Vp(t,s,r),t=t.sibling}var js=null,Hr=!1;function fa(t,s,r){for(r=r.child;r!==null;)x_(t,s,r),r=r.sibling}function x_(t,s,r){if(Nn&&typeof Nn.onCommitFiberUnmount=="function")try{Nn.onCommitFiberUnmount(Om,r)}catch{}switch(r.tag){case 5:Ps||tl(r,s);case 6:var n=js,a=Hr;js=null,fa(t,s,r),js=n,Hr=a,js!==null&&(Hr?(t=js,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):js.removeChild(r.stateNode));break;case 18:js!==null&&(Hr?(t=js,r=r.stateNode,t.nodeType===8?fx(t.parentNode,r):t.nodeType===1&&fx(t,r),Sd(t)):fx(js,r.stateNode));break;case 4:n=js,a=Hr,js=r.stateNode.containerInfo,Hr=!0,fa(t,s,r),js=n,Hr=a;break;case 0:case 11:case 14:case 15:if(!Ps&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&$p(r,s,o),a=a.next}while(a!==n)}fa(t,s,r);break;case 1:if(!Ps&&(tl(r,s),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Ht(r,s,l)}fa(t,s,r);break;case 21:fa(t,s,r);break;case 22:r.mode&1?(Ps=(n=Ps)||r.memoizedState!==null,fa(t,s,r),Ps=n):fa(t,s,r);break;default:fa(t,s,r)}}function D0(t){var s=t.updateQueue;if(s!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new x5),s.forEach(function(n){var a=S5.bind(null,t,n);r.has(n)||(r.add(n),n.then(a,a))})}}function $r(t,s){var r=s.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=t,o=s,l=o;e:for(;l!==null;){switch(l.tag){case 5:js=l.stateNode,Hr=!1;break e;case 3:js=l.stateNode.containerInfo,Hr=!0;break e;case 4:js=l.stateNode.containerInfo,Hr=!0;break e}l=l.return}if(js===null)throw Error(re(160));x_(i,o,a),js=null,Hr=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){Ht(a,s,d)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)p_(s,t),s=s.sibling}function p_(t,s){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if($r(s,t),un(t),n&4){try{hd(3,t,t.return),zm(3,t)}catch(v){Ht(t,t.return,v)}try{hd(5,t,t.return)}catch(v){Ht(t,t.return,v)}}break;case 1:$r(s,t),un(t),n&512&&r!==null&&tl(r,r.return);break;case 5:if($r(s,t),un(t),n&512&&r!==null&&tl(r,r.return),t.flags&32){var a=t.stateNode;try{wd(a,"")}catch(v){Ht(t,t.return,v)}}if(n&4&&(a=t.stateNode,a!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&FN(a,i),hp(l,o);var d=hp(l,i);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?BN(a,h):u==="dangerouslySetInnerHTML"?zN(a,h):u==="children"?wd(a,h):hv(a,u,h,d)}switch(l){case"input":op(a,i);break;case"textarea":$N(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?al(a,!!i.multiple,x,!1):f!==!!i.multiple&&(i.defaultValue!=null?al(a,!!i.multiple,i.defaultValue,!0):al(a,!!i.multiple,i.multiple?[]:"",!1))}a[Pd]=i}catch(v){Ht(t,t.return,v)}}break;case 6:if($r(s,t),un(t),n&4){if(t.stateNode===null)throw Error(re(162));a=t.stateNode,i=t.memoizedProps;try{a.nodeValue=i}catch(v){Ht(t,t.return,v)}}break;case 3:if($r(s,t),un(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Sd(s.containerInfo)}catch(v){Ht(t,t.return,v)}break;case 4:$r(s,t),un(t);break;case 13:$r(s,t),un(t),a=t.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Hv=es())),n&4&&D0(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(Ps=(d=Ps)||u,$r(s,t),Ps=d):$r(s,t),un(t),n&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!u&&t.mode&1)for(Se=t,u=t.child;u!==null;){for(h=Se=u;Se!==null;){switch(f=Se,x=f.child,f.tag){case 0:case 11:case 14:case 15:hd(4,f,f.return);break;case 1:tl(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){n=f,r=f.return;try{s=n,g.props=s.memoizedProps,g.state=s.memoizedState,g.componentWillUnmount()}catch(v){Ht(n,r,v)}}break;case 5:tl(f,f.return);break;case 22:if(f.memoizedState!==null){M0(h);continue}}x!==null?(x.return=f,Se=x):M0(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{a=h.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=VN("display",o))}catch(v){Ht(t,t.return,v)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(v){Ht(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:$r(s,t),un(t),n&4&&D0(t);break;case 21:break;default:$r(s,t),un(t)}}function un(t){var s=t.flags;if(s&2){try{e:{for(var r=t.return;r!==null;){if(f_(r)){var n=r;break e}r=r.return}throw Error(re(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(wd(a,""),n.flags&=-33);var i=I0(t);Vp(t,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=I0(t);zp(t,l,o);break;default:throw Error(re(161))}}catch(c){Ht(t,t.return,c)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function g5(t,s,r){Se=t,g_(t)}function g_(t,s,r){for(var n=(t.mode&1)!==0;Se!==null;){var a=Se,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Hu;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Ps;l=Hu;var d=Ps;if(Hu=o,(Ps=c)&&!d)for(Se=a;Se!==null;)o=Se,c=o.child,o.tag===22&&o.memoizedState!==null?F0(a):c!==null?(c.return=o,Se=c):F0(a);for(;i!==null;)Se=i,g_(i),i=i.sibling;Se=a,Hu=l,Ps=d}L0(t)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Se=i):L0(t)}}function L0(t){for(;Se!==null;){var s=Se;if(s.flags&8772){var r=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Ps||zm(5,s);break;case 1:var n=s.stateNode;if(s.flags&4&&!Ps)if(r===null)n.componentDidMount();else{var a=s.elementType===s.type?r.memoizedProps:Vr(s.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=s.updateQueue;i!==null&&j0(s,i,n);break;case 3:var o=s.updateQueue;if(o!==null){if(r=null,s.child!==null)switch(s.child.tag){case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}j0(s,o,r)}break;case 5:var l=s.stateNode;if(r===null&&s.flags&4){r=l;var c=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var d=s.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Sd(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}Ps||s.flags&512&&Up(s)}catch(f){Ht(s,s.return,f)}}if(s===t){Se=null;break}if(r=s.sibling,r!==null){r.return=s.return,Se=r;break}Se=s.return}}function M0(t){for(;Se!==null;){var s=Se;if(s===t){Se=null;break}var r=s.sibling;if(r!==null){r.return=s.return,Se=r;break}Se=s.return}}function F0(t){for(;Se!==null;){var s=Se;try{switch(s.tag){case 0:case 11:case 15:var r=s.return;try{zm(4,s)}catch(c){Ht(s,r,c)}break;case 1:var n=s.stateNode;if(typeof n.componentDidMount=="function"){var a=s.return;try{n.componentDidMount()}catch(c){Ht(s,a,c)}}var i=s.return;try{Up(s)}catch(c){Ht(s,i,c)}break;case 5:var o=s.return;try{Up(s)}catch(c){Ht(s,o,c)}}}catch(c){Ht(s,s.return,c)}if(s===t){Se=null;break}var l=s.sibling;if(l!==null){l.return=s.return,Se=l;break}Se=s.return}}var v5=Math.ceil,Gh=da.ReactCurrentDispatcher,Bv=da.ReactCurrentOwner,Rr=da.ReactCurrentBatchConfig,st=0,ys=null,os=null,ws=0,hr=0,sl=di(0),xs=0,Ld=null,Qi=0,Vm=0,qv=0,md=null,er=null,Hv=0,Il=1/0,Bn=null,Qh=!1,Bp=null,Wa=null,Wu=!1,Ua=null,Zh=0,fd=0,qp=null,ph=-1,gh=0;function Vs(){return st&6?es():ph!==-1?ph:ph=es()}function Ka(t){return t.mode&1?st&2&&ws!==0?ws&-ws:t5.transition!==null?(gh===0&&(gh=t1()),gh):(t=ft,t!==0||(t=window.event,t=t===void 0?16:l1(t.type)),t):1}function en(t,s,r,n){if(50<fd)throw fd=0,qp=null,Error(re(185));Xd(t,r,n),(!(st&2)||t!==ys)&&(t===ys&&(!(st&2)&&(Vm|=r),xs===4&&ka(t,ws)),or(t,n),r===1&&st===0&&!(s.mode&1)&&(Il=es()+500,Fm&&ui()))}function or(t,s){var r=t.callbackNode;tR(t,s);var n=Oh(t,t===ys?ws:0);if(n===0)r!==null&&Kj(r),t.callbackNode=null,t.callbackPriority=0;else if(s=n&-n,t.callbackPriority!==s){if(r!=null&&Kj(r),s===1)t.tag===0?e5($0.bind(null,t)):C1($0.bind(null,t)),ZR(function(){!(st&6)&&ui()}),r=null;else{switch(s1(n)){case 1:r=gv;break;case 4:r=JN;break;case 16:r=Rh;break;case 536870912:r=e1;break;default:r=Rh}r=S_(r,v_.bind(null,t))}t.callbackPriority=s,t.callbackNode=r}}function v_(t,s){if(ph=-1,gh=0,st&6)throw Error(re(327));var r=t.callbackNode;if(dl()&&t.callbackNode!==r)return null;var n=Oh(t,t===ys?ws:0);if(n===0)return null;if(n&30||n&t.expiredLanes||s)s=Yh(t,n);else{s=n;var a=st;st|=2;var i=j_();(ys!==t||ws!==s)&&(Bn=null,Il=es()+500,Ui(t,s));do try{w5();break}catch(l){y_(t,l)}while(!0);Pv(),Gh.current=i,st=a,os!==null?s=0:(ys=null,ws=0,s=xs)}if(s!==0){if(s===2&&(a=gp(t),a!==0&&(n=a,s=Hp(t,a))),s===1)throw r=Ld,Ui(t,0),ka(t,n),or(t,es()),r;if(s===6)ka(t,n);else{if(a=t.current.alternate,!(n&30)&&!y5(a)&&(s=Yh(t,n),s===2&&(i=gp(t),i!==0&&(n=i,s=Hp(t,i))),s===1))throw r=Ld,Ui(t,0),ka(t,n),or(t,es()),r;switch(t.finishedWork=a,t.finishedLanes=n,s){case 0:case 1:throw Error(re(345));case 2:Ni(t,er,Bn);break;case 3:if(ka(t,n),(n&130023424)===n&&(s=Hv+500-es(),10<s)){if(Oh(t,0)!==0)break;if(a=t.suspendedLanes,(a&n)!==n){Vs(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=Sp(Ni.bind(null,t,er,Bn),s);break}Ni(t,er,Bn);break;case 4:if(ka(t,n),(n&4194240)===n)break;for(s=t.eventTimes,a=-1;0<n;){var o=31-Jr(n);i=1<<o,o=s[o],o>a&&(a=o),n&=~i}if(n=a,n=es()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*v5(n/1960))-n,10<n){t.timeoutHandle=Sp(Ni.bind(null,t,er,Bn),n);break}Ni(t,er,Bn);break;case 5:Ni(t,er,Bn);break;default:throw Error(re(329))}}}return or(t,es()),t.callbackNode===r?v_.bind(null,t):null}function Hp(t,s){var r=md;return t.current.memoizedState.isDehydrated&&(Ui(t,s).flags|=256),t=Yh(t,s),t!==2&&(s=er,er=r,s!==null&&Wp(s)),t}function Wp(t){er===null?er=t:er.push.apply(er,t)}function y5(t){for(var s=t;;){if(s.flags&16384){var r=s.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!nn(i(),a))return!1}catch{return!1}}}if(r=s.child,s.subtreeFlags&16384&&r!==null)r.return=s,s=r;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ka(t,s){for(s&=~qv,s&=~Vm,t.suspendedLanes|=s,t.pingedLanes&=~s,t=t.expirationTimes;0<s;){var r=31-Jr(s),n=1<<r;t[r]=-1,s&=~n}}function $0(t){if(st&6)throw Error(re(327));dl();var s=Oh(t,0);if(!(s&1))return or(t,es()),null;var r=Yh(t,s);if(t.tag!==0&&r===2){var n=gp(t);n!==0&&(s=n,r=Hp(t,n))}if(r===1)throw r=Ld,Ui(t,0),ka(t,s),or(t,es()),r;if(r===6)throw Error(re(345));return t.finishedWork=t.current.alternate,t.finishedLanes=s,Ni(t,er,Bn),or(t,es()),null}function Wv(t,s){var r=st;st|=1;try{return t(s)}finally{st=r,st===0&&(Il=es()+500,Fm&&ui())}}function Zi(t){Ua!==null&&Ua.tag===0&&!(st&6)&&dl();var s=st;st|=1;var r=Rr.transition,n=ft;try{if(Rr.transition=null,ft=1,t)return t()}finally{ft=n,Rr.transition=r,st=s,!(st&6)&&ui()}}function Kv(){hr=sl.current,It(sl)}function Ui(t,s){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,QR(r)),os!==null)for(r=os.return;r!==null;){var n=r;switch(Cv(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Fh();break;case 3:Rl(),It(ar),It(Rs),Lv();break;case 5:Dv(n);break;case 4:Rl();break;case 13:It($t);break;case 19:It($t);break;case 10:Av(n.type._context);break;case 22:case 23:Kv()}r=r.return}if(ys=t,os=t=Ga(t.current,null),ws=hr=s,xs=0,Ld=null,qv=Vm=Qi=0,er=md=null,Ci!==null){for(s=0;s<Ci.length;s++)if(r=Ci[s],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}Ci=null}return t}function y_(t,s){do{var r=os;try{if(Pv(),mh.current=Kh,Wh){for(var n=Ut.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Wh=!1}if(Gi=0,gs=hs=Ut=null,ud=!1,Od=0,Bv.current=null,r===null||r.return===null){xs=1,Ld=s,os=null;break}e:{var i=t,o=r.return,l=r,c=s;if(s=ws,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var x=k0(o);if(x!==null){x.flags&=-257,C0(x,o,l,i,s),x.mode&1&&S0(i,d,s),s=x,c=d;var g=s.updateQueue;if(g===null){var v=new Set;v.add(c),s.updateQueue=v}else g.add(c);break e}else{if(!(s&1)){S0(i,d,s),Gv();break e}c=Error(re(426))}}else if(Ft&&l.mode&1){var p=k0(o);if(p!==null){!(p.flags&65536)&&(p.flags|=256),C0(p,o,l,i,s),Ev(Ol(c,l));break e}}i=c=Ol(c,l),xs!==4&&(xs=2),md===null?md=[i]:md.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,s&=-s,i.lanes|=s;var y=s_(i,c,s);y0(i,y);break e;case 1:l=c;var j=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof j.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Wa===null||!Wa.has(w)))){i.flags|=65536,s&=-s,i.lanes|=s;var b=r_(i,l,s);y0(i,b);break e}}i=i.return}while(i!==null)}b_(r)}catch(N){s=N,os===r&&r!==null&&(os=r=r.return);continue}break}while(!0)}function j_(){var t=Gh.current;return Gh.current=Kh,t===null?Kh:t}function Gv(){(xs===0||xs===3||xs===2)&&(xs=4),ys===null||!(Qi&268435455)&&!(Vm&268435455)||ka(ys,ws)}function Yh(t,s){var r=st;st|=2;var n=j_();(ys!==t||ws!==s)&&(Bn=null,Ui(t,s));do try{j5();break}catch(a){y_(t,a)}while(!0);if(Pv(),st=r,Gh.current=n,os!==null)throw Error(re(261));return ys=null,ws=0,xs}function j5(){for(;os!==null;)w_(os)}function w5(){for(;os!==null&&!WA();)w_(os)}function w_(t){var s=__(t.alternate,t,hr);t.memoizedProps=t.pendingProps,s===null?b_(t):os=s,Bv.current=null}function b_(t){var s=t;do{var r=s.alternate;if(t=s.return,s.flags&32768){if(r=f5(r,s),r!==null){r.flags&=32767,os=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{xs=6,os=null;return}}else if(r=m5(r,s,hr),r!==null){os=r;return}if(s=s.sibling,s!==null){os=s;return}os=s=t}while(s!==null);xs===0&&(xs=5)}function Ni(t,s,r){var n=ft,a=Rr.transition;try{Rr.transition=null,ft=1,b5(t,s,r,n)}finally{Rr.transition=a,ft=n}return null}function b5(t,s,r,n){do dl();while(Ua!==null);if(st&6)throw Error(re(327));r=t.finishedWork;var a=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(re(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(sR(t,i),t===ys&&(os=ys=null,ws=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Wu||(Wu=!0,S_(Rh,function(){return dl(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Rr.transition,Rr.transition=null;var o=ft;ft=1;var l=st;st|=4,Bv.current=null,p5(t,r),p_(r,t),VR(Np),Ih=!!bp,Np=bp=null,t.current=r,g5(r),KA(),st=l,ft=o,Rr.transition=i}else t.current=r;if(Wu&&(Wu=!1,Ua=t,Zh=a),i=t.pendingLanes,i===0&&(Wa=null),ZA(r.stateNode),or(t,es()),s!==null)for(n=t.onRecoverableError,r=0;r<s.length;r++)a=s[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Qh)throw Qh=!1,t=Bp,Bp=null,t;return Zh&1&&t.tag!==0&&dl(),i=t.pendingLanes,i&1?t===qp?fd++:(fd=0,qp=t):fd=0,ui(),null}function dl(){if(Ua!==null){var t=s1(Zh),s=Rr.transition,r=ft;try{if(Rr.transition=null,ft=16>t?16:t,Ua===null)var n=!1;else{if(t=Ua,Ua=null,Zh=0,st&6)throw Error(re(331));var a=st;for(st|=4,Se=t.current;Se!==null;){var i=Se,o=i.child;if(Se.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Se=d;Se!==null;){var u=Se;switch(u.tag){case 0:case 11:case 15:hd(8,u,i)}var h=u.child;if(h!==null)h.return=u,Se=h;else for(;Se!==null;){u=Se;var f=u.sibling,x=u.return;if(m_(u),u===d){Se=null;break}if(f!==null){f.return=x,Se=f;break}Se=x}}}var g=i.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var p=v.sibling;v.sibling=null,v=p}while(v!==null)}}Se=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Se=o;else e:for(;Se!==null;){if(i=Se,i.flags&2048)switch(i.tag){case 0:case 11:case 15:hd(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Se=y;break e}Se=i.return}}var j=t.current;for(Se=j;Se!==null;){o=Se;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Se=w;else e:for(o=j;Se!==null;){if(l=Se,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:zm(9,l)}}catch(N){Ht(l,l.return,N)}if(l===o){Se=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,Se=b;break e}Se=l.return}}if(st=a,ui(),Nn&&typeof Nn.onPostCommitFiberRoot=="function")try{Nn.onPostCommitFiberRoot(Om,t)}catch{}n=!0}return n}finally{ft=r,Rr.transition=s}}return!1}function U0(t,s,r){s=Ol(r,s),s=s_(t,s,1),t=Ha(t,s,1),s=Vs(),t!==null&&(Xd(t,1,s),or(t,s))}function Ht(t,s,r){if(t.tag===3)U0(t,t,r);else for(;s!==null;){if(s.tag===3){U0(s,t,r);break}else if(s.tag===1){var n=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Wa===null||!Wa.has(n))){t=Ol(r,t),t=r_(s,t,1),s=Ha(s,t,1),t=Vs(),s!==null&&(Xd(s,1,t),or(s,t));break}}s=s.return}}function N5(t,s,r){var n=t.pingCache;n!==null&&n.delete(s),s=Vs(),t.pingedLanes|=t.suspendedLanes&r,ys===t&&(ws&r)===r&&(xs===4||xs===3&&(ws&130023424)===ws&&500>es()-Hv?Ui(t,0):qv|=r),or(t,s)}function N_(t,s){s===0&&(t.mode&1?(s=Lu,Lu<<=1,!(Lu&130023424)&&(Lu=4194304)):s=1);var r=Vs();t=na(t,s),t!==null&&(Xd(t,s,r),or(t,r))}function _5(t){var s=t.memoizedState,r=0;s!==null&&(r=s.retryLane),N_(t,r)}function S5(t,s){var r=0;switch(t.tag){case 13:var n=t.stateNode,a=t.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(re(314))}n!==null&&n.delete(s),N_(t,r)}var __;__=function(t,s,r){if(t!==null)if(t.memoizedProps!==s.pendingProps||ar.current)sr=!0;else{if(!(t.lanes&r)&&!(s.flags&128))return sr=!1,h5(t,s,r);sr=!!(t.flags&131072)}else sr=!1,Ft&&s.flags&1048576&&E1(s,zh,s.index);switch(s.lanes=0,s.tag){case 2:var n=s.type;xh(t,s),t=s.pendingProps;var a=Tl(s,Rs.current);cl(s,r),a=Fv(null,s,n,t,a,r);var i=$v();return s.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,ir(n)?(i=!0,$h(s)):i=!1,s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Ov(s),a.updater=Um,s.stateNode=a,a._reactInternals=s,Rp(s,n,t,r),s=Dp(null,s,n,!0,i,r)):(s.tag=0,Ft&&i&&kv(s),Fs(null,s,a,r),s=s.child),s;case 16:n=s.elementType;e:{switch(xh(t,s),t=s.pendingProps,a=n._init,n=a(n._payload),s.type=n,a=s.tag=C5(n),t=Vr(n,t),a){case 0:s=Ip(null,s,n,t,r);break e;case 1:s=P0(null,s,n,t,r);break e;case 11:s=E0(null,s,n,t,r);break e;case 14:s=T0(null,s,n,Vr(n.type,t),r);break e}throw Error(re(306,n,""))}return s;case 0:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:Vr(n,a),Ip(t,s,n,a,r);case 1:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:Vr(n,a),P0(t,s,n,a,r);case 3:e:{if(o_(s),t===null)throw Error(re(387));n=s.pendingProps,i=s.memoizedState,a=i.element,I1(t,s),qh(s,n,null,r);var o=s.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},s.updateQueue.baseState=i,s.memoizedState=i,s.flags&256){a=Ol(Error(re(423)),s),s=A0(t,s,n,r,a);break e}else if(n!==a){a=Ol(Error(re(424)),s),s=A0(t,s,n,r,a);break e}else for(xr=qa(s.stateNode.containerInfo.firstChild),vr=s,Ft=!0,Kr=null,r=R1(s,null,n,r),s.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Pl(),n===a){s=aa(t,s,r);break e}Fs(t,s,n,r)}s=s.child}return s;case 5:return D1(s),t===null&&Tp(s),n=s.type,a=s.pendingProps,i=t!==null?t.memoizedProps:null,o=a.children,_p(n,a)?o=null:i!==null&&_p(n,i)&&(s.flags|=32),i_(t,s),Fs(t,s,o,r),s.child;case 6:return t===null&&Tp(s),null;case 13:return l_(t,s,r);case 4:return Iv(s,s.stateNode.containerInfo),n=s.pendingProps,t===null?s.child=Al(s,null,n,r):Fs(t,s,n,r),s.child;case 11:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:Vr(n,a),E0(t,s,n,a,r);case 7:return Fs(t,s,s.pendingProps,r),s.child;case 8:return Fs(t,s,s.pendingProps.children,r),s.child;case 12:return Fs(t,s,s.pendingProps.children,r),s.child;case 10:e:{if(n=s.type._context,a=s.pendingProps,i=s.memoizedProps,o=a.value,St(Vh,n._currentValue),n._currentValue=o,i!==null)if(nn(i.value,o)){if(i.children===a.children&&!ar.current){s=aa(t,s,r);break e}}else for(i=s.child,i!==null&&(i.return=s);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Xn(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Pp(i.return,r,s),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===s.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(re(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Pp(o,r,s),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===s){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Fs(t,s,a.children,r),s=s.child}return s;case 9:return a=s.type,n=s.pendingProps.children,cl(s,r),a=Dr(a),n=n(a),s.flags|=1,Fs(t,s,n,r),s.child;case 14:return n=s.type,a=Vr(n,s.pendingProps),a=Vr(n.type,a),T0(t,s,n,a,r);case 15:return n_(t,s,s.type,s.pendingProps,r);case 17:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:Vr(n,a),xh(t,s),s.tag=1,ir(n)?(t=!0,$h(s)):t=!1,cl(s,r),t_(s,n,a),Rp(s,n,a,r),Dp(null,s,n,!0,t,r);case 19:return c_(t,s,r);case 22:return a_(t,s,r)}throw Error(re(156,s.tag))};function S_(t,s){return XN(t,s)}function k5(t,s,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pr(t,s,r,n){return new k5(t,s,r,n)}function Qv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function C5(t){if(typeof t=="function")return Qv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===fv)return 11;if(t===xv)return 14}return 2}function Ga(t,s){var r=t.alternate;return r===null?(r=Pr(t.tag,s,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=s,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,s=t.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function vh(t,s,r,n,a,i){var o=2;if(n=t,typeof t=="function")Qv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Wo:return zi(r.children,a,i,s);case mv:o=8,a|=8;break;case sp:return t=Pr(12,r,s,a|2),t.elementType=sp,t.lanes=i,t;case rp:return t=Pr(13,r,s,a),t.elementType=rp,t.lanes=i,t;case np:return t=Pr(19,r,s,a),t.elementType=np,t.lanes=i,t;case DN:return Bm(r,a,i,s);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ON:o=10;break e;case IN:o=9;break e;case fv:o=11;break e;case xv:o=14;break e;case wa:o=16,n=null;break e}throw Error(re(130,t==null?t:typeof t,""))}return s=Pr(o,r,s,a),s.elementType=t,s.type=n,s.lanes=i,s}function zi(t,s,r,n){return t=Pr(7,t,n,s),t.lanes=r,t}function Bm(t,s,r,n){return t=Pr(22,t,n,s),t.elementType=DN,t.lanes=r,t.stateNode={isHidden:!1},t}function bx(t,s,r){return t=Pr(6,t,null,s),t.lanes=r,t}function Nx(t,s,r){return s=Pr(4,t.children!==null?t.children:[],t.key,s),s.lanes=r,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}function E5(t,s,r,n,a){this.tag=s,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rx(0),this.expirationTimes=rx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rx(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Zv(t,s,r,n,a,i,o,l,c){return t=new E5(t,s,r,l,c),s===1?(s=1,i===!0&&(s|=8)):s=0,i=Pr(3,null,null,s),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ov(i),t}function T5(t,s,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ho,key:n==null?null:""+n,children:t,containerInfo:s,implementation:r}}function k_(t){if(!t)return Ja;t=t._reactInternals;e:{if(mo(t)!==t||t.tag!==1)throw Error(re(170));var s=t;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(ir(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(re(171))}if(t.tag===1){var r=t.type;if(ir(r))return k1(t,r,s)}return s}function C_(t,s,r,n,a,i,o,l,c){return t=Zv(r,n,!0,t,a,i,o,l,c),t.context=k_(null),r=t.current,n=Vs(),a=Ka(r),i=Xn(n,a),i.callback=s??null,Ha(r,i,a),t.current.lanes=a,Xd(t,a,n),or(t,n),t}function qm(t,s,r,n){var a=s.current,i=Vs(),o=Ka(a);return r=k_(r),s.context===null?s.context=r:s.pendingContext=r,s=Xn(i,o),s.payload={element:t},n=n===void 0?null:n,n!==null&&(s.callback=n),t=Ha(a,s,o),t!==null&&(en(t,a,o,i),hh(t,a,o)),o}function Xh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function z0(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<s?r:s}}function Yv(t,s){z0(t,s),(t=t.alternate)&&z0(t,s)}function P5(){return null}var E_=typeof reportError=="function"?reportError:function(t){console.error(t)};function Xv(t){this._internalRoot=t}Hm.prototype.render=Xv.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(re(409));qm(t,s,null,null)};Hm.prototype.unmount=Xv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Zi(function(){qm(null,t,null,null)}),s[ra]=null}};function Hm(t){this._internalRoot=t}Hm.prototype.unstable_scheduleHydration=function(t){if(t){var s=a1();t={blockedOn:null,target:t,priority:s};for(var r=0;r<Sa.length&&s!==0&&s<Sa[r].priority;r++);Sa.splice(r,0,t),r===0&&o1(t)}};function Jv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Wm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function V0(){}function A5(t,s,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var d=Xh(o);i.call(d)}}var o=C_(s,n,t,0,null,!1,!1,"",V0);return t._reactRootContainer=o,t[ra]=o.current,Ed(t.nodeType===8?t.parentNode:t),Zi(),o}for(;a=t.lastChild;)t.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var d=Xh(c);l.call(d)}}var c=Zv(t,0,!1,null,null,!1,!1,"",V0);return t._reactRootContainer=c,t[ra]=c.current,Ed(t.nodeType===8?t.parentNode:t),Zi(function(){qm(s,c,r,n)}),c}function Km(t,s,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=Xh(o);l.call(c)}}qm(s,o,t,a)}else o=A5(r,s,t,a,n);return Xh(o)}r1=function(t){switch(t.tag){case 3:var s=t.stateNode;if(s.current.memoizedState.isDehydrated){var r=Gc(s.pendingLanes);r!==0&&(vv(s,r|1),or(s,es()),!(st&6)&&(Il=es()+500,ui()))}break;case 13:Zi(function(){var n=na(t,1);if(n!==null){var a=Vs();en(n,t,1,a)}}),Yv(t,1)}};yv=function(t){if(t.tag===13){var s=na(t,134217728);if(s!==null){var r=Vs();en(s,t,134217728,r)}Yv(t,134217728)}};n1=function(t){if(t.tag===13){var s=Ka(t),r=na(t,s);if(r!==null){var n=Vs();en(r,t,s,n)}Yv(t,s)}};a1=function(){return ft};i1=function(t,s){var r=ft;try{return ft=t,s()}finally{ft=r}};fp=function(t,s,r){switch(s){case"input":if(op(t,r),s=r.name,r.type==="radio"&&s!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<r.length;s++){var n=r[s];if(n!==t&&n.form===t.form){var a=Mm(n);if(!a)throw Error(re(90));MN(n),op(n,a)}}}break;case"textarea":$N(t,r);break;case"select":s=r.value,s!=null&&al(t,!!r.multiple,s,!1)}};WN=Wv;KN=Zi;var R5={usingClientEntryPoint:!1,Events:[eu,Zo,Mm,qN,HN,Wv]},Mc={findFiberByHostInstance:ki,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},O5={bundleType:Mc.bundleType,version:Mc.version,rendererPackageName:Mc.rendererPackageName,rendererConfig:Mc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:da.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ZN(t),t===null?null:t.stateNode},findFiberByHostInstance:Mc.findFiberByHostInstance||P5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ku.isDisabled&&Ku.supportsFiber)try{Om=Ku.inject(O5),Nn=Ku}catch{}}Nr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R5;Nr.createPortal=function(t,s){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jv(s))throw Error(re(200));return T5(t,s,null,r)};Nr.createRoot=function(t,s){if(!Jv(t))throw Error(re(299));var r=!1,n="",a=E_;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(n=s.identifierPrefix),s.onRecoverableError!==void 0&&(a=s.onRecoverableError)),s=Zv(t,1,!1,null,null,r,!1,n,a),t[ra]=s.current,Ed(t.nodeType===8?t.parentNode:t),new Xv(s)};Nr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(re(188)):(t=Object.keys(t).join(","),Error(re(268,t)));return t=ZN(s),t=t===null?null:t.stateNode,t};Nr.flushSync=function(t){return Zi(t)};Nr.hydrate=function(t,s,r){if(!Wm(s))throw Error(re(200));return Km(null,t,s,!0,r)};Nr.hydrateRoot=function(t,s,r){if(!Jv(t))throw Error(re(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=E_;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),s=C_(s,null,t,1,r??null,a,!1,i,o),t[ra]=s.current,Ed(t),n)for(t=0;t<n.length;t++)r=n[t],a=r._getVersion,a=a(r._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[r,a]:s.mutableSourceEagerHydrationData.push(r,a);return new Hm(s)};Nr.render=function(t,s,r){if(!Wm(s))throw Error(re(200));return Km(null,t,s,!1,r)};Nr.unmountComponentAtNode=function(t){if(!Wm(t))throw Error(re(40));return t._reactRootContainer?(Zi(function(){Km(null,null,t,!1,function(){t._reactRootContainer=null,t[ra]=null})}),!0):!1};Nr.unstable_batchedUpdates=Wv;Nr.unstable_renderSubtreeIntoContainer=function(t,s,r,n){if(!Wm(r))throw Error(re(200));if(t==null||t._reactInternals===void 0)throw Error(re(38));return Km(t,s,r,!1,n)};Nr.version="18.3.1-next-f1338f8080-20240426";function T_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(T_)}catch(t){console.error(t)}}T_(),TN.exports=Nr;var fo=TN.exports;const I5=Xl(fo);var P_,B0=fo;P_=B0.createRoot,B0.hydrateRoot;var sc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Yi=typeof window>"u"||"Deno"in globalThis;function $s(){}function D5(t,s){return typeof t=="function"?t(s):t}function Kp(t){return typeof t=="number"&&t>=0&&t!==1/0}function A_(t,s){return Math.max(t+(s||0)-Date.now(),0)}function Qa(t,s){return typeof t=="function"?t(s):t}function Cr(t,s){return typeof t=="function"?t(s):t}function q0(t,s){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:l}=t;if(o){if(n){if(s.queryHash!==ey(o,s.options))return!1}else if(!Md(s.queryKey,o))return!1}if(r!=="all"){const c=s.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&s.isStale()!==l||a&&a!==s.state.fetchStatus||i&&!i(s))}function H0(t,s){const{exact:r,status:n,predicate:a,mutationKey:i}=t;if(i){if(!s.options.mutationKey)return!1;if(r){if(Xi(s.options.mutationKey)!==Xi(i))return!1}else if(!Md(s.options.mutationKey,i))return!1}return!(n&&s.state.status!==n||a&&!a(s))}function ey(t,s){return((s==null?void 0:s.queryKeyHashFn)||Xi)(t)}function Xi(t){return JSON.stringify(t,(s,r)=>Gp(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Md(t,s){return t===s?!0:typeof t!=typeof s?!1:t&&s&&typeof t=="object"&&typeof s=="object"?Object.keys(s).every(r=>Md(t[r],s[r])):!1}function R_(t,s){if(t===s)return t;const r=W0(t)&&W0(s);if(r||Gp(t)&&Gp(s)){const n=r?t:Object.keys(t),a=n.length,i=r?s:Object.keys(s),o=i.length,l=r?[]:{},c=new Set(n);let d=0;for(let u=0;u<o;u++){const h=r?u:i[u];(!r&&c.has(h)||r)&&t[h]===void 0&&s[h]===void 0?(l[h]=void 0,d++):(l[h]=R_(t[h],s[h]),l[h]===t[h]&&t[h]!==void 0&&d++)}return a===o&&d===a?t:l}return s}function Jh(t,s){if(!s||Object.keys(t).length!==Object.keys(s).length)return!1;for(const r in t)if(t[r]!==s[r])return!1;return!0}function W0(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Gp(t){if(!K0(t))return!1;const s=t.constructor;if(s===void 0)return!0;const r=s.prototype;return!(!K0(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function K0(t){return Object.prototype.toString.call(t)==="[object Object]"}function L5(t){return new Promise(s=>{setTimeout(s,t)})}function Qp(t,s,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,s):r.structuralSharing!==!1?R_(t,s):s}function M5(t,s,r=0){const n=[...t,s];return r&&n.length>r?n.slice(1):n}function F5(t,s,r=0){const n=[s,...t];return r&&n.length>r?n.slice(0,-1):n}var ty=Symbol();function O_(t,s){return!t.queryFn&&(s!=null&&s.initialPromise)?()=>s.initialPromise:!t.queryFn||t.queryFn===ty?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function I_(t,s){return typeof t=="function"?t(...s):!!t}var Ai,Ta,pl,oN,$5=(oN=class extends sc{constructor(){super();Le(this,Ai);Le(this,Ta);Le(this,pl);be(this,pl,s=>{if(!Yi&&window.addEventListener){const r=()=>s();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){F(this,Ta)||this.setEventListener(F(this,pl))}onUnsubscribe(){var s;this.hasListeners()||((s=F(this,Ta))==null||s.call(this),be(this,Ta,void 0))}setEventListener(s){var r;be(this,pl,s),(r=F(this,Ta))==null||r.call(this),be(this,Ta,s(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(s){F(this,Ai)!==s&&(be(this,Ai,s),this.onFocus())}onFocus(){const s=this.isFocused();this.listeners.forEach(r=>{r(s)})}isFocused(){var s;return typeof F(this,Ai)=="boolean"?F(this,Ai):((s=globalThis.document)==null?void 0:s.visibilityState)!=="hidden"}},Ai=new WeakMap,Ta=new WeakMap,pl=new WeakMap,oN),sy=new $5,gl,Pa,vl,lN,U5=(lN=class extends sc{constructor(){super();Le(this,gl,!0);Le(this,Pa);Le(this,vl);be(this,vl,s=>{if(!Yi&&window.addEventListener){const r=()=>s(!0),n=()=>s(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){F(this,Pa)||this.setEventListener(F(this,vl))}onUnsubscribe(){var s;this.hasListeners()||((s=F(this,Pa))==null||s.call(this),be(this,Pa,void 0))}setEventListener(s){var r;be(this,vl,s),(r=F(this,Pa))==null||r.call(this),be(this,Pa,s(this.setOnline.bind(this)))}setOnline(s){F(this,gl)!==s&&(be(this,gl,s),this.listeners.forEach(n=>{n(s)}))}isOnline(){return F(this,gl)}},gl=new WeakMap,Pa=new WeakMap,vl=new WeakMap,lN),em=new U5;function Zp(){let t,s;const r=new Promise((a,i)=>{t=a,s=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),t(a)},r.reject=a=>{n({status:"rejected",reason:a}),s(a)},r}function z5(t){return Math.min(1e3*2**t,3e4)}function D_(t){return(t??"online")==="online"?em.isOnline():!0}var L_=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function _x(t){return t instanceof L_}function M_(t){let s=!1,r=0,n=!1,a;const i=Zp(),o=v=>{var p;n||(f(new L_(v)),(p=t.abort)==null||p.call(t))},l=()=>{s=!0},c=()=>{s=!1},d=()=>sy.isFocused()&&(t.networkMode==="always"||em.isOnline())&&t.canRun(),u=()=>D_(t.networkMode)&&t.canRun(),h=v=>{var p;n||(n=!0,(p=t.onSuccess)==null||p.call(t,v),a==null||a(),i.resolve(v))},f=v=>{var p;n||(n=!0,(p=t.onError)==null||p.call(t,v),a==null||a(),i.reject(v))},x=()=>new Promise(v=>{var p;a=y=>{(n||d())&&v(y)},(p=t.onPause)==null||p.call(t)}).then(()=>{var v;a=void 0,n||(v=t.onContinue)==null||v.call(t)}),g=()=>{if(n)return;let v;const p=r===0?t.initialPromise:void 0;try{v=p??t.fn()}catch(y){v=Promise.reject(y)}Promise.resolve(v).then(h).catch(y=>{var _;if(n)return;const j=t.retry??(Yi?0:3),w=t.retryDelay??z5,b=typeof w=="function"?w(r,y):w,N=j===!0||typeof j=="number"&&r<j||typeof j=="function"&&j(r,y);if(s||!N){f(y);return}r++,(_=t.onFail)==null||_.call(t,r,y),L5(b).then(()=>d()?void 0:x()).then(()=>{s?f(y):g()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?g():x().then(g),i)}}var V5=t=>setTimeout(t,0);function B5(){let t=[],s=0,r=l=>{l()},n=l=>{l()},a=V5;const i=l=>{s?t.push(l):a(()=>{r(l)})},o=()=>{const l=t;t=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;s++;try{c=l()}finally{s--,s||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var fs=B5(),Ri,cN,F_=(cN=class{constructor(){Le(this,Ri)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Kp(this.gcTime)&&be(this,Ri,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Yi?1/0:5*60*1e3))}clearGcTimeout(){F(this,Ri)&&(clearTimeout(F(this,Ri)),be(this,Ri,void 0))}},Ri=new WeakMap,cN),yl,Oi,kr,Ii,Ts,Kd,Di,Br,zn,dN,q5=(dN=class extends F_{constructor(s){super();Le(this,Br);Le(this,yl);Le(this,Oi);Le(this,kr);Le(this,Ii);Le(this,Ts);Le(this,Kd);Le(this,Di);be(this,Di,!1),be(this,Kd,s.defaultOptions),this.setOptions(s.options),this.observers=[],be(this,Ii,s.client),be(this,kr,F(this,Ii).getQueryCache()),this.queryKey=s.queryKey,this.queryHash=s.queryHash,be(this,yl,H5(this.options)),this.state=s.state??F(this,yl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var s;return(s=F(this,Ts))==null?void 0:s.promise}setOptions(s){this.options={...F(this,Kd),...s},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&F(this,kr).remove(this)}setData(s,r){const n=Qp(this.state.data,s,this.options);return Ke(this,Br,zn).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(s,r){Ke(this,Br,zn).call(this,{type:"setState",state:s,setStateOptions:r})}cancel(s){var n,a;const r=(n=F(this,Ts))==null?void 0:n.promise;return(a=F(this,Ts))==null||a.cancel(s),r?r.then($s).catch($s):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(F(this,yl))}isActive(){return this.observers.some(s=>Cr(s.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ty||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(s=>Qa(s.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(s=>s.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(s=0){return this.state.data===void 0?!0:s==="static"?!1:this.state.isInvalidated?!0:!A_(this.state.dataUpdatedAt,s)}onFocus(){var r;const s=this.observers.find(n=>n.shouldFetchOnWindowFocus());s==null||s.refetch({cancelRefetch:!1}),(r=F(this,Ts))==null||r.continue()}onOnline(){var r;const s=this.observers.find(n=>n.shouldFetchOnReconnect());s==null||s.refetch({cancelRefetch:!1}),(r=F(this,Ts))==null||r.continue()}addObserver(s){this.observers.includes(s)||(this.observers.push(s),this.clearGcTimeout(),F(this,kr).notify({type:"observerAdded",query:this,observer:s}))}removeObserver(s){this.observers.includes(s)&&(this.observers=this.observers.filter(r=>r!==s),this.observers.length||(F(this,Ts)&&(F(this,Di)?F(this,Ts).cancel({revert:!0}):F(this,Ts).cancelRetry()),this.scheduleGc()),F(this,kr).notify({type:"observerRemoved",query:this,observer:s}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ke(this,Br,zn).call(this,{type:"invalidate"})}fetch(s,r){var d,u,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(F(this,Ts))return F(this,Ts).continueRetry(),F(this,Ts).promise}if(s&&this.setOptions(s),!this.options.queryFn){const f=this.observers.find(x=>x.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,a=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(be(this,Di,!0),n.signal)})},i=()=>{const f=O_(this.options,r),g=(()=>{const v={client:F(this,Ii),queryKey:this.queryKey,meta:this.meta};return a(v),v})();return be(this,Di,!1),this.options.persister?this.options.persister(f,g,this):f(g)},l=(()=>{const f={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:F(this,Ii),state:this.state,fetchFn:i};return a(f),f})();(d=this.options.behavior)==null||d.onFetch(l,this),be(this,Oi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=l.fetchOptions)==null?void 0:u.meta))&&Ke(this,Br,zn).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta});const c=f=>{var x,g,v,p;_x(f)&&f.silent||Ke(this,Br,zn).call(this,{type:"error",error:f}),_x(f)||((g=(x=F(this,kr).config).onError)==null||g.call(x,f,this),(p=(v=F(this,kr).config).onSettled)==null||p.call(v,this.state.data,f,this)),this.scheduleGc()};return be(this,Ts,M_({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var x,g,v,p;if(f===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(y){c(y);return}(g=(x=F(this,kr).config).onSuccess)==null||g.call(x,f,this),(p=(v=F(this,kr).config).onSettled)==null||p.call(v,f,this.state.error,this),this.scheduleGc()},onError:c,onFail:(f,x)=>{Ke(this,Br,zn).call(this,{type:"failed",failureCount:f,error:x})},onPause:()=>{Ke(this,Br,zn).call(this,{type:"pause"})},onContinue:()=>{Ke(this,Br,zn).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),F(this,Ts).start()}},yl=new WeakMap,Oi=new WeakMap,kr=new WeakMap,Ii=new WeakMap,Ts=new WeakMap,Kd=new WeakMap,Di=new WeakMap,Br=new WeakSet,zn=function(s){const r=n=>{switch(s.type){case"failed":return{...n,fetchFailureCount:s.failureCount,fetchFailureReason:s.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...$_(n.data,this.options),fetchMeta:s.meta??null};case"success":return be(this,Oi,void 0),{...n,data:s.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:s.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!s.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=s.error;return _x(a)&&a.revert&&F(this,Oi)?{...F(this,Oi),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...s.state}}};this.state=r(this.state),fs.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),F(this,kr).notify({query:this,type:"updated",action:s})})},dN);function $_(t,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:D_(s.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function H5(t){const s=typeof t.initialData=="function"?t.initialData():t.initialData,r=s!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var mn,uN,W5=(uN=class extends sc{constructor(s={}){super();Le(this,mn);this.config=s,be(this,mn,new Map)}build(s,r,n){const a=r.queryKey,i=r.queryHash??ey(a,r);let o=this.get(i);return o||(o=new q5({client:s,queryKey:a,queryHash:i,options:s.defaultQueryOptions(r),state:n,defaultOptions:s.getQueryDefaults(a)}),this.add(o)),o}add(s){F(this,mn).has(s.queryHash)||(F(this,mn).set(s.queryHash,s),this.notify({type:"added",query:s}))}remove(s){const r=F(this,mn).get(s.queryHash);r&&(s.destroy(),r===s&&F(this,mn).delete(s.queryHash),this.notify({type:"removed",query:s}))}clear(){fs.batch(()=>{this.getAll().forEach(s=>{this.remove(s)})})}get(s){return F(this,mn).get(s)}getAll(){return[...F(this,mn).values()]}find(s){const r={exact:!0,...s};return this.getAll().find(n=>q0(r,n))}findAll(s={}){const r=this.getAll();return Object.keys(s).length>0?r.filter(n=>q0(s,n)):r}notify(s){fs.batch(()=>{this.listeners.forEach(r=>{r(s)})})}onFocus(){fs.batch(()=>{this.getAll().forEach(s=>{s.onFocus()})})}onOnline(){fs.batch(()=>{this.getAll().forEach(s=>{s.onOnline()})})}},mn=new WeakMap,uN),fn,Ls,Li,xn,va,hN,K5=(hN=class extends F_{constructor(s){super();Le(this,xn);Le(this,fn);Le(this,Ls);Le(this,Li);this.mutationId=s.mutationId,be(this,Ls,s.mutationCache),be(this,fn,[]),this.state=s.state||U_(),this.setOptions(s.options),this.scheduleGc()}setOptions(s){this.options=s,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(s){F(this,fn).includes(s)||(F(this,fn).push(s),this.clearGcTimeout(),F(this,Ls).notify({type:"observerAdded",mutation:this,observer:s}))}removeObserver(s){be(this,fn,F(this,fn).filter(r=>r!==s)),this.scheduleGc(),F(this,Ls).notify({type:"observerRemoved",mutation:this,observer:s})}optionalRemove(){F(this,fn).length||(this.state.status==="pending"?this.scheduleGc():F(this,Ls).remove(this))}continue(){var s;return((s=F(this,Li))==null?void 0:s.continue())??this.execute(this.state.variables)}async execute(s){var i,o,l,c,d,u,h,f,x,g,v,p,y,j,w,b,N,_,P,A;const r=()=>{Ke(this,xn,va).call(this,{type:"continue"})};be(this,Li,M_({fn:()=>this.options.mutationFn?this.options.mutationFn(s):Promise.reject(new Error("No mutationFn found")),onFail:(k,T)=>{Ke(this,xn,va).call(this,{type:"failed",failureCount:k,error:T})},onPause:()=>{Ke(this,xn,va).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>F(this,Ls).canRun(this)}));const n=this.state.status==="pending",a=!F(this,Li).canStart();try{if(n)r();else{Ke(this,xn,va).call(this,{type:"pending",variables:s,isPaused:a}),await((o=(i=F(this,Ls).config).onMutate)==null?void 0:o.call(i,s,this));const T=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,s));T!==this.state.context&&Ke(this,xn,va).call(this,{type:"pending",context:T,variables:s,isPaused:a})}const k=await F(this,Li).start();return await((u=(d=F(this,Ls).config).onSuccess)==null?void 0:u.call(d,k,s,this.state.context,this)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,k,s,this.state.context)),await((g=(x=F(this,Ls).config).onSettled)==null?void 0:g.call(x,k,null,this.state.variables,this.state.context,this)),await((p=(v=this.options).onSettled)==null?void 0:p.call(v,k,null,s,this.state.context)),Ke(this,xn,va).call(this,{type:"success",data:k}),k}catch(k){try{throw await((j=(y=F(this,Ls).config).onError)==null?void 0:j.call(y,k,s,this.state.context,this)),await((b=(w=this.options).onError)==null?void 0:b.call(w,k,s,this.state.context)),await((_=(N=F(this,Ls).config).onSettled)==null?void 0:_.call(N,void 0,k,this.state.variables,this.state.context,this)),await((A=(P=this.options).onSettled)==null?void 0:A.call(P,void 0,k,s,this.state.context)),k}finally{Ke(this,xn,va).call(this,{type:"error",error:k})}}finally{F(this,Ls).runNext(this)}}},fn=new WeakMap,Ls=new WeakMap,Li=new WeakMap,xn=new WeakSet,va=function(s){const r=n=>{switch(s.type){case"failed":return{...n,failureCount:s.failureCount,failureReason:s.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:s.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:s.isPaused,status:"pending",variables:s.variables,submittedAt:Date.now()};case"success":return{...n,data:s.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:s.error,failureCount:n.failureCount+1,failureReason:s.error,isPaused:!1,status:"error"}}};this.state=r(this.state),fs.batch(()=>{F(this,fn).forEach(n=>{n.onMutationUpdate(s)}),F(this,Ls).notify({mutation:this,type:"updated",action:s})})},hN);function U_(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Wn,qr,Gd,mN,G5=(mN=class extends sc{constructor(s={}){super();Le(this,Wn);Le(this,qr);Le(this,Gd);this.config=s,be(this,Wn,new Set),be(this,qr,new Map),be(this,Gd,0)}build(s,r,n){const a=new K5({mutationCache:this,mutationId:++Pu(this,Gd)._,options:s.defaultMutationOptions(r),state:n});return this.add(a),a}add(s){F(this,Wn).add(s);const r=Gu(s);if(typeof r=="string"){const n=F(this,qr).get(r);n?n.push(s):F(this,qr).set(r,[s])}this.notify({type:"added",mutation:s})}remove(s){if(F(this,Wn).delete(s)){const r=Gu(s);if(typeof r=="string"){const n=F(this,qr).get(r);if(n)if(n.length>1){const a=n.indexOf(s);a!==-1&&n.splice(a,1)}else n[0]===s&&F(this,qr).delete(r)}}this.notify({type:"removed",mutation:s})}canRun(s){const r=Gu(s);if(typeof r=="string"){const n=F(this,qr).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===s}else return!0}runNext(s){var n;const r=Gu(s);if(typeof r=="string"){const a=(n=F(this,qr).get(r))==null?void 0:n.find(i=>i!==s&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){fs.batch(()=>{F(this,Wn).forEach(s=>{this.notify({type:"removed",mutation:s})}),F(this,Wn).clear(),F(this,qr).clear()})}getAll(){return Array.from(F(this,Wn))}find(s){const r={exact:!0,...s};return this.getAll().find(n=>H0(r,n))}findAll(s={}){return this.getAll().filter(r=>H0(s,r))}notify(s){fs.batch(()=>{this.listeners.forEach(r=>{r(s)})})}resumePausedMutations(){const s=this.getAll().filter(r=>r.state.isPaused);return fs.batch(()=>Promise.all(s.map(r=>r.continue().catch($s))))}},Wn=new WeakMap,qr=new WeakMap,Gd=new WeakMap,mN);function Gu(t){var s;return(s=t.options.scope)==null?void 0:s.id}function G0(t){return{onFetch:(s,r)=>{var u,h,f,x,g;const n=s.options,a=(f=(h=(u=s.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((x=s.state.data)==null?void 0:x.pages)||[],o=((g=s.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let v=!1;const p=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(s.signal.aborted?v=!0:s.signal.addEventListener("abort",()=>{v=!0}),s.signal)})},y=O_(s.options,s.fetchOptions),j=async(w,b,N)=>{if(v)return Promise.reject();if(b==null&&w.pages.length)return Promise.resolve(w);const P=(()=>{const S={client:s.client,queryKey:s.queryKey,pageParam:b,direction:N?"backward":"forward",meta:s.options.meta};return p(S),S})(),A=await y(P),{maxPages:k}=s.options,T=N?F5:M5;return{pages:T(w.pages,A,k),pageParams:T(w.pageParams,b,k)}};if(a&&i.length){const w=a==="backward",b=w?Q5:Q0,N={pages:i,pageParams:o},_=b(n,N);l=await j(N,_,w)}else{const w=t??i.length;do{const b=c===0?o[0]??n.initialPageParam:Q0(n,l);if(c>0&&b==null)break;l=await j(l,b),c++}while(c<w)}return l};s.options.persister?s.fetchFn=()=>{var v,p;return(p=(v=s.options).persister)==null?void 0:p.call(v,d,{client:s.client,queryKey:s.queryKey,meta:s.options.meta,signal:s.signal},r)}:s.fetchFn=d}}}function Q0(t,{pages:s,pageParams:r}){const n=s.length-1;return s.length>0?t.getNextPageParam(s[n],s,r[n],r):void 0}function Q5(t,{pages:s,pageParams:r}){var n;return s.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,s[0],s,r[0],r):void 0}var qt,Aa,Ra,jl,wl,Oa,bl,Nl,fN,z_=(fN=class{constructor(t={}){Le(this,qt);Le(this,Aa);Le(this,Ra);Le(this,jl);Le(this,wl);Le(this,Oa);Le(this,bl);Le(this,Nl);be(this,qt,t.queryCache||new W5),be(this,Aa,t.mutationCache||new G5),be(this,Ra,t.defaultOptions||{}),be(this,jl,new Map),be(this,wl,new Map),be(this,Oa,0)}mount(){Pu(this,Oa)._++,F(this,Oa)===1&&(be(this,bl,sy.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,qt).onFocus())})),be(this,Nl,em.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,qt).onOnline())})))}unmount(){var t,s;Pu(this,Oa)._--,F(this,Oa)===0&&((t=F(this,bl))==null||t.call(this),be(this,bl,void 0),(s=F(this,Nl))==null||s.call(this),be(this,Nl,void 0))}isFetching(t){return F(this,qt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return F(this,Aa).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const s=this.defaultQueryOptions({queryKey:t});return(r=F(this,qt).get(s.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const s=this.defaultQueryOptions(t),r=F(this,qt).build(this,s),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Qa(s.staleTime,r))&&this.prefetchQuery(s),Promise.resolve(n))}getQueriesData(t){return F(this,qt).findAll(t).map(({queryKey:s,state:r})=>{const n=r.data;return[s,n]})}setQueryData(t,s,r){const n=this.defaultQueryOptions({queryKey:t}),a=F(this,qt).get(n.queryHash),i=a==null?void 0:a.state.data,o=D5(s,i);if(o!==void 0)return F(this,qt).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,s,r){return fs.batch(()=>F(this,qt).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,s,r)]))}getQueryState(t){var r;const s=this.defaultQueryOptions({queryKey:t});return(r=F(this,qt).get(s.queryHash))==null?void 0:r.state}removeQueries(t){const s=F(this,qt);fs.batch(()=>{s.findAll(t).forEach(r=>{s.remove(r)})})}resetQueries(t,s){const r=F(this,qt);return fs.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},s)))}cancelQueries(t,s={}){const r={revert:!0,...s},n=fs.batch(()=>F(this,qt).findAll(t).map(a=>a.cancel(r)));return Promise.all(n).then($s).catch($s)}invalidateQueries(t,s={}){return fs.batch(()=>(F(this,qt).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},s)))}refetchQueries(t,s={}){const r={...s,cancelRefetch:s.cancelRefetch??!0},n=fs.batch(()=>F(this,qt).findAll(t).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch($s)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then($s)}fetchQuery(t){const s=this.defaultQueryOptions(t);s.retry===void 0&&(s.retry=!1);const r=F(this,qt).build(this,s);return r.isStaleByTime(Qa(s.staleTime,r))?r.fetch(s):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then($s).catch($s)}fetchInfiniteQuery(t){return t.behavior=G0(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then($s).catch($s)}ensureInfiniteQueryData(t){return t.behavior=G0(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return em.isOnline()?F(this,Aa).resumePausedMutations():Promise.resolve()}getQueryCache(){return F(this,qt)}getMutationCache(){return F(this,Aa)}getDefaultOptions(){return F(this,Ra)}setDefaultOptions(t){be(this,Ra,t)}setQueryDefaults(t,s){F(this,jl).set(Xi(t),{queryKey:t,defaultOptions:s})}getQueryDefaults(t){const s=[...F(this,jl).values()],r={};return s.forEach(n=>{Md(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,s){F(this,wl).set(Xi(t),{mutationKey:t,defaultOptions:s})}getMutationDefaults(t){const s=[...F(this,wl).values()],r={};return s.forEach(n=>{Md(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const s={...F(this,Ra).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return s.queryHash||(s.queryHash=ey(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.queryFn===ty&&(s.enabled=!1),s}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...F(this,Ra).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){F(this,qt).clear(),F(this,Aa).clear()}},qt=new WeakMap,Aa=new WeakMap,Ra=new WeakMap,jl=new WeakMap,wl=new WeakMap,Oa=new WeakMap,bl=new WeakMap,Nl=new WeakMap,fN),Ys,et,Qd,Ms,Mi,_l,Ia,Da,Zd,Sl,kl,Fi,$i,La,Cl,ut,Zc,Yp,Xp,Jp,eg,tg,sg,rg,V_,xN,Z5=(xN=class extends sc{constructor(s,r){super();Le(this,ut);Le(this,Ys);Le(this,et);Le(this,Qd);Le(this,Ms);Le(this,Mi);Le(this,_l);Le(this,Ia);Le(this,Da);Le(this,Zd);Le(this,Sl);Le(this,kl);Le(this,Fi);Le(this,$i);Le(this,La);Le(this,Cl,new Set);this.options=r,be(this,Ys,s),be(this,Da,null),be(this,Ia,Zp()),this.options.experimental_prefetchInRender||F(this,Ia).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(F(this,et).addObserver(this),Z0(F(this,et),this.options)?Ke(this,ut,Zc).call(this):this.updateResult(),Ke(this,ut,eg).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ng(F(this,et),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ng(F(this,et),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ke(this,ut,tg).call(this),Ke(this,ut,sg).call(this),F(this,et).removeObserver(this)}setOptions(s){const r=this.options,n=F(this,et);if(this.options=F(this,Ys).defaultQueryOptions(s),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Cr(this.options.enabled,F(this,et))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ke(this,ut,rg).call(this),F(this,et).setOptions(this.options),r._defaulted&&!Jh(this.options,r)&&F(this,Ys).getQueryCache().notify({type:"observerOptionsUpdated",query:F(this,et),observer:this});const a=this.hasListeners();a&&Y0(F(this,et),n,this.options,r)&&Ke(this,ut,Zc).call(this),this.updateResult(),a&&(F(this,et)!==n||Cr(this.options.enabled,F(this,et))!==Cr(r.enabled,F(this,et))||Qa(this.options.staleTime,F(this,et))!==Qa(r.staleTime,F(this,et)))&&Ke(this,ut,Yp).call(this);const i=Ke(this,ut,Xp).call(this);a&&(F(this,et)!==n||Cr(this.options.enabled,F(this,et))!==Cr(r.enabled,F(this,et))||i!==F(this,La))&&Ke(this,ut,Jp).call(this,i)}getOptimisticResult(s){const r=F(this,Ys).getQueryCache().build(F(this,Ys),s),n=this.createResult(r,s);return X5(this,n)&&(be(this,Ms,n),be(this,_l,this.options),be(this,Mi,F(this,et).state)),n}getCurrentResult(){return F(this,Ms)}trackResult(s,r){return new Proxy(s,{get:(n,a)=>(this.trackProp(a),r==null||r(a),Reflect.get(n,a))})}trackProp(s){F(this,Cl).add(s)}getCurrentQuery(){return F(this,et)}refetch({...s}={}){return this.fetch({...s})}fetchOptimistic(s){const r=F(this,Ys).defaultQueryOptions(s),n=F(this,Ys).getQueryCache().build(F(this,Ys),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(s){return Ke(this,ut,Zc).call(this,{...s,cancelRefetch:s.cancelRefetch??!0}).then(()=>(this.updateResult(),F(this,Ms)))}createResult(s,r){var k;const n=F(this,et),a=this.options,i=F(this,Ms),o=F(this,Mi),l=F(this,_l),d=s!==n?s.state:F(this,Qd),{state:u}=s;let h={...u},f=!1,x;if(r._optimisticResults){const T=this.hasListeners(),S=!T&&Z0(s,r),R=T&&Y0(s,n,r,a);(S||R)&&(h={...h,...$_(u.data,s.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:g,errorUpdatedAt:v,status:p}=h;x=h.data;let y=!1;if(r.placeholderData!==void 0&&x===void 0&&p==="pending"){let T;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(T=i.data,y=!0):T=typeof r.placeholderData=="function"?r.placeholderData((k=F(this,kl))==null?void 0:k.state.data,F(this,kl)):r.placeholderData,T!==void 0&&(p="success",x=Qp(i==null?void 0:i.data,T,r),f=!0)}if(r.select&&x!==void 0&&!y)if(i&&x===(o==null?void 0:o.data)&&r.select===F(this,Zd))x=F(this,Sl);else try{be(this,Zd,r.select),x=r.select(x),x=Qp(i==null?void 0:i.data,x,r),be(this,Sl,x),be(this,Da,null)}catch(T){be(this,Da,T)}F(this,Da)&&(g=F(this,Da),x=F(this,Sl),v=Date.now(),p="error");const j=h.fetchStatus==="fetching",w=p==="pending",b=p==="error",N=w&&j,_=x!==void 0,A={status:p,fetchStatus:h.fetchStatus,isPending:w,isSuccess:p==="success",isError:b,isInitialLoading:N,isLoading:N,data:x,dataUpdatedAt:h.dataUpdatedAt,error:g,errorUpdatedAt:v,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:j,isRefetching:j&&!w,isLoadingError:b&&!_,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:b&&_,isStale:ry(s,r),refetch:this.refetch,promise:F(this,Ia),isEnabled:Cr(r.enabled,s)!==!1};if(this.options.experimental_prefetchInRender){const T=B=>{A.status==="error"?B.reject(A.error):A.data!==void 0&&B.resolve(A.data)},S=()=>{const B=be(this,Ia,A.promise=Zp());T(B)},R=F(this,Ia);switch(R.status){case"pending":s.queryHash===n.queryHash&&T(R);break;case"fulfilled":(A.status==="error"||A.data!==R.value)&&S();break;case"rejected":(A.status!=="error"||A.error!==R.reason)&&S();break}}return A}updateResult(){const s=F(this,Ms),r=this.createResult(F(this,et),this.options);if(be(this,Mi,F(this,et).state),be(this,_l,this.options),F(this,Mi).data!==void 0&&be(this,kl,F(this,et)),Jh(r,s))return;be(this,Ms,r);const n=()=>{if(!s)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!F(this,Cl).size)return!0;const o=new Set(i??F(this,Cl));return this.options.throwOnError&&o.add("error"),Object.keys(F(this,Ms)).some(l=>{const c=l;return F(this,Ms)[c]!==s[c]&&o.has(c)})};Ke(this,ut,V_).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ke(this,ut,eg).call(this)}},Ys=new WeakMap,et=new WeakMap,Qd=new WeakMap,Ms=new WeakMap,Mi=new WeakMap,_l=new WeakMap,Ia=new WeakMap,Da=new WeakMap,Zd=new WeakMap,Sl=new WeakMap,kl=new WeakMap,Fi=new WeakMap,$i=new WeakMap,La=new WeakMap,Cl=new WeakMap,ut=new WeakSet,Zc=function(s){Ke(this,ut,rg).call(this);let r=F(this,et).fetch(this.options,s);return s!=null&&s.throwOnError||(r=r.catch($s)),r},Yp=function(){Ke(this,ut,tg).call(this);const s=Qa(this.options.staleTime,F(this,et));if(Yi||F(this,Ms).isStale||!Kp(s))return;const n=A_(F(this,Ms).dataUpdatedAt,s)+1;be(this,Fi,setTimeout(()=>{F(this,Ms).isStale||this.updateResult()},n))},Xp=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(F(this,et)):this.options.refetchInterval)??!1},Jp=function(s){Ke(this,ut,sg).call(this),be(this,La,s),!(Yi||Cr(this.options.enabled,F(this,et))===!1||!Kp(F(this,La))||F(this,La)===0)&&be(this,$i,setInterval(()=>{(this.options.refetchIntervalInBackground||sy.isFocused())&&Ke(this,ut,Zc).call(this)},F(this,La)))},eg=function(){Ke(this,ut,Yp).call(this),Ke(this,ut,Jp).call(this,Ke(this,ut,Xp).call(this))},tg=function(){F(this,Fi)&&(clearTimeout(F(this,Fi)),be(this,Fi,void 0))},sg=function(){F(this,$i)&&(clearInterval(F(this,$i)),be(this,$i,void 0))},rg=function(){const s=F(this,Ys).getQueryCache().build(F(this,Ys),this.options);if(s===F(this,et))return;const r=F(this,et);be(this,et,s),be(this,Qd,s.state),this.hasListeners()&&(r==null||r.removeObserver(this),s.addObserver(this))},V_=function(s){fs.batch(()=>{s.listeners&&this.listeners.forEach(r=>{r(F(this,Ms))}),F(this,Ys).getQueryCache().notify({query:F(this,et),type:"observerResultsUpdated"})})},xN);function Y5(t,s){return Cr(s.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&s.retryOnMount===!1)}function Z0(t,s){return Y5(t,s)||t.state.data!==void 0&&ng(t,s,s.refetchOnMount)}function ng(t,s,r){if(Cr(s.enabled,t)!==!1&&Qa(s.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&ry(t,s)}return!1}function Y0(t,s,r,n){return(t!==s||Cr(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&ry(t,r)}function ry(t,s){return Cr(s.enabled,t)!==!1&&t.isStaleByTime(Qa(s.staleTime,t))}function X5(t,s){return!Jh(t.getCurrentResult(),s)}var Ma,Fa,Xs,Kn,ta,yh,ag,pN,J5=(pN=class extends sc{constructor(r,n){super();Le(this,ta);Le(this,Ma);Le(this,Fa);Le(this,Xs);Le(this,Kn);be(this,Ma,r),this.setOptions(n),this.bindMethods(),Ke(this,ta,yh).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=F(this,Ma).defaultMutationOptions(r),Jh(this.options,n)||F(this,Ma).getMutationCache().notify({type:"observerOptionsUpdated",mutation:F(this,Xs),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Xi(n.mutationKey)!==Xi(this.options.mutationKey)?this.reset():((a=F(this,Xs))==null?void 0:a.state.status)==="pending"&&F(this,Xs).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=F(this,Xs))==null||r.removeObserver(this)}onMutationUpdate(r){Ke(this,ta,yh).call(this),Ke(this,ta,ag).call(this,r)}getCurrentResult(){return F(this,Fa)}reset(){var r;(r=F(this,Xs))==null||r.removeObserver(this),be(this,Xs,void 0),Ke(this,ta,yh).call(this),Ke(this,ta,ag).call(this)}mutate(r,n){var a;return be(this,Kn,n),(a=F(this,Xs))==null||a.removeObserver(this),be(this,Xs,F(this,Ma).getMutationCache().build(F(this,Ma),this.options)),F(this,Xs).addObserver(this),F(this,Xs).execute(r)}},Ma=new WeakMap,Fa=new WeakMap,Xs=new WeakMap,Kn=new WeakMap,ta=new WeakSet,yh=function(){var n;const r=((n=F(this,Xs))==null?void 0:n.state)??U_();be(this,Fa,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},ag=function(r){fs.batch(()=>{var n,a,i,o,l,c,d,u;if(F(this,Kn)&&this.hasListeners()){const h=F(this,Fa).variables,f=F(this,Fa).context;(r==null?void 0:r.type)==="success"?((a=(n=F(this,Kn)).onSuccess)==null||a.call(n,r.data,h,f),(o=(i=F(this,Kn)).onSettled)==null||o.call(i,r.data,null,h,f)):(r==null?void 0:r.type)==="error"&&((c=(l=F(this,Kn)).onError)==null||c.call(l,r.error,h,f),(u=(d=F(this,Kn)).onSettled)==null||u.call(d,void 0,r.error,h,f))}this.listeners.forEach(h=>{h(F(this,Fa))})})},pN),B_=m.createContext(void 0),cs=t=>{const s=m.useContext(B_);if(!s)throw new Error("No QueryClient set, use QueryClientProvider to set one");return s},e6=({client:t,children:s})=>(m.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),e.jsx(B_.Provider,{value:t,children:s})),q_=m.createContext(!1),t6=()=>m.useContext(q_);q_.Provider;function s6(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var r6=m.createContext(s6()),n6=()=>m.useContext(r6),a6=(t,s)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(s.isReset()||(t.retryOnMount=!1))},i6=t=>{m.useEffect(()=>{t.clearReset()},[t])},o6=({result:t,errorResetBoundary:s,throwOnError:r,query:n,suspense:a})=>t.isError&&!s.isReset()&&!t.isFetching&&n&&(a&&t.data===void 0||I_(r,[t.error,n])),l6=t=>{if(t.suspense){const s=n=>n==="static"?n:Math.max(n??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...n)=>s(r(...n)):s(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},c6=(t,s)=>t.isLoading&&t.isFetching&&!s,d6=(t,s)=>(t==null?void 0:t.suspense)&&s.isPending,X0=(t,s,r)=>s.fetchOptimistic(t).catch(()=>{r.clearReset()});function u6(t,s,r){var h,f,x,g,v;const n=t6(),a=n6(),i=cs(),o=i.defaultQueryOptions(t);(f=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||f.call(h,o),o._optimisticResults=n?"isRestoring":"optimistic",l6(o),a6(o,a),i6(a);const l=!i.getQueryCache().get(o.queryHash),[c]=m.useState(()=>new s(i,o)),d=c.getOptimisticResult(o),u=!n&&t.subscribed!==!1;if(m.useSyncExternalStore(m.useCallback(p=>{const y=u?c.subscribe(fs.batchCalls(p)):$s;return c.updateResult(),y},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),m.useEffect(()=>{c.setOptions(o)},[o,c]),d6(o,d))throw X0(o,c,a);if(o6({result:d,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;if((g=(x=i.getDefaultOptions().queries)==null?void 0:x._experimental_afterQuery)==null||g.call(x,o,d),o.experimental_prefetchInRender&&!Yi&&c6(d,n)){const p=l?X0(o,c,a):(v=i.getQueryCache().get(o.queryHash))==null?void 0:v.promise;p==null||p.catch($s).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function _e(t,s){return u6(t,Z5)}function Me(t,s){const r=cs(),[n]=m.useState(()=>new J5(r,t));m.useEffect(()=>{n.setOptions(t)},[n,t]);const a=m.useSyncExternalStore(m.useCallback(o=>n.subscribe(fs.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=m.useCallback((o,l)=>{n.mutate(o,l).catch($s)},[n]);if(a.error&&I_(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}const h6="modulepreload",m6=function(t){return"/"+t},J0={},de=function(s,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=m6(c),c in J0)return;J0[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":h6,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((f,x)=>{h.addEventListener("load",f),h.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return s().catch(i)})},f6=t=>{let s;return t?s=t:typeof fetch>"u"?s=(...r)=>de(async()=>{const{default:n}=await Promise.resolve().then(()=>rc);return{default:n}},void 0).then(({default:n})=>n(...r)):s=fetch,(...r)=>s(...r)};class ny extends Error{constructor(s,r="FunctionsError",n){super(s),this.name=r,this.context=n}}class x6 extends ny{constructor(s){super("Failed to send a request to the Edge Function","FunctionsFetchError",s)}}class ew extends ny{constructor(s){super("Relay Error invoking the Edge Function","FunctionsRelayError",s)}}class tw extends ny{constructor(s){super("Edge Function returned a non-2xx status code","FunctionsHttpError",s)}}var ig;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ig||(ig={}));var p6=function(t,s,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(t,s||[])).next())})};class g6{constructor(s,{headers:r={},customFetch:n,region:a=ig.Any}={}){this.url=s,this.headers=r,this.region=a,this.fetch=f6(n)}setAuth(s){this.headers.Authorization=`Bearer ${s}`}invoke(s,r={}){var n;return p6(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region);const d=new URL(`${this.url}/${s}`);c&&c!=="any"&&(l["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let u;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const h=yield this.fetch(d.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:u}).catch(v=>{throw new x6(v)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new ew(h);if(!h.ok)throw new tw(h);let x=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return x==="application/json"?g=yield h.json():x==="application/octet-stream"?g=yield h.blob():x==="text/event-stream"?g=h:x==="multipart/form-data"?g=yield h.formData():g=yield h.text(),{data:g,error:null,response:h}}catch(a){return{data:null,error:a,response:a instanceof tw||a instanceof ew?a.context:void 0}}})}}var tr={},ay={},Gm={},su={},Qm={},Zm={},v6=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Dl=v6();const y6=Dl.fetch,H_=Dl.fetch.bind(Dl),W_=Dl.Headers,j6=Dl.Request,w6=Dl.Response,rc=Object.freeze(Object.defineProperty({__proto__:null,Headers:W_,Request:j6,Response:w6,default:H_,fetch:y6},Symbol.toStringTag,{value:"Module"})),b6=lA(rc);var Ym={};Object.defineProperty(Ym,"__esModule",{value:!0});let N6=class extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}};Ym.default=N6;var K_=Ir&&Ir.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zm,"__esModule",{value:!0});const _6=K_(b6),S6=K_(Ym);let k6=class{constructor(s){this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=s.headers,this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=s.shouldThrowOnError,this.signal=s.signal,this.isMaybeSingle=s.isMaybeSingle,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=_6.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,r){return this.headers=Object.assign({},this.headers),this.headers[s]=r,this}then(s,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let d=null,u=null,h=null,f=i.status,x=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=y:u=JSON.parse(y))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),p=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");v&&p&&p.length>1&&(h=parseInt(p[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,f=406,x="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const v=await i.text();try{d=JSON.parse(v),Array.isArray(d)&&i.status===404&&(u=[],d=null,f=200,x="OK")}catch{i.status===404&&v===""?(f=204,x="No Content"):d={message:v}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,f=200,x="OK"),d&&this.shouldThrowOnError)throw new S6.default(d)}return{error:d,data:u,count:h,status:f,statusText:x}});return this.shouldThrowOnError||(a=a.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(s,r)}returns(){return this}overrideTypes(){return this}};Zm.default=k6;var C6=Ir&&Ir.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qm,"__esModule",{value:!0});const E6=C6(Zm);let T6=class extends E6.default{select(s){let r=!1;const n=(s??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(s,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${s}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,r,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${s}`),this.url.searchParams.set(o,`${r-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:s=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:o="text"}={}){var l;const c=[s?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`,o==="json"?this:this}rollback(){var s;return((s=this.headers.Prefer)!==null&&s!==void 0?s:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Qm.default=T6;var P6=Ir&&Ir.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(su,"__esModule",{value:!0});const A6=P6(Qm);let R6=class extends A6.default{eq(s,r){return this.url.searchParams.append(s,`eq.${r}`),this}neq(s,r){return this.url.searchParams.append(s,`neq.${r}`),this}gt(s,r){return this.url.searchParams.append(s,`gt.${r}`),this}gte(s,r){return this.url.searchParams.append(s,`gte.${r}`),this}lt(s,r){return this.url.searchParams.append(s,`lt.${r}`),this}lte(s,r){return this.url.searchParams.append(s,`lte.${r}`),this}like(s,r){return this.url.searchParams.append(s,`like.${r}`),this}likeAllOf(s,r){return this.url.searchParams.append(s,`like(all).{${r.join(",")}}`),this}likeAnyOf(s,r){return this.url.searchParams.append(s,`like(any).{${r.join(",")}}`),this}ilike(s,r){return this.url.searchParams.append(s,`ilike.${r}`),this}ilikeAllOf(s,r){return this.url.searchParams.append(s,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(s,r){return this.url.searchParams.append(s,`ilike(any).{${r.join(",")}}`),this}is(s,r){return this.url.searchParams.append(s,`is.${r}`),this}in(s,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(s,`in.(${n})`),this}contains(s,r){return typeof r=="string"?this.url.searchParams.append(s,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(s,`cs.{${r.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(r)}`),this}containedBy(s,r){return typeof r=="string"?this.url.searchParams.append(s,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(s,`cd.{${r.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(r)}`),this}rangeGt(s,r){return this.url.searchParams.append(s,`sr.${r}`),this}rangeGte(s,r){return this.url.searchParams.append(s,`nxl.${r}`),this}rangeLt(s,r){return this.url.searchParams.append(s,`sl.${r}`),this}rangeLte(s,r){return this.url.searchParams.append(s,`nxr.${r}`),this}rangeAdjacent(s,r){return this.url.searchParams.append(s,`adj.${r}`),this}overlaps(s,r){return typeof r=="string"?this.url.searchParams.append(s,`ov.${r}`):this.url.searchParams.append(s,`ov.{${r.join(",")}}`),this}textSearch(s,r,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(s,`${i}fts${o}.${r}`),this}match(s){return Object.entries(s).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(s,r,n){return this.url.searchParams.append(s,`not.${r}.${n}`),this}or(s,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${s})`),this}filter(s,r,n){return this.url.searchParams.append(s,`${r}.${n}`),this}};su.default=R6;var O6=Ir&&Ir.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Gm,"__esModule",{value:!0});const Fc=O6(su);let I6=class{constructor(s,{headers:r={},schema:n,fetch:a}){this.url=s,this.headers=r,this.schema=n,this.fetch=a}select(s,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let i=!1;const o=(s??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Fc.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(s,{count:r,defaultToNull:n=!0}={}){const a="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(s)){const o=s.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Fc.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}upsert(s,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(s)){const c=s.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new Fc.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}update(s,{count:r}={}){const n="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),this.headers.Prefer=a.join(","),new Fc.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}delete({count:s}={}){const r="DELETE",n=[];return s&&n.push(`count=${s}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Fc.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Gm.default=I6;var Xm={},Jm={};Object.defineProperty(Jm,"__esModule",{value:!0});Jm.version=void 0;Jm.version="0.0.0-automated";Object.defineProperty(Xm,"__esModule",{value:!0});Xm.DEFAULT_HEADERS=void 0;const D6=Jm;Xm.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${D6.version}`};var G_=Ir&&Ir.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ay,"__esModule",{value:!0});const L6=G_(Gm),M6=G_(su),F6=Xm;let $6=class Q_{constructor(s,{headers:r={},schema:n,fetch:a}={}){this.url=s,this.headers=Object.assign(Object.assign({},F6.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=a}from(s){const r=new URL(`${this.url}/${s}`);return new L6.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new Q_(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,r={},{head:n=!1,get:a=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${s}`);let c;n||a?(o=n?"HEAD":"GET",Object.entries(r).filter(([u,h])=>h!==void 0).map(([u,h])=>[u,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([u,h])=>{l.searchParams.append(u,h)})):(o="POST",c=r);const d=Object.assign({},this.headers);return i&&(d.Prefer=`count=${i}`),new M6.default({method:o,url:l,headers:d,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};ay.default=$6;var nc=Ir&&Ir.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(tr,"__esModule",{value:!0});tr.PostgrestError=tr.PostgrestBuilder=tr.PostgrestTransformBuilder=tr.PostgrestFilterBuilder=tr.PostgrestQueryBuilder=tr.PostgrestClient=void 0;const Z_=nc(ay);tr.PostgrestClient=Z_.default;const Y_=nc(Gm);tr.PostgrestQueryBuilder=Y_.default;const X_=nc(su);tr.PostgrestFilterBuilder=X_.default;const J_=nc(Qm);tr.PostgrestTransformBuilder=J_.default;const e2=nc(Zm);tr.PostgrestBuilder=e2.default;const t2=nc(Ym);tr.PostgrestError=t2.default;var U6=tr.default={PostgrestClient:Z_.default,PostgrestQueryBuilder:Y_.default,PostgrestFilterBuilder:X_.default,PostgrestTransformBuilder:J_.default,PostgrestBuilder:e2.default,PostgrestError:t2.default};const{PostgrestClient:z6,PostgrestQueryBuilder:CH,PostgrestFilterBuilder:EH,PostgrestTransformBuilder:TH,PostgrestBuilder:PH,PostgrestError:AH}=U6;function V6(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const B6=V6(),q6="2.11.15",H6=`realtime-js/${q6}`,W6="1.0.0",s2=1e4,K6=1e3;var xd;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(xd||(xd={}));var Es;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Es||(Es={}));var Wr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Wr||(Wr={}));var og;(function(t){t.websocket="websocket"})(og||(og={}));var Si;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Si||(Si={}));class G6{constructor(){this.HEADER_LENGTH=1}decode(s,r){return s.constructor===ArrayBuffer?r(this._binaryDecode(s)):r(typeof s=="string"?JSON.parse(s):{})}_binaryDecode(s){const r=new DataView(s),n=new TextDecoder;return this._decodeBroadcast(s,r,n)}_decodeBroadcast(s,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(s.slice(o,o+a));o=o+a;const c=n.decode(s.slice(o,o+i));o=o+i;const d=JSON.parse(n.decode(s.slice(o,s.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class r2{constructor(s,r){this.callback=s,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=s,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var wt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(wt||(wt={}));const sw=(t,s,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(s).reduce((i,o)=>(i[o]=Q6(o,t,s,a),i),{})},Q6=(t,s,r,n)=>{const a=s.find(l=>l.name===t),i=a==null?void 0:a.type,o=r[t];return i&&!n.includes(i)?n2(i,o):lg(o)},n2=(t,s)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return J6(s,r)}switch(t){case wt.bool:return Z6(s);case wt.float4:case wt.float8:case wt.int2:case wt.int4:case wt.int8:case wt.numeric:case wt.oid:return Y6(s);case wt.json:case wt.jsonb:return X6(s);case wt.timestamp:return e3(s);case wt.abstime:case wt.date:case wt.daterange:case wt.int4range:case wt.int8range:case wt.money:case wt.reltime:case wt.text:case wt.time:case wt.timestamptz:case wt.timetz:case wt.tsrange:case wt.tstzrange:return lg(s);default:return lg(s)}},lg=t=>t,Z6=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Y6=t=>{if(typeof t=="string"){const s=parseFloat(t);if(!Number.isNaN(s))return s}return t},X6=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(s){return console.log(`JSON parse error: ${s}`),t}return t},J6=(t,s)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>n2(s,l))}return t},e3=t=>typeof t=="string"?t.replace(" ","T"):t,a2=t=>{let s=t;return s=s.replace(/^ws/i,"http"),s=s.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),s.replace(/\/+$/,"")};class Sx{constructor(s,r,n={},a=s2){this.channel=s,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(s){this.timeout=s,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(s){this.payload=Object.assign(Object.assign({},this.payload),s)}receive(s,r){var n;return this._hasReceived(s)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:s,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const s=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},s),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(s,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:s,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:s,response:r}){this.recHooks.filter(n=>n.status===s).forEach(n=>n.callback(r))}_hasReceived(s){return this.receivedResp&&this.receivedResp.status===s}}var rw;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(rw||(rw={}));class pd{constructor(s,r){this.channel=s,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=pd.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=pd.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=pd.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(s,r,n,a){const i=this.cloneDeep(s),o=this.transformState(r),l={},c={};return this.map(i,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const h=i[d];if(h){const f=u.map(p=>p.presence_ref),x=h.map(p=>p.presence_ref),g=u.filter(p=>x.indexOf(p.presence_ref)<0),v=h.filter(p=>f.indexOf(p.presence_ref)<0);g.length>0&&(l[d]=g),v.length>0&&(c[d]=v)}else l[d]=u}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(s,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var d;const u=(d=s[l])!==null&&d!==void 0?d:[];if(s[l]=this.cloneDeep(c),u.length>0){const h=s[l].map(x=>x.presence_ref),f=u.filter(x=>h.indexOf(x.presence_ref)<0);s[l].unshift(...f)}n(l,u,c)}),this.map(o,(l,c)=>{let d=s[l];if(!d)return;const u=c.map(h=>h.presence_ref);d=d.filter(h=>u.indexOf(h.presence_ref)<0),s[l]=d,a(l,d,c),d.length===0&&delete s[l]}),s}static map(s,r){return Object.getOwnPropertyNames(s).map(n=>r(n,s[n]))}static transformState(s){return s=this.cloneDeep(s),Object.getOwnPropertyNames(s).reduce((r,n)=>{const a=s[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(s){return JSON.parse(JSON.stringify(s))}onJoin(s){this.caller.onJoin=s}onLeave(s){this.caller.onLeave=s}onSync(s){this.caller.onSync=s}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var nw;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(nw||(nw={}));var aw;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(aw||(aw={}));var qn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(qn||(qn={}));class iy{constructor(s,r={config:{}},n){this.topic=s,this.params=r,this.socket=n,this.bindings={},this.state=Es.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=s.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Sx(this,Wr.join,this.params,this.timeout),this.rejoinTimer=new r2(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Es.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Es.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Es.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Es.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Wr.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new pd(this),this.broadcastEndpointURL=a2(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(s,r=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Es.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(u=>s==null?void 0:s(qn.CHANNEL_ERROR,u)),this._onClose(()=>s==null?void 0:s(qn.CLOSED));const c={},d={broadcast:i,presence:o,postgres_changes:(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&a!==void 0?a:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:u})=>{var h;if(this.socket.setAuth(),u===void 0){s==null||s(qn.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,x=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,g=[];for(let v=0;v<x;v++){const p=f[v],{filter:{event:y,schema:j,table:w,filter:b}}=p,N=u&&u[v];if(N&&N.event===y&&N.schema===j&&N.table===w&&N.filter===b)g.push(Object.assign(Object.assign({},p),{id:N.id}));else{this.unsubscribe(),this.state=Es.errored,s==null||s(qn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,s&&s(qn.SUBSCRIBED);return}}).receive("error",u=>{this.state=Es.errored,s==null||s(qn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{s==null||s(qn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(s,r={}){return await this.send({type:"presence",event:"track",payload:s},r.timeout||this.timeout)}async untrack(s={}){return await this.send({type:"presence",event:"untrack"},s)}on(s,r,n){return this._on(s,r,n)}async send(s,r={}){var n,a;if(!this._canPush()&&s.type==="broadcast"){const{event:i,payload:o}=s,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const d=this._push(s.type,s,r.timeout||this.timeout);s.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(s){this.joinPush.updatePayload(s)}unsubscribe(s=this.timeout){this.state=Es.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Wr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Sx(this,Wr.leave,{},s),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(s=>s.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(s,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(s,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(s,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${s}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Sx(this,s,r,n);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(s,r,n){return r}_isMember(s){return this.topic===s}_joinRef(){return this.joinPush.ref}_trigger(s,r,n){var a,i;const o=s.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=Wr;if(n&&[l,c,d,u].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(x=>{var g,v,p;return((g=x.filter)===null||g===void 0?void 0:g.event)==="*"||((p=(v=x.filter)===null||v===void 0?void 0:v.event)===null||p===void 0?void 0:p.toLocaleLowerCase())===o}).map(x=>x.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(x=>{var g,v,p,y,j,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in x){const b=x.id,N=(g=x.filter)===null||g===void 0?void 0:g.event;return b&&((v=r.ids)===null||v===void 0?void 0:v.includes(b))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((p=r.data)===null||p===void 0?void 0:p.type.toLocaleLowerCase()))}else{const b=(j=(y=x==null?void 0:x.filter)===null||y===void 0?void 0:y.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return b==="*"||b===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===o}).map(x=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:v,table:p,commit_timestamp:y,type:j,errors:w}=g;f=Object.assign(Object.assign({},{schema:v,table:p,commit_timestamp:y,eventType:j,new:{},old:{},errors:w}),this._getPayloadRecords(g))}x.callback(f,n)})}_isClosed(){return this.state===Es.closed}_isJoined(){return this.state===Es.joined}_isJoining(){return this.state===Es.joining}_isLeaving(){return this.state===Es.leaving}_replyEventName(s){return`chan_reply_${s}`}_on(s,r,n){const a=s.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(s,r){const n=s.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&iy.isEqual(a.filter,r))}),this}static isEqual(s,r){if(Object.keys(s).length!==Object.keys(r).length)return!1;for(const n in s)if(s[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(s){this._on(Wr.close,{},s)}_onError(s){this._on(Wr.error,{},r=>s(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(s=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Es.joining,this.joinPush.resend(s))}_getPayloadRecords(s){const r={new:{},old:{}};return(s.type==="INSERT"||s.type==="UPDATE")&&(r.new=sw(s.columns,s.record)),(s.type==="UPDATE"||s.type==="DELETE")&&(r.old=sw(s.columns,s.old_record)),r}}const iw=()=>{},t3=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class s3{constructor(s,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=s2,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=iw,this.ref=0,this.logger=iw,this.conn=null,this.sendBuffer=[],this.serializer=new G6,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>de(async()=>{const{default:c}=await Promise.resolve().then(()=>rc);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${s}/${og.websocket}`,this.httpEndpoint=a2(s),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const a=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new r2(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=B6),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:W6}))}disconnect(s,r){this.conn&&(this.conn.onclose=function(){},s?this.conn.close(s,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(s){const r=await s.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const s=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),s}log(s,r,n){this.logger(s,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case xd.connecting:return Si.Connecting;case xd.open:return Si.Open;case xd.closing:return Si.Closing;default:return Si.Closed}}isConnected(){return this.connectionState()===Si.Open}channel(s,r={config:{}}){const n=`realtime:${s}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new iy(`realtime:${s}`,r,this);return this.channels.push(i),i}}push(s){const{topic:r,event:n,payload:a,ref:i}=s,o=()=>{this.encode(s,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(s=null){let r=s||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:H6};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(Wr.access_token,{access_token:r})}))}async sendHeartbeat(){var s;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(s=this.conn)===null||s===void 0||s.close(K6,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(s){this.heartbeatCallback=s}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(s=>s()),this.sendBuffer=[])}_makeRef(){let s=this.ref+1;return s===this.ref?this.ref=0:this.ref=s,this.ref.toString()}_leaveOpenTopic(s){let r=this.channels.find(n=>n.topic===s&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${s}"`),r.unsubscribe())}_remove(s){this.channels=this.channels.filter(r=>r.topic!==s.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=s=>this._onConnError(s),this.conn.onmessage=s=>this._onConnMessage(s),this.conn.onclose=s=>this._onConnClose(s))}_onConnMessage(s){this.decode(s.data,r=>{let{topic:n,event:a,payload:i,ref:o}=r;n==="phoenix"&&a==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${a} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(a,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(s=>s())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const s=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(s),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(s){this.log("transport","close",s),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(s))}_onConnError(s){this.log("transport",`${s}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(s))}_triggerChanError(){this.channels.forEach(s=>s._trigger(Wr.error))}_appendParams(s,r){if(Object.keys(r).length===0)return s;const n=s.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${s}${n}${a}`}_workerObjectUrl(s){let r;if(s)r=s;else{const n=new Blob([t3],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class oy extends Error{constructor(s){super(s),this.__isStorageError=!0,this.name="StorageError"}}function ps(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class r3 extends oy{constructor(s,r){super(s),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class cg extends oy{constructor(s,r){super(s),this.name="StorageUnknownError",this.originalError=r}}var n3=function(t,s,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(t,s||[])).next())})};const i2=t=>{let s;return t?s=t:typeof fetch>"u"?s=(...r)=>de(async()=>{const{default:n}=await Promise.resolve().then(()=>rc);return{default:n}},void 0).then(({default:n})=>n(...r)):s=fetch,(...r)=>s(...r)},a3=()=>n3(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield de(()=>Promise.resolve().then(()=>rc),void 0)).Response:Response}),dg=t=>{if(Array.isArray(t))return t.map(r=>dg(r));if(typeof t=="function"||t!==Object(t))return t;const s={};return Object.entries(t).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));s[a]=dg(n)}),s};var xo=function(t,s,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(t,s||[])).next())})};const kx=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),i3=(t,s,r)=>xo(void 0,void 0,void 0,function*(){const n=yield a3();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(a=>{s(new r3(kx(a),t.status||500))}).catch(a=>{s(new cg(kx(a),a))}):s(new cg(kx(t),t))}),o3=(t,s,r,n)=>{const a={method:t,headers:(s==null?void 0:s.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},s==null?void 0:s.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),r))};function ru(t,s,r,n,a,i){return xo(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(r,o3(s,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>i3(c,l,n))})})}function tm(t,s,r,n){return xo(this,void 0,void 0,function*(){return ru(t,"GET",s,r,n)})}function Na(t,s,r,n,a){return xo(this,void 0,void 0,function*(){return ru(t,"POST",s,n,a,r)})}function l3(t,s,r,n,a){return xo(this,void 0,void 0,function*(){return ru(t,"PUT",s,n,a,r)})}function c3(t,s,r,n){return xo(this,void 0,void 0,function*(){return ru(t,"HEAD",s,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function o2(t,s,r,n,a){return xo(this,void 0,void 0,function*(){return ru(t,"DELETE",s,n,a,r)})}var Qs=function(t,s,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(t,s||[])).next())})};const d3={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ow={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class u3{constructor(s,r={},n,a){this.url=s,this.headers=r,this.bucketId=n,this.fetch=i2(a)}uploadOrUpdate(s,r,n,a){return Qs(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},ow),a);let l=Object.assign(Object.assign({},this.headers),s==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const d=this._removeEmptyFolders(r),u=this._getFinalPath(d),h=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:s,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:d,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(ps(i))return{data:null,error:i};throw i}})}upload(s,r,n){return Qs(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",s,r,n)})}uploadToSignedUrl(s,r,n,a){return Qs(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(s),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:ow.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:u}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(ps(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(s,r){return Qs(this,void 0,void 0,function*(){try{let n=this._getFinalPath(s);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield Na(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new oy("No token returned by API");return{data:{signedUrl:o.toString(),path:s,token:l},error:null}}catch(n){if(ps(n))return{data:null,error:n};throw n}})}update(s,r,n){return Qs(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",s,r,n)})}move(s,r,n){return Qs(this,void 0,void 0,function*(){try{return{data:yield Na(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:s,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(ps(a))return{data:null,error:a};throw a}})}copy(s,r,n){return Qs(this,void 0,void 0,function*(){try{return{data:{path:(yield Na(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:s,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(ps(a))return{data:null,error:a};throw a}})}createSignedUrl(s,r,n){return Qs(this,void 0,void 0,function*(){try{let a=this._getFinalPath(s),i=yield Na(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(ps(a))return{data:null,error:a};throw a}})}createSignedUrls(s,r,n){return Qs(this,void 0,void 0,function*(){try{const a=yield Na(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:s},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(ps(a))return{data:null,error:a};throw a}})}download(s,r){return Qs(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(s);return{data:yield(yield tm(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(ps(l))return{data:null,error:l};throw l}})}info(s){return Qs(this,void 0,void 0,function*(){const r=this._getFinalPath(s);try{const n=yield tm(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:dg(n),error:null}}catch(n){if(ps(n))return{data:null,error:n};throw n}})}exists(s){return Qs(this,void 0,void 0,function*(){const r=this._getFinalPath(s);try{return yield c3(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(ps(n)&&n instanceof cg){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(s,r){const n=this._getFinalPath(s),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${d}`)}}}remove(s){return Qs(this,void 0,void 0,function*(){try{return{data:yield o2(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:s},{headers:this.headers}),error:null}}catch(r){if(ps(r))return{data:null,error:r};throw r}})}list(s,r,n){return Qs(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},d3),r),{prefix:s||""});return{data:yield Na(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(ps(a))return{data:null,error:a};throw a}})}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const r=[];return s.width&&r.push(`width=${s.width}`),s.height&&r.push(`height=${s.height}`),s.resize&&r.push(`resize=${s.resize}`),s.format&&r.push(`format=${s.format}`),s.quality&&r.push(`quality=${s.quality}`),r.join("&")}}const h3="2.7.1",m3={"X-Client-Info":`storage-js/${h3}`};var To=function(t,s,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(t,s||[])).next())})};class f3{constructor(s,r={},n){this.url=s,this.headers=Object.assign(Object.assign({},m3),r),this.fetch=i2(n)}listBuckets(){return To(this,void 0,void 0,function*(){try{return{data:yield tm(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(s){if(ps(s))return{data:null,error:s};throw s}})}getBucket(s){return To(this,void 0,void 0,function*(){try{return{data:yield tm(this.fetch,`${this.url}/bucket/${s}`,{headers:this.headers}),error:null}}catch(r){if(ps(r))return{data:null,error:r};throw r}})}createBucket(s,r={public:!1}){return To(this,void 0,void 0,function*(){try{return{data:yield Na(this.fetch,`${this.url}/bucket`,{id:s,name:s,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ps(n))return{data:null,error:n};throw n}})}updateBucket(s,r){return To(this,void 0,void 0,function*(){try{return{data:yield l3(this.fetch,`${this.url}/bucket/${s}`,{id:s,name:s,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ps(n))return{data:null,error:n};throw n}})}emptyBucket(s){return To(this,void 0,void 0,function*(){try{return{data:yield Na(this.fetch,`${this.url}/bucket/${s}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(ps(r))return{data:null,error:r};throw r}})}deleteBucket(s){return To(this,void 0,void 0,function*(){try{return{data:yield o2(this.fetch,`${this.url}/bucket/${s}`,{},{headers:this.headers}),error:null}}catch(r){if(ps(r))return{data:null,error:r};throw r}})}}class x3 extends f3{constructor(s,r={},n){super(s,r,n)}from(s){return new u3(this.url,this.headers,s,this.fetch)}}const p3="2.51.0";let Yc="";typeof Deno<"u"?Yc="deno":typeof document<"u"?Yc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Yc="react-native":Yc="node";const g3={"X-Client-Info":`supabase-js-${Yc}/${p3}`},v3={headers:g3},y3={schema:"public"},j3={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},w3={};var b3=function(t,s,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(t,s||[])).next())})};const N3=t=>{let s;return t?s=t:typeof fetch>"u"?s=H_:s=fetch,(...r)=>s(...r)},_3=()=>typeof Headers>"u"?W_:Headers,S3=(t,s,r)=>{const n=N3(r),a=_3();return(i,o)=>b3(void 0,void 0,void 0,function*(){var l;const c=(l=yield s())!==null&&l!==void 0?l:t;let d=new a(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:d}))})};var k3=function(t,s,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(t,s||[])).next())})};function C3(t){return t.endsWith("/")?t:t+"/"}function E3(t,s){var r,n;const{db:a,auth:i,realtime:o,global:l}=t,{db:c,auth:d,realtime:u,global:h}=s,f={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},u),o),global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>k3(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}const l2="2.71.0",$o=30*1e3,ug=3,Cx=ug*$o,T3="http://localhost:9999",P3="supabase.auth.token",A3={"X-Client-Info":`gotrue-js/${l2}`},hg="X-Supabase-Api-Version",c2={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},R3=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,O3=10*60*1e3;class ly extends Error{constructor(s,r,n){super(s),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function qe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class I3 extends ly{constructor(s,r,n){super(s,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function D3(t){return qe(t)&&t.name==="AuthApiError"}class d2 extends ly{constructor(s,r){super(s),this.name="AuthUnknownError",this.originalError=r}}class hi extends ly{constructor(s,r,n,a){super(s,n,a),this.name=r,this.status=n}}class ya extends hi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function L3(t){return qe(t)&&t.name==="AuthSessionMissingError"}class Qu extends hi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Zu extends hi{constructor(s){super(s,"AuthInvalidCredentialsError",400,void 0)}}class Yu extends hi{constructor(s,r=null){super(s,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function M3(t){return qe(t)&&t.name==="AuthImplicitGrantRedirectError"}class lw extends hi{constructor(s,r=null){super(s,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class mg extends hi{constructor(s,r){super(s,"AuthRetryableFetchError",r,void 0)}}function Ex(t){return qe(t)&&t.name==="AuthRetryableFetchError"}class cw extends hi{constructor(s,r,n){super(s,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class fg extends hi{constructor(s){super(s,"AuthInvalidJwtError",400,"invalid_jwt")}}const sm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),dw=` 	
\r=`.split(""),F3=(()=>{const t=new Array(128);for(let s=0;s<t.length;s+=1)t[s]=-1;for(let s=0;s<dw.length;s+=1)t[dw[s].charCodeAt(0)]=-2;for(let s=0;s<sm.length;s+=1)t[sm[s].charCodeAt(0)]=s;return t})();function uw(t,s,r){if(t!==null)for(s.queue=s.queue<<8|t,s.queuedBits+=8;s.queuedBits>=6;){const n=s.queue>>s.queuedBits-6&63;r(sm[n]),s.queuedBits-=6}else if(s.queuedBits>0)for(s.queue=s.queue<<6-s.queuedBits,s.queuedBits=6;s.queuedBits>=6;){const n=s.queue>>s.queuedBits-6&63;r(sm[n]),s.queuedBits-=6}}function u2(t,s,r){const n=F3[t];if(n>-1)for(s.queue=s.queue<<6|n,s.queuedBits+=6;s.queuedBits>=8;)r(s.queue>>s.queuedBits-8&255),s.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function hw(t){const s=[],r=o=>{s.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{z3(o,n,r)};for(let o=0;o<t.length;o+=1)u2(t.charCodeAt(o),a,i);return s.join("")}function $3(t,s){if(t<=127){s(t);return}else if(t<=2047){s(192|t>>6),s(128|t&63);return}else if(t<=65535){s(224|t>>12),s(128|t>>6&63),s(128|t&63);return}else if(t<=1114111){s(240|t>>18),s(128|t>>12&63),s(128|t>>6&63),s(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function U3(t,s){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}$3(n,s)}}function z3(t,s,r){if(s.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){s.utf8seq=n;break}if(s.utf8seq===2)s.codepoint=t&31;else if(s.utf8seq===3)s.codepoint=t&15;else if(s.utf8seq===4)s.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");s.utf8seq-=1}else if(s.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");s.codepoint=s.codepoint<<6|t&63,s.utf8seq-=1,s.utf8seq===0&&r(s.codepoint)}}function V3(t){const s=[],r={queue:0,queuedBits:0},n=a=>{s.push(a)};for(let a=0;a<t.length;a+=1)u2(t.charCodeAt(a),r,n);return new Uint8Array(s)}function B3(t){const s=[];return U3(t,r=>s.push(r)),new Uint8Array(s)}function q3(t){const s=[],r={queue:0,queuedBits:0},n=a=>{s.push(a)};return t.forEach(a=>uw(a,r,n)),uw(null,r,n),s.join("")}function H3(t){return Math.round(Date.now()/1e3)+t}function W3(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const s=Math.random()*16|0;return(t=="x"?s:s&3|8).toString(16)})}const Ur=()=>typeof window<"u"&&typeof document<"u",yi={tested:!1,writable:!1},h2=()=>{if(!Ur())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(yi.tested)return yi.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),yi.tested=!0,yi.writable=!0}catch{yi.tested=!0,yi.writable=!1}return yi.writable};function K3(t){const s={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{s[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{s[a]=n}),s}const m2=t=>{let s;return t?s=t:typeof fetch>"u"?s=(...r)=>de(async()=>{const{default:n}=await Promise.resolve().then(()=>rc);return{default:n}},void 0).then(({default:n})=>n(...r)):s=fetch,(...r)=>s(...r)},G3=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Uo=async(t,s,r)=>{await t.setItem(s,JSON.stringify(r))},ji=async(t,s)=>{const r=await t.getItem(s);if(!r)return null;try{return JSON.parse(r)}catch{return r}},xa=async(t,s)=>{await t.removeItem(s)};class ef{constructor(){this.promise=new ef.promiseConstructor((s,r)=>{this.resolve=s,this.reject=r})}}ef.promiseConstructor=Promise;function Tx(t){const s=t.split(".");if(s.length!==3)throw new fg("Invalid JWT structure");for(let n=0;n<s.length;n++)if(!R3.test(s[n]))throw new fg("JWT not in base64url format");return{header:JSON.parse(hw(s[0])),payload:JSON.parse(hw(s[1])),signature:V3(s[2]),raw:{header:s[0],payload:s[1]}}}async function Q3(t){return await new Promise(s=>{setTimeout(()=>s(null),t)})}function Z3(t,s){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!s(i,null,o)){n(o);return}}catch(o){if(!s(i,o)){a(o);return}}})()})}function Y3(t){return("0"+t.toString(16)).substr(-2)}function X3(){const s=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(s),Array.from(s,Y3).join("")}async function J3(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function eO(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await J3(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Po(t,s,r=!1){const n=X3();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Uo(t,`${s}-code-verifier`,a);const i=await eO(n);return[i,n===i?"plain":"s256"]}const tO=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function sO(t){const s=t.headers.get(hg);if(!s||!s.match(tO))return null;try{return new Date(`${s}T00:00:00.0Z`)}catch{return null}}function rO(t){if(!t)throw new Error("Missing exp claim");const s=Math.floor(Date.now()/1e3);if(t<=s)throw new Error("JWT has expired")}function nO(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const aO=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ao(t){if(!aO.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Px(){const t={};return new Proxy(t,{get:(s,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(s,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(s,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}var iO=function(t,s){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&s.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)s.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};const _i=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),oO=[502,503,504];async function mw(t){var s;if(!G3(t))throw new mg(_i(t),0);if(oO.includes(t.status))throw new mg(_i(t),t.status);let r;try{r=await t.json()}catch(i){throw new d2(_i(i),i)}let n;const a=sO(t);if(a&&a.getTime()>=c2["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new cw(_i(r),t.status,((s=r.weak_password)===null||s===void 0?void 0:s.reasons)||[]);if(n==="session_not_found")throw new ya}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new cw(_i(r),t.status,r.weak_password.reasons);throw new I3(_i(r),t.status||500,n)}const lO=(t,s,r,n)=>{const a={method:t,headers:(s==null?void 0:s.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},s==null?void 0:s.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Ye(t,s,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[hg]||(i[hg]=c2["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await cO(t,s,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function cO(t,s,r,n,a,i){const o=lO(s,n,a,i);let l;try{l=await t(r,Object.assign({},o))}catch(c){throw console.error(c),new mg(_i(c),0)}if(l.ok||await mw(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await mw(c)}}function Vn(t){var s;let r=null;mO(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=H3(t.expires_in)));const n=(s=t.user)!==null&&s!==void 0?s:t;return{data:{session:r,user:n},error:null}}function fw(t){const s=Vn(t);return!s.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(s.data.weak_password=t.weak_password),s}function Ca(t){var s;return{data:{user:(s=t.user)!==null&&s!==void 0?s:t},error:null}}function dO(t){return{data:t,error:null}}function uO(t){const{action_link:s,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=t,o=iO(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:s,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function hO(t){return t}function mO(t){return t.access_token&&t.refresh_token&&t.expires_in}const Ax=["global","local","others"];var fO=function(t,s){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&s.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)s.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};class xO{constructor({url:s="",headers:r={},fetch:n}){this.url=s,this.headers=r,this.fetch=m2(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(s,r=Ax[0]){if(Ax.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ax.join(", ")}`);try{return await Ye(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:s,noResolveJson:!0}),{data:null,error:null}}catch(n){if(qe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(s,r={}){try{return await Ye(this.fetch,"POST",`${this.url}/invite`,{body:{email:s,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ca})}catch(n){if(qe(n))return{data:{user:null},error:n};throw n}}async generateLink(s){try{const{options:r}=s,n=fO(s,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Ye(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:uO,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(qe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(s){try{return await Ye(this.fetch,"POST",`${this.url}/admin/users`,{body:s,headers:this.headers,xform:Ca})}catch(r){if(qe(r))return{data:{user:null},error:r};throw r}}async listUsers(s){var r,n,a,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await Ye(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=s==null?void 0:s.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=s==null?void 0:s.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:hO});if(u.error)throw u.error;const h=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,x=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return x.length>0&&(x.forEach(g=>{const v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),p=JSON.parse(g.split(";")[1].split("=")[1]);d[`${p}Page`]=v}),d.total=parseInt(f)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(qe(d))return{data:{users:[]},error:d};throw d}}async getUserById(s){Ao(s);try{return await Ye(this.fetch,"GET",`${this.url}/admin/users/${s}`,{headers:this.headers,xform:Ca})}catch(r){if(qe(r))return{data:{user:null},error:r};throw r}}async updateUserById(s,r){Ao(s);try{return await Ye(this.fetch,"PUT",`${this.url}/admin/users/${s}`,{body:r,headers:this.headers,xform:Ca})}catch(n){if(qe(n))return{data:{user:null},error:n};throw n}}async deleteUser(s,r=!1){Ao(s);try{return await Ye(this.fetch,"DELETE",`${this.url}/admin/users/${s}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ca})}catch(n){if(qe(n))return{data:{user:null},error:n};throw n}}async _listFactors(s){Ao(s.userId);try{const{data:r,error:n}=await Ye(this.fetch,"GET",`${this.url}/admin/users/${s.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(qe(r))return{data:null,error:r};throw r}}async _deleteFactor(s){Ao(s.userId),Ao(s.id);try{return{data:await Ye(this.fetch,"DELETE",`${this.url}/admin/users/${s.userId}/factors/${s.id}`,{headers:this.headers}),error:null}}catch(r){if(qe(r))return{data:null,error:r};throw r}}}function xw(t={}){return{getItem:s=>t[s]||null,setItem:(s,r)=>{t[s]=r},removeItem:s=>{delete t[s]}}}function pO(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ro={debug:!!(globalThis&&h2()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class f2 extends Error{constructor(s){super(s),this.isAcquireTimeout=!0}}class gO extends f2{}async function vO(t,s,r){Ro.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,s);const n=new globalThis.AbortController;return s>0&&setTimeout(()=>{n.abort(),Ro.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},s),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,s===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Ro.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await r()}finally{Ro.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(s===0)throw Ro.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new gO(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ro.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}pO();const yO={url:T3,storageKey:P3,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:A3,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function pw(t,s,r){return await r()}const Oo={};class Fd{constructor(s){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Fd.nextInstanceID,Fd.nextInstanceID+=1,this.instanceID>0&&Ur()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},yO),s);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new xO({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=m2(a.fetch),this.lock=a.lock||pw,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Ur()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=vO:this.lock=pw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:h2()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=xw(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=xw(this.memoryStorage)),Ur()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var s,r;return(r=(s=Oo[this.storageKey])===null||s===void 0?void 0:s.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(s){Oo[this.storageKey]=Object.assign(Object.assign({},Oo[this.storageKey]),{jwks:s})}get jwks_cached_at(){var s,r;return(r=(s=Oo[this.storageKey])===null||s===void 0?void 0:s.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(s){Oo[this.storageKey]=Object.assign(Object.assign({},Oo[this.storageKey]),{cachedAt:s})}_debug(...s){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${l2}) ${new Date().toISOString()}`,...s),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var s;try{const r=K3(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ur()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),M3(i)){const c=(s=i.details)===null||s===void 0?void 0:s.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return qe(r)?{error:r}:{error:new d2("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(s){var r,n,a;try{const i=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=s==null?void 0:s.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=s==null?void 0:s.options)===null||a===void 0?void 0:a.captchaToken}},xform:Vn}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(qe(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(s){var r,n,a;try{let i;if("email"in s){const{email:u,password:h,options:f}=s;let x=null,g=null;this.flowType==="pkce"&&([x,g]=await Po(this.storage,this.storageKey)),i=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:x,code_challenge_method:g},xform:Vn})}else if("phone"in s){const{phone:u,password:h,options:f}=s;i=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(a=f==null?void 0:f.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Vn})}else throw new Zu("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(qe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(s){try{let r;if("email"in s){const{email:i,password:o,options:l}=s;r=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:fw})}else if("phone"in s){const{phone:i,password:o,options:l}=s;r=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:fw})}else throw new Zu("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Qu}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(qe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(s){var r,n,a,i;return await this._handleProviderSignIn(s.provider,{redirectTo:(r=s.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=s.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=s.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=s.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(s){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(s))}async signInWithWeb3(s){const{chain:r}=s;if(r==="solana")return await this.signInWithSolana(s);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(s){var r,n,a,i,o,l,c,d,u,h,f,x;let g,v;if("message"in s)g=s.message,v=s.signature;else{const{chain:p,wallet:y,statement:j,options:w}=s;let b;if(Ur())if(typeof y=="object")b=y;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))b=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=y}const N=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in b&&b.signIn){const _=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),j?{statement:j}:null));let P;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")P=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)P=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)g=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),v=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${N.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...j?["",j,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(a=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((d=w==null?void 0:w.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((h=(u=w==null?void 0:w.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...w.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const _=await b.signMessage(new TextEncoder().encode(g),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=_}}try{const{data:p,error:y}=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:q3(v)},!((f=s.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(x=s.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Vn});if(y)throw y;return!p||!p.session||!p.user?{data:{user:null,session:null},error:new Qu}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:Object.assign({},p),error:y})}catch(p){if(qe(p))return{data:{user:null,session:null},error:p};throw p}}async _exchangeCodeForSession(s){const r=await ji(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:s,code_verifier:n},xform:Vn});if(await xa(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Qu}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(qe(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(s){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=s,l=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Vn}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Qu}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(qe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(s){var r,n,a,i,o;try{if("email"in s){const{email:l,options:c}=s;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await Po(this.storage,this.storageKey));const{error:h}=await Ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in s){const{phone:l,options:c}=s,{data:d,error:u}=await Ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new Zu("You must provide either an email or phone number.")}catch(l){if(qe(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(s){var r,n;try{let a,i;"options"in s&&(a=(r=s.options)===null||r===void 0?void 0:r.redirectTo,i=(n=s.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Ye(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},s),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Vn});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(s.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(qe(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(s){var r,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Po(this.storage,this.storageKey)),await Ye(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in s?{provider_id:s.providerId}:null),"domain"in s?{domain:s.domain}:null),{redirect_to:(n=(r=s.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=s==null?void 0:s.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:s.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:dO})}catch(i){if(qe(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async s=>{const{data:{session:r},error:n}=s;if(n)throw n;if(!r)throw new ya;const{error:a}=await Ye(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(s){if(qe(s))return{data:{user:null,session:null},error:s};throw s}}async resend(s){try{const r=`${this.url}/resend`;if("email"in s){const{email:n,type:a,options:i}=s,{error:o}=await Ye(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in s){const{phone:n,type:a,options:i}=s,{data:o,error:l}=await Ye(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Zu("You must provide either an email or phone number and a type")}catch(r){if(qe(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(s,r){this._debug("#_acquireLock","begin",s);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,s,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(s){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await s(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let s=null;const r=await ji(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?s=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!s)return{data:{session:null},error:null};const n=s.expires_at?s.expires_at*1e3-Date.now()<Cx:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",s.expires_at),!n){if(this.userStorage){const o=await ji(this.userStorage,this.storageKey+"-user");o!=null&&o.user?s.user=o.user:s.user=Px()}if(this.storage.isServer&&s.user){let o=this.suppressGetSessionWarning;s=new Proxy(s,{get:(c,d,u)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:s},error:null}}const{session:a,error:i}=await this._callRefreshToken(s.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(s){return s?await this._getUser(s):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(s){try{return s?await Ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:s,xform:Ca}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ya}:await Ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Ca})})}catch(r){if(qe(r))return L3(r)&&(await this._removeSession(),await xa(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(s,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(s,r))}async _updateUser(s,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new ya;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&s.email!=null&&([l,c]=await Po(this.storage,this.storageKey));const{data:d,error:u}=await Ye(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},s),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Ca});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(qe(n))return{data:{user:null},error:n};throw n}}async setSession(s){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(s))}async _setSession(s){try{if(!s.access_token||!s.refresh_token)throw new ya;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=Tx(s.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{session:l,error:c}=await this._callRefreshToken(s.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(s.access_token);if(c)throw c;i={access_token:s.access_token,refresh_token:s.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(qe(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(s){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(s))}async _refreshSession(s){try{return await this._useSession(async r=>{var n;if(!s){const{data:o,error:l}=r;if(l)throw l;s=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(s!=null&&s.refresh_token))throw new ya;const{session:a,error:i}=await this._callRefreshToken(s.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(qe(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(s,r){try{if(!Ur())throw new Yu("No browser detected.");if(s.error||s.error_description||s.error_code)throw new Yu(s.error_description||"Error in URL with unspecified error_description",{error:s.error||"unspecified_error",code:s.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new lw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Yu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!s.code)throw new lw("No code detected.");const{data:j,error:w}=await this._exchangeCodeForSession(s.code);if(w)throw w;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=s;if(!i||!l||!o||!d)throw new Yu("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(l);let f=u+h;c&&(f=parseInt(c));const x=f-u;x*1e3<=$o&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${h}s`);const g=f-h;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,u);const{data:v,error:p}=await this._getUser(i);if(p)throw p;const y={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:d,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:s.type},error:null}}catch(n){if(qe(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(s){return!!(s.access_token||s.error_description)}async _isPKCECallback(s){const r=await ji(this.storage,`${this.storageKey}-code-verifier`);return!!(s.code&&r)}async signOut(s={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(s))}async _signOut({scope:s}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,s);if(l&&!(D3(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return s!=="others"&&(await this._removeSession(),await xa(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(s){const r=W3(),n={id:r,callback:s,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(s){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(s))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",s,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(s))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",s,"error",i),console.error(i)}})}async resetPasswordForEmail(s,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Po(this.storage,this.storageKey,!0));try{return await Ye(this.fetch,"POST",`${this.url}/recover`,{body:{email:s,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(qe(i))return{data:null,error:i};throw i}}async getUserIdentities(){var s;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(s=r.user.identities)!==null&&s!==void 0?s:[]},error:null}}catch(r){if(qe(r))return{data:null,error:r};throw r}}async linkIdentity(s){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,d,u;const{data:h,error:f}=i;if(f)throw f;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,s.provider,{redirectTo:(o=s.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=s.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=s.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ye(this.fetch,"GET",x,{headers:this.headers,jwt:(u=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return Ur()&&!(!((r=s.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:s.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(qe(n))return{data:{provider:s.provider,url:null},error:n};throw n}}async unlinkIdentity(s){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await Ye(this.fetch,"DELETE",`${this.url}/user/identities/${s.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(qe(r))return{data:null,error:r};throw r}}async _refreshAccessToken(s){const r=`#_refreshAccessToken(${s.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Z3(async a=>(a>0&&await Q3(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Ye(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:s},headers:this.headers,xform:Vn})),(a,i)=>{const o=200*Math.pow(2,a);return i&&Ex(i)&&Date.now()+o-n<$o})}catch(n){if(this._debug(r,"error",n),qe(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(s){return typeof s=="object"&&s!==null&&"access_token"in s&&"refresh_token"in s&&"expires_at"in s}async _handleProviderSignIn(s,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,s,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",s,"options",r,"url",n),Ur()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:s,url:n},error:null}}async _recoverAndRefresh(){var s,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await ji(this.storage,this.storageKey);if(a&&this.userStorage){let o=await ji(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await Uo(this.userStorage,this.storageKey+"-user",o)),a.user=(s=o==null?void 0:o.user)!==null&&s!==void 0?s:Px()}else if(a&&!a.user&&!a.user){const o=await ji(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await xa(this.storage,this.storageKey+"-user"),await Uo(this.storage,this.storageKey,a)):a.user=Px()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Cx;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Cx}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),Ex(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(s){var r,n;if(!s)throw new ya;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${s.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new ef;const{data:i,error:o}=await this._refreshAccessToken(s);if(o)throw o;if(!i.session)throw new ya;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),qe(i)){const o={session:null,error:i};return Ex(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(s,r,n=!0){const a=`#_notifyAllSubscribers(${s})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:s,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(s,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(s){this._debug("#_saveSession()",s),this.suppressGetSessionWarning=!0;const r=Object.assign({},s),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Uo(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=structuredClone(a);await Uo(this.storage,this.storageKey,i)}else{const a=structuredClone(r);await Uo(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await xa(this.storage,this.storageKey),await xa(this.storage,this.storageKey+"-code-verifier"),await xa(this.storage,this.storageKey+"-user"),this.userStorage&&await xa(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const s=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{s&&Ur()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",s)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const s=setInterval(()=>this._autoRefreshTokenTick(),$o);this.autoRefreshTicker=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const s=this.autoRefreshTicker;this.autoRefreshTicker=null,s&&clearInterval(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const s=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-s)/$o);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${$o}ms, refresh threshold is ${ug} ticks`),a<=ug&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(s){if(s.isAcquireTimeout||s instanceof f2)this._debug("auto refresh token tick lock not available");else throw s}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ur()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(s){console.error("_handleVisibilityChange",s)}}async _onVisibilityChanged(s){const r=`#_onVisibilityChanged(${s})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),s||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(s,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Po(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${s}?${a.join("&")}`}async _unenroll(s){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Ye(this.fetch,"DELETE",`${this.url}/factors/${s.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(qe(r))return{data:null,error:r};throw r}}async _enroll(s){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:s.friendlyName,factor_type:s.factorType},s.factorType==="phone"?{phone:s.phone}:{issuer:s.issuer}),{data:c,error:d}=await Ye(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(s.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(qe(r))return{data:null,error:r};throw r}}async _verify(s){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await Ye(this.fetch,"POST",`${this.url}/factors/${s.factorId}/verify`,{body:{code:s.code,challenge_id:s.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(qe(r))return{data:null,error:r};throw r}})}async _challenge(s){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Ye(this.fetch,"POST",`${this.url}/factors/${s.factorId}/challenge`,{body:{channel:s.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(qe(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(s){const{data:r,error:n}=await this._challenge({factorId:s.factorId});return n?{data:null,error:n}:await this._verify({factorId:s.factorId,challengeId:r.id,code:s.code})}async _listFactors(){const{data:{user:s},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(s==null?void 0:s.factors)||[],a=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async s=>{var r,n;const{data:{session:a},error:i}=s;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Tx(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(s,r={keys:[]}){let n=r.keys.find(l=>l.kid===s);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===s),n&&this.jwks_cached_at+O3>a)return n;const{data:i,error:o}=await Ye(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===s),!n)?null:n}async getClaims(s,r={}){try{let n=s;if(!n){const{data:x,error:g}=await this.getSession();if(g||!x.session)return{data:null,error:g};n=x.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=Tx(n);r!=null&&r.allowExpired||rO(i.exp);const d=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:x}=await this.getUser(n);if(x)throw x;return{data:{claims:i,header:a,signature:o},error:null}}const u=nO(a.alg),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,B3(`${l}.${c}`)))throw new fg("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(qe(n))return{data:null,error:n};throw n}}}Fd.nextInstanceID=0;const jO=Fd;class wO extends jO{constructor(s){super(s)}}var bO=function(t,s,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(t,s||[])).next())})};class NO{constructor(s,r,n){var a,i,o;if(this.supabaseUrl=s,this.supabaseKey=r,!s)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=C3(s),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:y3,realtime:w3,auth:Object.assign(Object.assign({},j3),{storageKey:d}),global:v3},h=E3(n??{},u);this.storageKey=(a=h.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=S3(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new z6(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new g6(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new x3(this.storageUrl.href,this.headers,this.fetch)}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,r={},n={}){return this.rest.rpc(s,r,n)}channel(s,r={config:{}}){return this.realtime.channel(s,r)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var s,r;return bO(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(s=n.session)===null||s===void 0?void 0:s.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:r,detectSessionInUrl:n,storage:a,storageKey:i,flowType:o,lock:l,debug:c},d,u){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new wO({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:i,autoRefreshToken:s,persistSession:r,detectSessionInUrl:n,storage:a,flowType:o,lock:l,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(s){return new s3(this.realtimeUrl.href,Object.assign(Object.assign({},s),{params:Object.assign({apikey:this.supabaseKey},s==null?void 0:s.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(s,r,n){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:s==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const x2=(t,s,r)=>new NO(t,s,r);function _O(){console.log(" Starting storage cleanup...");const t=["supabase.auth.token","sb-auth-token","userSettings","theme","language",...Object.keys(localStorage).filter(n=>n.startsWith("sb-"))];let s=0;return t.forEach(n=>{try{const a=localStorage.getItem(n);a&&a!=="null"&&a!=="undefined"&&JSON.parse(a)}catch(a){console.warn(` Removing corrupted localStorage key: ${n}`,a);try{localStorage.removeItem(n),s++}catch(i){console.error(`Failed to remove corrupted key ${n}:`,i)}}}),[...Object.keys(sessionStorage).filter(n=>n.startsWith("sb-")||n.includes("supabase")||n.includes("auth"))].forEach(n=>{try{const a=sessionStorage.getItem(n);a&&a!=="null"&&a!=="undefined"&&JSON.parse(a)}catch(a){console.warn(` Removing corrupted sessionStorage key: ${n}`,a);try{sessionStorage.removeItem(n),s++}catch(i){console.error(`Failed to remove corrupted session key ${n}:`,i)}}}),s>0?console.log(` Cleaned up ${s} corrupted storage entries`):console.log(" No corrupted storage entries found"),s}const SO=void 0,kO=void 0;throw new Error(" SECURITY: Missing required environment variables VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY");const CO=SO,gw=kO,J=x2(CO,gw,{auth:{storage:window.localStorage,storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"pkce",debug:!1},realtime:{params:{eventsPerSecond:10}},global:{headers:{apikey:gw}}}),ne=J,EO=Object.freeze(Object.defineProperty({__proto__:null,default:ne,supabase:J},Symbol.toStringTag,{value:"Module"}));async function cy(t={}){let s=J.from("articles").select(`
      id,
      title,
      slug,
      content,
      excerpt,
      image_url,
      view_count,
      published_at,
      is_featured,
      categories(id, name, slug)
    `).order("published_at",{ascending:!1});if(t.featured&&(s=s.eq("is_featured",!0)),t.category){const{data:a}=await J.from("categories").select("id").eq("slug",t.category).single();a&&(s=s.eq("category_id",a.id))}t.limit&&(s=s.limit(t.limit)),t.offset&&(s=s.range(t.offset,t.offset+(t.limit||10)-1));const{data:r,error:n}=await s;return n?(console.error("Error fetching articles:",n),[]):r||[]}async function TO(t){const{data:s,error:r}=await J.from("articles").select(`
      id,
      title,
      slug,
      content,
      excerpt,
      image_url,
      view_count,
      published_at,
      is_featured,
      categories(id, name, slug)
    `).eq("id",t).single();if(r)throw console.error("Error fetching article:",r),new Error("Article not found");return s}async function p2(t=10){const{data:s,error:r}=await J.from("articles").select(`
      id,
      title,
      slug,
      excerpt,
      image_url,
      view_count,
      published_at,
      is_featured,
      categories(id, name, slug)
    `).order("published_at",{ascending:!1}).limit(t);return r?(console.error("Error fetching latest articles:",r),[]):s||[]}async function g2(t=5){try{const s=await fetch(`/api/articles/popular?limit=${t}`);if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return await s.json()||[]}catch(s){return console.error("Error fetching popular articles:",s),[]}}async function v2(){const{data:t,error:s}=await J.from("categories").select("*").order("name");return s?(console.error("Error fetching categories:",s),[]):t||[]}async function PO(t){const{data:s,error:r}=await J.from("categories").select("*").eq("slug",t).single();if(r)throw console.error("Error fetching category:",r),new Error("Category not found");return s}async function y2(){const{data:t,error:s}=await J.from("breaking_news").select("*").eq("is_active",!0).order("created_at",{ascending:!1}).limit(5);return s?(console.error("Error fetching breaking news:",s),[]):t||[]}async function j2(){const{data:t,error:s}=await J.from("weather").select("*").order("updated_at",{ascending:!1});return s?(console.error("Error fetching weather:",s),[]):t||[]}async function w2(){const{data:t,error:s}=await J.from("epapers").select("*").order("publish_date",{ascending:!1});return s?(console.error("Error fetching e-papers:",s),[]):t||[]}async function b2(t=10){const{data:s,error:r}=await J.from("video_content").select("*").order("created_at",{ascending:!1}).limit(t);return r?(console.error("Error fetching videos:",r),[]):s||[]}async function N2(t=10){const{data:s,error:r}=await J.from("audio_articles").select("*").order("created_at",{ascending:!1}).limit(t);return r?(console.error("Error fetching audio articles:",r),[]):s||[]}async function _2(){const{data:t,error:s}=await J.from("trending_topics").select("*").order("trend_score",{ascending:!1}).limit(10);return s?(console.error("Error fetching trending topics:",s),[]):t||[]}async function S2(){try{const{data:t,error:s}=await J.from("site_settings").select("*").single();return s?(console.error("Error fetching site settings:",s),{siteName:"Emon's Daily News",siteDescription:"    ",logoUrl:"",defaultLanguage:"bn",siteUrl:"https://emonsdaily.com"}):{siteName:t.site_name||"Emon's Daily News",siteDescription:t.site_description||"    ",logoUrl:t.logo_url||"",defaultLanguage:t.default_language||"bn",siteUrl:t.site_url||"https://emonsdaily.com"}}catch(t){return console.error("Error in getSiteSettings:",t),{siteName:"Emon's Daily News",siteDescription:"    ",logoUrl:"",defaultLanguage:"bn",siteUrl:"https://emonsdaily.com"}}}const vw=Object.freeze(Object.defineProperty({__proto__:null,getArticleById:TO,getArticles:cy,getAudioArticles:N2,getBreakingNews:y2,getCategories:v2,getCategoryBySlug:PO,getEPapers:w2,getLatestArticles:p2,getPopularArticles:g2,getSiteSettings:S2,getTrendingTopics:_2,getVideos:b2,getWeather:j2},Symbol.toStringTag,{value:"Module"})),yw={"/api/articles":()=>cy(),"/api/articles/latest":()=>p2(),"/api/articles/popular":()=>g2(),"/api/categories":()=>v2(),"/api/breaking-news":()=>y2(),"/api/weather":()=>j2(),"/api/epapers":()=>w2(),"/api/videos":()=>b2(),"/api/audio-articles":()=>N2(),"/api/trending-topics":()=>_2(),"/api/settings":()=>S2()},AO=async({queryKey:t})=>{const s=t[0],r=s.split("?")[0];if(yw[r])return await yw[r]();if(r.startsWith("/api/articles/")&&r!=="/api/articles/latest"&&r!=="/api/articles/popular"){const a=parseInt(r.split("/").pop()||"0");if(a>0){const{getArticleById:i}=await de(async()=>{const{getArticleById:o}=await Promise.resolve().then(()=>vw);return{getArticleById:o}},void 0);return await i(a)}}if(r.startsWith("/api/categories/")){const a=r.split("/").pop();if(a){const{getCategoryBySlug:i}=await de(async()=>{const{getCategoryBySlug:o}=await Promise.resolve().then(()=>vw);return{getCategoryBySlug:o}},void 0);return await i(a)}}const n=new URLSearchParams(s.split("?")[1]||"");if(r==="/api/articles"){const a=n.get("featured")==="true",i=n.get("category"),o=parseInt(n.get("limit")||"10"),l=parseInt(n.get("offset")||"0");return await cy({featured:a,category:i,limit:o,offset:l})}throw new Error(`No static handler found for: ${s}`)},RO=new z_({defaultOptions:{queries:{queryFn:AO,refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:5*60*1e3,retry:(t,s)=>s instanceof Error&&s.message.includes("No static handler")?!1:t<3},mutations:{retry:!1}}});function OO(t,s){if(t instanceof RegExp)return{keys:!1,pattern:t};var r,n,a,i,o=[],l="",c=t.split("/");for(c[0]||c.shift();a=c.shift();)r=a[0],r==="*"?(o.push(r),l+=a[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=a.indexOf("?",1),i=a.indexOf(".",1),o.push(a.substring(1,~n?n:~i?i:a.length)),l+=~n&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~n?"?":"")+"\\"+a.substring(i))):l+="/"+a;return{keys:o,pattern:new RegExp("^"+l+(s?"(?=$|/)":"/?$"),"i")}}var k2={exports:{}},C2={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ll=m;function IO(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var DO=typeof Object.is=="function"?Object.is:IO,LO=Ll.useState,MO=Ll.useEffect,FO=Ll.useLayoutEffect,$O=Ll.useDebugValue;function UO(t,s){var r=s(),n=LO({inst:{value:r,getSnapshot:s}}),a=n[0].inst,i=n[1];return FO(function(){a.value=r,a.getSnapshot=s,Rx(a)&&i({inst:a})},[t,r,s]),MO(function(){return Rx(a)&&i({inst:a}),t(function(){Rx(a)&&i({inst:a})})},[t]),$O(r),r}function Rx(t){var s=t.getSnapshot;t=t.value;try{var r=s();return!DO(t,r)}catch{return!0}}function zO(t,s){return s()}var VO=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?zO:UO;C2.useSyncExternalStore=Ll.useSyncExternalStore!==void 0?Ll.useSyncExternalStore:VO;k2.exports=C2;var E2=k2.exports;const BO=cv.useInsertionEffect,qO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",HO=qO?m.useLayoutEffect:m.useEffect,WO=BO||HO,T2=t=>{const s=m.useRef([t,(...r)=>s[0](...r)]).current;return WO(()=>{s[0]=t}),s[1]},KO="popstate",dy="pushState",uy="replaceState",GO="hashchange",jw=[KO,dy,uy,GO],QO=t=>{for(const s of jw)addEventListener(s,t);return()=>{for(const s of jw)removeEventListener(s,t)}},P2=(t,s)=>E2.useSyncExternalStore(QO,t,s),ZO=()=>location.search,YO=({ssrSearch:t=""}={})=>P2(ZO,()=>t),ww=()=>location.pathname,XO=({ssrPath:t}={})=>P2(ww,t?()=>t:ww),JO=(t,{replace:s=!1,state:r=null}={})=>history[s?uy:dy](r,"",t),eI=(t={})=>[XO(t),JO],bw=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[bw]>"u"){for(const t of[dy,uy]){const s=history[t];history[t]=function(){const r=s.apply(this,arguments),n=new Event(t);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,bw,{value:!0})}const tI=(t,s)=>s.toLowerCase().indexOf(t.toLowerCase())?"~"+s:s.slice(t.length)||"/",A2=(t="")=>t==="/"?"":t,sI=(t,s)=>t[0]==="~"?t.slice(1):A2(s)+t,rI=(t="",s)=>tI(Nw(A2(t)),Nw(s)),Nw=t=>{try{return decodeURI(t)}catch{return t}},R2={hook:eI,searchHook:YO,parser:OO,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t},O2=m.createContext(R2),ac=()=>m.useContext(O2),I2={},D2=m.createContext(I2),hy=()=>m.useContext(D2),tf=t=>{const[s,r]=t.hook(t);return[rI(t.base,s),T2((n,a)=>r(sI(n,t.base),a))]},yt=()=>tf(ac()),my=(t,s,r,n)=>{const{pattern:a,keys:i}=s instanceof RegExp?{keys:!1,pattern:s}:t(s||"*",n),o=a.exec(r)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const d=i!==!1?Object.fromEntries(i.map((h,f)=>[h,c[f]])):o.groups;let u={...c};return d&&Object.assign(u,d),u})(),...n?[l]:[]]:[!1,null]},L2=t=>my(ac().parser,t,yt()[0]),nI=({children:t,...s})=>{var u,h;const r=ac(),n=s.hook?R2:r;let a=n;const[i,o]=((u=s.ssrPath)==null?void 0:u.split("?"))??[];o&&(s.ssrSearch=o,s.ssrPath=i),s.hrefs=s.hrefs??((h=s.hook)==null?void 0:h.hrefs);let l=m.useRef({}),c=l.current,d=c;for(let f in n){const x=f==="base"?n[f]+(s[f]||""):s[f]||n[f];c===d&&x!==d[f]&&(l.current=d={...d}),d[f]=x,(x!==n[f]||x!==a[f])&&(a=d)}return m.createElement(O2.Provider,{value:a,children:t})},_w=({children:t,component:s},r)=>s?m.createElement(s,{params:r}):typeof t=="function"?t(r):t,aI=t=>{let s=m.useRef(I2);const r=s.current;return s.current=Object.keys(t).length!==Object.keys(r).length||Object.entries(t).some(([n,a])=>a!==r[n])?t:r},Ae=({path:t,nest:s,match:r,...n})=>{const a=ac(),[i]=tf(a),[o,l,c]=r??my(a.parser,t,i,s),d=aI({...hy(),...l});if(!o)return null;const u=c?m.createElement(nI,{base:c},_w(n,d)):_w(n,d);return m.createElement(D2.Provider,{value:d,children:u})},Y=m.forwardRef((t,s)=>{const r=ac(),[n,a]=tf(r),{to:i="",href:o=i,onClick:l,asChild:c,children:d,className:u,replace:h,state:f,...x}=t,g=T2(p=>{p.ctrlKey||p.metaKey||p.altKey||p.shiftKey||p.button!==0||(l==null||l(p),p.defaultPrevented||(p.preventDefault(),a(o,t)))}),v=r.hrefs(o[0]==="~"?o.slice(1):r.base+o,r);return c&&m.isValidElement(d)?m.cloneElement(d,{onClick:g,href:v}):m.createElement("a",{...x,onClick:g,href:v,className:u!=null&&u.call?u(n===o):u,children:d,ref:s})}),M2=t=>Array.isArray(t)?t.flatMap(s=>M2(s&&s.type===m.Fragment?s.props.children:s)):[t],F2=({children:t,location:s})=>{const r=ac(),[n]=tf(r);for(const a of M2(t)){let i=0;if(m.isValidElement(a)&&(i=my(r.parser,a.props.path,s||n,a.props.nest))[0])return m.cloneElement(a,{match:i})}return null},iI=1,oI=1e6;let Ox=0;function lI(){return Ox=(Ox+1)%Number.MAX_SAFE_INTEGER,Ox.toString()}const Ix=new Map,Sw=t=>{if(Ix.has(t))return;const s=setTimeout(()=>{Ix.delete(t),gd({type:"REMOVE_TOAST",toastId:t})},oI);Ix.set(t,s)},cI=(t,s)=>{switch(s.type){case"ADD_TOAST":return{...t,toasts:[s.toast,...t.toasts].slice(0,iI)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===s.toast.id?{...r,...s.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=s;return r?Sw(r):t.toasts.forEach(n=>{Sw(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return s.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==s.toastId)}}},jh=[];let wh={toasts:[]};function gd(t){wh=cI(wh,t),jh.forEach(s=>{s(wh)})}function dI({...t}){const s=lI(),r=a=>gd({type:"UPDATE_TOAST",toast:{...a,id:s}}),n=()=>gd({type:"DISMISS_TOAST",toastId:s});return gd({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:a=>{a||n()}}}),{id:s,dismiss:n,update:r}}function Ze(){const[t,s]=m.useState(wh);return m.useEffect(()=>(jh.push(s),()=>{const r=jh.indexOf(s);r>-1&&jh.splice(r,1)}),[t]),{...t,toast:dI,dismiss:r=>gd({type:"DISMISS_TOAST",toastId:r})}}function ie(t,s,{checkForDefaultPrevented:r=!0}={}){return function(a){if(t==null||t(a),r===!1||!a.defaultPrevented)return s==null?void 0:s(a)}}function kw(t,s){if(typeof t=="function")return t(s);t!=null&&(t.current=s)}function ia(...t){return s=>{let r=!1;const n=t.map(a=>{const i=kw(a,s);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():kw(t[a],null)}}}}function Fe(...t){return m.useCallback(ia(...t),t)}function uI(t,s){const r=m.createContext(s),n=i=>{const{children:o,...l}=i,c=m.useMemo(()=>l,Object.values(l));return e.jsx(r.Provider,{value:c,children:o})};n.displayName=t+"Provider";function a(i){const o=m.useContext(r);if(o)return o;if(s!==void 0)return s;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[n,a]}function _s(t,s=[]){let r=[];function n(i,o){const l=m.createContext(o),c=r.length;r=[...r,o];const d=h=>{var y;const{scope:f,children:x,...g}=h,v=((y=f==null?void 0:f[t])==null?void 0:y[c])||l,p=m.useMemo(()=>g,Object.values(g));return e.jsx(v.Provider,{value:p,children:x})};d.displayName=i+"Provider";function u(h,f){var v;const x=((v=f==null?void 0:f[t])==null?void 0:v[c])||l,g=m.useContext(x);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=r.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return a.scopeName=t,[n,hI(a,...s)]}function hI(...t){const s=t[0];if(t.length===1)return s;const r=()=>{const n=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return m.useMemo(()=>({[`__scope${s.scopeName}`]:o}),[o])}};return r.scopeName=s.scopeName,r}function ei(t){const s=mI(t),r=m.forwardRef((n,a)=>{const{children:i,...o}=n,l=m.Children.toArray(i),c=l.find(xI);if(c){const d=c.props.children,u=l.map(h=>h===c?m.Children.count(d)>1?m.Children.only(null):m.isValidElement(d)?d.props.children:null:h);return e.jsx(s,{...o,ref:a,children:m.isValidElement(d)?m.cloneElement(d,void 0,u):null})}return e.jsx(s,{...o,ref:a,children:i})});return r.displayName=`${t}.Slot`,r}var $2=ei("Slot");function mI(t){const s=m.forwardRef((r,n)=>{const{children:a,...i}=r;if(m.isValidElement(a)){const o=gI(a),l=pI(i,a.props);return a.type!==m.Fragment&&(l.ref=n?ia(n,o):o),m.cloneElement(a,l)}return m.Children.count(a)>1?m.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var U2=Symbol("radix.slottable");function fI(t){const s=({children:r})=>e.jsx(e.Fragment,{children:r});return s.displayName=`${t}.Slottable`,s.__radixId=U2,s}function xI(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===U2}function pI(t,s){const r={...s};for(const n in s){const a=t[n],i=s[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...t,...r}}function gI(t){var n,a;let s=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=s&&"isReactWarning"in s&&s.isReactWarning;return r?t.ref:(s=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,r=s&&"isReactWarning"in s&&s.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function nu(t){const s=t+"CollectionProvider",[r,n]=_s(s),[a,i]=r(s,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:p,children:y}=v,j=Be.useRef(null),w=Be.useRef(new Map).current;return e.jsx(a,{scope:p,itemMap:w,collectionRef:j,children:y})};o.displayName=s;const l=t+"CollectionSlot",c=ei(l),d=Be.forwardRef((v,p)=>{const{scope:y,children:j}=v,w=i(l,y),b=Fe(p,w.collectionRef);return e.jsx(c,{ref:b,children:j})});d.displayName=l;const u=t+"CollectionItemSlot",h="data-radix-collection-item",f=ei(u),x=Be.forwardRef((v,p)=>{const{scope:y,children:j,...w}=v,b=Be.useRef(null),N=Fe(p,b),_=i(u,y);return Be.useEffect(()=>(_.itemMap.set(b,{ref:b,...w}),()=>void _.itemMap.delete(b))),e.jsx(f,{[h]:"",ref:N,children:j})});x.displayName=u;function g(v){const p=i(t+"CollectionConsumer",v);return Be.useCallback(()=>{const j=p.collectionRef.current;if(!j)return[];const w=Array.from(j.querySelectorAll(`[${h}]`));return Array.from(p.itemMap.values()).sort((_,P)=>w.indexOf(_.ref.current)-w.indexOf(P.ref.current))},[p.collectionRef,p.itemMap])}return[{Provider:o,Slot:d,ItemSlot:x},g,n]}var vI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ge=vI.reduce((t,s)=>{const r=ei(`Primitive.${s}`),n=m.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${s}`,{...t,[s]:n}},{});function fy(t,s){t&&fo.flushSync(()=>t.dispatchEvent(s))}function Gt(t){const s=m.useRef(t);return m.useEffect(()=>{s.current=t}),m.useMemo(()=>(...r)=>{var n;return(n=s.current)==null?void 0:n.call(s,...r)},[])}function yI(t,s=globalThis==null?void 0:globalThis.document){const r=Gt(t);m.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return s.addEventListener("keydown",n,{capture:!0}),()=>s.removeEventListener("keydown",n,{capture:!0})},[r,s])}var jI="DismissableLayer",xg="dismissableLayer.update",wI="dismissableLayer.pointerDownOutside",bI="dismissableLayer.focusOutside",Cw,z2=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ic=m.forwardRef((t,s)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=t,d=m.useContext(z2),[u,h]=m.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=m.useState({}),g=Fe(s,P=>h(P)),v=Array.from(d.layers),[p]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),y=v.indexOf(p),j=u?v.indexOf(u):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,b=j>=y,N=_I(P=>{const A=P.target,k=[...d.branches].some(T=>T.contains(A));!b||k||(a==null||a(P),o==null||o(P),P.defaultPrevented||l==null||l())},f),_=SI(P=>{const A=P.target;[...d.branches].some(T=>T.contains(A))||(i==null||i(P),o==null||o(P),P.defaultPrevented||l==null||l())},f);return yI(P=>{j===d.layers.size-1&&(n==null||n(P),!P.defaultPrevented&&l&&(P.preventDefault(),l()))},f),m.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Cw=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),Ew(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Cw)}},[u,f,r,d]),m.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),Ew())},[u,d]),m.useEffect(()=>{const P=()=>x({});return document.addEventListener(xg,P),()=>document.removeEventListener(xg,P)},[]),e.jsx(ge.div,{...c,ref:g,style:{pointerEvents:w?b?"auto":"none":void 0,...t.style},onFocusCapture:ie(t.onFocusCapture,_.onFocusCapture),onBlurCapture:ie(t.onBlurCapture,_.onBlurCapture),onPointerDownCapture:ie(t.onPointerDownCapture,N.onPointerDownCapture)})});ic.displayName=jI;var NI="DismissableLayerBranch",V2=m.forwardRef((t,s)=>{const r=m.useContext(z2),n=m.useRef(null),a=Fe(s,n);return m.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),e.jsx(ge.div,{...t,ref:a})});V2.displayName=NI;function _I(t,s=globalThis==null?void 0:globalThis.document){const r=Gt(t),n=m.useRef(!1),a=m.useRef(()=>{});return m.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){B2(wI,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(s.removeEventListener("click",a.current),a.current=c,s.addEventListener("click",a.current,{once:!0})):c()}else s.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{s.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),s.removeEventListener("pointerdown",i),s.removeEventListener("click",a.current)}},[s,r]),{onPointerDownCapture:()=>n.current=!0}}function SI(t,s=globalThis==null?void 0:globalThis.document){const r=Gt(t),n=m.useRef(!1);return m.useEffect(()=>{const a=i=>{i.target&&!n.current&&B2(bI,r,{originalEvent:i},{discrete:!1})};return s.addEventListener("focusin",a),()=>s.removeEventListener("focusin",a)},[s,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Ew(){const t=new CustomEvent(xg);document.dispatchEvent(t)}function B2(t,s,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});s&&a.addEventListener(t,s,{once:!0}),n?fy(a,i):a.dispatchEvent(i)}var kI=ic,CI=V2,rs=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},EI="Portal",oc=m.forwardRef((t,s)=>{var l;const{container:r,...n}=t,[a,i]=m.useState(!1);rs(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?I5.createPortal(e.jsx(ge.div,{...n,ref:s}),o):null});oc.displayName=EI;function TI(t,s){return m.useReducer((r,n)=>s[r][n]??r,t)}var Ss=t=>{const{present:s,children:r}=t,n=PI(s),a=typeof r=="function"?r({present:n.isPresent}):m.Children.only(r),i=Fe(n.ref,AI(a));return typeof r=="function"||n.isPresent?m.cloneElement(a,{ref:i}):null};Ss.displayName="Presence";function PI(t){const[s,r]=m.useState(),n=m.useRef(null),a=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[l,c]=TI(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const d=Xu(n.current);i.current=l==="mounted"?d:"none"},[l]),rs(()=>{const d=n.current,u=a.current;if(u!==t){const f=i.current,x=Xu(d);t?c("MOUNT"):x==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&f!==x?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,c]),rs(()=>{if(s){let d;const u=s.ownerDocument.defaultView??window,h=x=>{const v=Xu(n.current).includes(x.animationName);if(x.target===s&&v&&(c("ANIMATION_END"),!a.current)){const p=s.style.animationFillMode;s.style.animationFillMode="forwards",d=u.setTimeout(()=>{s.style.animationFillMode==="forwards"&&(s.style.animationFillMode=p)})}},f=x=>{x.target===s&&(i.current=Xu(n.current))};return s.addEventListener("animationstart",f),s.addEventListener("animationcancel",h),s.addEventListener("animationend",h),()=>{u.clearTimeout(d),s.removeEventListener("animationstart",f),s.removeEventListener("animationcancel",h),s.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[s,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function Xu(t){return(t==null?void 0:t.animationName)||"none"}function AI(t){var n,a;let s=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=s&&"isReactWarning"in s&&s.isReactWarning;return r?t.ref:(s=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,r=s&&"isReactWarning"in s&&s.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var RI=cv[" useInsertionEffect ".trim().toString()]||rs;function an({prop:t,defaultProp:s,onChange:r=()=>{},caller:n}){const[a,i,o]=OI({defaultProp:s,onChange:r}),l=t!==void 0,c=l?t:a;{const u=m.useRef(t!==void 0);m.useEffect(()=>{const h=u.current;h!==l&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,n])}const d=m.useCallback(u=>{var h;if(l){const f=II(u)?u(t):u;f!==t&&((h=o.current)==null||h.call(o,f))}else i(u)},[l,t,i,o]);return[c,d]}function OI({defaultProp:t,onChange:s}){const[r,n]=m.useState(t),a=m.useRef(r),i=m.useRef(s);return RI(()=>{i.current=s},[s]),m.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,n,i]}function II(t){return typeof t=="function"}var q2=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),DI="VisuallyHidden",xy=m.forwardRef((t,s)=>e.jsx(ge.span,{...t,ref:s,style:{...q2,...t.style}}));xy.displayName=DI;var py="ToastProvider",[gy,LI,MI]=nu("Toast"),[H2,RH]=_s("Toast",[MI]),[FI,sf]=H2(py),W2=t=>{const{__scopeToast:s,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=t,[l,c]=m.useState(null),[d,u]=m.useState(0),h=m.useRef(!1),f=m.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${py}\`. Expected non-empty \`string\`.`),e.jsx(gy.Provider,{scope:s,children:e.jsx(FI,{scope:s,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:m.useCallback(()=>u(x=>x+1),[]),onToastRemove:m.useCallback(()=>u(x=>x-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};W2.displayName=py;var K2="ToastViewport",$I=["F8"],pg="toast.viewportPause",gg="toast.viewportResume",G2=m.forwardRef((t,s)=>{const{__scopeToast:r,hotkey:n=$I,label:a="Notifications ({hotkey})",...i}=t,o=sf(K2,r),l=LI(r),c=m.useRef(null),d=m.useRef(null),u=m.useRef(null),h=m.useRef(null),f=Fe(s,h,o.onViewportChange),x=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;m.useEffect(()=>{const p=y=>{var w;n.length!==0&&n.every(b=>y[b]||y.code===b)&&((w=h.current)==null||w.focus())};return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[n]),m.useEffect(()=>{const p=c.current,y=h.current;if(g&&p&&y){const j=()=>{if(!o.isClosePausedRef.current){const _=new CustomEvent(pg);y.dispatchEvent(_),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const _=new CustomEvent(gg);y.dispatchEvent(_),o.isClosePausedRef.current=!1}},b=_=>{!p.contains(_.relatedTarget)&&w()},N=()=>{p.contains(document.activeElement)||w()};return p.addEventListener("focusin",j),p.addEventListener("focusout",b),p.addEventListener("pointermove",j),p.addEventListener("pointerleave",N),window.addEventListener("blur",j),window.addEventListener("focus",w),()=>{p.removeEventListener("focusin",j),p.removeEventListener("focusout",b),p.removeEventListener("pointermove",j),p.removeEventListener("pointerleave",N),window.removeEventListener("blur",j),window.removeEventListener("focus",w)}}},[g,o.isClosePausedRef]);const v=m.useCallback(({tabbingDirection:p})=>{const j=l().map(w=>{const b=w.ref.current,N=[b,...XI(b)];return p==="forwards"?N:N.reverse()});return(p==="forwards"?j.reverse():j).flat()},[l]);return m.useEffect(()=>{const p=h.current;if(p){const y=j=>{var N,_,P;const w=j.altKey||j.ctrlKey||j.metaKey;if(j.key==="Tab"&&!w){const A=document.activeElement,k=j.shiftKey;if(j.target===p&&k){(N=d.current)==null||N.focus();return}const R=v({tabbingDirection:k?"backwards":"forwards"}),B=R.findIndex(H=>H===A);Dx(R.slice(B+1))?j.preventDefault():k?(_=d.current)==null||_.focus():(P=u.current)==null||P.focus()}};return p.addEventListener("keydown",y),()=>p.removeEventListener("keydown",y)}},[l,v]),e.jsxs(CI,{ref:c,role:"region","aria-label":a.replace("{hotkey}",x),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&e.jsx(vg,{ref:d,onFocusFromOutsideViewport:()=>{const p=v({tabbingDirection:"forwards"});Dx(p)}}),e.jsx(gy.Slot,{scope:r,children:e.jsx(ge.ol,{tabIndex:-1,...i,ref:f})}),g&&e.jsx(vg,{ref:u,onFocusFromOutsideViewport:()=>{const p=v({tabbingDirection:"backwards"});Dx(p)}})]})});G2.displayName=K2;var Q2="ToastFocusProxy",vg=m.forwardRef((t,s)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=t,i=sf(Q2,r);return e.jsx(xy,{"aria-hidden":!0,tabIndex:0,...a,ref:s,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&n()}})});vg.displayName=Q2;var au="Toast",UI="toast.swipeStart",zI="toast.swipeMove",VI="toast.swipeCancel",BI="toast.swipeEnd",Z2=m.forwardRef((t,s)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...o}=t,[l,c]=an({prop:n,defaultProp:a??!0,onChange:i,caller:au});return e.jsx(Ss,{present:r||l,children:e.jsx(WI,{open:l,...o,ref:s,onClose:()=>c(!1),onPause:Gt(t.onPause),onResume:Gt(t.onResume),onSwipeStart:ie(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ie(t.onSwipeMove,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:ie(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ie(t.onSwipeEnd,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});Z2.displayName=au;var[qI,HI]=H2(au,{onClose(){}}),WI=m.forwardRef((t,s)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:x,...g}=t,v=sf(au,r),[p,y]=m.useState(null),j=Fe(s,H=>y(H)),w=m.useRef(null),b=m.useRef(null),N=a||v.duration,_=m.useRef(0),P=m.useRef(N),A=m.useRef(0),{onToastAdd:k,onToastRemove:T}=v,S=Gt(()=>{var I;(p==null?void 0:p.contains(document.activeElement))&&((I=v.viewport)==null||I.focus()),o()}),R=m.useCallback(H=>{!H||H===1/0||(window.clearTimeout(A.current),_.current=new Date().getTime(),A.current=window.setTimeout(S,H))},[S]);m.useEffect(()=>{const H=v.viewport;if(H){const I=()=>{R(P.current),d==null||d()},V=()=>{const z=new Date().getTime()-_.current;P.current=P.current-z,window.clearTimeout(A.current),c==null||c()};return H.addEventListener(pg,V),H.addEventListener(gg,I),()=>{H.removeEventListener(pg,V),H.removeEventListener(gg,I)}}},[v.viewport,N,c,d,R]),m.useEffect(()=>{i&&!v.isClosePausedRef.current&&R(N)},[i,N,v.isClosePausedRef,R]),m.useEffect(()=>(k(),()=>T()),[k,T]);const B=m.useMemo(()=>p?rS(p):null,[p]);return v.viewport?e.jsxs(e.Fragment,{children:[B&&e.jsx(KI,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:B}),e.jsx(qI,{scope:r,onClose:S,children:fo.createPortal(e.jsx(gy.ItemSlot,{scope:r,children:e.jsx(kI,{asChild:!0,onEscapeKeyDown:ie(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||S(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:e.jsx(ge.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...g,ref:j,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ie(t.onKeyDown,H=>{H.key==="Escape"&&(l==null||l(H.nativeEvent),H.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,S()))}),onPointerDown:ie(t.onPointerDown,H=>{H.button===0&&(w.current={x:H.clientX,y:H.clientY})}),onPointerMove:ie(t.onPointerMove,H=>{if(!w.current)return;const I=H.clientX-w.current.x,V=H.clientY-w.current.y,z=!!b.current,O=["left","right"].includes(v.swipeDirection),U=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,ee=O?U(0,I):0,se=O?0:U(0,V),W=H.pointerType==="touch"?10:2,ue={x:ee,y:se},ye={originalEvent:H,delta:ue};z?(b.current=ue,Ju(zI,h,ye,{discrete:!1})):Tw(ue,v.swipeDirection,W)?(b.current=ue,Ju(UI,u,ye,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(I)>W||Math.abs(V)>W)&&(w.current=null)}),onPointerUp:ie(t.onPointerUp,H=>{const I=b.current,V=H.target;if(V.hasPointerCapture(H.pointerId)&&V.releasePointerCapture(H.pointerId),b.current=null,w.current=null,I){const z=H.currentTarget,O={originalEvent:H,delta:I};Tw(I,v.swipeDirection,v.swipeThreshold)?Ju(BI,x,O,{discrete:!0}):Ju(VI,f,O,{discrete:!0}),z.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),KI=t=>{const{__scopeToast:s,children:r,...n}=t,a=sf(au,s),[i,o]=m.useState(!1),[l,c]=m.useState(!1);return ZI(()=>o(!0)),m.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:e.jsx(oc,{asChild:!0,children:e.jsx(xy,{...n,children:i&&e.jsxs(e.Fragment,{children:[a.label," ",r]})})})},GI="ToastTitle",Y2=m.forwardRef((t,s)=>{const{__scopeToast:r,...n}=t;return e.jsx(ge.div,{...n,ref:s})});Y2.displayName=GI;var QI="ToastDescription",X2=m.forwardRef((t,s)=>{const{__scopeToast:r,...n}=t;return e.jsx(ge.div,{...n,ref:s})});X2.displayName=QI;var J2="ToastAction",eS=m.forwardRef((t,s)=>{const{altText:r,...n}=t;return r.trim()?e.jsx(sS,{altText:r,asChild:!0,children:e.jsx(vy,{...n,ref:s})}):(console.error(`Invalid prop \`altText\` supplied to \`${J2}\`. Expected non-empty \`string\`.`),null)});eS.displayName=J2;var tS="ToastClose",vy=m.forwardRef((t,s)=>{const{__scopeToast:r,...n}=t,a=HI(tS,r);return e.jsx(sS,{asChild:!0,children:e.jsx(ge.button,{type:"button",...n,ref:s,onClick:ie(t.onClick,a.onClose)})})});vy.displayName=tS;var sS=m.forwardRef((t,s)=>{const{__scopeToast:r,altText:n,...a}=t;return e.jsx(ge.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:s})});function rS(t){const s=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&s.push(n.textContent),YI(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&s.push(o)}else s.push(...rS(n))}}),s}function Ju(t,s,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});s&&a.addEventListener(t,s,{once:!0}),n?fy(a,i):a.dispatchEvent(i)}var Tw=(t,s,r=0)=>{const n=Math.abs(t.x),a=Math.abs(t.y),i=n>a;return s==="left"||s==="right"?i&&n>r:!i&&a>r};function ZI(t=()=>{}){const s=Gt(t);rs(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(s)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[s])}function YI(t){return t.nodeType===t.ELEMENT_NODE}function XI(t){const s=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)s.push(r.currentNode);return s}function Dx(t){const s=document.activeElement;return t.some(r=>r===s?!0:(r.focus(),document.activeElement!==s))}var JI=W2,nS=G2,aS=Z2,iS=Y2,oS=X2,lS=eS,cS=vy;function dS(t){var s,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(s=0;s<a;s++)t[s]&&(r=dS(t[s]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function uS(){for(var t,s,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(s=dS(t))&&(n&&(n+=" "),n+=s);return n}const Pw=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Aw=uS,lc=(t,s)=>r=>{var n;if((s==null?void 0:s.variants)==null)return Aw(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=s,o=Object.keys(a).map(d=>{const u=r==null?void 0:r[d],h=i==null?void 0:i[d];if(u===null)return null;const f=Pw(u)||Pw(h);return a[d][f]}),l=r&&Object.entries(r).reduce((d,u)=>{let[h,f]=u;return f===void 0||(d[h]=f),d},{}),c=s==null||(n=s.compoundVariants)===null||n===void 0?void 0:n.reduce((d,u)=>{let{class:h,className:f,...x}=u;return Object.entries(x).every(g=>{let[v,p]=g;return Array.isArray(p)?p.includes({...i,...l}[v]):{...i,...l}[v]===p})?[...d,h,f]:d},[]);return Aw(t,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hS=(...t)=>t.filter((s,r,n)=>!!s&&n.indexOf(s)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=m.forwardRef(({color:t="currentColor",size:s=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>m.createElement("svg",{ref:c,...tD,width:s,height:s,stroke:t,strokeWidth:n?Number(r)*24/Number(s):r,className:hS("lucide",a),...l},[...o.map(([d,u])=>m.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=(t,s)=>{const r=m.forwardRef(({className:n,...a},i)=>m.createElement(sD,{ref:i,iconNode:s,className:hS(`lucide-${eD(t)}`,n),...a}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=Q("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=Q("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=Q("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=Q("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rw=Q("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=Q("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=Q("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=Q("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=Q("AudioLines",[["path",{d:"M2 10v3",key:"1fnikh"}],["path",{d:"M6 6v11",key:"11sgs0"}],["path",{d:"M10 3v18",key:"yhl04a"}],["path",{d:"M14 8v7",key:"3a1oy3"}],["path",{d:"M18 5v13",key:"123xd1"}],["path",{d:"M22 10v3",key:"154ddg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rm=Q("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=Q("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=Q("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eh=Q("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=Q("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=Q("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=Q("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=Q("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=Q("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iu=Q("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=Q("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=Q("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ou=Q("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=Q("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=Q("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=Q("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=Q("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=Q("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=Q("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=Q("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=Q("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yy=Q("CloudRain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=Q("CloudSnow",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M8 15h.01",key:"a7atzg"}],["path",{d:"M8 19h.01",key:"puxtts"}],["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M12 21h.01",key:"h35vbk"}],["path",{d:"M16 15h.01",key:"rnfrdf"}],["path",{d:"M16 19h.01",key:"1vcnzz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=Q("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=Q("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=Q("Compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=Q("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=Q("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=Q("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=Q("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=Q("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=Q("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const of=Q("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=Q("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=Q("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=Q("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=Q("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=Q("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=Q("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=Q("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=Q("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=Q("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=Q("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=Q("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=Q("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=Q("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xc=Q("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=Q("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=Q("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=Q("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=Q("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=Q("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=Q("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=Q("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=Q("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=Q("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=Q("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=Q("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ml=Q("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=Q("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=Q("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yg=Q("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=Q("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=Q("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=Q("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=Q("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iw=Q("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=Q("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=Q("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=Q("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=Q("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=Q("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=Q("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=Q("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=Q("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=Q("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=Q("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=Q("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=Q("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=Q("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=Q("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=Q("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=Q("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=Q("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=Q("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=Q("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=Q("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=Q("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=Q("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const df=Q("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=Q("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ri=Q("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cu=Q("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const so=Q("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=Q("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=Q("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=Q("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=Q("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=Q("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=Q("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=Q("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=Q("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=Q("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=Q("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wg=Q("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mw=Q("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=Q("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=Q("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=Q("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=Q("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=Q("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=Q("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=Q("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=Q("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const du=Q("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=Q("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=Q("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),ky="-",$D=t=>{const s=zD(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const l=o.split(ky);return l[0]===""&&l.length!==1&&l.shift(),SS(l,s)||UD(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},SS=(t,s)=>{var o;if(t.length===0)return s.classGroupId;const r=t[0],n=s.nextPart.get(r),a=n?SS(t.slice(1),n):void 0;if(a)return a;if(s.validators.length===0)return;const i=t.join(ky);return(o=s.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},Fw=/^\[(.+)\]$/,UD=t=>{if(Fw.test(t)){const s=Fw.exec(t)[1],r=s==null?void 0:s.substring(0,s.indexOf(":"));if(r)return"arbitrary.."+r}},zD=t=>{const{theme:s,prefix:r}=t,n={nextPart:new Map,validators:[]};return BD(Object.entries(t.classGroups),r).forEach(([i,o])=>{bg(o,n,i,s)}),n},bg=(t,s,r,n)=>{t.forEach(a=>{if(typeof a=="string"){const i=a===""?s:$w(s,a);i.classGroupId=r;return}if(typeof a=="function"){if(VD(a)){bg(a(n),s,r,n);return}s.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{bg(o,$w(s,i),r,n)})})},$w=(t,s)=>{let r=t;return s.split(ky).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},VD=t=>t.isThemeGetter,BD=(t,s)=>s?t.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?s+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[s+o,l])):i);return[r,a]}):t,qD=t=>{if(t<1)return{get:()=>{},set:()=>{}};let s=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),s++,s>t&&(s=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},kS="!",HD=t=>{const{separator:s,experimentalParseClassName:r}=t,n=s.length===1,a=s[0],i=s.length,o=l=>{const c=[];let d=0,u=0,h;for(let p=0;p<l.length;p++){let y=l[p];if(d===0){if(y===a&&(n||l.slice(p,p+i)===s)){c.push(l.slice(u,p)),u=p+i;continue}if(y==="/"){h=p;continue}}y==="["?d++:y==="]"&&d--}const f=c.length===0?l:l.substring(u),x=f.startsWith(kS),g=x?f.substring(1):f,v=h&&h>u?h-u:void 0;return{modifiers:c,hasImportantModifier:x,baseClassName:g,maybePostfixModifierPosition:v}};return r?l=>r({className:l,parseClassName:o}):o},WD=t=>{if(t.length<=1)return t;const s=[];let r=[];return t.forEach(n=>{n[0]==="["?(s.push(...r.sort(),n),r=[]):r.push(n)}),s.push(...r.sort()),s},KD=t=>({cache:qD(t.cacheSize),parseClassName:HD(t),...$D(t)}),GD=/\s+/,QD=(t,s)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=s,i=[],o=t.trim().split(GD);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:x}=r(d);let g=!!x,v=n(g?f.substring(0,x):f);if(!v){if(!g){l=d+(l.length>0?" "+l:l);continue}if(v=n(f),!v){l=d+(l.length>0?" "+l:l);continue}g=!1}const p=WD(u).join(":"),y=h?p+kS:p,j=y+v;if(i.includes(j))continue;i.push(j);const w=a(v,g);for(let b=0;b<w.length;++b){const N=w[b];i.push(y+N)}l=d+(l.length>0?" "+l:l)}return l};function ZD(){let t=0,s,r,n="";for(;t<arguments.length;)(s=arguments[t++])&&(r=CS(s))&&(n&&(n+=" "),n+=r);return n}const CS=t=>{if(typeof t=="string")return t;let s,r="";for(let n=0;n<t.length;n++)t[n]&&(s=CS(t[n]))&&(r&&(r+=" "),r+=s);return r};function YD(t,...s){let r,n,a,i=o;function o(c){const d=s.reduce((u,h)=>h(u),t());return r=KD(d),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const d=n(c);if(d)return d;const u=QD(c,r);return a(c,u),u}return function(){return i(ZD.apply(null,arguments))}}const Tt=t=>{const s=r=>r[t]||[];return s.isThemeGetter=!0,s},ES=/^\[(?:([a-z-]+):)?(.+)\]$/i,XD=/^\d+\/\d+$/,JD=new Set(["px","full","screen"]),eL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,tL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,sL=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,rL=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,nL=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Fn=t=>ul(t)||JD.has(t)||XD.test(t),pa=t=>dc(t,"length",hL),ul=t=>!!t&&!Number.isNaN(Number(t)),Lx=t=>dc(t,"number",ul),$c=t=>!!t&&Number.isInteger(Number(t)),aL=t=>t.endsWith("%")&&ul(t.slice(0,-1)),He=t=>ES.test(t),ga=t=>eL.test(t),iL=new Set(["length","size","percentage"]),oL=t=>dc(t,iL,TS),lL=t=>dc(t,"position",TS),cL=new Set(["image","url"]),dL=t=>dc(t,cL,fL),uL=t=>dc(t,"",mL),Uc=()=>!0,dc=(t,s,r)=>{const n=ES.exec(t);return n?n[1]?typeof s=="string"?n[1]===s:s.has(n[1]):r(n[2]):!1},hL=t=>tL.test(t)&&!sL.test(t),TS=()=>!1,mL=t=>rL.test(t),fL=t=>nL.test(t),xL=()=>{const t=Tt("colors"),s=Tt("spacing"),r=Tt("blur"),n=Tt("brightness"),a=Tt("borderColor"),i=Tt("borderRadius"),o=Tt("borderSpacing"),l=Tt("borderWidth"),c=Tt("contrast"),d=Tt("grayscale"),u=Tt("hueRotate"),h=Tt("invert"),f=Tt("gap"),x=Tt("gradientColorStops"),g=Tt("gradientColorStopPositions"),v=Tt("inset"),p=Tt("margin"),y=Tt("opacity"),j=Tt("padding"),w=Tt("saturate"),b=Tt("scale"),N=Tt("sepia"),_=Tt("skew"),P=Tt("space"),A=Tt("translate"),k=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],S=()=>["auto",He,s],R=()=>[He,s],B=()=>["",Fn,pa],H=()=>["auto",ul,He],I=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",He],ee=()=>["auto","avoid","all","avoid-page","page","left","right","column"],se=()=>[ul,He];return{cacheSize:500,separator:":",theme:{colors:[Uc],spacing:[Fn,pa],blur:["none","",ga,He],brightness:se(),borderColor:[t],borderRadius:["none","","full",ga,He],borderSpacing:R(),borderWidth:B(),contrast:se(),grayscale:U(),hueRotate:se(),invert:U(),gap:R(),gradientColorStops:[t],gradientColorStopPositions:[aL,pa],inset:S(),margin:S(),opacity:se(),padding:R(),saturate:se(),scale:se(),sepia:U(),skew:se(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",He]}],container:["container"],columns:[{columns:[ga]}],"break-after":[{"break-after":ee()}],"break-before":[{"break-before":ee()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...I(),He]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",$c,He]}],basis:[{basis:S()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",He]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",$c,He]}],"grid-cols":[{"grid-cols":[Uc]}],"col-start-end":[{col:["auto",{span:["full",$c,He]},He]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[Uc]}],"row-start-end":[{row:["auto",{span:[$c,He]},He]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",He]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",He]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...O()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...O(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...O(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[j]}],px:[{px:[j]}],py:[{py:[j]}],ps:[{ps:[j]}],pe:[{pe:[j]}],pt:[{pt:[j]}],pr:[{pr:[j]}],pb:[{pb:[j]}],pl:[{pl:[j]}],m:[{m:[p]}],mx:[{mx:[p]}],my:[{my:[p]}],ms:[{ms:[p]}],me:[{me:[p]}],mt:[{mt:[p]}],mr:[{mr:[p]}],mb:[{mb:[p]}],ml:[{ml:[p]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",He,s]}],"min-w":[{"min-w":[He,s,"min","max","fit"]}],"max-w":[{"max-w":[He,s,"none","full","min","max","fit","prose",{screen:[ga]},ga]}],h:[{h:[He,s,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[He,s,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[He,s,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[He,s,"auto","min","max","fit"]}],"font-size":[{text:["base",ga,pa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Lx]}],"font-family":[{font:[Uc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",He]}],"line-clamp":[{"line-clamp":["none",ul,Lx]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Fn,He]}],"list-image":[{"list-image":["none",He]}],"list-style-type":[{list:["none","disc","decimal",He]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Fn,pa]}],"underline-offset":[{"underline-offset":["auto",Fn,He]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",He]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",He]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...I(),lL]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",oL]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},dL]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:V()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[Fn,He]}],"outline-w":[{outline:[Fn,pa]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Fn,pa]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ga,uL]}],"shadow-color":[{shadow:[Uc]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ga,He]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",He]}],duration:[{duration:se()}],ease:[{ease:["linear","in","out","in-out",He]}],delay:[{delay:se()}],animate:[{animate:["none","spin","ping","pulse","bounce",He]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[$c,He]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",He]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",He]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",He]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Fn,pa,Lx]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},pL=YD(xL);function oe(...t){return pL(uS(t))}const gL=JI,PS=m.forwardRef(({className:t,...s},r)=>e.jsx(nS,{ref:r,className:oe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...s}));PS.displayName=nS.displayName;const vL=lc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),AS=m.forwardRef(({className:t,variant:s,...r},n)=>e.jsx(aS,{ref:n,className:oe(vL({variant:s}),t),...r}));AS.displayName=aS.displayName;const yL=m.forwardRef(({className:t,...s},r)=>e.jsx(lS,{ref:r,className:oe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...s}));yL.displayName=lS.displayName;const RS=m.forwardRef(({className:t,...s},r)=>e.jsx(cS,{ref:r,className:oe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...s,children:e.jsx(cc,{className:"h-4 w-4"})}));RS.displayName=cS.displayName;const OS=m.forwardRef(({className:t,...s},r)=>e.jsx(iS,{ref:r,className:oe("text-sm font-semibold",t),...s}));OS.displayName=iS.displayName;const IS=m.forwardRef(({className:t,...s},r)=>e.jsx(oS,{ref:r,className:oe("text-sm opacity-90",t),...s}));IS.displayName=oS.displayName;function DS(){const{toasts:t}=Ze();return e.jsxs(gL,{children:[t.map(function({id:s,title:r,description:n,action:a,...i}){return e.jsxs(AS,{...i,children:[e.jsxs("div",{className:"grid gap-1",children:[r&&e.jsx(OS,{children:r}),n&&e.jsx(IS,{children:n})]}),a,e.jsx(RS,{})]},s)}),e.jsx(PS,{})]})}const LS=m.createContext(void 0);function MS({children:t}){const[s,r]=m.useState("light");m.useEffect(()=>{const a=localStorage.getItem("theme");if(a)r(a);else{const i=window.matchMedia("(prefers-color-scheme: dark)").matches;r(i?"dark":"light")}},[]),m.useEffect(()=>{s==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",s)},[s]);const n=()=>{r(a=>a==="light"?"dark":"light")};return e.jsx(LS.Provider,{value:{theme:s,toggleTheme:n},children:t})}function jL(){const t=m.useContext(LS);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t}const FS=m.createContext(void 0);function wL({children:t}){const[s,r]=m.useState(()=>localStorage.getItem("preferred-language")||"en");m.useEffect(()=>{localStorage.setItem("preferred-language",s),document.documentElement.lang=s},[s]);const n=(a,i,o)=>s==="en"?i:o;return e.jsx(FS.Provider,{value:{language:s,setLanguage:r,t:n},children:t})}function On(){const t=m.useContext(FS);if(!t)throw new Error("useLanguage must be used within a LanguageProvider");return t}const wi={siteName:"",logoUrl:"",siteDescription:"   ",siteUrl:"",defaultLanguage:"bn"},$S=m.createContext(void 0),Cy=()=>{const t=m.useContext($S);if(!t)throw new Error("useSiteSettings must be used within a SiteSettingsProvider");return t},US=({children:t})=>{const[s,r]=m.useState(wi),[n,a]=m.useState(!0),i=async()=>{try{const{getSiteSettings:d}=await de(async()=>{const{getSiteSettings:h}=await Promise.resolve().then(()=>ke);return{getSiteSettings:h}},void 0),u=await d();console.log("Fetched dynamic settings:",u),r({siteName:u.siteName||wi.siteName,logoUrl:u.logoUrl||wi.logoUrl,siteDescription:u.siteDescription||wi.siteDescription,siteUrl:u.siteUrl||wi.siteUrl,defaultLanguage:u.defaultLanguage||wi.defaultLanguage}),typeof window<"u"&&(window.globalSiteSettings=u)}catch(d){console.error("Error fetching site settings:",d),r(wi)}finally{a(!1)}},o=async()=>{await i()},l=d=>{r(u=>({...u,...d}))};m.useEffect(()=>{i();const d=u=>{var h;console.log("Site settings updated globally:",u.detail),(h=u.detail)!=null&&h.siteName&&r(f=>({...f,siteName:u.detail.siteName})),o()};return window.addEventListener("siteSettingsUpdated",d),()=>{window.removeEventListener("siteSettingsUpdated",d)}},[]);const c={settings:s,updateSettings:l,refreshSettings:o,isLoading:n};return e.jsx($S.Provider,{value:c,children:t})},zS=m.createContext(void 0);function VS({children:t}){const[s,r]=m.useState(null),[n,a]=m.useState(null),[i,o]=m.useState(!0),{toast:l}=Ze();m.useEffect(()=>{ne.auth.getSession().then(({data:{session:g},error:v})=>{v?(console.error("Error getting session:",v),localStorage.removeItem("supabase.auth.token"),localStorage.removeItem("sb-mrjukcqspvhketnfzmud-auth-token"),r(null),a(null)):(r(g),a((g==null?void 0:g.user)??null)),o(!1)}).catch(g=>{console.error("Session retrieval failed:",g),r(null),a(null),o(!1)});const{data:{subscription:x}}=ne.auth.onAuthStateChange((g,v)=>{try{console.log("Auth state changed:",g),g==="TOKEN_REFRESHED"?console.log("JWT token refreshed successfully"):g==="SIGNED_OUT"&&(localStorage.removeItem("supabase.auth.token"),localStorage.removeItem("sb-mrjukcqspvhketnfzmud-auth-token")),r(v),a((v==null?void 0:v.user)??null),o(!1)}catch(p){console.error("Auth state change error:",p),r(null),a(null),o(!1)}});return()=>{try{x.unsubscribe()}catch(g){console.error("Error unsubscribing from auth changes:",g)}}},[]);const f={session:s,user:n,signIn:async(x,g)=>{try{o(!0);const{error:v}=await ne.auth.signInWithPassword({email:x,password:g});if(v)throw v;l({title:" ",description:"   "})}catch(v){throw l({title:" ",description:v.message,variant:"destructive"}),v}finally{o(!1)}},signUp:async(x,g,v)=>{try{o(!0);const{error:p}=await ne.auth.signUp({email:x,password:g,options:{data:v}});if(p)throw p;l({title:"  ",description:"       "})}catch(p){throw l({title:"  ",description:p.message,variant:"destructive"}),p}finally{o(!1)}},signOut:async()=>{try{o(!0);const{error:x}=await ne.auth.signOut();if(x)throw x;l({title:" ",description:"   "})}catch(x){l({title:" ",description:x.message,variant:"destructive"})}finally{o(!1)}},loading:i,resetPassword:async x=>{try{o(!0);const{error:g}=await ne.auth.resetPasswordForEmail(x,{redirectTo:`${window.location.origin}/reset-password`});if(g)throw g;l({title:"  ",description:"        "})}catch(g){l({title:"  ",description:g.message,variant:"destructive"})}finally{o(!1)}}};return e.jsx(zS.Provider,{value:f,children:t})}function rt(){const t=m.useContext(zS);if(t===void 0)throw new Error("useSupabaseAuth must be used within an AuthProvider");return t}const BS=m.createContext(void 0),bL=({children:t})=>{const{user:s,signIn:r,signOut:n,loading:a}=rt(),[i,o]=m.useState(!1),[l,c]=m.useState(!0),{toast:d}=Ze(),u=async()=>{var g;if(!s)return o(!1),!1;try{const p=((g=s.user_metadata)==null?void 0:g.role)==="admin";return o(p),p}catch(v){return console.error("Error checking admin status:",v),o(!1),!1}},h=async(g,v)=>{try{c(!0),await r(g,v)}catch(p){throw console.error("Admin login error:",p),new Error(p.message||"   ")}finally{c(!1)}},f=async()=>{try{await n(),o(!1),d({title:" ",description:"      "})}catch(g){console.error("Logout error:",g),d({title:" ",description:"   ",variant:"destructive"})}};m.useEffect(()=>{a||(s?u().finally(()=>c(!1)):(o(!1),c(!1)))},[s,a]);const x={isAdmin:i,loading:l||a,loginAsAdmin:h,logout:f,checkAdminStatus:u};return e.jsx(BS.Provider,{value:x,children:t})},qS=()=>{const t=m.useContext(BS);if(t===void 0)throw new Error("useSupabaseAdminAuth must be used within a SupabaseAdminAuthProvider");return t},C=m.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,className:oe("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s}));C.displayName="Card";const L=m.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,className:oe("flex flex-col space-y-1.5 p-6",t),...s}));L.displayName="CardHeader";const M=m.forwardRef(({className:t,...s},r)=>e.jsx("h3",{ref:r,className:oe("text-2xl font-semibold leading-none tracking-tight",t),...s}));M.displayName="CardTitle";const Ce=m.forwardRef(({className:t,...s},r)=>e.jsx("p",{ref:r,className:oe("text-sm text-muted-foreground",t),...s}));Ce.displayName="CardDescription";const E=m.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,className:oe("p-6 pt-0",t),...s}));E.displayName="CardContent";const Bl=m.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,className:oe("flex items-center p-6 pt-0",t),...s}));Bl.displayName="CardFooter";const Ey=lc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),D=m.forwardRef(({className:t,variant:s,size:r,asChild:n=!1,...a},i)=>{const o=n?$2:"button";return e.jsx(o,{className:oe(Ey({variant:s,size:r,className:t})),ref:i,...a})});D.displayName="Button";const te=m.forwardRef(({className:t,type:s,...r},n)=>e.jsx("input",{type:s,className:oe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...r}));te.displayName="Input";var NL="Label",HS=m.forwardRef((t,s)=>e.jsx(ge.label,{...t,ref:s,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=t.onMouseDown)==null||a.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));HS.displayName=NL;var WS=HS;const _L=lc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),G=m.forwardRef(({className:t,...s},r)=>e.jsx(WS,{ref:r,className:oe(_L(),t),...s}));G.displayName=WS.displayName;const SL=lc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Bs=m.forwardRef(({className:t,variant:s,...r},n)=>e.jsx("div",{ref:n,role:"alert",className:oe(SL({variant:s}),t),...r}));Bs.displayName="Alert";const kL=m.forwardRef(({className:t,...s},r)=>e.jsx("h5",{ref:r,className:oe("mb-1 font-medium leading-none tracking-tight",t),...s}));kL.displayName="AlertTitle";const qs=m.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,className:oe("text-sm [&_p]:leading-relaxed",t),...s}));qs.displayName="AlertDescription";function CL(){const{language:t,setLanguage:s,t:r}=On();return e.jsxs(D,{variant:"ghost",size:"sm",onClick:()=>s(t==="en"?"bn":"en"),className:"h-10 w-10 p-0 hover:bg-accent/10","aria-label":r("language-toggle","Toggle language","  "),children:[e.jsx(yS,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:r("current-language",`Current: ${t.toUpperCase()}`,`: ${t==="en"?"":""}`)})]})}const EL="admin2025";function TL(){const[,t]=yt(),[s,r]=m.useState(""),[n,a]=m.useState(""),[i,o]=m.useState(!1),[l,c]=m.useState(!1),{t:d}=On(),u=async f=>{f.preventDefault(),c(!0),a(""),await new Promise(x=>setTimeout(x,800)),s.trim()===EL?t("/admin-login"):a(d("invalid-code","Invalid access code. Please try again.","     ")),c(!1)},h=f=>{f.key==="Enter"&&u(f)};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-secondary/5 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md space-y-6",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[e.jsx("div",{className:"p-3 bg-primary/10 rounded-full",children:e.jsx(Is,{className:"h-8 w-8 text-primary"})}),e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx(CL,{})})]}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:d("admin-access","Admin Access"," ")}),e.jsx("p",{className:"text-muted-foreground text-sm",children:d("secure-access","Secure access to Bengali News admin panel","     ")})]}),e.jsxs(C,{className:"shadow-lg border-0 bg-card/80 backdrop-blur-sm",children:[e.jsxs(L,{className:"space-y-1",children:[e.jsxs(M,{className:"text-lg flex items-center gap-2",children:[e.jsx(vS,{className:"h-5 w-5"}),d("enter-access-code","Enter Access Code","   ")]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:d("code-required","A valid access code is required to continue","       ")})]}),e.jsx(E,{className:"space-y-4",children:e.jsxs("form",{onSubmit:u,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"access-code",className:"text-sm font-medium",children:d("access-code","Access Code"," ")}),e.jsxs("div",{className:"relative",children:[e.jsx(te,{id:"access-code",type:i?"text":"password",value:s,onChange:f=>{r(f.target.value),n&&a("")},onKeyPress:h,placeholder:d("enter-code","Enter your access code","    "),className:"h-12 text-center tracking-widest pr-12",disabled:l,autoComplete:"off",maxLength:20}),e.jsx(D,{type:"button",variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 -translate-y-1/2 h-8 w-8 p-0",onClick:()=>o(!i),disabled:l,children:i?e.jsx(pD,{className:"h-4 w-4"}):e.jsx(Et,{className:"h-4 w-4"})})]})]}),n&&e.jsxs(Bs,{variant:"destructive",className:"text-sm",children:[e.jsx(zs,{className:"h-4 w-4"}),e.jsx(qs,{children:n})]}),e.jsx(D,{type:"submit",className:"w-full h-12 text-base font-medium",disabled:l||!s.trim(),children:l?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-4 w-4 border-2 border-primary-foreground/30 border-t-primary-foreground rounded-full animate-spin"}),d("verifying","Verifying...","  ...")]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ny,{className:"h-4 w-4"}),d("access-admin","Access Admin Panel","  "),e.jsx(rl,{className:"h-4 w-4"})]})})]})})]}),e.jsxs(Bs,{className:"bg-blue-50 border-blue-200 text-blue-800 dark:bg-blue-950/50 dark:border-blue-900 dark:text-blue-200",children:[e.jsx(Is,{className:"h-4 w-4"}),e.jsxs(qs,{className:"text-sm",children:[e.jsx("strong",{children:d("security-notice","Security Notice:"," :")})," ",d("security-text","This is a secure admin portal. All access attempts are logged and monitored.","            ")]})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-muted-foreground",children:[e.jsx(df,{className:"h-3 w-3"}),e.jsx("span",{children:d("mobile-optimized","Mobile Optimized"," ")}),e.jsx(mi,{className:"h-3 w-3"}),e.jsx("span",{children:d("multi-language","Multi-Language","")})]}),e.jsx("div",{className:"text-center text-xs text-muted-foreground",children:e.jsxs("p",{children:[d("footer-text","Bengali News Admin Portal","   "),"  "," ",d("powered-by","Powered by Replit","Replit  ")]})})]})})}var KS={exports:{}},PL="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",AL=PL,RL=AL;function GS(){}function QS(){}QS.resetWarningCache=GS;var OL=function(){function t(n,a,i,o,l,c){if(c!==RL){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function s(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:s,element:t,elementType:t,instanceOf:s,node:t,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:QS,resetWarningCache:GS};return r.PropTypes=r,r};KS.exports=OL();var IL=KS.exports;const Dt=Xl(IL);function DL(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var ZS=m,LL=DL(ZS);function Uw(t,s,r){return s in t?Object.defineProperty(t,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[s]=r,t}function ML(t,s){t.prototype=Object.create(s.prototype),t.prototype.constructor=t,t.__proto__=s}var FL=!!(typeof window<"u"&&window.document&&window.document.createElement);function $L(t,s,r){if(typeof t!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof s!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof r<"u"&&typeof r!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function n(a){return a.displayName||a.name||"Component"}return function(i){if(typeof i!="function")throw new Error("Expected WrappedComponent to be a React component.");var o=[],l;function c(){l=t(o.map(function(u){return u.props})),d.canUseDOM?s(l):r&&(l=r(l))}var d=function(u){ML(h,u);function h(){return u.apply(this,arguments)||this}h.peek=function(){return l},h.rewind=function(){if(h.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var g=l;return l=void 0,o=[],g};var f=h.prototype;return f.UNSAFE_componentWillMount=function(){o.push(this),c()},f.componentDidUpdate=function(){c()},f.componentWillUnmount=function(){var g=o.indexOf(this);o.splice(g,1),c()},f.render=function(){return LL.createElement(i,this.props)},h}(ZS.PureComponent);return Uw(d,"displayName","SideEffect("+n(i)+")"),Uw(d,"canUseDOM",FL),d}}var UL=$L;const zL=Xl(UL);var VL=typeof Element<"u",BL=typeof Map=="function",qL=typeof Set=="function",HL=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function bh(t,s){if(t===s)return!0;if(t&&s&&typeof t=="object"&&typeof s=="object"){if(t.constructor!==s.constructor)return!1;var r,n,a;if(Array.isArray(t)){if(r=t.length,r!=s.length)return!1;for(n=r;n--!==0;)if(!bh(t[n],s[n]))return!1;return!0}var i;if(BL&&t instanceof Map&&s instanceof Map){if(t.size!==s.size)return!1;for(i=t.entries();!(n=i.next()).done;)if(!s.has(n.value[0]))return!1;for(i=t.entries();!(n=i.next()).done;)if(!bh(n.value[1],s.get(n.value[0])))return!1;return!0}if(qL&&t instanceof Set&&s instanceof Set){if(t.size!==s.size)return!1;for(i=t.entries();!(n=i.next()).done;)if(!s.has(n.value[0]))return!1;return!0}if(HL&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(s)){if(r=t.length,r!=s.length)return!1;for(n=r;n--!==0;)if(t[n]!==s[n])return!1;return!0}if(t.constructor===RegExp)return t.source===s.source&&t.flags===s.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof s.valueOf=="function")return t.valueOf()===s.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof s.toString=="function")return t.toString()===s.toString();if(a=Object.keys(t),r=a.length,r!==Object.keys(s).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(s,a[n]))return!1;if(VL&&t instanceof Element)return!1;for(n=r;n--!==0;)if(!((a[n]==="_owner"||a[n]==="__v"||a[n]==="__o")&&t.$$typeof)&&!bh(t[a[n]],s[a[n]]))return!1;return!0}return t!==t&&s!==s}var WL=function(s,r){try{return bh(s,r)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}};const KL=Xl(WL);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var zw=Object.getOwnPropertySymbols,GL=Object.prototype.hasOwnProperty,QL=Object.prototype.propertyIsEnumerable;function ZL(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function YL(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var s={},r=0;r<10;r++)s["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(s).map(function(i){return s[i]});if(n.join("")!=="0123456789")return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(i){a[i]=i}),Object.keys(Object.assign({},a)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var XL=YL()?Object.assign:function(t,s){for(var r,n=ZL(t),a,i=1;i<arguments.length;i++){r=Object(arguments[i]);for(var o in r)GL.call(r,o)&&(n[o]=r[o]);if(zw){a=zw(r);for(var l=0;l<a.length;l++)QL.call(r,a[l])&&(n[a[l]]=r[a[l]])}}return n};const JL=Xl(XL);var Vi={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},Ve={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(Ve).map(function(t){return Ve[t]});var Lt={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},am={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Ud={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},eM=Object.keys(am).reduce(function(t,s){return t[am[s]]=s,t},{}),tM=[Ve.NOSCRIPT,Ve.SCRIPT,Ve.STYLE],Yr="data-react-helmet",sM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rM=function(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")},nM=function(){function t(s,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(s,a.key,a)}}return function(s,r,n){return r&&t(s.prototype,r),n&&t(s,n),s}}(),Zs=Object.assign||function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},aM=function(t,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);t.prototype=Object.create(s&&s.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(t,s):t.__proto__=s)},Vw=function(t,s){var r={};for(var n in t)s.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},iM=function(t,s){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s&&(typeof s=="object"||typeof s=="function")?s:t},Ng=function(s){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return r===!1?String(s):String(s).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},oM=function(s){var r=hl(s,Ve.TITLE),n=hl(s,Ud.TITLE_TEMPLATE);if(n&&r)return n.replace(/%s/g,function(){return Array.isArray(r)?r.join(""):r});var a=hl(s,Ud.DEFAULT_TITLE);return r||a||void 0},lM=function(s){return hl(s,Ud.ON_CHANGE_CLIENT_STATE)||function(){}},Mx=function(s,r){return r.filter(function(n){return typeof n[s]<"u"}).map(function(n){return n[s]}).reduce(function(n,a){return Zs({},n,a)},{})},cM=function(s,r){return r.filter(function(n){return typeof n[Ve.BASE]<"u"}).map(function(n){return n[Ve.BASE]}).reverse().reduce(function(n,a){if(!n.length)for(var i=Object.keys(a),o=0;o<i.length;o++){var l=i[o],c=l.toLowerCase();if(s.indexOf(c)!==-1&&a[c])return n.concat(a)}return n},[])},zc=function(s,r,n){var a={};return n.filter(function(i){return Array.isArray(i[s])?!0:(typeof i[s]<"u"&&mM("Helmet: "+s+' should be of type "Array". Instead found type "'+sM(i[s])+'"'),!1)}).map(function(i){return i[s]}).reverse().reduce(function(i,o){var l={};o.filter(function(f){for(var x=void 0,g=Object.keys(f),v=0;v<g.length;v++){var p=g[v],y=p.toLowerCase();r.indexOf(y)!==-1&&!(x===Lt.REL&&f[x].toLowerCase()==="canonical")&&!(y===Lt.REL&&f[y].toLowerCase()==="stylesheet")&&(x=y),r.indexOf(p)!==-1&&(p===Lt.INNER_HTML||p===Lt.CSS_TEXT||p===Lt.ITEM_PROP)&&(x=p)}if(!x||!f[x])return!1;var j=f[x].toLowerCase();return a[x]||(a[x]={}),l[x]||(l[x]={}),a[x][j]?!1:(l[x][j]=!0,!0)}).reverse().forEach(function(f){return i.push(f)});for(var c=Object.keys(l),d=0;d<c.length;d++){var u=c[d],h=JL({},a[u],l[u]);a[u]=h}return i},[]).reverse()},hl=function(s,r){for(var n=s.length-1;n>=0;n--){var a=s[n];if(a.hasOwnProperty(r))return a[r]}return null},dM=function(s){return{baseTag:cM([Lt.HREF,Lt.TARGET],s),bodyAttributes:Mx(Vi.BODY,s),defer:hl(s,Ud.DEFER),encode:hl(s,Ud.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Mx(Vi.HTML,s),linkTags:zc(Ve.LINK,[Lt.REL,Lt.HREF],s),metaTags:zc(Ve.META,[Lt.NAME,Lt.CHARSET,Lt.HTTPEQUIV,Lt.PROPERTY,Lt.ITEM_PROP],s),noscriptTags:zc(Ve.NOSCRIPT,[Lt.INNER_HTML],s),onChangeClientState:lM(s),scriptTags:zc(Ve.SCRIPT,[Lt.SRC,Lt.INNER_HTML],s),styleTags:zc(Ve.STYLE,[Lt.CSS_TEXT],s),title:oM(s),titleAttributes:Mx(Vi.TITLE,s)}},_g=function(){var t=Date.now();return function(s){var r=Date.now();r-t>16?(t=r,s(r)):setTimeout(function(){_g(s)},0)}}(),Bw=function(s){return clearTimeout(s)},uM=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||_g:global.requestAnimationFrame||_g,hM=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||Bw:global.cancelAnimationFrame||Bw,mM=function(s){return console&&typeof console.warn=="function"&&console.warn(s)},Vc=null,fM=function(s){Vc&&hM(Vc),s.defer?Vc=uM(function(){qw(s,function(){Vc=null})}):(qw(s),Vc=null)},qw=function(s,r){var n=s.baseTag,a=s.bodyAttributes,i=s.htmlAttributes,o=s.linkTags,l=s.metaTags,c=s.noscriptTags,d=s.onChangeClientState,u=s.scriptTags,h=s.styleTags,f=s.title,x=s.titleAttributes;Sg(Ve.BODY,a),Sg(Ve.HTML,i),xM(f,x);var g={baseTag:Io(Ve.BASE,n),linkTags:Io(Ve.LINK,o),metaTags:Io(Ve.META,l),noscriptTags:Io(Ve.NOSCRIPT,c),scriptTags:Io(Ve.SCRIPT,u),styleTags:Io(Ve.STYLE,h)},v={},p={};Object.keys(g).forEach(function(y){var j=g[y],w=j.newTags,b=j.oldTags;w.length&&(v[y]=w),b.length&&(p[y]=g[y].oldTags)}),r&&r(),d(s,v,p)},YS=function(s){return Array.isArray(s)?s.join(""):s},xM=function(s,r){typeof s<"u"&&document.title!==s&&(document.title=YS(s)),Sg(Ve.TITLE,r)},Sg=function(s,r){var n=document.getElementsByTagName(s)[0];if(n){for(var a=n.getAttribute(Yr),i=a?a.split(","):[],o=[].concat(i),l=Object.keys(r),c=0;c<l.length;c++){var d=l[c],u=r[d]||"";n.getAttribute(d)!==u&&n.setAttribute(d,u),i.indexOf(d)===-1&&i.push(d);var h=o.indexOf(d);h!==-1&&o.splice(h,1)}for(var f=o.length-1;f>=0;f--)n.removeAttribute(o[f]);i.length===o.length?n.removeAttribute(Yr):n.getAttribute(Yr)!==l.join(",")&&n.setAttribute(Yr,l.join(","))}},Io=function(s,r){var n=document.head||document.querySelector(Ve.HEAD),a=n.querySelectorAll(s+"["+Yr+"]"),i=Array.prototype.slice.call(a),o=[],l=void 0;return r&&r.length&&r.forEach(function(c){var d=document.createElement(s);for(var u in c)if(c.hasOwnProperty(u))if(u===Lt.INNER_HTML)d.innerHTML=c.innerHTML;else if(u===Lt.CSS_TEXT)d.styleSheet?d.styleSheet.cssText=c.cssText:d.appendChild(document.createTextNode(c.cssText));else{var h=typeof c[u]>"u"?"":c[u];d.setAttribute(u,h)}d.setAttribute(Yr,"true"),i.some(function(f,x){return l=x,d.isEqualNode(f)})?i.splice(l,1):o.push(d)}),i.forEach(function(c){return c.parentNode.removeChild(c)}),o.forEach(function(c){return n.appendChild(c)}),{oldTags:i,newTags:o}},XS=function(s){return Object.keys(s).reduce(function(r,n){var a=typeof s[n]<"u"?n+'="'+s[n]+'"':""+n;return r?r+" "+a:a},"")},pM=function(s,r,n,a){var i=XS(n),o=YS(r);return i?"<"+s+" "+Yr+'="true" '+i+">"+Ng(o,a)+"</"+s+">":"<"+s+" "+Yr+'="true">'+Ng(o,a)+"</"+s+">"},gM=function(s,r,n){return r.reduce(function(a,i){var o=Object.keys(i).filter(function(d){return!(d===Lt.INNER_HTML||d===Lt.CSS_TEXT)}).reduce(function(d,u){var h=typeof i[u]>"u"?u:u+'="'+Ng(i[u],n)+'"';return d?d+" "+h:h},""),l=i.innerHTML||i.cssText||"",c=tM.indexOf(s)===-1;return a+"<"+s+" "+Yr+'="true" '+o+(c?"/>":">"+l+"</"+s+">")},"")},JS=function(s){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(s).reduce(function(n,a){return n[am[a]||a]=s[a],n},r)},vM=function(s){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(s).reduce(function(n,a){return n[eM[a]||a]=s[a],n},r)},yM=function(s,r,n){var a,i=(a={key:r},a[Yr]=!0,a),o=JS(n,i);return[Be.createElement(Ve.TITLE,o,r)]},jM=function(s,r){return r.map(function(n,a){var i,o=(i={key:a},i[Yr]=!0,i);return Object.keys(n).forEach(function(l){var c=am[l]||l;if(c===Lt.INNER_HTML||c===Lt.CSS_TEXT){var d=n.innerHTML||n.cssText;o.dangerouslySetInnerHTML={__html:d}}else o[c]=n[l]}),Be.createElement(s,o)})},$n=function(s,r,n){switch(s){case Ve.TITLE:return{toComponent:function(){return yM(s,r.title,r.titleAttributes)},toString:function(){return pM(s,r.title,r.titleAttributes,n)}};case Vi.BODY:case Vi.HTML:return{toComponent:function(){return JS(r)},toString:function(){return XS(r)}};default:return{toComponent:function(){return jM(s,r)},toString:function(){return gM(s,r,n)}}}},ek=function(s){var r=s.baseTag,n=s.bodyAttributes,a=s.encode,i=s.htmlAttributes,o=s.linkTags,l=s.metaTags,c=s.noscriptTags,d=s.scriptTags,u=s.styleTags,h=s.title,f=h===void 0?"":h,x=s.titleAttributes;return{base:$n(Ve.BASE,r,a),bodyAttributes:$n(Vi.BODY,n,a),htmlAttributes:$n(Vi.HTML,i,a),link:$n(Ve.LINK,o,a),meta:$n(Ve.META,l,a),noscript:$n(Ve.NOSCRIPT,c,a),script:$n(Ve.SCRIPT,d,a),style:$n(Ve.STYLE,u,a),title:$n(Ve.TITLE,{title:f,titleAttributes:x},a)}},wM=function(s){var r,n;return n=r=function(a){aM(i,a);function i(){return rM(this,i),iM(this,a.apply(this,arguments))}return i.prototype.shouldComponentUpdate=function(l){return!KL(this.props,l)},i.prototype.mapNestedChildrenToProps=function(l,c){if(!c)return null;switch(l.type){case Ve.SCRIPT:case Ve.NOSCRIPT:return{innerHTML:c};case Ve.STYLE:return{cssText:c}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},i.prototype.flattenArrayTypeChildren=function(l){var c,d=l.child,u=l.arrayTypeChildren,h=l.newChildProps,f=l.nestedChildren;return Zs({},u,(c={},c[d.type]=[].concat(u[d.type]||[],[Zs({},h,this.mapNestedChildrenToProps(d,f))]),c))},i.prototype.mapObjectTypeChildren=function(l){var c,d,u=l.child,h=l.newProps,f=l.newChildProps,x=l.nestedChildren;switch(u.type){case Ve.TITLE:return Zs({},h,(c={},c[u.type]=x,c.titleAttributes=Zs({},f),c));case Ve.BODY:return Zs({},h,{bodyAttributes:Zs({},f)});case Ve.HTML:return Zs({},h,{htmlAttributes:Zs({},f)})}return Zs({},h,(d={},d[u.type]=Zs({},f),d))},i.prototype.mapArrayTypeChildrenToProps=function(l,c){var d=Zs({},c);return Object.keys(l).forEach(function(u){var h;d=Zs({},d,(h={},h[u]=l[u],h))}),d},i.prototype.warnOnInvalidChildren=function(l,c){return!0},i.prototype.mapChildrenToProps=function(l,c){var d=this,u={};return Be.Children.forEach(l,function(h){if(!(!h||!h.props)){var f=h.props,x=f.children,g=Vw(f,["children"]),v=vM(g);switch(d.warnOnInvalidChildren(h,x),h.type){case Ve.LINK:case Ve.META:case Ve.NOSCRIPT:case Ve.SCRIPT:case Ve.STYLE:u=d.flattenArrayTypeChildren({child:h,arrayTypeChildren:u,newChildProps:v,nestedChildren:x});break;default:c=d.mapObjectTypeChildren({child:h,newProps:c,newChildProps:v,nestedChildren:x});break}}}),c=this.mapArrayTypeChildrenToProps(u,c),c},i.prototype.render=function(){var l=this.props,c=l.children,d=Vw(l,["children"]),u=Zs({},d);return c&&(u=this.mapChildrenToProps(c,u)),Be.createElement(s,u)},nM(i,null,[{key:"canUseDOM",set:function(l){s.canUseDOM=l}}]),i}(Be.Component),r.propTypes={base:Dt.object,bodyAttributes:Dt.object,children:Dt.oneOfType([Dt.arrayOf(Dt.node),Dt.node]),defaultTitle:Dt.string,defer:Dt.bool,encodeSpecialCharacters:Dt.bool,htmlAttributes:Dt.object,link:Dt.arrayOf(Dt.object),meta:Dt.arrayOf(Dt.object),noscript:Dt.arrayOf(Dt.object),onChangeClientState:Dt.func,script:Dt.arrayOf(Dt.object),style:Dt.arrayOf(Dt.object),title:Dt.string,titleAttributes:Dt.object,titleTemplate:Dt.string},r.defaultProps={defer:!0,encodeSpecialCharacters:!0},r.peek=s.peek,r.rewind=function(){var a=s.rewind();return a||(a=ek({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),a},n},bM=function(){return null},NM=zL(dM,fM,ek)(bM),lr=wM(NM);lr.renderStatic=lr.rewind;var it;(function(t){t.assertEqual=a=>{};function s(a){}t.assertIs=s;function r(a){throw new Error}t.assertNever=r,t.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},t.getValidEnumValues=a=>{const i=t.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return t.objectValues(o)},t.objectValues=a=>t.objectKeys(a).map(function(i){return a[i]}),t.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},t.find=(a,i)=>{for(const o of a)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=n,t.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(it||(it={}));var Hw;(function(t){t.mergeShapes=(s,r)=>({...s,...r})})(Hw||(Hw={}));const Te=it.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),_a=t=>{switch(typeof t){case"undefined":return Te.undefined;case"string":return Te.string;case"number":return Number.isNaN(t)?Te.nan:Te.number;case"boolean":return Te.boolean;case"function":return Te.function;case"bigint":return Te.bigint;case"symbol":return Te.symbol;case"object":return Array.isArray(t)?Te.array:t===null?Te.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Te.promise:typeof Map<"u"&&t instanceof Map?Te.map:typeof Set<"u"&&t instanceof Set?Te.set:typeof Date<"u"&&t instanceof Date?Te.date:Te.object;default:return Te.unknown}},ce=it.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class oa extends Error{get errors(){return this.issues}constructor(s){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=s}format(s){const r=s||function(i){return i.message},n={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(r(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return a(this),n}static assert(s){if(!(s instanceof oa))throw new Error(`Not a ZodError: ${s}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,it.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(s=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];r[i]=r[i]||[],r[i].push(s(a))}else n.push(s(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}oa.create=t=>new oa(t);const kg=(t,s)=>{let r;switch(t.code){case ce.invalid_type:t.received===Te.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case ce.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,it.jsonStringifyReplacer)}`;break;case ce.unrecognized_keys:r=`Unrecognized key(s) in object: ${it.joinValues(t.keys,", ")}`;break;case ce.invalid_union:r="Invalid input";break;case ce.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${it.joinValues(t.options)}`;break;case ce.invalid_enum_value:r=`Invalid enum value. Expected ${it.joinValues(t.options)}, received '${t.received}'`;break;case ce.invalid_arguments:r="Invalid function arguments";break;case ce.invalid_return_type:r="Invalid function return type";break;case ce.invalid_date:r="Invalid date";break;case ce.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:it.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case ce.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case ce.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case ce.custom:r="Invalid input";break;case ce.invalid_intersection_types:r="Intersection results could not be merged";break;case ce.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case ce.not_finite:r="Number must be finite";break;default:r=s.defaultError,it.assertNever(t)}return{message:r}};let _M=kg;function SM(){return _M}const kM=t=>{const{data:s,path:r,errorMaps:n,issueData:a}=t,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=n.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:s,defaultError:l}).message;return{...a,path:i,message:l}};function Ne(t,s){const r=SM(),n=kM({issueData:s,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===kg?void 0:kg].filter(a=>!!a)});t.common.issues.push(n)}class br{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(s,r){const n=[];for(const a of r){if(a.status==="aborted")return Ue;a.status==="dirty"&&s.dirty(),n.push(a.value)}return{status:s.value,value:n}}static async mergeObjectAsync(s,r){const n=[];for(const a of r){const i=await a.key,o=await a.value;n.push({key:i,value:o})}return br.mergeObjectSync(s,n)}static mergeObjectSync(s,r){const n={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return Ue;i.status==="dirty"&&s.dirty(),o.status==="dirty"&&s.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[i.value]=o.value)}return{status:s.value,value:n}}}const Ue=Object.freeze({status:"aborted"}),Jc=t=>({status:"dirty",value:t}),Mr=t=>({status:"valid",value:t}),Ww=t=>t.status==="aborted",Kw=t=>t.status==="dirty",ql=t=>t.status==="valid",im=t=>typeof Promise<"u"&&t instanceof Promise;var Pe;(function(t){t.errToObj=s=>typeof s=="string"?{message:s}:s||{},t.toString=s=>typeof s=="string"?s:s==null?void 0:s.message})(Pe||(Pe={}));class ni{constructor(s,r,n,a){this._cachedPath=[],this.parent=s,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Gw=(t,s)=>{if(ql(s))return{success:!0,data:s.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new oa(t.common.issues);return this._error=r,this._error}}};function Qe(t){if(!t)return{};const{errorMap:s,invalid_type_error:r,required_error:n,description:a}=t;if(s&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return s?{errorMap:s,description:a}:{errorMap:(o,l)=>{const{message:c}=t;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:a}}class nt{get description(){return this._def.description}_getType(s){return _a(s.data)}_getOrReturnCtx(s,r){return r||{common:s.parent.common,data:s.data,parsedType:_a(s.data),schemaErrorMap:this._def.errorMap,path:s.path,parent:s.parent}}_processInputParams(s){return{status:new br,ctx:{common:s.parent.common,data:s.data,parsedType:_a(s.data),schemaErrorMap:this._def.errorMap,path:s.path,parent:s.parent}}}_parseSync(s){const r=this._parse(s);if(im(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(s){const r=this._parse(s);return Promise.resolve(r)}parse(s,r){const n=this.safeParse(s,r);if(n.success)return n.data;throw n.error}safeParse(s,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:s,parsedType:_a(s)},a=this._parseSync({data:s,path:n.path,parent:n});return Gw(n,a)}"~validate"(s){var n,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:s,parsedType:_a(s)};if(!this["~standard"].async)try{const i=this._parseSync({data:s,path:[],parent:r});return ql(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(a=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:s,path:[],parent:r}).then(i=>ql(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(s,r){const n=await this.safeParseAsync(s,r);if(n.success)return n.data;throw n.error}async safeParseAsync(s,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:s,parsedType:_a(s)},a=this._parse({data:s,path:n.path,parent:n}),i=await(im(a)?a:Promise.resolve(a));return Gw(n,i)}refine(s,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=s(a),l=()=>i.addIssue({code:ce.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(s,r){return this._refinement((n,a)=>s(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(s){return new Kl({schema:this,typeName:ze.ZodEffects,effect:{type:"refinement",refinement:s}})}superRefine(s){return this._refinement(s)}constructor(s){this.spa=this.safeParseAsync,this._def=s,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Za.create(this,this._def)}nullable(){return Gl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Sn.create(this)}promise(){return dm.create(this,this._def)}or(s){return lm.create([this,s],this._def)}and(s){return cm.create(this,s,this._def)}transform(s){return new Kl({...Qe(this._def),schema:this,typeName:ze.ZodEffects,effect:{type:"transform",transform:s}})}default(s){const r=typeof s=="function"?s:()=>s;return new Tg({...Qe(this._def),innerType:this,defaultValue:r,typeName:ze.ZodDefault})}brand(){return new QM({typeName:ze.ZodBranded,type:this,...Qe(this._def)})}catch(s){const r=typeof s=="function"?s:()=>s;return new Pg({...Qe(this._def),innerType:this,catchValue:r,typeName:ze.ZodCatch})}describe(s){const r=this.constructor;return new r({...this._def,description:s})}pipe(s){return Ty.create(this,s)}readonly(){return Ag.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const CM=/^c[^\s-]{8,}$/i,EM=/^[0-9a-z]+$/,TM=/^[0-9A-HJKMNP-TV-Z]{26}$/i,PM=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,AM=/^[a-z0-9_-]{21}$/i,RM=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,OM=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,IM=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,DM="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Fx;const LM=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,MM=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,FM=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,$M=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,UM=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,zM=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,tk="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",VM=new RegExp(`^${tk}$`);function sk(t){let s="[0-5]\\d";t.precision?s=`${s}\\.\\d{${t.precision}}`:t.precision==null&&(s=`${s}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${s})${r}`}function BM(t){return new RegExp(`^${sk(t)}$`)}function qM(t){let s=`${tk}T${sk(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),s=`${s}(${r.join("|")})`,new RegExp(`^${s}$`)}function HM(t,s){return!!((s==="v4"||!s)&&LM.test(t)||(s==="v6"||!s)&&FM.test(t))}function WM(t,s){if(!RM.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||s&&a.alg!==s)}catch{return!1}}function KM(t,s){return!!((s==="v4"||!s)&&MM.test(t)||(s==="v6"||!s)&&$M.test(t))}class Zn extends nt{_parse(s){if(this._def.coerce&&(s.data=String(s.data)),this._getType(s)!==Te.string){const i=this._getOrReturnCtx(s);return Ne(i,{code:ce.invalid_type,expected:Te.string,received:i.parsedType}),Ue}const n=new br;let a;for(const i of this._def.checks)if(i.kind==="min")s.data.length<i.value&&(a=this._getOrReturnCtx(s,a),Ne(a,{code:ce.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")s.data.length>i.value&&(a=this._getOrReturnCtx(s,a),Ne(a,{code:ce.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=s.data.length>i.value,l=s.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(s,a),o?Ne(a,{code:ce.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Ne(a,{code:ce.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")IM.test(s.data)||(a=this._getOrReturnCtx(s,a),Ne(a,{validation:"email",code:ce.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Fx||(Fx=new RegExp(DM,"u")),Fx.test(s.data)||(a=this._getOrReturnCtx(s,a),Ne(a,{validation:"emoji",code:ce.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")PM.test(s.data)||(a=this._getOrReturnCtx(s,a),Ne(a,{validation:"uuid",code:ce.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")AM.test(s.data)||(a=this._getOrReturnCtx(s,a),Ne(a,{validation:"nanoid",code:ce.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")CM.test(s.data)||(a=this._getOrReturnCtx(s,a),Ne(a,{validation:"cuid",code:ce.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")EM.test(s.data)||(a=this._getOrReturnCtx(s,a),Ne(a,{validation:"cuid2",code:ce.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")TM.test(s.data)||(a=this._getOrReturnCtx(s,a),Ne(a,{validation:"ulid",code:ce.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(s.data)}catch{a=this._getOrReturnCtx(s,a),Ne(a,{validation:"url",code:ce.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(s.data)||(a=this._getOrReturnCtx(s,a),Ne(a,{validation:"regex",code:ce.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?s.data=s.data.trim():i.kind==="includes"?s.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(s,a),Ne(a,{code:ce.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?s.data=s.data.toLowerCase():i.kind==="toUpperCase"?s.data=s.data.toUpperCase():i.kind==="startsWith"?s.data.startsWith(i.value)||(a=this._getOrReturnCtx(s,a),Ne(a,{code:ce.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?s.data.endsWith(i.value)||(a=this._getOrReturnCtx(s,a),Ne(a,{code:ce.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?qM(i).test(s.data)||(a=this._getOrReturnCtx(s,a),Ne(a,{code:ce.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?VM.test(s.data)||(a=this._getOrReturnCtx(s,a),Ne(a,{code:ce.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?BM(i).test(s.data)||(a=this._getOrReturnCtx(s,a),Ne(a,{code:ce.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?OM.test(s.data)||(a=this._getOrReturnCtx(s,a),Ne(a,{validation:"duration",code:ce.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?HM(s.data,i.version)||(a=this._getOrReturnCtx(s,a),Ne(a,{validation:"ip",code:ce.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?WM(s.data,i.alg)||(a=this._getOrReturnCtx(s,a),Ne(a,{validation:"jwt",code:ce.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?KM(s.data,i.version)||(a=this._getOrReturnCtx(s,a),Ne(a,{validation:"cidr",code:ce.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?UM.test(s.data)||(a=this._getOrReturnCtx(s,a),Ne(a,{validation:"base64",code:ce.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?zM.test(s.data)||(a=this._getOrReturnCtx(s,a),Ne(a,{validation:"base64url",code:ce.invalid_string,message:i.message}),n.dirty()):it.assertNever(i);return{status:n.value,value:s.data}}_regex(s,r,n){return this.refinement(a=>s.test(a),{validation:r,code:ce.invalid_string,...Pe.errToObj(n)})}_addCheck(s){return new Zn({...this._def,checks:[...this._def.checks,s]})}email(s){return this._addCheck({kind:"email",...Pe.errToObj(s)})}url(s){return this._addCheck({kind:"url",...Pe.errToObj(s)})}emoji(s){return this._addCheck({kind:"emoji",...Pe.errToObj(s)})}uuid(s){return this._addCheck({kind:"uuid",...Pe.errToObj(s)})}nanoid(s){return this._addCheck({kind:"nanoid",...Pe.errToObj(s)})}cuid(s){return this._addCheck({kind:"cuid",...Pe.errToObj(s)})}cuid2(s){return this._addCheck({kind:"cuid2",...Pe.errToObj(s)})}ulid(s){return this._addCheck({kind:"ulid",...Pe.errToObj(s)})}base64(s){return this._addCheck({kind:"base64",...Pe.errToObj(s)})}base64url(s){return this._addCheck({kind:"base64url",...Pe.errToObj(s)})}jwt(s){return this._addCheck({kind:"jwt",...Pe.errToObj(s)})}ip(s){return this._addCheck({kind:"ip",...Pe.errToObj(s)})}cidr(s){return this._addCheck({kind:"cidr",...Pe.errToObj(s)})}datetime(s){return typeof s=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:s}):this._addCheck({kind:"datetime",precision:typeof(s==null?void 0:s.precision)>"u"?null:s==null?void 0:s.precision,offset:(s==null?void 0:s.offset)??!1,local:(s==null?void 0:s.local)??!1,...Pe.errToObj(s==null?void 0:s.message)})}date(s){return this._addCheck({kind:"date",message:s})}time(s){return typeof s=="string"?this._addCheck({kind:"time",precision:null,message:s}):this._addCheck({kind:"time",precision:typeof(s==null?void 0:s.precision)>"u"?null:s==null?void 0:s.precision,...Pe.errToObj(s==null?void 0:s.message)})}duration(s){return this._addCheck({kind:"duration",...Pe.errToObj(s)})}regex(s,r){return this._addCheck({kind:"regex",regex:s,...Pe.errToObj(r)})}includes(s,r){return this._addCheck({kind:"includes",value:s,position:r==null?void 0:r.position,...Pe.errToObj(r==null?void 0:r.message)})}startsWith(s,r){return this._addCheck({kind:"startsWith",value:s,...Pe.errToObj(r)})}endsWith(s,r){return this._addCheck({kind:"endsWith",value:s,...Pe.errToObj(r)})}min(s,r){return this._addCheck({kind:"min",value:s,...Pe.errToObj(r)})}max(s,r){return this._addCheck({kind:"max",value:s,...Pe.errToObj(r)})}length(s,r){return this._addCheck({kind:"length",value:s,...Pe.errToObj(r)})}nonempty(s){return this.min(1,Pe.errToObj(s))}trim(){return new Zn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Zn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Zn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(s=>s.kind==="datetime")}get isDate(){return!!this._def.checks.find(s=>s.kind==="date")}get isTime(){return!!this._def.checks.find(s=>s.kind==="time")}get isDuration(){return!!this._def.checks.find(s=>s.kind==="duration")}get isEmail(){return!!this._def.checks.find(s=>s.kind==="email")}get isURL(){return!!this._def.checks.find(s=>s.kind==="url")}get isEmoji(){return!!this._def.checks.find(s=>s.kind==="emoji")}get isUUID(){return!!this._def.checks.find(s=>s.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(s=>s.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(s=>s.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(s=>s.kind==="cuid2")}get isULID(){return!!this._def.checks.find(s=>s.kind==="ulid")}get isIP(){return!!this._def.checks.find(s=>s.kind==="ip")}get isCIDR(){return!!this._def.checks.find(s=>s.kind==="cidr")}get isBase64(){return!!this._def.checks.find(s=>s.kind==="base64")}get isBase64url(){return!!this._def.checks.find(s=>s.kind==="base64url")}get minLength(){let s=null;for(const r of this._def.checks)r.kind==="min"&&(s===null||r.value>s)&&(s=r.value);return s}get maxLength(){let s=null;for(const r of this._def.checks)r.kind==="max"&&(s===null||r.value<s)&&(s=r.value);return s}}Zn.create=t=>new Zn({checks:[],typeName:ze.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Qe(t)});function GM(t,s){const r=(t.toString().split(".")[1]||"").length,n=(s.toString().split(".")[1]||"").length,a=r>n?r:n,i=Number.parseInt(t.toFixed(a).replace(".","")),o=Number.parseInt(s.toFixed(a).replace(".",""));return i%o/10**a}class ro extends nt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(s){if(this._def.coerce&&(s.data=Number(s.data)),this._getType(s)!==Te.number){const i=this._getOrReturnCtx(s);return Ne(i,{code:ce.invalid_type,expected:Te.number,received:i.parsedType}),Ue}let n;const a=new br;for(const i of this._def.checks)i.kind==="int"?it.isInteger(s.data)||(n=this._getOrReturnCtx(s,n),Ne(n,{code:ce.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?s.data<i.value:s.data<=i.value)&&(n=this._getOrReturnCtx(s,n),Ne(n,{code:ce.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?s.data>i.value:s.data>=i.value)&&(n=this._getOrReturnCtx(s,n),Ne(n,{code:ce.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?GM(s.data,i.value)!==0&&(n=this._getOrReturnCtx(s,n),Ne(n,{code:ce.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(s.data)||(n=this._getOrReturnCtx(s,n),Ne(n,{code:ce.not_finite,message:i.message}),a.dirty()):it.assertNever(i);return{status:a.value,value:s.data}}gte(s,r){return this.setLimit("min",s,!0,Pe.toString(r))}gt(s,r){return this.setLimit("min",s,!1,Pe.toString(r))}lte(s,r){return this.setLimit("max",s,!0,Pe.toString(r))}lt(s,r){return this.setLimit("max",s,!1,Pe.toString(r))}setLimit(s,r,n,a){return new ro({...this._def,checks:[...this._def.checks,{kind:s,value:r,inclusive:n,message:Pe.toString(a)}]})}_addCheck(s){return new ro({...this._def,checks:[...this._def.checks,s]})}int(s){return this._addCheck({kind:"int",message:Pe.toString(s)})}positive(s){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Pe.toString(s)})}negative(s){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Pe.toString(s)})}nonpositive(s){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Pe.toString(s)})}nonnegative(s){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Pe.toString(s)})}multipleOf(s,r){return this._addCheck({kind:"multipleOf",value:s,message:Pe.toString(r)})}finite(s){return this._addCheck({kind:"finite",message:Pe.toString(s)})}safe(s){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Pe.toString(s)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Pe.toString(s)})}get minValue(){let s=null;for(const r of this._def.checks)r.kind==="min"&&(s===null||r.value>s)&&(s=r.value);return s}get maxValue(){let s=null;for(const r of this._def.checks)r.kind==="max"&&(s===null||r.value<s)&&(s=r.value);return s}get isInt(){return!!this._def.checks.find(s=>s.kind==="int"||s.kind==="multipleOf"&&it.isInteger(s.value))}get isFinite(){let s=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(s===null||n.value<s)&&(s=n.value)}return Number.isFinite(r)&&Number.isFinite(s)}}ro.create=t=>new ro({checks:[],typeName:ze.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Qe(t)});class no extends nt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(s){if(this._def.coerce)try{s.data=BigInt(s.data)}catch{return this._getInvalidInput(s)}if(this._getType(s)!==Te.bigint)return this._getInvalidInput(s);let n;const a=new br;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?s.data<i.value:s.data<=i.value)&&(n=this._getOrReturnCtx(s,n),Ne(n,{code:ce.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?s.data>i.value:s.data>=i.value)&&(n=this._getOrReturnCtx(s,n),Ne(n,{code:ce.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?s.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(s,n),Ne(n,{code:ce.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):it.assertNever(i);return{status:a.value,value:s.data}}_getInvalidInput(s){const r=this._getOrReturnCtx(s);return Ne(r,{code:ce.invalid_type,expected:Te.bigint,received:r.parsedType}),Ue}gte(s,r){return this.setLimit("min",s,!0,Pe.toString(r))}gt(s,r){return this.setLimit("min",s,!1,Pe.toString(r))}lte(s,r){return this.setLimit("max",s,!0,Pe.toString(r))}lt(s,r){return this.setLimit("max",s,!1,Pe.toString(r))}setLimit(s,r,n,a){return new no({...this._def,checks:[...this._def.checks,{kind:s,value:r,inclusive:n,message:Pe.toString(a)}]})}_addCheck(s){return new no({...this._def,checks:[...this._def.checks,s]})}positive(s){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Pe.toString(s)})}negative(s){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Pe.toString(s)})}nonpositive(s){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Pe.toString(s)})}nonnegative(s){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Pe.toString(s)})}multipleOf(s,r){return this._addCheck({kind:"multipleOf",value:s,message:Pe.toString(r)})}get minValue(){let s=null;for(const r of this._def.checks)r.kind==="min"&&(s===null||r.value>s)&&(s=r.value);return s}get maxValue(){let s=null;for(const r of this._def.checks)r.kind==="max"&&(s===null||r.value<s)&&(s=r.value);return s}}no.create=t=>new no({checks:[],typeName:ze.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Qe(t)});class om extends nt{_parse(s){if(this._def.coerce&&(s.data=!!s.data),this._getType(s)!==Te.boolean){const n=this._getOrReturnCtx(s);return Ne(n,{code:ce.invalid_type,expected:Te.boolean,received:n.parsedType}),Ue}return Mr(s.data)}}om.create=t=>new om({typeName:ze.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Qe(t)});class Hl extends nt{_parse(s){if(this._def.coerce&&(s.data=new Date(s.data)),this._getType(s)!==Te.date){const i=this._getOrReturnCtx(s);return Ne(i,{code:ce.invalid_type,expected:Te.date,received:i.parsedType}),Ue}if(Number.isNaN(s.data.getTime())){const i=this._getOrReturnCtx(s);return Ne(i,{code:ce.invalid_date}),Ue}const n=new br;let a;for(const i of this._def.checks)i.kind==="min"?s.data.getTime()<i.value&&(a=this._getOrReturnCtx(s,a),Ne(a,{code:ce.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?s.data.getTime()>i.value&&(a=this._getOrReturnCtx(s,a),Ne(a,{code:ce.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):it.assertNever(i);return{status:n.value,value:new Date(s.data.getTime())}}_addCheck(s){return new Hl({...this._def,checks:[...this._def.checks,s]})}min(s,r){return this._addCheck({kind:"min",value:s.getTime(),message:Pe.toString(r)})}max(s,r){return this._addCheck({kind:"max",value:s.getTime(),message:Pe.toString(r)})}get minDate(){let s=null;for(const r of this._def.checks)r.kind==="min"&&(s===null||r.value>s)&&(s=r.value);return s!=null?new Date(s):null}get maxDate(){let s=null;for(const r of this._def.checks)r.kind==="max"&&(s===null||r.value<s)&&(s=r.value);return s!=null?new Date(s):null}}Hl.create=t=>new Hl({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:ze.ZodDate,...Qe(t)});class Qw extends nt{_parse(s){if(this._getType(s)!==Te.symbol){const n=this._getOrReturnCtx(s);return Ne(n,{code:ce.invalid_type,expected:Te.symbol,received:n.parsedType}),Ue}return Mr(s.data)}}Qw.create=t=>new Qw({typeName:ze.ZodSymbol,...Qe(t)});class Zw extends nt{_parse(s){if(this._getType(s)!==Te.undefined){const n=this._getOrReturnCtx(s);return Ne(n,{code:ce.invalid_type,expected:Te.undefined,received:n.parsedType}),Ue}return Mr(s.data)}}Zw.create=t=>new Zw({typeName:ze.ZodUndefined,...Qe(t)});class Yw extends nt{_parse(s){if(this._getType(s)!==Te.null){const n=this._getOrReturnCtx(s);return Ne(n,{code:ce.invalid_type,expected:Te.null,received:n.parsedType}),Ue}return Mr(s.data)}}Yw.create=t=>new Yw({typeName:ze.ZodNull,...Qe(t)});class Xw extends nt{constructor(){super(...arguments),this._any=!0}_parse(s){return Mr(s.data)}}Xw.create=t=>new Xw({typeName:ze.ZodAny,...Qe(t)});class Jw extends nt{constructor(){super(...arguments),this._unknown=!0}_parse(s){return Mr(s.data)}}Jw.create=t=>new Jw({typeName:ze.ZodUnknown,...Qe(t)});class ai extends nt{_parse(s){const r=this._getOrReturnCtx(s);return Ne(r,{code:ce.invalid_type,expected:Te.never,received:r.parsedType}),Ue}}ai.create=t=>new ai({typeName:ze.ZodNever,...Qe(t)});class eb extends nt{_parse(s){if(this._getType(s)!==Te.undefined){const n=this._getOrReturnCtx(s);return Ne(n,{code:ce.invalid_type,expected:Te.void,received:n.parsedType}),Ue}return Mr(s.data)}}eb.create=t=>new eb({typeName:ze.ZodVoid,...Qe(t)});class Sn extends nt{_parse(s){const{ctx:r,status:n}=this._processInputParams(s),a=this._def;if(r.parsedType!==Te.array)return Ne(r,{code:ce.invalid_type,expected:Te.array,received:r.parsedType}),Ue;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(Ne(r,{code:o?ce.too_big:ce.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(Ne(r,{code:ce.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(Ne(r,{code:ce.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new ni(r,o,r.path,l)))).then(o=>br.mergeArray(n,o));const i=[...r.data].map((o,l)=>a.type._parseSync(new ni(r,o,r.path,l)));return br.mergeArray(n,i)}get element(){return this._def.type}min(s,r){return new Sn({...this._def,minLength:{value:s,message:Pe.toString(r)}})}max(s,r){return new Sn({...this._def,maxLength:{value:s,message:Pe.toString(r)}})}length(s,r){return new Sn({...this._def,exactLength:{value:s,message:Pe.toString(r)}})}nonempty(s){return this.min(1,s)}}Sn.create=(t,s)=>new Sn({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ze.ZodArray,...Qe(s)});function zo(t){if(t instanceof is){const s={};for(const r in t.shape){const n=t.shape[r];s[r]=Za.create(zo(n))}return new is({...t._def,shape:()=>s})}else return t instanceof Sn?new Sn({...t._def,type:zo(t.element)}):t instanceof Za?Za.create(zo(t.unwrap())):t instanceof Gl?Gl.create(zo(t.unwrap())):t instanceof ao?ao.create(t.items.map(s=>zo(s))):t}class is extends nt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const s=this._def.shape(),r=it.objectKeys(s);return this._cached={shape:s,keys:r},this._cached}_parse(s){if(this._getType(s)!==Te.object){const d=this._getOrReturnCtx(s);return Ne(d,{code:ce.invalid_type,expected:Te.object,received:d.parsedType}),Ue}const{status:n,ctx:a}=this._processInputParams(s),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof ai&&this._def.unknownKeys==="strip"))for(const d in a.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=i[d],h=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new ni(a,h,a.path,d)),alwaysSet:d in a.data})}if(this._def.catchall instanceof ai){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:a.data[u]}});else if(d==="strict")l.length>0&&(Ne(a,{code:ce.unrecognized_keys,keys:l}),n.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const h=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new ni(a,h,a.path,u)),alwaysSet:u in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const h=await u.key,f=await u.value;d.push({key:h,value:f,alwaysSet:u.alwaysSet})}return d}).then(d=>br.mergeObjectSync(n,d)):br.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(s){return Pe.errToObj,new is({...this._def,unknownKeys:"strict",...s!==void 0?{errorMap:(r,n)=>{var i,o;const a=((o=(i=this._def).errorMap)==null?void 0:o.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:Pe.errToObj(s).message??a}:{message:a}}}:{}})}strip(){return new is({...this._def,unknownKeys:"strip"})}passthrough(){return new is({...this._def,unknownKeys:"passthrough"})}extend(s){return new is({...this._def,shape:()=>({...this._def.shape(),...s})})}merge(s){return new is({unknownKeys:s._def.unknownKeys,catchall:s._def.catchall,shape:()=>({...this._def.shape(),...s._def.shape()}),typeName:ze.ZodObject})}setKey(s,r){return this.augment({[s]:r})}catchall(s){return new is({...this._def,catchall:s})}pick(s){const r={};for(const n of it.objectKeys(s))s[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new is({...this._def,shape:()=>r})}omit(s){const r={};for(const n of it.objectKeys(this.shape))s[n]||(r[n]=this.shape[n]);return new is({...this._def,shape:()=>r})}deepPartial(){return zo(this)}partial(s){const r={};for(const n of it.objectKeys(this.shape)){const a=this.shape[n];s&&!s[n]?r[n]=a:r[n]=a.optional()}return new is({...this._def,shape:()=>r})}required(s){const r={};for(const n of it.objectKeys(this.shape))if(s&&!s[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Za;)i=i._def.innerType;r[n]=i}return new is({...this._def,shape:()=>r})}keyof(){return rk(it.objectKeys(this.shape))}}is.create=(t,s)=>new is({shape:()=>t,unknownKeys:"strip",catchall:ai.create(),typeName:ze.ZodObject,...Qe(s)});is.strictCreate=(t,s)=>new is({shape:()=>t,unknownKeys:"strict",catchall:ai.create(),typeName:ze.ZodObject,...Qe(s)});is.lazycreate=(t,s)=>new is({shape:t,unknownKeys:"strip",catchall:ai.create(),typeName:ze.ZodObject,...Qe(s)});class lm extends nt{_parse(s){const{ctx:r}=this._processInputParams(s),n=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new oa(l.ctx.common.issues));return Ne(r,{code:ce.invalid_union,unionErrors:o}),Ue}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of n){const d={...r,common:{...r.common,issues:[]},parent:null},u=c._parseSync({data:r.data,path:r.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new oa(c));return Ne(r,{code:ce.invalid_union,unionErrors:l}),Ue}}get options(){return this._def.options}}lm.create=(t,s)=>new lm({options:t,typeName:ze.ZodUnion,...Qe(s)});function Cg(t,s){const r=_a(t),n=_a(s);if(t===s)return{valid:!0,data:t};if(r===Te.object&&n===Te.object){const a=it.objectKeys(s),i=it.objectKeys(t).filter(l=>a.indexOf(l)!==-1),o={...t,...s};for(const l of i){const c=Cg(t[l],s[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===Te.array&&n===Te.array){if(t.length!==s.length)return{valid:!1};const a=[];for(let i=0;i<t.length;i++){const o=t[i],l=s[i],c=Cg(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===Te.date&&n===Te.date&&+t==+s?{valid:!0,data:t}:{valid:!1}}class cm extends nt{_parse(s){const{status:r,ctx:n}=this._processInputParams(s),a=(i,o)=>{if(Ww(i)||Ww(o))return Ue;const l=Cg(i.value,o.value);return l.valid?((Kw(i)||Kw(o))&&r.dirty(),{status:r.value,value:l.data}):(Ne(n,{code:ce.invalid_intersection_types}),Ue)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}cm.create=(t,s,r)=>new cm({left:t,right:s,typeName:ze.ZodIntersection,...Qe(r)});class ao extends nt{_parse(s){const{status:r,ctx:n}=this._processInputParams(s);if(n.parsedType!==Te.array)return Ne(n,{code:ce.invalid_type,expected:Te.array,received:n.parsedType}),Ue;if(n.data.length<this._def.items.length)return Ne(n,{code:ce.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ue;!this._def.rest&&n.data.length>this._def.items.length&&(Ne(n,{code:ce.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new ni(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>br.mergeArray(r,o)):br.mergeArray(r,i)}get items(){return this._def.items}rest(s){return new ao({...this._def,rest:s})}}ao.create=(t,s)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ao({items:t,typeName:ze.ZodTuple,rest:null,...Qe(s)})};class tb extends nt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(s){const{status:r,ctx:n}=this._processInputParams(s);if(n.parsedType!==Te.map)return Ne(n,{code:ce.invalid_type,expected:Te.map,received:n.parsedType}),Ue;const a=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],d)=>({key:a._parse(new ni(n,l,n.path,[d,"key"])),value:i._parse(new ni(n,c,n.path,[d,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return Ue;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return Ue;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}}}}tb.create=(t,s,r)=>new tb({valueType:s,keyType:t,typeName:ze.ZodMap,...Qe(r)});class zd extends nt{_parse(s){const{status:r,ctx:n}=this._processInputParams(s);if(n.parsedType!==Te.set)return Ne(n,{code:ce.invalid_type,expected:Te.set,received:n.parsedType}),Ue;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(Ne(n,{code:ce.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(Ne(n,{code:ce.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return Ue;u.status==="dirty"&&r.dirty(),d.add(u.value)}return{status:r.value,value:d}}const l=[...n.data.values()].map((c,d)=>i._parse(new ni(n,c,n.path,d)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(s,r){return new zd({...this._def,minSize:{value:s,message:Pe.toString(r)}})}max(s,r){return new zd({...this._def,maxSize:{value:s,message:Pe.toString(r)}})}size(s,r){return this.min(s,r).max(s,r)}nonempty(s){return this.min(1,s)}}zd.create=(t,s)=>new zd({valueType:t,minSize:null,maxSize:null,typeName:ze.ZodSet,...Qe(s)});class sb extends nt{get schema(){return this._def.getter()}_parse(s){const{ctx:r}=this._processInputParams(s);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}sb.create=(t,s)=>new sb({getter:t,typeName:ze.ZodLazy,...Qe(s)});class Eg extends nt{_parse(s){if(s.data!==this._def.value){const r=this._getOrReturnCtx(s);return Ne(r,{received:r.data,code:ce.invalid_literal,expected:this._def.value}),Ue}return{status:"valid",value:s.data}}get value(){return this._def.value}}Eg.create=(t,s)=>new Eg({value:t,typeName:ze.ZodLiteral,...Qe(s)});function rk(t,s){return new Wl({values:t,typeName:ze.ZodEnum,...Qe(s)})}class Wl extends nt{_parse(s){if(typeof s.data!="string"){const r=this._getOrReturnCtx(s),n=this._def.values;return Ne(r,{expected:it.joinValues(n),received:r.parsedType,code:ce.invalid_type}),Ue}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(s.data)){const r=this._getOrReturnCtx(s),n=this._def.values;return Ne(r,{received:r.data,code:ce.invalid_enum_value,options:n}),Ue}return Mr(s.data)}get options(){return this._def.values}get enum(){const s={};for(const r of this._def.values)s[r]=r;return s}get Values(){const s={};for(const r of this._def.values)s[r]=r;return s}get Enum(){const s={};for(const r of this._def.values)s[r]=r;return s}extract(s,r=this._def){return Wl.create(s,{...this._def,...r})}exclude(s,r=this._def){return Wl.create(this.options.filter(n=>!s.includes(n)),{...this._def,...r})}}Wl.create=rk;class rb extends nt{_parse(s){const r=it.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(s);if(n.parsedType!==Te.string&&n.parsedType!==Te.number){const a=it.objectValues(r);return Ne(n,{expected:it.joinValues(a),received:n.parsedType,code:ce.invalid_type}),Ue}if(this._cache||(this._cache=new Set(it.getValidEnumValues(this._def.values))),!this._cache.has(s.data)){const a=it.objectValues(r);return Ne(n,{received:n.data,code:ce.invalid_enum_value,options:a}),Ue}return Mr(s.data)}get enum(){return this._def.values}}rb.create=(t,s)=>new rb({values:t,typeName:ze.ZodNativeEnum,...Qe(s)});class dm extends nt{unwrap(){return this._def.type}_parse(s){const{ctx:r}=this._processInputParams(s);if(r.parsedType!==Te.promise&&r.common.async===!1)return Ne(r,{code:ce.invalid_type,expected:Te.promise,received:r.parsedType}),Ue;const n=r.parsedType===Te.promise?r.data:Promise.resolve(r.data);return Mr(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}dm.create=(t,s)=>new dm({type:t,typeName:ze.ZodPromise,...Qe(s)});class Kl extends nt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ze.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(s){const{status:r,ctx:n}=this._processInputParams(s),a=this._def.effect||null,i={addIssue:o=>{Ne(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Ue;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Ue:c.status==="dirty"||r.value==="dirty"?Jc(c.value):c});{if(r.value==="aborted")return Ue;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?Ue:l.status==="dirty"||r.value==="dirty"?Jc(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Ue:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Ue:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!ql(o))return Ue;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>ql(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:r.value,value:l})):Ue);it.assertNever(a)}}Kl.create=(t,s,r)=>new Kl({schema:t,typeName:ze.ZodEffects,effect:s,...Qe(r)});Kl.createWithPreprocess=(t,s,r)=>new Kl({schema:s,effect:{type:"preprocess",transform:t},typeName:ze.ZodEffects,...Qe(r)});class Za extends nt{_parse(s){return this._getType(s)===Te.undefined?Mr(void 0):this._def.innerType._parse(s)}unwrap(){return this._def.innerType}}Za.create=(t,s)=>new Za({innerType:t,typeName:ze.ZodOptional,...Qe(s)});class Gl extends nt{_parse(s){return this._getType(s)===Te.null?Mr(null):this._def.innerType._parse(s)}unwrap(){return this._def.innerType}}Gl.create=(t,s)=>new Gl({innerType:t,typeName:ze.ZodNullable,...Qe(s)});class Tg extends nt{_parse(s){const{ctx:r}=this._processInputParams(s);let n=r.data;return r.parsedType===Te.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Tg.create=(t,s)=>new Tg({innerType:t,typeName:ze.ZodDefault,defaultValue:typeof s.default=="function"?s.default:()=>s.default,...Qe(s)});class Pg extends nt{_parse(s){const{ctx:r}=this._processInputParams(s),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return im(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new oa(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new oa(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Pg.create=(t,s)=>new Pg({innerType:t,typeName:ze.ZodCatch,catchValue:typeof s.catch=="function"?s.catch:()=>s.catch,...Qe(s)});class nb extends nt{_parse(s){if(this._getType(s)!==Te.nan){const n=this._getOrReturnCtx(s);return Ne(n,{code:ce.invalid_type,expected:Te.nan,received:n.parsedType}),Ue}return{status:"valid",value:s.data}}}nb.create=t=>new nb({typeName:ze.ZodNaN,...Qe(t)});class QM extends nt{_parse(s){const{ctx:r}=this._processInputParams(s),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Ty extends nt{_parse(s){const{status:r,ctx:n}=this._processInputParams(s);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Ue:i.status==="dirty"?(r.dirty(),Jc(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Ue:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(s,r){return new Ty({in:s,out:r,typeName:ze.ZodPipeline})}}class Ag extends nt{_parse(s){const r=this._def.innerType._parse(s),n=a=>(ql(a)&&(a.value=Object.freeze(a.value)),a);return im(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}Ag.create=(t,s)=>new Ag({innerType:t,typeName:ze.ZodReadonly,...Qe(s)});var ze;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ze||(ze={}));const ms=Zn.create,ZM=ro.create;no.create;const Rg=om.create;Hl.create;ai.create;Sn.create;const po=is.create;lm.create;cm.create;ao.create;const YM=Eg.create,XM=Wl.create;dm.create;Za.create;Gl.create;const JM={string:t=>Zn.create({...t,coerce:!0}),number:t=>ro.create({...t,coerce:!0}),boolean:t=>om.create({...t,coerce:!0}),bigint:t=>no.create({...t,coerce:!0}),date:t=>Hl.create({...t,coerce:!0})};var uu=t=>t.type==="checkbox",Pi=t=>t instanceof Date,Us=t=>t==null;const nk=t=>typeof t=="object";var ss=t=>!Us(t)&&!Array.isArray(t)&&nk(t)&&!Pi(t),ak=t=>ss(t)&&t.target?uu(t.target)?t.target.checked:t.target.value:t,e8=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,ik=(t,s)=>t.has(e8(s)),t8=t=>{const s=t.constructor&&t.constructor.prototype;return ss(s)&&s.hasOwnProperty("isPrototypeOf")},Py=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function us(t){let s;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)s=new Date(t);else if(!(Py&&(t instanceof Blob||n))&&(r||ss(t)))if(s=r?[]:{},!r&&!t8(t))s=t;else for(const a in t)t.hasOwnProperty(a)&&(s[a]=us(t[a]));else return t;return s}var mf=t=>/^\w*$/.test(t),Jt=t=>t===void 0,Ay=t=>Array.isArray(t)?t.filter(Boolean):[],Ry=t=>Ay(t.replace(/["|']|\]/g,"").split(/\.|\[/)),xe=(t,s,r)=>{if(!s||!ss(t))return r;const n=(mf(s)?[s]:Ry(s)).reduce((a,i)=>Us(a)?a:a[i],t);return Jt(n)||n===t?Jt(t[s])?r:t[s]:n},mr=t=>typeof t=="boolean",mt=(t,s,r)=>{let n=-1;const a=mf(s)?[s]:Ry(s),i=a.length,o=i-1;for(;++n<i;){const l=a[n];let c=r;if(n!==o){const d=t[l];c=ss(d)||Array.isArray(d)?d:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const um={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Gr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Un={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Oy=Be.createContext(null);Oy.displayName="HookFormContext";const ff=()=>Be.useContext(Oy),s8=t=>{const{children:s,...r}=t;return Be.createElement(Oy.Provider,{value:r},s)};var ok=(t,s,r,n=!0)=>{const a={defaultValues:s._defaultValues};for(const i in t)Object.defineProperty(a,i,{get:()=>{const o=i;return s._proxyFormState[o]!==Gr.all&&(s._proxyFormState[o]=!n||Gr.all),r&&(r[o]=!0),t[o]}});return a};const Iy=typeof window<"u"?m.useLayoutEffect:m.useEffect;function r8(t){const s=ff(),{control:r=s.control,disabled:n,name:a,exact:i}=t||{},[o,l]=Be.useState(r._formState),c=Be.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Iy(()=>r._subscribe({name:a,formState:c.current,exact:i,callback:d=>{!n&&l({...r._formState,...d})}}),[a,n,i]),Be.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),Be.useMemo(()=>ok(o,r,c.current,!1),[o,r])}var vn=t=>typeof t=="string",lk=(t,s,r,n,a)=>vn(t)?(n&&s.watch.add(t),xe(r,t,a)):Array.isArray(t)?t.map(i=>(n&&s.watch.add(i),xe(r,i))):(n&&(s.watchAll=!0),r);function n8(t){const s=ff(),{control:r=s.control,name:n,defaultValue:a,disabled:i,exact:o}=t||{},l=Be.useRef(a),[c,d]=Be.useState(r._getWatch(n,l.current));return Iy(()=>r._subscribe({name:n,formState:{values:!0},exact:o,callback:u=>!i&&d(lk(n,r._names,u.values||r._formValues,!1,l.current))}),[n,r,i,o]),Be.useEffect(()=>r._removeUnmounted()),c}function a8(t){const s=ff(),{name:r,disabled:n,control:a=s.control,shouldUnregister:i}=t,o=ik(a._names.array,r),l=n8({control:a,name:r,defaultValue:xe(a._formValues,r,xe(a._defaultValues,r,t.defaultValue)),exact:!0}),c=r8({control:a,name:r,exact:!0}),d=Be.useRef(t),u=Be.useRef(a.register(r,{...t.rules,value:l,...mr(t.disabled)?{disabled:t.disabled}:{}})),h=Be.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!xe(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!xe(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!xe(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!xe(c.validatingFields,r)},error:{enumerable:!0,get:()=>xe(c.errors,r)}}),[c,r]),f=Be.useCallback(p=>u.current.onChange({target:{value:ak(p),name:r},type:um.CHANGE}),[r]),x=Be.useCallback(()=>u.current.onBlur({target:{value:xe(a._formValues,r),name:r},type:um.BLUR}),[r,a._formValues]),g=Be.useCallback(p=>{const y=xe(a._fields,r);y&&p&&(y._f.ref={focus:()=>p.focus&&p.focus(),select:()=>p.select&&p.select(),setCustomValidity:j=>p.setCustomValidity(j),reportValidity:()=>p.reportValidity()})},[a._fields,r]),v=Be.useMemo(()=>({name:r,value:l,...mr(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:f,onBlur:x,ref:g}),[r,n,c.disabled,f,x,g,l]);return Be.useEffect(()=>{const p=a._options.shouldUnregister||i;a.register(r,{...d.current.rules,...mr(d.current.disabled)?{disabled:d.current.disabled}:{}});const y=(j,w)=>{const b=xe(a._fields,j);b&&b._f&&(b._f.mount=w)};if(y(r,!0),p){const j=us(xe(a._options.defaultValues,r));mt(a._defaultValues,r,j),Jt(xe(a._formValues,r))&&mt(a._formValues,r,j)}return!o&&a.register(r),()=>{(o?p&&!a._state.action:p)?a.unregister(r):y(r,!1)}},[r,a,o,i]),Be.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),Be.useMemo(()=>({field:v,formState:c,fieldState:h}),[v,c,h])}const i8=t=>t.render(a8(t));var Dy=(t,s,r,n,a)=>s?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:a||!0}}:{},vd=t=>Array.isArray(t)?t:[t],ab=()=>{let t=[];return{get observers(){return t},next:a=>{for(const i of t)i.next&&i.next(a)},subscribe:a=>(t.push(a),{unsubscribe:()=>{t=t.filter(i=>i!==a)}}),unsubscribe:()=>{t=[]}}},Og=t=>Us(t)||!nk(t);function Ea(t,s,r=new WeakSet){if(Og(t)||Og(s))return t===s;if(Pi(t)&&Pi(s))return t.getTime()===s.getTime();const n=Object.keys(t),a=Object.keys(s);if(n.length!==a.length)return!1;if(r.has(t)||r.has(s))return!0;r.add(t),r.add(s);for(const i of n){const o=t[i];if(!a.includes(i))return!1;if(i!=="ref"){const l=s[i];if(Pi(o)&&Pi(l)||ss(o)&&ss(l)||Array.isArray(o)&&Array.isArray(l)?!Ea(o,l,r):o!==l)return!1}}return!0}var Js=t=>ss(t)&&!Object.keys(t).length,Ly=t=>t.type==="file",Qr=t=>typeof t=="function",hm=t=>{if(!Py)return!1;const s=t?t.ownerDocument:0;return t instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},ck=t=>t.type==="select-multiple",My=t=>t.type==="radio",o8=t=>My(t)||uu(t),$x=t=>hm(t)&&t.isConnected;function l8(t,s){const r=s.slice(0,-1).length;let n=0;for(;n<r;)t=Jt(t)?n++:t[s[n++]];return t}function c8(t){for(const s in t)if(t.hasOwnProperty(s)&&!Jt(t[s]))return!1;return!0}function as(t,s){const r=Array.isArray(s)?s:mf(s)?[s]:Ry(s),n=r.length===1?t:l8(t,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(ss(n)&&Js(n)||Array.isArray(n)&&c8(n))&&as(t,r.slice(0,-1)),t}var dk=t=>{for(const s in t)if(Qr(t[s]))return!0;return!1};function mm(t,s={}){const r=Array.isArray(t);if(ss(t)||r)for(const n in t)Array.isArray(t[n])||ss(t[n])&&!dk(t[n])?(s[n]=Array.isArray(t[n])?[]:{},mm(t[n],s[n])):Us(t[n])||(s[n]=!0);return s}function uk(t,s,r){const n=Array.isArray(t);if(ss(t)||n)for(const a in t)Array.isArray(t[a])||ss(t[a])&&!dk(t[a])?Jt(s)||Og(r[a])?r[a]=Array.isArray(t[a])?mm(t[a],[]):{...mm(t[a])}:uk(t[a],Us(s)?{}:s[a],r[a]):r[a]=!Ea(t[a],s[a]);return r}var Bc=(t,s)=>uk(t,s,mm(s));const ib={value:!1,isValid:!1},ob={value:!0,isValid:!0};var hk=t=>{if(Array.isArray(t)){if(t.length>1){const s=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:s,isValid:!!s.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Jt(t[0].attributes.value)?Jt(t[0].value)||t[0].value===""?ob:{value:t[0].value,isValid:!0}:ob:ib}return ib},mk=(t,{valueAsNumber:s,valueAsDate:r,setValueAs:n})=>Jt(t)?t:s?t===""?NaN:t&&+t:r&&vn(t)?new Date(t):n?n(t):t;const lb={isValid:!1,value:null};var fk=t=>Array.isArray(t)?t.reduce((s,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:s,lb):lb;function cb(t){const s=t.ref;return Ly(s)?s.files:My(s)?fk(t.refs).value:ck(s)?[...s.selectedOptions].map(({value:r})=>r):uu(s)?hk(t.refs).value:mk(Jt(s.value)?t.ref.value:s.value,t)}var d8=(t,s,r,n)=>{const a={};for(const i of t){const o=xe(s,i);o&&mt(a,i,o._f)}return{criteriaMode:r,names:[...t],fields:a,shouldUseNativeValidation:n}},fm=t=>t instanceof RegExp,qc=t=>Jt(t)?t:fm(t)?t.source:ss(t)?fm(t.value)?t.value.source:t.value:t,db=t=>({isOnSubmit:!t||t===Gr.onSubmit,isOnBlur:t===Gr.onBlur,isOnChange:t===Gr.onChange,isOnAll:t===Gr.all,isOnTouch:t===Gr.onTouched});const ub="AsyncFunction";var u8=t=>!!t&&!!t.validate&&!!(Qr(t.validate)&&t.validate.constructor.name===ub||ss(t.validate)&&Object.values(t.validate).find(s=>s.constructor.name===ub)),h8=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),hb=(t,s,r)=>!r&&(s.watchAll||s.watch.has(t)||[...s.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const yd=(t,s,r,n)=>{for(const a of r||Object.keys(t)){const i=xe(t,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&s(o.refs[0],a)&&!n)return!0;if(o.ref&&s(o.ref,o.name)&&!n)return!0;if(yd(l,s))break}else if(ss(l)&&yd(l,s))break}}};function mb(t,s,r){const n=xe(t,r);if(n||mf(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=xe(s,i),l=xe(t,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};a.pop()}return{name:r}}var m8=(t,s,r,n)=>{r(t);const{name:a,...i}=t;return Js(i)||Object.keys(i).length>=Object.keys(s).length||Object.keys(i).find(o=>s[o]===(!n||Gr.all))},f8=(t,s,r)=>!t||!s||t===s||vd(t).some(n=>n&&(r?n===s:n.startsWith(s)||s.startsWith(n))),x8=(t,s,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(s||t):(r?n.isOnBlur:a.isOnBlur)?!t:(r?n.isOnChange:a.isOnChange)?t:!0,p8=(t,s)=>!Ay(xe(t,s)).length&&as(t,s),g8=(t,s,r)=>{const n=vd(xe(t,r));return mt(n,"root",s[r]),mt(t,r,n),t},Nh=t=>vn(t);function fb(t,s,r="validate"){if(Nh(t)||Array.isArray(t)&&t.every(Nh)||mr(t)&&!t)return{type:r,message:Nh(t)?t:"",ref:s}}var Do=t=>ss(t)&&!fm(t)?t:{value:t,message:""},xb=async(t,s,r,n,a,i)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:u,min:h,max:f,pattern:x,validate:g,name:v,valueAsNumber:p,mount:y}=t._f,j=xe(r,v);if(!y||s.has(v))return{};const w=l?l[0]:o,b=R=>{a&&w.reportValidity&&(w.setCustomValidity(mr(R)?"":R||""),w.reportValidity())},N={},_=My(o),P=uu(o),A=_||P,k=(p||Ly(o))&&Jt(o.value)&&Jt(j)||hm(o)&&o.value===""||j===""||Array.isArray(j)&&!j.length,T=Dy.bind(null,v,n,N),S=(R,B,H,I=Un.maxLength,V=Un.minLength)=>{const z=R?B:H;N[v]={type:R?I:V,message:z,ref:o,...T(R?I:V,z)}};if(i?!Array.isArray(j)||!j.length:c&&(!A&&(k||Us(j))||mr(j)&&!j||P&&!hk(l).isValid||_&&!fk(l).isValid)){const{value:R,message:B}=Nh(c)?{value:!!c,message:c}:Do(c);if(R&&(N[v]={type:Un.required,message:B,ref:w,...T(Un.required,B)},!n))return b(B),N}if(!k&&(!Us(h)||!Us(f))){let R,B;const H=Do(f),I=Do(h);if(!Us(j)&&!isNaN(j)){const V=o.valueAsNumber||j&&+j;Us(H.value)||(R=V>H.value),Us(I.value)||(B=V<I.value)}else{const V=o.valueAsDate||new Date(j),z=ee=>new Date(new Date().toDateString()+" "+ee),O=o.type=="time",U=o.type=="week";vn(H.value)&&j&&(R=O?z(j)>z(H.value):U?j>H.value:V>new Date(H.value)),vn(I.value)&&j&&(B=O?z(j)<z(I.value):U?j<I.value:V<new Date(I.value))}if((R||B)&&(S(!!R,H.message,I.message,Un.max,Un.min),!n))return b(N[v].message),N}if((d||u)&&!k&&(vn(j)||i&&Array.isArray(j))){const R=Do(d),B=Do(u),H=!Us(R.value)&&j.length>+R.value,I=!Us(B.value)&&j.length<+B.value;if((H||I)&&(S(H,R.message,B.message),!n))return b(N[v].message),N}if(x&&!k&&vn(j)){const{value:R,message:B}=Do(x);if(fm(R)&&!j.match(R)&&(N[v]={type:Un.pattern,message:B,ref:o,...T(Un.pattern,B)},!n))return b(B),N}if(g){if(Qr(g)){const R=await g(j,r),B=fb(R,w);if(B&&(N[v]={...B,...T(Un.validate,B.message)},!n))return b(B.message),N}else if(ss(g)){let R={};for(const B in g){if(!Js(R)&&!n)break;const H=fb(await g[B](j,r),w,B);H&&(R={...H,...T(B,H.message)},b(H.message),n&&(N[v]=R))}if(!Js(R)&&(N[v]={ref:w,...R},!n))return N}}return b(!0),N};const v8={mode:Gr.onSubmit,reValidateMode:Gr.onChange,shouldFocusError:!0};function y8(t={}){let s={...v8,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Qr(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1},n={},a=ss(s.defaultValues)||ss(s.values)?us(s.defaultValues||s.values)||{}:{},i=s.shouldUnregister?{}:us(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...u};const f={array:ab(),state:ab()},x=s.criteriaMode===Gr.all,g=$=>q=>{clearTimeout(d),d=setTimeout($,q)},v=async $=>{if(!s.disabled&&(u.isValid||h.isValid||$)){const q=s.resolver?Js((await P()).errors):await k(n,!0);q!==r.isValid&&f.state.next({isValid:q})}},p=($,q)=>{!s.disabled&&(u.isValidating||u.validatingFields||h.isValidating||h.validatingFields)&&(($||Array.from(l.mount)).forEach(Z=>{Z&&(q?mt(r.validatingFields,Z,q):as(r.validatingFields,Z))}),f.state.next({validatingFields:r.validatingFields,isValidating:!Js(r.validatingFields)}))},y=($,q=[],Z,je,he=!0,le=!0)=>{if(je&&Z&&!s.disabled){if(o.action=!0,le&&Array.isArray(xe(n,$))){const Re=Z(xe(n,$),je.argA,je.argB);he&&mt(n,$,Re)}if(le&&Array.isArray(xe(r.errors,$))){const Re=Z(xe(r.errors,$),je.argA,je.argB);he&&mt(r.errors,$,Re),p8(r.errors,$)}if((u.touchedFields||h.touchedFields)&&le&&Array.isArray(xe(r.touchedFields,$))){const Re=Z(xe(r.touchedFields,$),je.argA,je.argB);he&&mt(r.touchedFields,$,Re)}(u.dirtyFields||h.dirtyFields)&&(r.dirtyFields=Bc(a,i)),f.state.next({name:$,isDirty:S($,q),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else mt(i,$,q)},j=($,q)=>{mt(r.errors,$,q),f.state.next({errors:r.errors})},w=$=>{r.errors=$,f.state.next({errors:r.errors,isValid:!1})},b=($,q,Z,je)=>{const he=xe(n,$);if(he){const le=xe(i,$,Jt(Z)?xe(a,$):Z);Jt(le)||je&&je.defaultChecked||q?mt(i,$,q?le:cb(he._f)):H($,le),o.mount&&v()}},N=($,q,Z,je,he)=>{let le=!1,Re=!1;const at={name:$};if(!s.disabled){if(!Z||je){(u.isDirty||h.isDirty)&&(Re=r.isDirty,r.isDirty=at.isDirty=S(),le=Re!==at.isDirty);const pt=Ea(xe(a,$),q);Re=!!xe(r.dirtyFields,$),pt?as(r.dirtyFields,$):mt(r.dirtyFields,$,!0),at.dirtyFields=r.dirtyFields,le=le||(u.dirtyFields||h.dirtyFields)&&Re!==!pt}if(Z){const pt=xe(r.touchedFields,$);pt||(mt(r.touchedFields,$,Z),at.touchedFields=r.touchedFields,le=le||(u.touchedFields||h.touchedFields)&&pt!==Z)}le&&he&&f.state.next(at)}return le?at:{}},_=($,q,Z,je)=>{const he=xe(r.errors,$),le=(u.isValid||h.isValid)&&mr(q)&&r.isValid!==q;if(s.delayError&&Z?(c=g(()=>j($,Z)),c(s.delayError)):(clearTimeout(d),c=null,Z?mt(r.errors,$,Z):as(r.errors,$)),(Z?!Ea(he,Z):he)||!Js(je)||le){const Re={...je,...le&&mr(q)?{isValid:q}:{},errors:r.errors,name:$};r={...r,...Re},f.state.next(Re)}},P=async $=>{p($,!0);const q=await s.resolver(i,s.context,d8($||l.mount,n,s.criteriaMode,s.shouldUseNativeValidation));return p($),q},A=async $=>{const{errors:q}=await P($);if($)for(const Z of $){const je=xe(q,Z);je?mt(r.errors,Z,je):as(r.errors,Z)}else r.errors=q;return q},k=async($,q,Z={valid:!0})=>{for(const je in $){const he=$[je];if(he){const{_f:le,...Re}=he;if(le){const at=l.array.has(le.name),pt=he._f&&u8(he._f);pt&&u.validatingFields&&p([je],!0);const Ds=await xb(he,l.disabled,i,x,s.shouldUseNativeValidation&&!q,at);if(pt&&u.validatingFields&&p([je]),Ds[le.name]&&(Z.valid=!1,q))break;!q&&(xe(Ds,le.name)?at?g8(r.errors,Ds,le.name):mt(r.errors,le.name,Ds[le.name]):as(r.errors,le.name))}!Js(Re)&&await k(Re,q,Z)}}return Z.valid},T=()=>{for(const $ of l.unMount){const q=xe(n,$);q&&(q._f.refs?q._f.refs.every(Z=>!$x(Z)):!$x(q._f.ref))&&K($)}l.unMount=new Set},S=($,q)=>!s.disabled&&($&&q&&mt(i,$,q),!Ea(ee(),a)),R=($,q,Z)=>lk($,l,{...o.mount?i:Jt(q)?a:vn($)?{[$]:q}:q},Z,q),B=$=>Ay(xe(o.mount?i:a,$,s.shouldUnregister?xe(a,$,[]):[])),H=($,q,Z={})=>{const je=xe(n,$);let he=q;if(je){const le=je._f;le&&(!le.disabled&&mt(i,$,mk(q,le)),he=hm(le.ref)&&Us(q)?"":q,ck(le.ref)?[...le.ref.options].forEach(Re=>Re.selected=he.includes(Re.value)):le.refs?uu(le.ref)?le.refs.forEach(Re=>{(!Re.defaultChecked||!Re.disabled)&&(Array.isArray(he)?Re.checked=!!he.find(at=>at===Re.value):Re.checked=he===Re.value||!!he)}):le.refs.forEach(Re=>Re.checked=Re.value===he):Ly(le.ref)?le.ref.value="":(le.ref.value=he,le.ref.type||f.state.next({name:$,values:us(i)})))}(Z.shouldDirty||Z.shouldTouch)&&N($,he,Z.shouldTouch,Z.shouldDirty,!0),Z.shouldValidate&&U($)},I=($,q,Z)=>{for(const je in q){if(!q.hasOwnProperty(je))return;const he=q[je],le=$+"."+je,Re=xe(n,le);(l.array.has($)||ss(he)||Re&&!Re._f)&&!Pi(he)?I(le,he,Z):H(le,he,Z)}},V=($,q,Z={})=>{const je=xe(n,$),he=l.array.has($),le=us(q);mt(i,$,le),he?(f.array.next({name:$,values:us(i)}),(u.isDirty||u.dirtyFields||h.isDirty||h.dirtyFields)&&Z.shouldDirty&&f.state.next({name:$,dirtyFields:Bc(a,i),isDirty:S($,le)})):je&&!je._f&&!Us(le)?I($,le,Z):H($,le,Z),hb($,l)&&f.state.next({...r}),f.state.next({name:o.mount?$:void 0,values:us(i)})},z=async $=>{o.mount=!0;const q=$.target;let Z=q.name,je=!0;const he=xe(n,Z),le=pt=>{je=Number.isNaN(pt)||Pi(pt)&&isNaN(pt.getTime())||Ea(pt,xe(i,Z,pt))},Re=db(s.mode),at=db(s.reValidateMode);if(he){let pt,Ds;const So=q.type?cb(he._f):ak($),ur=$.type===um.BLUR||$.type===um.FOCUS_OUT,Eu=!h8(he._f)&&!s.resolver&&!xe(r.errors,Z)&&!he._f.deps||x8(ur,xe(r.touchedFields,Z),r.isSubmitted,at,Re),ko=hb(Z,l,ur);mt(i,Z,So),ur?(he._f.onBlur&&he._f.onBlur($),c&&c(0)):he._f.onChange&&he._f.onChange($);const Ec=N(Z,So,ur),Qf=!Js(Ec)||ko;if(!ur&&f.state.next({name:Z,type:$.type,values:us(i)}),Eu)return(u.isValid||h.isValid)&&(s.mode==="onBlur"?ur&&v():ur||v()),Qf&&f.state.next({name:Z,...ko?{}:Ec});if(!ur&&ko&&f.state.next({...r}),s.resolver){const{errors:Tu}=await P([Z]);if(le(So),je){const Zf=mb(r.errors,n,Z),Tc=mb(Tu,n,Zf.name||Z);pt=Tc.error,Z=Tc.name,Ds=Js(Tu)}}else p([Z],!0),pt=(await xb(he,l.disabled,i,x,s.shouldUseNativeValidation))[Z],p([Z]),le(So),je&&(pt?Ds=!1:(u.isValid||h.isValid)&&(Ds=await k(n,!0)));je&&(he._f.deps&&U(he._f.deps),_(Z,Ds,pt,Ec))}},O=($,q)=>{if(xe(r.errors,q)&&$.focus)return $.focus(),1},U=async($,q={})=>{let Z,je;const he=vd($);if(s.resolver){const le=await A(Jt($)?$:he);Z=Js(le),je=$?!he.some(Re=>xe(le,Re)):Z}else $?(je=(await Promise.all(he.map(async le=>{const Re=xe(n,le);return await k(Re&&Re._f?{[le]:Re}:Re)}))).every(Boolean),!(!je&&!r.isValid)&&v()):je=Z=await k(n);return f.state.next({...!vn($)||(u.isValid||h.isValid)&&Z!==r.isValid?{}:{name:$},...s.resolver||!$?{isValid:Z}:{},errors:r.errors}),q.shouldFocus&&!je&&yd(n,O,$?he:l.mount),je},ee=$=>{const q={...o.mount?i:a};return Jt($)?q:vn($)?xe(q,$):$.map(Z=>xe(q,Z))},se=($,q)=>({invalid:!!xe((q||r).errors,$),isDirty:!!xe((q||r).dirtyFields,$),error:xe((q||r).errors,$),isValidating:!!xe(r.validatingFields,$),isTouched:!!xe((q||r).touchedFields,$)}),W=$=>{$&&vd($).forEach(q=>as(r.errors,q)),f.state.next({errors:$?r.errors:{}})},ue=($,q,Z)=>{const je=(xe(n,$,{_f:{}})._f||{}).ref,he=xe(r.errors,$)||{},{ref:le,message:Re,type:at,...pt}=he;mt(r.errors,$,{...pt,...q,ref:je}),f.state.next({name:$,errors:r.errors,isValid:!1}),Z&&Z.shouldFocus&&je&&je.focus&&je.focus()},ye=($,q)=>Qr($)?f.state.subscribe({next:Z=>$(R(void 0,q),Z)}):R($,q,!0),me=$=>f.state.subscribe({next:q=>{f8($.name,q.name,$.exact)&&m8(q,$.formState||u,Sr,$.reRenderRoot)&&$.callback({values:{...i},...r,...q})}}).unsubscribe,Ee=$=>(o.mount=!0,h={...h,...$.formState},me({...$,formState:h})),K=($,q={})=>{for(const Z of $?vd($):l.mount)l.mount.delete(Z),l.array.delete(Z),q.keepValue||(as(n,Z),as(i,Z)),!q.keepError&&as(r.errors,Z),!q.keepDirty&&as(r.dirtyFields,Z),!q.keepTouched&&as(r.touchedFields,Z),!q.keepIsValidating&&as(r.validatingFields,Z),!s.shouldUnregister&&!q.keepDefaultValue&&as(a,Z);f.state.next({values:us(i)}),f.state.next({...r,...q.keepDirty?{isDirty:S()}:{}}),!q.keepIsValid&&v()},Ie=({disabled:$,name:q})=>{(mr($)&&o.mount||$||l.disabled.has(q))&&($?l.disabled.add(q):l.disabled.delete(q))},Oe=($,q={})=>{let Z=xe(n,$);const je=mr(q.disabled)||mr(s.disabled);return mt(n,$,{...Z||{},_f:{...Z&&Z._f?Z._f:{ref:{name:$}},name:$,mount:!0,...q}}),l.mount.add($),Z?Ie({disabled:mr(q.disabled)?q.disabled:s.disabled,name:$}):b($,!0,q.value),{...je?{disabled:q.disabled||s.disabled}:{},...s.progressive?{required:!!q.required,min:qc(q.min),max:qc(q.max),minLength:qc(q.minLength),maxLength:qc(q.maxLength),pattern:qc(q.pattern)}:{},name:$,onChange:z,onBlur:z,ref:he=>{if(he){Oe($,q),Z=xe(n,$);const le=Jt(he.value)&&he.querySelectorAll&&he.querySelectorAll("input,select,textarea")[0]||he,Re=o8(le),at=Z._f.refs||[];if(Re?at.find(pt=>pt===le):le===Z._f.ref)return;mt(n,$,{_f:{...Z._f,...Re?{refs:[...at.filter($x),le,...Array.isArray(xe(a,$))?[{}]:[]],ref:{type:le.type,name:$}}:{ref:le}}}),b($,!1,void 0,le)}else Z=xe(n,$,{}),Z._f&&(Z._f.mount=!1),(s.shouldUnregister||q.shouldUnregister)&&!(ik(l.array,$)&&o.action)&&l.unMount.add($)}}},We=()=>s.shouldFocusError&&yd(n,O,l.mount),De=$=>{mr($)&&(f.state.next({disabled:$}),yd(n,(q,Z)=>{const je=xe(n,Z);je&&(q.disabled=je._f.disabled||$,Array.isArray(je._f.refs)&&je._f.refs.forEach(he=>{he.disabled=je._f.disabled||$}))},0,!1))},tt=($,q)=>async Z=>{let je;Z&&(Z.preventDefault&&Z.preventDefault(),Z.persist&&Z.persist());let he=us(i);if(f.state.next({isSubmitting:!0}),s.resolver){const{errors:le,values:Re}=await P();r.errors=le,he=us(Re)}else await k(n);if(l.disabled.size)for(const le of l.disabled)as(he,le);if(as(r.errors,"root"),Js(r.errors)){f.state.next({errors:{}});try{await $(he,Z)}catch(le){je=le}}else q&&await q({...r.errors},Z),We(),setTimeout(We);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Js(r.errors)&&!je,submitCount:r.submitCount+1,errors:r.errors}),je)throw je},Vt=($,q={})=>{xe(n,$)&&(Jt(q.defaultValue)?V($,us(xe(a,$))):(V($,q.defaultValue),mt(a,$,us(q.defaultValue))),q.keepTouched||as(r.touchedFields,$),q.keepDirty||(as(r.dirtyFields,$),r.isDirty=q.defaultValue?S($,us(xe(a,$))):S()),q.keepError||(as(r.errors,$),u.isValid&&v()),f.state.next({...r}))},Bt=($,q={})=>{const Z=$?us($):a,je=us(Z),he=Js($),le=he?a:je;if(q.keepDefaultValues||(a=Z),!q.keepValues){if(q.keepDirtyValues){const Re=new Set([...l.mount,...Object.keys(Bc(a,i))]);for(const at of Array.from(Re))xe(r.dirtyFields,at)?mt(le,at,xe(i,at)):V(at,xe(le,at))}else{if(Py&&Jt($))for(const Re of l.mount){const at=xe(n,Re);if(at&&at._f){const pt=Array.isArray(at._f.refs)?at._f.refs[0]:at._f.ref;if(hm(pt)){const Ds=pt.closest("form");if(Ds){Ds.reset();break}}}}if(q.keepFieldsRef)for(const Re of l.mount)V(Re,xe(le,Re));else n={}}i=s.shouldUnregister?q.keepDefaultValues?us(a):{}:us(le),f.array.next({values:{...le}}),f.state.next({values:{...le}})}l={mount:q.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!q.keepIsValid||!!q.keepDirtyValues,o.watch=!!s.shouldUnregister,f.state.next({submitCount:q.keepSubmitCount?r.submitCount:0,isDirty:he?!1:q.keepDirty?r.isDirty:!!(q.keepDefaultValues&&!Ea($,a)),isSubmitted:q.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:he?{}:q.keepDirtyValues?q.keepDefaultValues&&i?Bc(a,i):r.dirtyFields:q.keepDefaultValues&&$?Bc(a,$):q.keepDirty?r.dirtyFields:{},touchedFields:q.keepTouched?r.touchedFields:{},errors:q.keepErrors?r.errors:{},isSubmitSuccessful:q.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},dr=($,q)=>Bt(Qr($)?$(i):$,q),Ln=($,q={})=>{const Z=xe(n,$),je=Z&&Z._f;if(je){const he=je.refs?je.refs[0]:je.ref;he.focus&&(he.focus(),q.shouldSelect&&Qr(he.select)&&he.select())}},Sr=$=>{r={...r,...$}},Mn={control:{register:Oe,unregister:K,getFieldState:se,handleSubmit:tt,setError:ue,_subscribe:me,_runSchema:P,_focusError:We,_getWatch:R,_getDirty:S,_setValid:v,_setFieldArray:y,_setDisabledField:Ie,_setErrors:w,_getFieldArray:B,_reset:Bt,_resetDefaultValues:()=>Qr(s.defaultValues)&&s.defaultValues().then($=>{dr($,s.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:T,_disableForm:De,_subjects:f,_proxyFormState:u,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state($){o=$},get _defaultValues(){return a},get _names(){return l},set _names($){l=$},get _formState(){return r},get _options(){return s},set _options($){s={...s,...$}}},subscribe:Ee,trigger:U,register:Oe,handleSubmit:tt,watch:ye,setValue:V,getValues:ee,reset:dr,resetField:Vt,clearErrors:W,unregister:K,setError:ue,setFocus:Ln,getFieldState:se};return{...Mn,formControl:Mn}}function Bi(t={}){const s=Be.useRef(void 0),r=Be.useRef(void 0),[n,a]=Be.useState({isDirty:!1,isValidating:!1,isLoading:Qr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Qr(t.defaultValues)?void 0:t.defaultValues});if(!s.current)if(t.formControl)s.current={...t.formControl,formState:n},t.defaultValues&&!Qr(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...l}=y8(t);s.current={...l,formState:n}}const i=s.current.control;return i._options=t,Iy(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),Be.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),Be.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),Be.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),Be.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),Be.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),Be.useEffect(()=>{t.values&&!Ea(t.values,r.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=t.values,a(o=>({...o}))):i._resetDefaultValues()},[i,t.values]),Be.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),s.current.formState=ok(n,i),s.current}const pb=(t,s,r)=>{if(t&&"reportValidity"in t){const n=xe(r,s);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},Ig=(t,s)=>{for(const r in s.fields){const n=s.fields[r];n&&n.ref&&"reportValidity"in n.ref?pb(n.ref,r,t):n&&n.refs&&n.refs.forEach(a=>pb(a,r,t))}},gb=(t,s)=>{s.shouldUseNativeValidation&&Ig(t,s);const r={};for(const n in t){const a=xe(s.fields,n),i=Object.assign(t[n]||{},{ref:a&&a.ref});if(j8(s.names||Object.keys(t),n)){const o=Object.assign({},xe(r,n));mt(o,"root",i),mt(r,n,o)}else mt(r,n,i)}return r},j8=(t,s)=>{const r=vb(s);return t.some(n=>vb(n).match(`^${r}\\.\\d+`))};function vb(t){return t.replace(/\]|\[/g,"")}function xk(t,s,r){function n(l,c){var d;Object.defineProperty(l,"_zod",{value:l._zod??{},enumerable:!1}),(d=l._zod).traits??(d.traits=new Set),l._zod.traits.add(t),s(l,c);for(const u in o.prototype)u in l||Object.defineProperty(l,u,{value:o.prototype[u].bind(l)});l._zod.constr=o,l._zod.def=c}const a=(r==null?void 0:r.Parent)??Object;class i extends a{}Object.defineProperty(i,"name",{value:t});function o(l){var c;const d=r!=null&&r.Parent?new i:this;n(d,l),(c=d._zod).deferred??(c.deferred=[]);for(const u of d._zod.deferred)u();return d}return Object.defineProperty(o,"init",{value:n}),Object.defineProperty(o,Symbol.hasInstance,{value:l=>{var c,d;return r!=null&&r.Parent&&l instanceof r.Parent?!0:(d=(c=l==null?void 0:l._zod)==null?void 0:c.traits)==null?void 0:d.has(t)}}),Object.defineProperty(o,"name",{value:t}),o}class w8 extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const b8={};function pk(t){return b8}function N8(t,s){return typeof s=="bigint"?s.toString():s}const gk=Error.captureStackTrace?Error.captureStackTrace:(...t)=>{};function th(t){return typeof t=="string"?t:t==null?void 0:t.message}function vk(t,s,r){var a,i,o,l,c,d;const n={...t,path:t.path??[]};if(!t.message){const u=th((o=(i=(a=t.inst)==null?void 0:a._zod.def)==null?void 0:i.error)==null?void 0:o.call(i,t))??th((l=s==null?void 0:s.error)==null?void 0:l.call(s,t))??th((c=r.customError)==null?void 0:c.call(r,t))??th((d=r.localeError)==null?void 0:d.call(r,t))??"Invalid input";n.message=u}return delete n.inst,delete n.continue,s!=null&&s.reportInput||delete n.input,n}const yk=(t,s)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:s,enumerable:!1}),Object.defineProperty(t,"message",{get(){return JSON.stringify(s,N8,2)},enumerable:!0}),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},_8=xk("$ZodError",yk),jk=xk("$ZodError",yk,{Parent:Error}),S8=t=>(s,r,n,a)=>{const i=n?Object.assign(n,{async:!1}):{async:!1},o=s._zod.run({value:r,issues:[]},i);if(o instanceof Promise)throw new w8;if(o.issues.length){const l=new((a==null?void 0:a.Err)??t)(o.issues.map(c=>vk(c,i,pk())));throw gk(l,a==null?void 0:a.callee),l}return o.value},k8=S8(jk),C8=t=>async(s,r,n,a)=>{const i=n?Object.assign(n,{async:!0}):{async:!0};let o=s._zod.run({value:r,issues:[]},i);if(o instanceof Promise&&(o=await o),o.issues.length){const l=new((a==null?void 0:a.Err)??t)(o.issues.map(c=>vk(c,i,pk())));throw gk(l,a==null?void 0:a.callee),l}return o.value},E8=C8(jk);function yb(t,s){try{var r=t()}catch(n){return s(n)}return r&&r.then?r.then(void 0,s):r}function T8(t,s){for(var r={};t.length;){var n=t[0],a=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(u){return u.errors.forEach(function(h){return t.push(h)})}),s){var c=r[o].types,d=c&&c[n.code];r[o]=Dy(o,s,r,a,d?[].concat(d,n.message):n.message)}t.shift()}return r}function P8(t,s){for(var r={};t.length;){var n=t[0],a=n.code,i=n.message,o=n.path.join(".");if(!r[o])if(n.code==="invalid_union"){var l=n.errors[0][0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:a};if(n.code==="invalid_union"&&n.errors.forEach(function(u){return u.forEach(function(h){return t.push(h)})}),s){var c=r[o].types,d=c&&c[n.code];r[o]=Dy(o,s,r,a,d?[].concat(d,n.message):n.message)}t.shift()}return r}function qi(t,s,r){if(r===void 0&&(r={}),function(n){return"_def"in n&&typeof n._def=="object"&&"typeName"in n._def}(t))return function(n,a,i){try{return Promise.resolve(yb(function(){return Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,s)).then(function(o){return i.shouldUseNativeValidation&&Ig({},i),{errors:{},values:r.raw?Object.assign({},n):o}})},function(o){if(function(l){return Array.isArray(l==null?void 0:l.issues)}(o))return{values:{},errors:gb(T8(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}};if(function(n){return"_zod"in n&&typeof n._zod=="object"}(t))return function(n,a,i){try{return Promise.resolve(yb(function(){return Promise.resolve((r.mode==="sync"?k8:E8)(t,n,s)).then(function(o){return i.shouldUseNativeValidation&&Ig({},i),{errors:{},values:r.raw?Object.assign({},n):o}})},function(o){if(function(l){return l instanceof _8}(o))return{values:{},errors:gb(P8(o.issues,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}};throw new Error("Invalid input: not a Zod schema")}const Hi=s8,wk=m.createContext({}),At=({...t})=>e.jsx(wk.Provider,{value:{name:t.name},children:e.jsx(i8,{...t})}),xf=()=>{const t=m.useContext(wk),s=m.useContext(bk),{getFieldState:r,formState:n}=ff(),a=r(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=s;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},bk=m.createContext({}),bt=m.forwardRef(({className:t,...s},r)=>{const n=m.useId();return e.jsx(bk.Provider,{value:{id:n},children:e.jsx("div",{ref:r,className:oe("space-y-2",t),...s})})});bt.displayName="FormItem";const Nt=m.forwardRef(({className:t,...s},r)=>{const{error:n,formItemId:a}=xf();return e.jsx(G,{ref:r,className:oe(n&&"text-destructive",t),htmlFor:a,...s})});Nt.displayName="FormLabel";const _t=m.forwardRef(({...t},s)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:i}=xf();return e.jsx($2,{ref:s,id:n,"aria-describedby":r?`${a} ${i}`:`${a}`,"aria-invalid":!!r,...t})});_t.displayName="FormControl";const ed=m.forwardRef(({className:t,...s},r)=>{const{formDescriptionId:n}=xf();return e.jsx("p",{ref:r,id:n,className:oe("text-sm text-muted-foreground",t),...s})});ed.displayName="FormDescription";const Wt=m.forwardRef(({className:t,children:s,...r},n)=>{const{error:a,formMessageId:i}=xf(),o=a?String(a==null?void 0:a.message):s;return o?e.jsx("p",{ref:n,id:i,className:oe("text-sm font-medium text-destructive",t),...r,children:o}):null});Wt.displayName="FormMessage";const A8=po({email:ms().email("   "),password:ms().min(6,"     ")}),R8=()=>{const{isAdmin:t,loading:s,loginAsAdmin:r,logout:n}=qS(),[,a]=yt(),[i,o]=m.useState(null),[l,c]=m.useState(!1);m.useEffect(()=>{!s&&t&&a("/admin-dashboard")},[s,t,a]);const d=Bi({resolver:qi(A8),defaultValues:{email:"",password:""}}),u=async f=>{try{c(!0),o(null),await r(f.email,f.password),setTimeout(()=>{t?a("/admin-dashboard"):o("          ")},1e3)}catch(x){console.error("Admin login error:",x),o(x.message||"       ")}finally{c(!1)}},h=async()=>{try{await n(),a("/")}catch(f){console.error("Logout error:",f)}};return s?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ae,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{children:" ..."})]})}):t?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs(C,{className:"w-full max-w-md",children:[e.jsxs(L,{className:"text-center",children:[e.jsx("div",{className:"mx-auto bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mb-4",children:e.jsx(Is,{className:"h-8 w-8 text-green-600"})}),e.jsx(M,{className:"text-2xl",children:" "}),e.jsx(Ce,{children:"     "})]}),e.jsxs(E,{className:"space-y-4",children:[e.jsx(D,{onClick:()=>a("/admin-dashboard"),className:"w-full",size:"lg",children:" "}),e.jsxs(D,{onClick:h,variant:"outline",className:"w-full",size:"lg",children:[e.jsx(_y,{className:"w-4 h-4 mr-2"}),""]})]})]})}):e.jsxs(e.Fragment,{children:[e.jsxs(lr,{children:[e.jsx("title",{children:"  | "}),e.jsx("meta",{name:"description",content:"   "})]}),e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs(C,{className:"w-full max-w-md",children:[e.jsxs(L,{className:"text-center",children:[e.jsx("div",{className:"mx-auto bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mb-4",children:e.jsx(Is,{className:"h-8 w-8 text-blue-600"})}),e.jsx(M,{className:"text-2xl",children:" "}),e.jsx(Ce,{children:"      "})]}),e.jsxs(E,{children:[i&&e.jsx(Bs,{variant:"destructive",className:"mb-4",children:e.jsx(qs,{children:i})}),e.jsx(Hi,{...d,children:e.jsxs("form",{onSubmit:d.handleSubmit(u),className:"space-y-4",children:[e.jsx(At,{control:d.control,name:"email",render:({field:f})=>e.jsxs(bt,{children:[e.jsx(Nt,{children:""}),e.jsx(_t,{children:e.jsx(te,{...f,type:"email",placeholder:"your@email.com",disabled:l})}),e.jsx(Wt,{})]})}),e.jsx(At,{control:d.control,name:"password",render:({field:f})=>e.jsxs(bt,{children:[e.jsx(Nt,{children:""}),e.jsx(_t,{children:e.jsx(te,{...f,type:"password",placeholder:"",disabled:l})}),e.jsx(Wt,{})]})}),e.jsx(D,{type:"submit",className:"w-full",size:"lg",disabled:l,children:l?e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"w-4 h-4 mr-2 animate-spin"})," ..."]}):" "})]})}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["    "," ",e.jsx("button",{onClick:()=>a("/auth?tab=login"),className:"text-blue-600 hover:underline",children:"  "})]})})]})]})})]})},O8={bn:{"dashboard.title":" ","dashboard.welcome":"","dashboard.overview":"","dashboard.statistics":"","dashboard.recentActivity":" ","dashboard.quickActions":" ","content.title":" ","content.articles":"","content.categories":"","content.epapers":"-","content.videos":"","content.audio":" ","content.breakingNews":" ","content.addNew":"  ","content.edit":"","content.delete":" ","content.publish":" ","content.draft":"","users.title":" ","users.all":" ","users.admins":"","users.active":" ","users.total":" ","stats.totalArticles":" ","stats.totalUsers":" ","stats.totalViews":" ","stats.todayViews":" ","stats.publishedToday":" ","stats.activeUsers":" ","nav.dashboard":"","nav.content":"","nav.users":"","nav.analytics":"","nav.settings":"","nav.logout":"","action.save":"","action.cancel":"","action.confirm":" ","action.loading":" ...","action.success":"","action.error":"","action.view":"","action.manage":"","status.published":"","status.draft":"","status.active":"","status.inactive":"","status.featured":"","time.today":"","time.yesterday":"","time.thisWeek":" ","time.thisMonth":" "},en:{"dashboard.title":"Admin Dashboard","dashboard.welcome":"Welcome","dashboard.overview":"Overview","dashboard.statistics":"Statistics","dashboard.recentActivity":"Recent Activity","dashboard.quickActions":"Quick Actions","content.title":"Content Management","content.articles":"Articles","content.categories":"Categories","content.epapers":"E-Papers","content.videos":"Videos","content.audio":"Audio Articles","content.breakingNews":"Breaking News","content.addNew":"Add New","content.edit":"Edit","content.delete":"Delete","content.publish":"Publish","content.draft":"Draft","users.title":"User Management","users.all":"All Users","users.admins":"Administrators","users.active":"Active Users","users.total":"Total Users","stats.totalArticles":"Total Articles","stats.totalUsers":"Total Users","stats.totalViews":"Total Views","stats.todayViews":"Today's Views","stats.publishedToday":"Published Today","stats.activeUsers":"Active Users","nav.dashboard":"Dashboard","nav.content":"Content","nav.users":"Users","nav.analytics":"Analytics","nav.settings":"Settings","nav.logout":"Logout","action.save":"Save","action.cancel":"Cancel","action.confirm":"Confirm","action.loading":"Loading...","action.success":"Success","action.error":"Error","action.view":"View","action.manage":"Manage","status.published":"Published","status.draft":"Draft","status.active":"Active","status.inactive":"Inactive","status.featured":"Featured","time.today":"Today","time.yesterday":"Yesterday","time.thisWeek":"This Week","time.thisMonth":"This Month"}},Nk=m.createContext(void 0);function I8({children:t}){const[s,r]=m.useState("bn");m.useEffect(()=>{const i=localStorage.getItem("admin-language");i&&(i==="bn"||i==="en")&&r(i)},[]);const n=i=>{r(i),localStorage.setItem("admin-language",i)},a=i=>O8[s][i]||i;return e.jsx(Nk.Provider,{value:{language:s,setLanguage:n,t:a},children:t})}function D8(){const t=m.useContext(Nk);if(t===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return t}var L8=cv[" useId ".trim().toString()]||(()=>{}),M8=0;function bs(t){const[s,r]=m.useState(L8());return rs(()=>{r(n=>n??String(M8++))},[t]),s?`radix-${s}`:""}var Ux="focusScope.autoFocusOnMount",zx="focusScope.autoFocusOnUnmount",jb={bubbles:!1,cancelable:!0},F8="FocusScope",hu=m.forwardRef((t,s)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=t,[l,c]=m.useState(null),d=Gt(a),u=Gt(i),h=m.useRef(null),f=Fe(s,v=>c(v)),x=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let v=function(w){if(x.paused||!l)return;const b=w.target;l.contains(b)?h.current=b:ja(h.current,{select:!0})},p=function(w){if(x.paused||!l)return;const b=w.relatedTarget;b!==null&&(l.contains(b)||ja(h.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const N of w)N.removedNodes.length>0&&ja(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",p);const j=new MutationObserver(y);return l&&j.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",p),j.disconnect()}}},[n,l,x.paused]),m.useEffect(()=>{if(l){bb.add(x);const v=document.activeElement;if(!l.contains(v)){const y=new CustomEvent(Ux,jb);l.addEventListener(Ux,d),l.dispatchEvent(y),y.defaultPrevented||($8(q8(_k(l)),{select:!0}),document.activeElement===v&&ja(l))}return()=>{l.removeEventListener(Ux,d),setTimeout(()=>{const y=new CustomEvent(zx,jb);l.addEventListener(zx,u),l.dispatchEvent(y),y.defaultPrevented||ja(v??document.body,{select:!0}),l.removeEventListener(zx,u),bb.remove(x)},0)}}},[l,d,u,x]);const g=m.useCallback(v=>{if(!r&&!n||x.paused)return;const p=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,y=document.activeElement;if(p&&y){const j=v.currentTarget,[w,b]=U8(j);w&&b?!v.shiftKey&&y===b?(v.preventDefault(),r&&ja(w,{select:!0})):v.shiftKey&&y===w&&(v.preventDefault(),r&&ja(b,{select:!0})):y===j&&v.preventDefault()}},[r,n,x.paused]);return e.jsx(ge.div,{tabIndex:-1,...o,ref:f,onKeyDown:g})});hu.displayName=F8;function $8(t,{select:s=!1}={}){const r=document.activeElement;for(const n of t)if(ja(n,{select:s}),document.activeElement!==r)return}function U8(t){const s=_k(t),r=wb(s,t),n=wb(s.reverse(),t);return[r,n]}function _k(t){const s=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)s.push(r.currentNode);return s}function wb(t,s){for(const r of t)if(!z8(r,{upTo:s}))return r}function z8(t,{upTo:s}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(s!==void 0&&t===s)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function V8(t){return t instanceof HTMLInputElement&&"select"in t}function ja(t,{select:s=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&V8(t)&&s&&t.select()}}var bb=B8();function B8(){let t=[];return{add(s){const r=t[0];s!==r&&(r==null||r.pause()),t=Nb(t,s),t.unshift(s)},remove(s){var r;t=Nb(t,s),(r=t[0])==null||r.resume()}}}function Nb(t,s){const r=[...t],n=r.indexOf(s);return n!==-1&&r.splice(n,1),r}function q8(t){return t.filter(s=>s.tagName!=="A")}var Vx=0;function pf(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??_b()),document.body.insertAdjacentElement("beforeend",t[1]??_b()),Vx++,()=>{Vx===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),Vx--}},[])}function _b(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var gn=function(){return gn=Object.assign||function(s){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(s[i]=r[i])}return s},gn.apply(this,arguments)};function Sk(t,s){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&s.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)s.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function H8(t,s,r){if(r||arguments.length===2)for(var n=0,a=s.length,i;n<a;n++)(i||!(n in s))&&(i||(i=Array.prototype.slice.call(s,0,n)),i[n]=s[n]);return t.concat(i||Array.prototype.slice.call(s))}var _h="right-scroll-bar-position",Sh="width-before-scroll-bar",W8="with-scroll-bars-hidden",K8="--removed-body-scroll-bar-size";function Bx(t,s){return typeof t=="function"?t(s):t&&(t.current=s),t}function G8(t,s){var r=m.useState(function(){return{value:t,callback:s,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=s,r.facade}var Q8=typeof window<"u"?m.useLayoutEffect:m.useEffect,Sb=new WeakMap;function Z8(t,s){var r=G8(null,function(n){return t.forEach(function(a){return Bx(a,n)})});return Q8(function(){var n=Sb.get(r);if(n){var a=new Set(n),i=new Set(t),o=r.current;a.forEach(function(l){i.has(l)||Bx(l,null)}),i.forEach(function(l){a.has(l)||Bx(l,o)})}Sb.set(r,t)},[t]),r}function Y8(t){return t}function X8(t,s){s===void 0&&(s=Y8);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(i){var o=s(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),r}}}};return a}function J8(t){t===void 0&&(t={});var s=X8(null);return s.options=gn({async:!0,ssr:!1},t),s}var kk=function(t){var s=t.sideCar,r=Sk(t,["sideCar"]);if(!s)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=s.read();if(!n)throw new Error("Sidecar medium not found");return m.createElement(n,gn({},r))};kk.isSideCarExport=!0;function eF(t,s){return t.useMedium(s),kk}var Ck=J8(),qx=function(){},gf=m.forwardRef(function(t,s){var r=m.useRef(null),n=m.useState({onScrollCapture:qx,onWheelCapture:qx,onTouchMoveCapture:qx}),a=n[0],i=n[1],o=t.forwardProps,l=t.children,c=t.className,d=t.removeScrollBar,u=t.enabled,h=t.shards,f=t.sideCar,x=t.noIsolation,g=t.inert,v=t.allowPinchZoom,p=t.as,y=p===void 0?"div":p,j=t.gapMode,w=Sk(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=f,N=Z8([r,s]),_=gn(gn({},w),a);return m.createElement(m.Fragment,null,u&&m.createElement(b,{sideCar:Ck,removeScrollBar:d,shards:h,noIsolation:x,inert:g,setCallbacks:i,allowPinchZoom:!!v,lockRef:r,gapMode:j}),o?m.cloneElement(m.Children.only(l),gn(gn({},_),{ref:N})):m.createElement(y,gn({},_,{className:c,ref:N}),l))});gf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};gf.classNames={fullWidth:Sh,zeroRight:_h};var tF=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function sF(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var s=tF();return s&&t.setAttribute("nonce",s),t}function rF(t,s){t.styleSheet?t.styleSheet.cssText=s:t.appendChild(document.createTextNode(s))}function nF(t){var s=document.head||document.getElementsByTagName("head")[0];s.appendChild(t)}var aF=function(){var t=0,s=null;return{add:function(r){t==0&&(s=sF())&&(rF(s,r),nF(s)),t++},remove:function(){t--,!t&&s&&(s.parentNode&&s.parentNode.removeChild(s),s=null)}}},iF=function(){var t=aF();return function(s,r){m.useEffect(function(){return t.add(s),function(){t.remove()}},[s&&r])}},Ek=function(){var t=iF(),s=function(r){var n=r.styles,a=r.dynamic;return t(n,a),null};return s},oF={left:0,top:0,right:0,gap:0},Hx=function(t){return parseInt(t||"",10)||0},lF=function(t){var s=window.getComputedStyle(document.body),r=s[t==="padding"?"paddingLeft":"marginLeft"],n=s[t==="padding"?"paddingTop":"marginTop"],a=s[t==="padding"?"paddingRight":"marginRight"];return[Hx(r),Hx(n),Hx(a)]},cF=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return oF;var s=lF(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:s[0],top:s[1],right:s[2],gap:Math.max(0,n-r+s[2]-s[0])}},dF=Ek(),ml="data-scroll-locked",uF=function(t,s,r,n){var a=t.left,i=t.top,o=t.right,l=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(W8,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(ml,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([s&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(_h,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Sh,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(_h," .").concat(_h,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Sh," .").concat(Sh,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(ml,`] {
    `).concat(K8,": ").concat(l,`px;
  }
`)},kb=function(){var t=parseInt(document.body.getAttribute(ml)||"0",10);return isFinite(t)?t:0},hF=function(){m.useEffect(function(){return document.body.setAttribute(ml,(kb()+1).toString()),function(){var t=kb()-1;t<=0?document.body.removeAttribute(ml):document.body.setAttribute(ml,t.toString())}},[])},mF=function(t){var s=t.noRelative,r=t.noImportant,n=t.gapMode,a=n===void 0?"margin":n;hF();var i=m.useMemo(function(){return cF(a)},[a]);return m.createElement(dF,{styles:uF(i,!s,a,r?"":"!important")})},Dg=!1;if(typeof window<"u")try{var sh=Object.defineProperty({},"passive",{get:function(){return Dg=!0,!0}});window.addEventListener("test",sh,sh),window.removeEventListener("test",sh,sh)}catch{Dg=!1}var Lo=Dg?{passive:!1}:!1,fF=function(t){return t.tagName==="TEXTAREA"},Tk=function(t,s){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[s]!=="hidden"&&!(r.overflowY===r.overflowX&&!fF(t)&&r[s]==="visible")},xF=function(t){return Tk(t,"overflowY")},pF=function(t){return Tk(t,"overflowX")},Cb=function(t,s){var r=s.ownerDocument,n=s;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=Pk(t,n);if(a){var i=Ak(t,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},gF=function(t){var s=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[s,r,n]},vF=function(t){var s=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[s,r,n]},Pk=function(t,s){return t==="v"?xF(s):pF(s)},Ak=function(t,s){return t==="v"?gF(s):vF(s)},yF=function(t,s){return t==="h"&&s==="rtl"?-1:1},jF=function(t,s,r,n,a){var i=yF(t,window.getComputedStyle(s).direction),o=i*n,l=r.target,c=s.contains(l),d=!1,u=o>0,h=0,f=0;do{var x=Ak(t,l),g=x[0],v=x[1],p=x[2],y=v-p-i*g;(g||y)&&Pk(t,l)&&(h+=y,f+=g),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(s.contains(l)||s===l));return(u&&Math.abs(h)<1||!u&&Math.abs(f)<1)&&(d=!0),d},rh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Eb=function(t){return[t.deltaX,t.deltaY]},Tb=function(t){return t&&"current"in t?t.current:t},wF=function(t,s){return t[0]===s[0]&&t[1]===s[1]},bF=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},NF=0,Mo=[];function _F(t){var s=m.useRef([]),r=m.useRef([0,0]),n=m.useRef(),a=m.useState(NF++)[0],i=m.useState(Ek)[0],o=m.useRef(t);m.useEffect(function(){o.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var v=H8([t.lockRef.current],(t.shards||[]).map(Tb),!0).filter(Boolean);return v.forEach(function(p){return p.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),v.forEach(function(p){return p.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var l=m.useCallback(function(v,p){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var y=rh(v),j=r.current,w="deltaX"in v?v.deltaX:j[0]-y[0],b="deltaY"in v?v.deltaY:j[1]-y[1],N,_=v.target,P=Math.abs(w)>Math.abs(b)?"h":"v";if("touches"in v&&P==="h"&&_.type==="range")return!1;var A=Cb(P,_);if(!A)return!0;if(A?N=P:(N=P==="v"?"h":"v",A=Cb(P,_)),!A)return!1;if(!n.current&&"changedTouches"in v&&(w||b)&&(n.current=N),!N)return!0;var k=n.current||N;return jF(k,p,v,k==="h"?w:b)},[]),c=m.useCallback(function(v){var p=v;if(!(!Mo.length||Mo[Mo.length-1]!==i)){var y="deltaY"in p?Eb(p):rh(p),j=s.current.filter(function(N){return N.name===p.type&&(N.target===p.target||p.target===N.shadowParent)&&wF(N.delta,y)})[0];if(j&&j.should){p.cancelable&&p.preventDefault();return}if(!j){var w=(o.current.shards||[]).map(Tb).filter(Boolean).filter(function(N){return N.contains(p.target)}),b=w.length>0?l(p,w[0]):!o.current.noIsolation;b&&p.cancelable&&p.preventDefault()}}},[]),d=m.useCallback(function(v,p,y,j){var w={name:v,delta:p,target:y,should:j,shadowParent:SF(y)};s.current.push(w),setTimeout(function(){s.current=s.current.filter(function(b){return b!==w})},1)},[]),u=m.useCallback(function(v){r.current=rh(v),n.current=void 0},[]),h=m.useCallback(function(v){d(v.type,Eb(v),v.target,l(v,t.lockRef.current))},[]),f=m.useCallback(function(v){d(v.type,rh(v),v.target,l(v,t.lockRef.current))},[]);m.useEffect(function(){return Mo.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Lo),document.addEventListener("touchmove",c,Lo),document.addEventListener("touchstart",u,Lo),function(){Mo=Mo.filter(function(v){return v!==i}),document.removeEventListener("wheel",c,Lo),document.removeEventListener("touchmove",c,Lo),document.removeEventListener("touchstart",u,Lo)}},[]);var x=t.removeScrollBar,g=t.inert;return m.createElement(m.Fragment,null,g?m.createElement(i,{styles:bF(a)}):null,x?m.createElement(mF,{gapMode:t.gapMode}):null)}function SF(t){for(var s=null;t!==null;)t instanceof ShadowRoot&&(s=t.host,t=t.host),t=t.parentNode;return s}const kF=eF(Ck,_F);var mu=m.forwardRef(function(t,s){return m.createElement(gf,gn({},t,{ref:s,sideCar:kF}))});mu.classNames=gf.classNames;var CF=function(t){if(typeof document>"u")return null;var s=Array.isArray(t)?t[0]:t;return s.ownerDocument.body},Fo=new WeakMap,nh=new WeakMap,ah={},Wx=0,Rk=function(t){return t&&(t.host||Rk(t.parentNode))},EF=function(t,s){return s.map(function(r){if(t.contains(r))return r;var n=Rk(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},TF=function(t,s,r,n){var a=EF(s,Array.isArray(t)?t:[t]);ah[r]||(ah[r]=new WeakMap);var i=ah[r],o=[],l=new Set,c=new Set(a),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};a.forEach(d);var u=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))u(f);else try{var x=f.getAttribute(n),g=x!==null&&x!=="false",v=(Fo.get(f)||0)+1,p=(i.get(f)||0)+1;Fo.set(f,v),i.set(f,p),o.push(f),v===1&&g&&nh.set(f,!0),p===1&&f.setAttribute(r,"true"),g||f.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",f,y)}})};return u(s),l.clear(),Wx++,function(){o.forEach(function(h){var f=Fo.get(h)-1,x=i.get(h)-1;Fo.set(h,f),i.set(h,x),f||(nh.has(h)||h.removeAttribute(n),nh.delete(h)),x||h.removeAttribute(r)}),Wx--,Wx||(Fo=new WeakMap,Fo=new WeakMap,nh=new WeakMap,ah={})}},vf=function(t,s,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),a=CF(t);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),TF(n,a,r,"aria-hidden")):function(){return null}},yf="Dialog",[Ok,Ik]=_s(yf),[PF,dn]=Ok(yf),Dk=t=>{const{__scopeDialog:s,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=t,l=m.useRef(null),c=m.useRef(null),[d,u]=an({prop:n,defaultProp:a??!1,onChange:i,caller:yf});return e.jsx(PF,{scope:s,triggerRef:l,contentRef:c,contentId:bs(),titleId:bs(),descriptionId:bs(),open:d,onOpenChange:u,onOpenToggle:m.useCallback(()=>u(h=>!h),[u]),modal:o,children:r})};Dk.displayName=yf;var Lk="DialogTrigger",Mk=m.forwardRef((t,s)=>{const{__scopeDialog:r,...n}=t,a=dn(Lk,r),i=Fe(s,a.triggerRef);return e.jsx(ge.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Uy(a.open),...n,ref:i,onClick:ie(t.onClick,a.onOpenToggle)})});Mk.displayName=Lk;var Fy="DialogPortal",[AF,Fk]=Ok(Fy,{forceMount:void 0}),$k=t=>{const{__scopeDialog:s,forceMount:r,children:n,container:a}=t,i=dn(Fy,s);return e.jsx(AF,{scope:s,forceMount:r,children:m.Children.map(n,o=>e.jsx(Ss,{present:r||i.open,children:e.jsx(oc,{asChild:!0,container:a,children:o})}))})};$k.displayName=Fy;var xm="DialogOverlay",Uk=m.forwardRef((t,s)=>{const r=Fk(xm,t.__scopeDialog),{forceMount:n=r.forceMount,...a}=t,i=dn(xm,t.__scopeDialog);return i.modal?e.jsx(Ss,{present:n||i.open,children:e.jsx(OF,{...a,ref:s})}):null});Uk.displayName=xm;var RF=ei("DialogOverlay.RemoveScroll"),OF=m.forwardRef((t,s)=>{const{__scopeDialog:r,...n}=t,a=dn(xm,r);return e.jsx(mu,{as:RF,allowPinchZoom:!0,shards:[a.contentRef],children:e.jsx(ge.div,{"data-state":Uy(a.open),...n,ref:s,style:{pointerEvents:"auto",...n.style}})})}),io="DialogContent",zk=m.forwardRef((t,s)=>{const r=Fk(io,t.__scopeDialog),{forceMount:n=r.forceMount,...a}=t,i=dn(io,t.__scopeDialog);return e.jsx(Ss,{present:n||i.open,children:i.modal?e.jsx(IF,{...a,ref:s}):e.jsx(DF,{...a,ref:s})})});zk.displayName=io;var IF=m.forwardRef((t,s)=>{const r=dn(io,t.__scopeDialog),n=m.useRef(null),a=Fe(s,r.contentRef,n);return m.useEffect(()=>{const i=n.current;if(i)return vf(i)},[]),e.jsx(Vk,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ie(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ie(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:ie(t.onFocusOutside,i=>i.preventDefault())})}),DF=m.forwardRef((t,s)=>{const r=dn(io,t.__scopeDialog),n=m.useRef(!1),a=m.useRef(!1);return e.jsx(Vk,{...t,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),Vk=m.forwardRef((t,s)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=t,l=dn(io,r),c=m.useRef(null),d=Fe(s,c);return pf(),e.jsxs(e.Fragment,{children:[e.jsx(hu,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:e.jsx(ic,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Uy(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(MF,{titleId:l.titleId}),e.jsx($F,{contentRef:c,descriptionId:l.descriptionId})]})]})}),$y="DialogTitle",Bk=m.forwardRef((t,s)=>{const{__scopeDialog:r,...n}=t,a=dn($y,r);return e.jsx(ge.h2,{id:a.titleId,...n,ref:s})});Bk.displayName=$y;var qk="DialogDescription",Hk=m.forwardRef((t,s)=>{const{__scopeDialog:r,...n}=t,a=dn(qk,r);return e.jsx(ge.p,{id:a.descriptionId,...n,ref:s})});Hk.displayName=qk;var Wk="DialogClose",Kk=m.forwardRef((t,s)=>{const{__scopeDialog:r,...n}=t,a=dn(Wk,r);return e.jsx(ge.button,{type:"button",...n,ref:s,onClick:ie(t.onClick,()=>a.onOpenChange(!1))})});Kk.displayName=Wk;function Uy(t){return t?"open":"closed"}var Gk="DialogTitleWarning",[LF,Qk]=uI(Gk,{contentName:io,titleName:$y,docsSlug:"dialog"}),MF=({titleId:t})=>{const s=Qk(Gk),r=`\`${s.contentName}\` requires a \`${s.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${s.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${s.docsSlug}`;return m.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},FF="DialogDescriptionWarning",$F=({contentRef:t,descriptionId:s})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Qk(FF).contentName}}.`;return m.useEffect(()=>{var i;const a=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");s&&a&&(document.getElementById(s)||console.warn(n))},[n,t,s]),null},jf=Dk,zy=Mk,wf=$k,uc=Uk,hc=zk,fu=Bk,xu=Hk,bf=Kk;const Zk=jf,Yk=zy,UF=wf,Xk=m.forwardRef(({className:t,...s},r)=>e.jsx(uc,{className:oe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s,ref:r}));Xk.displayName=uc.displayName;const zF=lc("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Vy=m.forwardRef(({side:t="right",className:s,children:r,...n},a)=>e.jsxs(UF,{children:[e.jsx(Xk,{}),e.jsxs(hc,{ref:a,className:oe(zF({side:t}),s),...n,children:[r,e.jsxs(bf,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[e.jsx(cc,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Vy.displayName=hc.displayName;const Jk=m.forwardRef(({className:t,...s},r)=>e.jsx(fu,{ref:r,className:oe("text-lg font-semibold text-foreground",t),...s}));Jk.displayName=fu.displayName;const VF=m.forwardRef(({className:t,...s},r)=>e.jsx(xu,{ref:r,className:oe("text-sm text-muted-foreground",t),...s}));VF.displayName=xu.displayName;const BF=lc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function X({className:t,variant:s,...r}){return e.jsx("div",{className:oe(BF({variant:s}),t),...r})}const qF=[{id:"main",enTitle:"Main",bnTitle:"",items:[{id:"dashboard",href:"/admin-dashboard",icon:bD,enLabel:"Dashboard",bnLabel:""},{id:"articles",href:"/admin/articles",icon:Xt,enLabel:"Articles",bnLabel:""},{id:"breaking-news",href:"/admin/breaking-news",icon:du,enLabel:"Breaking News",bnLabel:" ",badge:"3"}]},{id:"content",enTitle:"Content",bnTitle:"",items:[{id:"categories",href:"/admin/categories",icon:gD,enLabel:"Categories",bnLabel:""},{id:"videos",href:"/admin/videos",icon:hf,enLabel:"Videos",bnLabel:""},{id:"epapers",href:"/admin/epapers",icon:jg,enLabel:"E-Papers",bnLabel:"-"},{id:"audio-articles",href:"/admin/audio",icon:iD,enLabel:"Audio Articles",bnLabel:" "},{id:"social-media",href:"/admin/social-media",icon:Tn,enLabel:"Social Media",bnLabel:" "},{id:"footer-pages",href:"/admin/footer-pages",icon:Xt,enLabel:"Footer Pages",bnLabel:" "}]},{id:"system",enTitle:"System",bnTitle:"",items:[{id:"users",href:"/admin/users",icon:gt,enLabel:"Users",bnLabel:""},{id:"analytics",href:"/admin/analytics",icon:wr,enLabel:"Analytics",bnLabel:""},{id:"weather",href:"/admin/weather",icon:af,enLabel:"Weather",bnLabel:""},{id:"settings",href:"/admin/settings",icon:As,enLabel:"Settings",bnLabel:""},{id:"seo",href:"/admin/seo",icon:mi,enLabel:"SEO",bnLabel:""},{id:"database",href:"/admin/database",icon:Jn,enLabel:"Database",bnLabel:""}]},{id:"advanced",enTitle:"Advanced",bnTitle:"",items:[{id:"comments",href:"/admin/comments",icon:cf,enLabel:"Comments",bnLabel:""},{id:"trending-analytics",href:"/admin/trending-analytics",icon:Ct,enLabel:"Trending Analytics",bnLabel:" "},{id:"email-notifications",href:"/admin/email-notifications",icon:Ml,enLabel:"Email & Notifications",bnLabel:"  "},{id:"advertising",href:"/admin/advertisements",icon:$d,enLabel:"Advertising",bnLabel:""},{id:"mobile-app",href:"/admin/mobile-app",icon:df,enLabel:"Mobile App",bnLabel:" "},{id:"performance",href:"/admin/performance",icon:Rt,enLabel:"Performance",bnLabel:""},{id:"security",href:"/admin/security",icon:bS,enLabel:"Security",bnLabel:""},{id:"search",href:"/admin/search",icon:Ot,enLabel:"Search Management",bnLabel:" "},{id:"algorithms",href:"/admin/algorithms",icon:oD,enLabel:"Advanced Algorithms",bnLabel:" "}]}];function xt({children:t}){const[s]=yt(),[r,n]=m.useState(!1),[a,i]=m.useState(!1),[o,l]=m.useState("light"),[c,d]=m.useState(3),{t:u}=On(),{user:h,signOut:f}=rt();m.useEffect(()=>{const p=()=>{i(window.innerWidth<768)};return p(),window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[]);const x=async()=>{try{await f()}catch(p){console.error("Logout error:",p)}},g=()=>{l(o==="light"?"dark":"light"),document.documentElement.classList.toggle("dark")},v=()=>{var p,y;return e.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-gray-900",children:[e.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-600 to-red-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-sm",children:""})}),e.jsx("div",{children:e.jsx("h2",{className:"font-bold text-gray-900 dark:text-white text-sm",children:u("admin-panel","Admin Panel"," ")})})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsx("nav",{className:"p-3 space-y-6",children:qF.map(j=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase px-3",children:u(`section-${j.id}`,j.enTitle,j.bnTitle)}),e.jsx("div",{className:"space-y-1",children:j.items.map(w=>{const b=s===w.href;return e.jsx(Y,{href:w.href,children:e.jsxs("div",{className:`flex items-center gap-3 px-3 py-3 rounded-lg cursor-pointer transition-all ${b?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 border-l-4 border-blue-500":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800"}`,onClick:()=>a&&n(!1),children:[e.jsx("div",{className:`p-2 rounded-md ${b?"bg-blue-100 dark:bg-blue-800 text-blue-600 dark:text-blue-300":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400"}`,children:e.jsx(w.icon,{className:"h-4 w-4"})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium text-sm truncate",children:u(`nav-${w.id}`,w.enLabel,w.bnLabel)}),w.badge&&e.jsx("span",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:w.badge})]})}),b&&e.jsx(ou,{className:"h-4 w-4 text-blue-500"})]})},w.id)})})]},j.id))})}),e.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-sm font-bold",children:((p=h==null?void 0:h.email)==null?void 0:p.charAt(0).toUpperCase())||"A"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:((y=h==null?void 0:h.email)==null?void 0:y.split("@")[0])||"Admin"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:u("admin-role","Administrator","")})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(D,{variant:"ghost",size:"sm",onClick:g,className:"h-8 w-8 p-0",children:o==="light"?e.jsx(wS,{className:"h-4 w-4"}):e.jsx(cu,{className:"h-4 w-4"})}),e.jsx(D,{variant:"ghost",size:"sm",onClick:x,className:"h-8 w-8 p-0 text-red-600",children:e.jsx(_y,{className:"h-4 w-4"})})]})]})})]})};return e.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900 bangladesh-colors",children:[a&&e.jsxs(Zk,{open:r,onOpenChange:n,children:[e.jsx(Yk,{asChild:!0,children:e.jsx(D,{variant:"outline",size:"icon",className:"fixed top-4 left-4 z-50 h-10 w-10 touch-target interactive-element","aria-label":u("open-menu","Open menu"," "),children:e.jsx(yg,{className:"h-4 w-4"})})}),e.jsx(Vy,{side:"left",className:"p-0 w-80",children:e.jsx(v,{})})]}),!a&&e.jsx("aside",{className:"w-80 border-r bg-white dark:bg-gray-900 border-gray-200 dark:border-gray-700",children:e.jsx(v,{})}),e.jsxs("main",{className:"flex-1 overflow-auto",children:[e.jsx("header",{className:"admin-header sticky top-0 z-40 bg-white/95 dark:bg-gray-900/95 backdrop-blur-md border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[a&&e.jsx(D,{variant:"ghost",size:"sm",onClick:()=>n(!0),className:"touch-target",children:e.jsx(yg,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 cultural-gradient rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-sm",children:""})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white bangla-text",children:u("dashboard-title"," Admin"," ")}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:u("news-management","News Management System","  ")})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"hidden sm:flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{className:"bangla-text text-xs",children:u("server-status","All Systems Operational","  ")})]})}),e.jsx("div",{className:"relative",children:e.jsxs(D,{variant:"ghost",size:"sm",className:"touch-target","aria-label":u("notifications","Notifications",""),children:[e.jsx(tn,{className:"h-4 w-4"}),c>0&&e.jsx(X,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs bg-red-500 hover:bg-red-600",children:c})]})})]})]})}),e.jsx("div",{className:`admin-main minimal-interface ${a?"pt-4":""}`,children:e.jsx("div",{className:"container mx-auto px-4 md:px-6 py-4 md:py-6",children:t})})]})]})}const HF=void 0,WF=void 0;throw new Error(" SECURITY: Missing required environment variables VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY");const mc=x2(HF,WF,{auth:{storage:window.localStorage,storageKey:"supabase.auth.admin.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"pkce",debug:!1}});function KF(t){try{return JSON.parse(atob(t.split(".")[1])).exp*1e3<Date.now()+6e4}catch{return!0}}async function e4(){try{let{data:{session:t},error:s}=await J.auth.getSession();if(s||!t)return null;if(KF(t.access_token)){console.log(" JWT token expired, refreshing...");const{data:r,error:n}=await J.auth.refreshSession();if(n)return console.error("Failed to refresh session:",n),await J.auth.signOut(),null;t=r==null?void 0:r.session,t&&console.log(" JWT token refreshed successfully")}return t}catch(t){return console.error("Session handling error:",t),null}}async function GF(t){var s,r;try{return await t()}catch(n){if((s=n==null?void 0:n.message)!=null&&s.includes("JWT")||(r=n==null?void 0:n.message)!=null&&r.includes("expired")||(n==null?void 0:n.code)==="PGRST301"){if(console.log(" Retrying operation after JWT refresh..."),!await e4())throw new Error("Authentication required - please log in again");return await t()}throw n}}async function t4(){try{const t=await e4();return t!=null&&t.user?await GF(async()=>{const{data:s}=await ne.from("user_profiles").select("role").eq("id",t.user.id).single();return(s==null?void 0:s.role)==="admin"}):!1}catch(t){return console.error("Admin auth check failed:",t),!1}}async function s4(){try{const{data:{session:t}}=await ne.auth.getSession();if(!(t!=null&&t.user))return null;const{data:s}=await ne.from("user_profiles").select("*").eq("id",t.user.id).single();return{...t.user,profile:s,isAdmin:(s==null?void 0:s.role)==="admin"}}catch(t){return console.error("Error getting admin user:",t),null}}async function pm(){try{const[t,s,r,n]=await Promise.all([ne.from("articles").select("id",{count:"exact",head:!0}),ne.from("user_profiles").select("id",{count:"exact",head:!0}),ne.from("categories").select("id",{count:"exact",head:!0}),ne.from("articles").select("view_count").then(o=>{var l;return((l=o.data)==null?void 0:l.reduce((c,d)=>c+(d.view_count||0),0))||0})]),{count:a}=await ne.from("articles").select("id",{count:"exact",head:!0}).eq("is_featured",!0),{count:i}=await ne.from("articles").select("id",{count:"exact",head:!0}).gte("created_at",new Date().toISOString().split("T")[0]);return{totalArticles:t.count||0,totalUsers:s.count||0,totalCategories:r.count||0,totalViews:n,featuredArticles:a||0,publishedToday:i||0,recentArticles:await gm("articles",7),recentUsers:await gm("user_profiles",7),articlesGrowth:await Pb("articles"),usersGrowth:await Pb("user_profiles")}}catch(t){return console.error("Error fetching dashboard stats:",t),{totalArticles:0,totalUsers:0,totalCategories:0,totalViews:0,recentArticles:0,recentUsers:0,articlesGrowth:"0%",usersGrowth:"0%"}}}async function gm(t,s){try{const r=new Date;r.setDate(r.getDate()-s);const{count:n}=await ne.from(t).select("id",{count:"exact",head:!0}).gte("created_at",r.toISOString());return n||0}catch(r){return console.error(`Error getting recent count for ${t}:`,r),0}}async function Pb(t){try{const s=await gm(t,7),r=await gm(t,14)-s;if(r===0)return s>0?"+100%":"0%";const n=(s-r)/r*100;return`${n>0?"+":""}${n.toFixed(1)}%`}catch(s){return console.error(`Error calculating growth for ${t}:`,s),"0%"}}async function Nf(t={}){try{const{page:s=1,limit:r=20,search:n,category:a,status:i,sortBy:o="created_at",sortOrder:l="desc"}=t;let c=mc.from("articles").select(`
        *,
        categories(id, name, slug)
      `,{count:"exact"});n&&n.trim()&&(c=c.or(`title.ilike.%${n}%,content.ilike.%${n}%,author.ilike.%${n}%`)),a&&a!=="all"&&(c=c.eq("category_id",parseInt(a))),i&&i!=="all"&&(i==="published"?c=c.eq("is_published",!0):i==="draft"&&(c=c.eq("is_published",!1)));const d=o==="publishedAt"?"published_at":o;c=c.order(d,{ascending:l==="asc"});const u=(s-1)*r,h=u+r-1;c=c.range(u,h);const{data:f,error:x,count:g}=await c;if(x)throw console.error("Supabase error:",x),new Error(x.message||"Failed to fetch articles");return{articles:f||[],totalCount:g||0,currentPage:s,totalPages:Math.ceil((g||0)/r)}}catch(s){return console.error("Error fetching admin articles:",s),{articles:[],totalCount:0,currentPage:1,totalPages:0}}}async function By(t){try{const{data:{session:s}}=await ne.auth.getSession();if(!(s!=null&&s.user))throw new Error("Not authenticated");const r=t.slug||t.title.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").slice(0,100),{data:n,error:a}=await mc.from("articles").insert({title:t.title,slug:r,content:t.content,excerpt:t.excerpt,image_url:t.image_url,category_id:t.category_id,is_featured:t.is_featured||!1,is_published:t.is_published!==!1,published_at:t.published_at||new Date().toISOString(),read_time:Math.ceil(t.content.length/200)||5,view_count:0}).select().single();if(a)throw console.error("Supabase error:",a),new Error(a.message||"Failed to create article");return n}catch(s){throw console.error("Error creating article:",s),s}}async function qy(t,s){try{const{data:{session:r}}=await ne.auth.getSession();if(!(r!=null&&r.user))throw new Error("Not authenticated");const{data:n,error:a}=await mc.from("articles").update({title:s.title,slug:s.slug,content:s.content,excerpt:s.excerpt,image_url:s.image_url,category_id:s.category_id,is_featured:s.is_featured,is_published:s.is_published!==!1,published_at:s.published_at,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(a)throw console.error("Supabase error:",a),new Error(a.message||"Failed to update article");return n}catch(r){throw console.error("Error updating article:",r),r}}async function Hy(t){try{const{data:{session:s}}=await ne.auth.getSession();if(!(s!=null&&s.user))throw new Error("Not authenticated");const{error:r}=await mc.from("articles").delete().eq("id",t);if(r)throw console.error("Supabase error:",r),new Error(r.message||"Failed to delete article");return!0}catch(s){throw console.error("Error deleting article:",s),s}}async function pu(){try{const{data:t,error:s}=await mc.from("categories").select("*").order("name");if(s)throw console.error("Supabase error:",s),new Error(s.message||"Failed to fetch categories");return t||[]}catch(t){return console.error("Error fetching categories:",t),[]}}async function Wy(t){try{const{data:{session:s}}=await ne.auth.getSession();if(!(s!=null&&s.user))throw new Error("Not authenticated");const r=t.name.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-"),{data:n,error:a}=await mc.from("categories").insert({name:t.name,slug:r,description:t.description,color:t.color,created_at:new Date().toISOString()}).select().single();if(a)throw console.error("Supabase error:",a),new Error(a.message||"Failed to create category");return n}catch(s){throw console.error("Error creating category:",s),s}}async function Ky(t,s){try{const{data:r,error:n}=await ne.from("categories").update(s).eq("id",t).select().single();if(n)throw n;return r}catch(r){throw console.error("Error updating category:",r),r}}async function Gy(t){try{const{error:s}=await ne.from("categories").delete().eq("id",t);if(s)throw s;return!0}catch(s){throw console.error("Error deleting category:",s),s}}async function vm(t={}){try{const{page:s=1,limit:r=20,search:n,role:a}=t;let i=ne.from("user_profiles").select("*");n&&(i=i.or(`name.ilike.%${n}%,email.ilike.%${n}%`)),a&&a!=="all"&&(i=i.eq("role",a));const o=(s-1)*r,l=o+r-1,{data:c,error:d,count:u}=await i.order("created_at",{ascending:!1}).range(o,l);if(d)throw d;return{users:c||[],totalCount:u||0,currentPage:s,totalPages:Math.ceil((u||0)/r)}}catch(s){return console.error("Error fetching admin users:",s),{users:[],totalCount:0,currentPage:1,totalPages:0}}}async function Qy(t,s){try{const{data:r,error:n}=await ne.from("user_profiles").update({role:s}).eq("id",t).select().single();if(n)throw n;return r}catch(r){throw console.error("Error updating user role:",r),r}}async function r4(t,s="media"){try{const r=t.name.split(".").pop(),n=`${Date.now()}.${r}`,a=`${s}/${n}`,{data:i,error:o}=await ne.storage.from("media").upload(a,t);if(o)throw o;const{data:{publicUrl:l}}=ne.storage.from("media").getPublicUrl(a);return{url:l,path:a}}catch(r){throw console.error("Error uploading media:",r),r}}async function n4(){try{const{data:t,error:s}=await ne.from("system_settings").select("*").order("setting_key");if(s)throw s;const r={};return t==null||t.forEach(n=>{r[n.setting_key]=n.setting_value}),r}catch(t){return console.error("Error fetching system settings:",t),{}}}async function a4(t,s){try{const{data:r,error:n}=await ne.from("system_settings").upsert({setting_key:t,setting_value:s,updated_at:new Date().toISOString()},{onConflict:"setting_key"}).select().single();if(n)throw n;return r}catch(r){throw console.error("Error updating system setting:",r),r}}async function Zy(){try{const{data:t,error:s}=await ne.from("breaking_news").select("*").order("created_at",{ascending:!1});if(s)throw s;return t||[]}catch(t){return console.error("Error fetching breaking news:",t),[]}}async function Yy(t){try{const{data:s,error:r}=await ne.from("breaking_news").insert({...t,is_active:!0,created_at:new Date().toISOString()}).select().single();if(r)throw r;return s}catch(s){throw console.error("Error creating breaking news:",s),s}}async function ym(t,s){try{const{data:r,error:n}=await ne.from("breaking_news").update({...s,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(n)throw n;return r}catch(r){throw console.error("Error updating breaking news:",r),r}}async function Xy(t){try{const{error:s}=await ne.from("breaking_news").delete().eq("id",t);if(s)throw s;return!0}catch(s){throw console.error("Error deleting breaking news:",s),s}}async function i4(){try{const{data:t,error:s}=await ne.from("video_content").select("*").order("created_at",{ascending:!1});if(s)throw s;return t||[]}catch(t){return console.error("Error fetching admin videos:",t),[]}}async function o4(t){try{const{data:s,error:r}=await ne.from("video_content").insert({...t,published_at:new Date().toISOString(),is_published:!0,view_count:0}).select().single();if(r)throw r;return s}catch(s){throw console.error("Error creating video content:",s),s}}async function l4(t,s){try{const{data:r,error:n}=await ne.from("video_content").update({...s,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(n)throw n;return r}catch(r){throw console.error("Error updating video content:",r),r}}async function c4(t){try{const{error:s}=await ne.from("video_content").delete().eq("id",t);if(s)throw s;return!0}catch(s){throw console.error("Error deleting video content:",s),s}}async function d4(){try{const{data:t,error:s}=await ne.from("audio_articles").select("*").order("created_at",{ascending:!1});if(s)throw s;return t||[]}catch(t){return console.error("Error fetching admin audio articles:",t),[]}}async function u4(t){try{const{data:s,error:r}=await ne.from("audio_articles").insert({...t,published_at:new Date().toISOString(),is_published:!0}).select().single();if(r)throw r;return s}catch(s){throw console.error("Error creating audio article:",s),s}}async function h4(t,s){try{const{data:r,error:n}=await ne.from("audio_articles").update({...s,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(n)throw n;return r}catch(r){throw console.error("Error updating audio article:",r),r}}async function m4(t){try{const{error:s}=await ne.from("audio_articles").delete().eq("id",t);if(s)throw s;return!0}catch(s){throw console.error("Error deleting audio article:",s),s}}async function f4(){try{const{data:t,error:s}=await ne.from("epapers").select("*").order("publish_date",{ascending:!1});if(s)throw s;return t||[]}catch(t){return console.error("Error fetching admin e-papers:",t),[]}}async function x4(t){try{const{data:s,error:r}=await ne.from("epapers").insert({...t,created_at:new Date().toISOString()}).select().single();if(r)throw r;return s}catch(s){throw console.error("Error creating e-paper:",s),s}}async function p4(t,s){try{const{data:r,error:n}=await ne.from("epapers").update({...s,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(n)throw n;return r}catch(r){throw console.error("Error updating e-paper:",r),r}}async function g4(t){try{const{error:s}=await ne.from("epapers").delete().eq("id",t);if(s)throw s;return!0}catch(s){throw console.error("Error deleting e-paper:",s),s}}async function Lg(){try{const{data:t,error:s}=await ne.from("article_comments").select(`
        *,
        users:user_id(name, email),
        articles:article_id(title, slug)
      `).order("created_at",{ascending:!1});if(s)throw s;return t||[]}catch(t){return console.error("Error fetching admin comments:",t),[]}}async function Mg(t,s){try{const{data:r,error:n}=await ne.from("article_comments").update({status:s,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(n)throw n;return r}catch(r){throw console.error("Error updating comment status:",r),r}}async function QF(t){try{const{error:s}=await ne.from("article_comments").delete().eq("id",t);if(s)throw s;return!0}catch(s){throw console.error("Error deleting comment:",s),s}}async function v4(){try{const{data:t,error:s}=await ne.from("advertisements").select("*").order("created_at",{ascending:!1});if(s)throw s;return t||[]}catch(t){return console.error("Error fetching admin advertisements:",t),[]}}async function y4(t){try{const{data:s,error:r}=await ne.from("advertisements").insert({...t,created_at:new Date().toISOString()}).select().single();if(r)throw r;return s}catch(s){throw console.error("Error creating advertisement:",s),s}}async function Fg(t,s){try{const{data:r,error:n}=await ne.from("advertisements").update({...s,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(n)throw n;return r}catch(r){throw console.error("Error updating advertisement:",r),r}}async function j4(t){try{const{error:s}=await ne.from("advertisements").delete().eq("id",t);if(s)throw s;return!0}catch(s){throw console.error("Error deleting advertisement:",s),s}}async function w4(){try{const{data:t,error:s}=await ne.from("email_templates").select("*").order("created_at",{ascending:!1});if(s)throw s;return t||[]}catch(t){return console.error("Error fetching admin email templates:",t),[]}}async function ZF(t){try{const{data:s,error:r}=await ne.from("email_templates").insert({...t,created_at:new Date().toISOString()}).select().single();if(r)throw r;return s}catch(s){throw console.error("Error creating email template:",s),s}}async function YF(t,s){try{const{data:r,error:n}=await ne.from("email_templates").update({...s,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(n)throw n;return r}catch(r){throw console.error("Error updating email template:",r),r}}async function XF(t){try{const{error:s}=await ne.from("email_templates").delete().eq("id",t);if(s)throw s;return!0}catch(s){throw console.error("Error deleting email template:",s),s}}async function b4(){try{const{data:t,error:s}=await ne.from("social_media_feed").select("*").order("published_at",{ascending:!1});if(s)throw s;return t||[]}catch(t){return console.error("Error fetching admin social posts:",t),[]}}async function N4(t){try{const{data:s,error:r}=await ne.from("social_media_feed").insert({...t,published_at:new Date().toISOString(),created_at:new Date().toISOString()}).select().single();if(r)throw r;return s}catch(s){throw console.error("Error creating social post:",s),s}}async function _4(t,s){try{const{data:r,error:n}=await ne.from("social_media_feed").update({...s,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(n)throw n;return r}catch(r){throw console.error("Error updating social post:",r),r}}async function S4(t){try{const{error:s}=await ne.from("social_media_feed").delete().eq("id",t);if(s)throw s;return!0}catch(s){throw console.error("Error deleting social post:",s),s}}async function k4(){try{const{data:t,error:s}=await ne.from("mobile_app_settings").select("*");if(s)throw s;return{app_name:"Bengali News App",current_version:"v2.1.0",minimum_version:"v2.0.0",latest_version:"v2.1.0",users_on_latest:85,push_notifications_enabled:!0,offline_mode_enabled:!0,dark_mode_enabled:!0,force_update_enabled:!1,...(t||[]).reduce((n,a)=>(n[a.setting_key]=a.setting_value,n),{})}}catch(t){return console.error("Error fetching mobile app config:",t),{}}}async function $g(t){try{const s=Object.entries(t).map(([r,n])=>ne.from("mobile_app_settings").upsert({setting_key:r,setting_value:String(n),updated_at:new Date().toISOString()}));return await Promise.all(s),{success:!0}}catch(s){throw console.error("Error updating mobile app config:",s),s}}async function C4(){try{return{total_downloads:15420,active_users:12350,daily_active_users:3420,monthly_active_users:12350,app_sessions:45680,average_session_duration:"5m 23s",retention_rate:67,crash_rate:.02,user_satisfaction:4.3,version_adoption:{"v2.1.0":85,"v2.0.9":12,"v2.0.8":3}}}catch(t){return console.error("Error fetching mobile app analytics:",t),{}}}async function E4(t){try{const{data:s,error:r}=await ne.from("push_notifications").insert({...t,status:"sent",sent_at:new Date().toISOString(),created_at:new Date().toISOString()}).select().single();if(r)throw r;return s}catch(s){throw console.error("Error sending push notification:",s),s}}async function T4(){try{const{data:t,error:s}=await ne.from("push_notifications").select("*").order("sent_at",{ascending:!1}).limit(50);if(s)throw s;return t||[]}catch(t){return console.error("Error fetching push notification history:",t),[]}}async function P4(){try{const{data:t,error:s}=await ne.from("weather_data").select("*").order("updated_at",{ascending:!1});if(s)throw s;return t||[]}catch(t){return console.error("Error fetching admin weather data:",t),[]}}async function A4(t){try{const{data:s,error:r}=await ne.from("weather_data").insert({...t,updated_at:new Date().toISOString()}).select().single();if(r)throw r;return s}catch(s){throw console.error("Error creating weather data:",s),s}}async function R4(t,s){try{const{data:r,error:n}=await ne.from("weather_data").update({...s,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(n)throw n;return r}catch(r){throw console.error("Error updating weather data:",r),r}}async function JF(t){try{const{error:s}=await ne.from("weather_data").delete().eq("id",t);if(s)throw s;return!0}catch(s){throw console.error("Error deleting weather data:",s),s}}async function O4(t="week"){try{return{total_users:12540,active_users:8920,new_users_today:45,total_reading_time:"125,340 minutes",total_articles_read:34567,top_categories:[{name:"National",count:1250},{name:"Sports",count:980},{name:"Politics",count:875},{name:"Business",count:720},{name:"Technology",count:540}],user_engagement:{daily_active_rate:67,weekly_retention:45,monthly_retention:28,average_session_duration:"8m 25s"}}}catch(s){return console.error("Error fetching user dashboard stats:",s),{}}}async function td(){try{return{user_activities:[],reading_patterns:[],popular_content:[],user_feedback:[]}}catch(t){return console.error("Error fetching user engagement data:",t),{}}}async function e$(){try{const{data:t,error:s}=await ne.from("system_settings").select("*").order("created_at",{ascending:!1}).limit(1).single();if(s)throw s;return t||{}}catch(t){return console.error("Error fetching admin settings:",t),{}}}async function t$(t){try{const{data:s,error:r}=await ne.from("system_settings").upsert({...t,updated_at:new Date().toISOString()}).select().single();if(r)throw r;return s}catch(s){throw console.error("Error updating admin settings:",s),s}}async function I4(t="week"){try{const s=new Date;let r;switch(t){case"today":r=new Date(s.getFullYear(),s.getMonth(),s.getDate());break;case"week":r=new Date(s.getTime()-7*24*60*60*1e3);break;case"month":r=new Date(s.getTime()-30*24*60*60*1e3);break}const[n,a,i,o]=await Promise.all([ne.from("articles").select("id",{count:"exact",head:!0}).gte("created_at",r.toISOString()),ne.from("user_profiles").select("id",{count:"exact",head:!0}).gte("created_at",r.toISOString()),ne.from("articles").select("view_count").gte("updated_at",r.toISOString()).then(l=>{var c;return((c=l.data)==null?void 0:c.reduce((d,u)=>d+(u.view_count||0),0))||0}),ne.from("article_comments").select("id",{count:"exact",head:!0}).gte("created_at",r.toISOString())]);return{timeRange:t,articles:n.count||0,users:a.count||0,views:i,comments:o.count||0}}catch(s){return console.error("Error fetching admin analytics:",s),{timeRange:t,articles:0,users:0,views:0,comments:0}}}const Ab={checkAdminAuth:t4,getAdminUser:s4,getDashboardStats:pm,getAdminAnalytics:I4,getAdminArticles:Nf,createArticle:By,updateArticle:qy,deleteArticle:Hy,getAdminCategories:pu,createCategory:Wy,updateCategory:Ky,deleteCategory:Gy,getAdminUsers:vm,updateUserRole:Qy,uploadMedia:r4,getSystemSettings:n4,updateSystemSetting:a4,getBreakingNews:Zy,createBreakingNews:Yy,updateBreakingNews:ym,deleteBreakingNews:Xy},Ug=Object.freeze(Object.defineProperty({__proto__:null,AdminAPI:Ab,checkAdminAuth:t4,createAdvertisement:y4,createArticle:By,createAudioArticle:u4,createBreakingNews:Yy,createCategory:Wy,createEPaper:x4,createEmailTemplate:ZF,createSocialPost:N4,createVideoContent:o4,createWeatherData:A4,default:Ab,deleteAdvertisement:j4,deleteArticle:Hy,deleteAudioArticle:m4,deleteBreakingNews:Xy,deleteCategory:Gy,deleteComment:QF,deleteEPaper:g4,deleteEmailTemplate:XF,deleteSocialPost:S4,deleteVideoContent:c4,deleteWeatherData:JF,getAdminAdvertisements:v4,getAdminAnalytics:I4,getAdminArticles:Nf,getAdminAudioArticles:d4,getAdminCategories:pu,getAdminComments:Lg,getAdminEPapers:f4,getAdminEmailTemplates:w4,getAdminSettings:e$,getAdminSocialPosts:b4,getAdminUser:s4,getAdminUsers:vm,getAdminVideos:i4,getAdminWeatherData:P4,getBreakingNews:Zy,getDashboardStats:pm,getMobileAppAnalytics:C4,getMobileAppConfig:k4,getPushNotificationHistory:T4,getSystemSettings:n4,getUserDashboardStats:O4,getUserEngagementData:td,sendPushNotification:E4,updateAdminSettings:t$,updateAdvertisement:Fg,updateArticle:qy,updateAudioArticle:h4,updateBreakingNews:ym,updateCategory:Ky,updateCommentStatus:Mg,updateEPaper:p4,updateEmailTemplate:YF,updateMobileAppConfig:$g,updateSocialPost:_4,updateSystemSetting:a4,updateUserRole:Qy,updateVideoContent:l4,updateWeatherData:R4,uploadMedia:r4},Symbol.toStringTag,{value:"Module"}));function s$(){var j,w,b,N,_,P,A,k;const{user:t,loading:s}=rt(),{language:r,setLanguage:n,t:a}=D8(),[,i]=yt(),[o,l]=m.useState("today");cs();const{data:c,isLoading:d,error:u}=_e({queryKey:["admin-dashboard-stats",o],queryFn:()=>pm(),enabled:!!t&&((j=t.user_metadata)==null?void 0:j.role)==="admin",refetchInterval:3e4}),{data:h,isLoading:f}=_e({queryKey:["admin-recent-activity"],queryFn:()=>Nf({limit:5,sortBy:"created_at",sortOrder:"desc"}),enabled:!!t&&((w=t.user_metadata)==null?void 0:w.role)==="admin",refetchInterval:1e4}),{data:x,isLoading:g}=_e({queryKey:["admin-analytics",o],queryFn:()=>pm(),enabled:!!t&&((b=t.user_metadata)==null?void 0:b.role)==="admin"});m.useEffect(()=>{var T;!s&&!t?i("/admin-login"):!s&&t&&((T=t.user_metadata)==null?void 0:T.role)!=="admin"&&console.log("User metadata:",t.user_metadata)},[s,t,i]);const v=()=>{n(r==="bn"?"en":"bn")};if(s)return e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ae,{className:"h-12 w-12 animate-spin text-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:a("action.loading")})]})});if(!t)return null;if(((N=t.user_metadata)==null?void 0:N.role)!=="admin")return e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-red-50 to-pink-100 dark:from-gray-900 dark:to-gray-800",children:e.jsxs("div",{className:"text-center max-w-md mx-auto p-8 bg-white dark:bg-gray-800 rounded-2xl shadow-xl",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(Yt,{className:"h-8 w-8 text-red-600 dark:text-red-400"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:r==="bn"?"  ":"Admin Access Required"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:r==="bn"?"         ":"Your account does not have admin permissions. Please contact the administrator for access."}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"User ID:"})," ",t.id]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," ",t.email]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Current Role:"})," ",((_=t.user_metadata)==null?void 0:_.role)||"user"]})]})}),e.jsx(D,{onClick:()=>i("/"),className:"w-full",children:r==="bn"?"  ":"Return to Homepage"})]})});const p=[{title:a("stats.totalArticles"),value:(c==null?void 0:c.totalArticles)||0,change:"+12%",changeType:"positive",icon:Xt,color:"blue"},{title:a("stats.totalUsers"),value:(c==null?void 0:c.totalUsers)||0,change:"+8%",changeType:"positive",icon:gt,color:"green"},{title:a("stats.totalViews"),value:((P=c==null?void 0:c.totalViews)==null?void 0:P.toLocaleString())||"0",change:"+25%",changeType:"positive",icon:Et,color:"purple"},{title:a("stats.publishedToday"),value:(c==null?void 0:c.publishedToday)||0,change:"+3%",changeType:"positive",icon:Ct,color:"orange"}],y=[{title:r==="bn"?" ":"New Article",description:r==="bn"?"   ":"Create a new article",icon:Xt,href:"/admin/articles",color:"bg-gradient-to-r from-blue-500 to-blue-600",hoverColor:"hover:from-blue-600 hover:to-blue-700"},{title:r==="bn"?" ":"Breaking News",description:r==="bn"?"  ":"Manage urgent news",icon:Yt,href:"/admin/breaking-news",color:"bg-gradient-to-r from-red-500 to-red-600",hoverColor:"hover:from-red-600 hover:to-red-700"},{title:r==="bn"?"- ":"Upload E-Paper",description:r==="bn"?" -  ":"Add new e-paper edition",icon:jg,href:"/admin/epapers",color:"bg-gradient-to-r from-green-500 to-green-600",hoverColor:"hover:from-green-600 hover:to-green-700"},{title:r==="bn"?" ":"User Management",description:r==="bn"?"  ":"Manage user accounts",icon:gt,href:"/admin/users",color:"bg-gradient-to-r from-purple-500 to-purple-600",hoverColor:"hover:from-purple-600 hover:to-purple-700"},{title:r==="bn"?" ":"Video Content",description:r==="bn"?"   ":"Upload and manage videos",icon:hf,href:"/admin/videos",color:"bg-gradient-to-r from-indigo-500 to-indigo-600",hoverColor:"hover:from-indigo-600 hover:to-indigo-700"},{title:r==="bn"?" ":"Audio Articles",description:r==="bn"?"  ":"Manage audio content",icon:lu,href:"/admin/audio",color:"bg-gradient-to-r from-pink-500 to-pink-600",hoverColor:"hover:from-pink-600 hover:to-pink-700"},{title:r==="bn"?" ":"Advanced Algorithms",description:r==="bn"?"    ":"AI and Machine Learning setup",icon:Rt,href:"/admin/advanced-algorithms",color:"bg-gradient-to-r from-cyan-500 to-cyan-600",hoverColor:"hover:from-cyan-600 hover:to-cyan-700"},{title:r==="bn"?" ":"Trending Analytics",description:r==="bn"?"-  ":"Real-time trending dashboard",icon:Ct,href:"/admin/trending-analytics",color:"bg-gradient-to-r from-amber-500 to-amber-600",hoverColor:"hover:from-amber-600 hover:to-amber-700"}];return e.jsx(xt,{children:e.jsxs("div",{className:"space-y-8 p-6 max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-8 text-white shadow-2xl",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-4xl font-bold mb-3 tracking-tight",children:[a("dashboard.welcome"),", ",(A=t==null?void 0:t.email)==null?void 0:A.split("@")[0],"!"]}),e.jsx("p",{className:"text-blue-100 text-lg leading-relaxed",children:r==="bn"?"     ":"Complete control and management of Prothom Alo website"}),e.jsxs("div",{className:"flex items-center mt-4 space-x-4",children:[e.jsxs(X,{className:"bg-white/20 text-white border-white/30",children:[e.jsx(Rt,{className:"h-3 w-3 mr-1"}),"Live Dashboard"]}),e.jsxs(X,{className:"bg-white/20 text-white border-white/30",children:[e.jsx(mi,{className:"h-3 w-3 mr-1"}),"Admin Panel"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(D,{onClick:v,variant:"outline",className:"bg-white/10 border-white/20 text-white hover:bg-white/20 min-h-[44px] px-4","aria-label":r==="bn"?"Switch to English":"  ",children:[e.jsx(yS,{className:"h-4 w-4 mr-2"}),r==="bn"?"English":""]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-blue-100",children:a("time.today")}),e.jsx("p",{className:"font-semibold",children:new Date().toLocaleDateString()})]})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6",children:d?[...Array(4)].map((T,S)=>e.jsx(C,{className:"animate-pulse",children:e.jsxs(E,{className:"p-6",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded mb-4"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-20"})]})},S)):p.map((T,S)=>e.jsx(C,{className:"hover:shadow-lg transition-all duration-300 border-0 bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-900",children:e.jsxs(E,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-xl bg-${T.color}-100 dark:bg-${T.color}-900 flex items-center justify-center`,children:e.jsx(T.icon,{className:`h-6 w-6 text-${T.color}-600 dark:text-${T.color}-400`})}),e.jsxs(X,{variant:T.changeType==="positive"?"default":"secondary",className:`text-xs ${T.changeType==="positive"?"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300":"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300"}`,children:[T.changeType==="positive"?e.jsx(Ow,{className:"h-3 w-3 mr-1"}):e.jsx(rD,{className:"h-3 w-3 mr-1"}),T.change]})]}),e.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-2",children:T.title}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:T.value})]})},S))}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:a("dashboard.quickActions")}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:y.map((T,S)=>e.jsx(Y,{href:T.href,children:e.jsx(C,{className:"group hover:shadow-xl transition-all duration-300 border-0 bg-white dark:bg-gray-800 overflow-hidden cursor-pointer",children:e.jsx(E,{className:"p-0",children:e.jsxs("div",{className:`${T.color} ${T.hoverColor} transition-all duration-300 p-6 text-white`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(T.icon,{className:"h-8 w-8"}),e.jsx(Ow,{className:"h-5 w-5 opacity-70 group-hover:opacity-100 transition-opacity"})]}),e.jsx("h3",{className:"text-xl font-bold mb-2",children:T.title}),e.jsx("p",{className:"text-sm opacity-90",children:T.description})]})})})},T.title))})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8",children:[e.jsxs(C,{className:"border-0 shadow-lg",children:[e.jsx(L,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(M,{className:"flex items-center text-xl font-bold",children:[e.jsx(Rt,{className:"h-6 w-6 mr-3 text-blue-600"}),a("dashboard.recentActivity")]}),e.jsx(X,{variant:"outline",className:"text-xs",children:r==="bn"?"":"Live"})]})}),e.jsx(E,{children:f?e.jsx("div",{className:"space-y-4",children:[...Array(5)].map((T,S)=>e.jsxs("div",{className:"animate-pulse flex items-center space-x-4",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},S))}):e.jsx("div",{className:"space-y-4",children:((k=h==null?void 0:h.articles)==null?void 0:k.slice(0,6).map((T,S)=>{var R,B,H;return e.jsxs("div",{className:"flex items-center space-x-4 p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${S%4===0?"bg-blue-100 text-blue-600":S%4===1?"bg-green-100 text-green-600":S%4===2?"bg-purple-100 text-purple-600":"bg-orange-100 text-orange-600"}`,children:(R=T.action)!=null&&R.includes("Article")?e.jsx(Xt,{className:"h-5 w-5"}):(B=T.action)!=null&&B.includes("User")?e.jsx(gt,{className:"h-5 w-5"}):(H=T.action)!=null&&H.includes("E-paper")?e.jsx(jg,{className:"h-5 w-5"}):e.jsx(Rt,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:T.action}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:T.title})]}),e.jsx("span",{className:"text-xs text-gray-400 whitespace-nowrap",children:T.time})]},T.id)}))||e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Rt,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:r==="bn"?"   ":"No recent activity"})]})})})]}),e.jsxs(C,{className:"border-0 shadow-lg",children:[e.jsx(L,{className:"pb-4",children:e.jsxs(M,{className:"flex items-center text-xl font-bold",children:[e.jsx(wr,{className:"h-6 w-6 mr-3 text-purple-600"}),r==="bn"?"":"Analytics"]})}),e.jsx(E,{children:g?e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded mb-4"}),e.jsx("div",{className:"h-32 bg-gray-200 rounded mb-4"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-3 bg-gray-200 rounded"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-5/6"})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 rounded-xl",children:[e.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:(c==null?void 0:c.publishedToday)||0}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:a("stats.publishedToday")})]}),e.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 rounded-xl",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:(c==null?void 0:c.recentUsers)||0}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:a("stats.activeUsers")})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:r==="bn"?" ":"Total Articles"}),e.jsx("span",{className:"font-semibold",children:(c==null?void 0:c.totalArticles)||0})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"75%"}})}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:r==="bn"?"-":"E-Papers"}),e.jsx("span",{className:"font-semibold",children:(c==null?void 0:c.totalCategories)||0})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:"60%"}})})]})]})})]})]})]})})}function r$(){return e.jsx(I8,{children:e.jsx(s$,{})})}const Yn=jf,sd=zy,n$=wf,D4=m.forwardRef(({className:t,...s},r)=>e.jsx(uc,{ref:r,className:oe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s}));D4.displayName=uc.displayName;const yn=m.forwardRef(({className:t,children:s,...r},n)=>e.jsxs(n$,{children:[e.jsx(D4,{}),e.jsxs(hc,{ref:n,className:oe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[s,e.jsxs(bf,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(cc,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));yn.displayName=hc.displayName;const jn=({className:t,...s})=>e.jsx("div",{className:oe("flex flex-col space-y-1.5 text-center sm:text-left",t),...s});jn.displayName="DialogHeader";const _f=({className:t,...s})=>e.jsx("div",{className:oe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s});_f.displayName="DialogFooter";const wn=m.forwardRef(({className:t,...s},r)=>e.jsx(fu,{ref:r,className:oe("text-lg font-semibold leading-none tracking-tight",t),...s}));wn.displayName=fu.displayName;const L4=m.forwardRef(({className:t,...s},r)=>e.jsx(xu,{ref:r,className:oe("text-sm text-muted-foreground",t),...s}));L4.displayName=xu.displayName;const Qt=m.forwardRef(({className:t,...s},r)=>e.jsx("textarea",{className:oe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...s}));Qt.displayName="Textarea";function Sf(t){const s=m.useRef({value:t,previous:t});return m.useMemo(()=>(s.current.value!==t&&(s.current.previous=s.current.value,s.current.value=t),s.current.previous),[t])}function kf(t){const[s,r]=m.useState(void 0);return rs(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=t.offsetWidth,l=t.offsetHeight;r({width:o,height:l})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),s}var Cf="Checkbox",[a$,OH]=_s(Cf),[i$,Jy]=a$(Cf);function o$(t){const{__scopeCheckbox:s,checked:r,children:n,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:d,value:u="on",internal_do_not_use_render:h}=t,[f,x]=an({prop:r,defaultProp:a??!1,onChange:c,caller:Cf}),[g,v]=m.useState(null),[p,y]=m.useState(null),j=m.useRef(!1),w=g?!!o||!!g.closest("form"):!0,b={checked:f,disabled:i,setChecked:x,control:g,setControl:v,name:l,form:o,value:u,hasConsumerStoppedPropagationRef:j,required:d,defaultChecked:Ya(a)?!1:a,isFormControl:w,bubbleInput:p,setBubbleInput:y};return e.jsx(i$,{scope:s,...b,children:l$(h)?h(b):n})}var M4="CheckboxTrigger",F4=m.forwardRef(({__scopeCheckbox:t,onKeyDown:s,onClick:r,...n},a)=>{const{control:i,value:o,disabled:l,checked:c,required:d,setControl:u,setChecked:h,hasConsumerStoppedPropagationRef:f,isFormControl:x,bubbleInput:g}=Jy(M4,t),v=Fe(a,u),p=m.useRef(c);return m.useEffect(()=>{const y=i==null?void 0:i.form;if(y){const j=()=>h(p.current);return y.addEventListener("reset",j),()=>y.removeEventListener("reset",j)}},[i,h]),e.jsx(ge.button,{type:"button",role:"checkbox","aria-checked":Ya(c)?"mixed":c,"aria-required":d,"data-state":B4(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:v,onKeyDown:ie(s,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:ie(r,y=>{h(j=>Ya(j)?!0:!j),g&&x&&(f.current=y.isPropagationStopped(),f.current||y.stopPropagation())})})});F4.displayName=M4;var ej=m.forwardRef((t,s)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:d,form:u,...h}=t;return e.jsx(o$,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:d,name:n,form:u,value:c,internal_do_not_use_render:({isFormControl:f})=>e.jsxs(e.Fragment,{children:[e.jsx(F4,{...h,ref:s,__scopeCheckbox:r}),f&&e.jsx(V4,{__scopeCheckbox:r})]})})});ej.displayName=Cf;var $4="CheckboxIndicator",U4=m.forwardRef((t,s)=>{const{__scopeCheckbox:r,forceMount:n,...a}=t,i=Jy($4,r);return e.jsx(Ss,{present:n||Ya(i.checked)||i.checked===!0,children:e.jsx(ge.span,{"data-state":B4(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:s,style:{pointerEvents:"none",...t.style}})})});U4.displayName=$4;var z4="CheckboxBubbleInput",V4=m.forwardRef(({__scopeCheckbox:t,...s},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:d,value:u,form:h,bubbleInput:f,setBubbleInput:x}=Jy(z4,t),g=Fe(r,x),v=Sf(i),p=kf(n);m.useEffect(()=>{const j=f;if(!j)return;const w=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(w,"checked").set,_=!a.current;if(v!==i&&N){const P=new Event("click",{bubbles:_});j.indeterminate=Ya(i),N.call(j,Ya(i)?!1:i),j.dispatchEvent(P)}},[f,v,i,a]);const y=m.useRef(Ya(i)?!1:i);return e.jsx(ge.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??y.current,required:l,disabled:c,name:d,value:u,form:h,...s,tabIndex:-1,ref:g,style:{...s.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});V4.displayName=z4;function l$(t){return typeof t=="function"}function Ya(t){return t==="indeterminate"}function B4(t){return Ya(t)?"indeterminate":t?"checked":"unchecked"}const zg=m.forwardRef(({className:t,...s},r)=>e.jsx(ej,{ref:r,className:oe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...s,children:e.jsx(U4,{className:oe("flex items-center justify-center text-current"),children:e.jsx(iu,{className:"h-4 w-4"})})}));zg.displayName=ej.displayName;function Vd(t,[s,r]){return Math.min(r,Math.max(s,t))}var c$=m.createContext(void 0);function fc(t){const s=m.useContext(c$);return t||s||"ltr"}const d$=["top","right","bottom","left"],ii=Math.min,fr=Math.max,jm=Math.round,ih=Math.floor,kn=t=>({x:t,y:t}),u$={left:"right",right:"left",bottom:"top",top:"bottom"},h$={start:"end",end:"start"};function Vg(t,s,r){return fr(t,ii(s,r))}function la(t,s){return typeof t=="function"?t(s):t}function ca(t){return t.split("-")[0]}function xc(t){return t.split("-")[1]}function tj(t){return t==="x"?"y":"x"}function sj(t){return t==="y"?"height":"width"}const m$=new Set(["top","bottom"]);function bn(t){return m$.has(ca(t))?"y":"x"}function rj(t){return tj(bn(t))}function f$(t,s,r){r===void 0&&(r=!1);const n=xc(t),a=rj(t),i=sj(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return s.reference[i]>s.floating[i]&&(o=wm(o)),[o,wm(o)]}function x$(t){const s=wm(t);return[Bg(t),s,Bg(s)]}function Bg(t){return t.replace(/start|end/g,s=>h$[s])}const Rb=["left","right"],Ob=["right","left"],p$=["top","bottom"],g$=["bottom","top"];function v$(t,s,r){switch(t){case"top":case"bottom":return r?s?Ob:Rb:s?Rb:Ob;case"left":case"right":return s?p$:g$;default:return[]}}function y$(t,s,r,n){const a=xc(t);let i=v$(ca(t),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),s&&(i=i.concat(i.map(Bg)))),i}function wm(t){return t.replace(/left|right|bottom|top/g,s=>u$[s])}function j$(t){return{top:0,right:0,bottom:0,left:0,...t}}function q4(t){return typeof t!="number"?j$(t):{top:t,right:t,bottom:t,left:t}}function bm(t){const{x:s,y:r,width:n,height:a}=t;return{width:n,height:a,top:r,left:s,right:s+n,bottom:r+a,x:s,y:r}}function Ib(t,s,r){let{reference:n,floating:a}=t;const i=bn(s),o=rj(s),l=sj(o),c=ca(s),d=i==="y",u=n.x+n.width/2-a.width/2,h=n.y+n.height/2-a.height/2,f=n[l]/2-a[l]/2;let x;switch(c){case"top":x={x:u,y:n.y-a.height};break;case"bottom":x={x:u,y:n.y+n.height};break;case"right":x={x:n.x+n.width,y:h};break;case"left":x={x:n.x-a.width,y:h};break;default:x={x:n.x,y:n.y}}switch(xc(s)){case"start":x[o]-=f*(r&&d?-1:1);break;case"end":x[o]+=f*(r&&d?-1:1);break}return x}const w$=async(t,s,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(s));let d=await o.getElementRects({reference:t,floating:s,strategy:a}),{x:u,y:h}=Ib(d,n,c),f=n,x={},g=0;for(let v=0;v<l.length;v++){const{name:p,fn:y}=l[v],{x:j,y:w,data:b,reset:N}=await y({x:u,y:h,initialPlacement:n,placement:f,strategy:a,middlewareData:x,rects:d,platform:o,elements:{reference:t,floating:s}});u=j??u,h=w??h,x={...x,[p]:{...x[p],...b}},N&&g<=50&&(g++,typeof N=="object"&&(N.placement&&(f=N.placement),N.rects&&(d=N.rects===!0?await o.getElementRects({reference:t,floating:s,strategy:a}):N.rects),{x:u,y:h}=Ib(d,f,c)),v=-1)}return{x:u,y:h,placement:f,strategy:a,middlewareData:x}};async function Bd(t,s){var r;s===void 0&&(s={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:f=!1,padding:x=0}=la(s,t),g=q4(x),p=l[f?h==="floating"?"reference":"floating":h],y=bm(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(p)))==null||r?p:p.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),j=h==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),b=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},N=bm(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:j,offsetParent:w,strategy:c}):j);return{top:(y.top-N.top+g.top)/b.y,bottom:(N.bottom-y.bottom+g.bottom)/b.y,left:(y.left-N.left+g.left)/b.x,right:(N.right-y.right+g.right)/b.x}}const b$=t=>({name:"arrow",options:t,async fn(s){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=s,{element:d,padding:u=0}=la(t,s)||{};if(d==null)return{};const h=q4(u),f={x:r,y:n},x=rj(a),g=sj(x),v=await o.getDimensions(d),p=x==="y",y=p?"top":"left",j=p?"bottom":"right",w=p?"clientHeight":"clientWidth",b=i.reference[g]+i.reference[x]-f[x]-i.floating[g],N=f[x]-i.reference[x],_=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let P=_?_[w]:0;(!P||!await(o.isElement==null?void 0:o.isElement(_)))&&(P=l.floating[w]||i.floating[g]);const A=b/2-N/2,k=P/2-v[g]/2-1,T=ii(h[y],k),S=ii(h[j],k),R=T,B=P-v[g]-S,H=P/2-v[g]/2+A,I=Vg(R,H,B),V=!c.arrow&&xc(a)!=null&&H!==I&&i.reference[g]/2-(H<R?T:S)-v[g]/2<0,z=V?H<R?H-R:H-B:0;return{[x]:f[x]+z,data:{[x]:I,centerOffset:H-I-z,...V&&{alignmentOffset:z}},reset:V}}}),N$=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(s){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=s,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,...p}=la(t,s);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const y=ca(a),j=bn(l),w=ca(l)===l,b=await(c.isRTL==null?void 0:c.isRTL(d.floating)),N=f||(w||!v?[wm(l)]:x$(l)),_=g!=="none";!f&&_&&N.push(...y$(l,v,g,b));const P=[l,...N],A=await Bd(s,p),k=[];let T=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&k.push(A[y]),h){const H=f$(a,o,b);k.push(A[H[0]],A[H[1]])}if(T=[...T,{placement:a,overflows:k}],!k.every(H=>H<=0)){var S,R;const H=(((S=i.flip)==null?void 0:S.index)||0)+1,I=P[H];if(I&&(!(h==="alignment"?j!==bn(I):!1)||T.every(O=>O.overflows[0]>0&&bn(O.placement)===j)))return{data:{index:H,overflows:T},reset:{placement:I}};let V=(R=T.filter(z=>z.overflows[0]<=0).sort((z,O)=>z.overflows[1]-O.overflows[1])[0])==null?void 0:R.placement;if(!V)switch(x){case"bestFit":{var B;const z=(B=T.filter(O=>{if(_){const U=bn(O.placement);return U===j||U==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(U=>U>0).reduce((U,ee)=>U+ee,0)]).sort((O,U)=>O[1]-U[1])[0])==null?void 0:B[0];z&&(V=z);break}case"initialPlacement":V=l;break}if(a!==V)return{reset:{placement:V}}}return{}}}};function Db(t,s){return{top:t.top-s.height,right:t.right-s.width,bottom:t.bottom-s.height,left:t.left-s.width}}function Lb(t){return d$.some(s=>t[s]>=0)}const _$=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(s){const{rects:r}=s,{strategy:n="referenceHidden",...a}=la(t,s);switch(n){case"referenceHidden":{const i=await Bd(s,{...a,elementContext:"reference"}),o=Db(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Lb(o)}}}case"escaped":{const i=await Bd(s,{...a,altBoundary:!0}),o=Db(i,r.floating);return{data:{escapedOffsets:o,escaped:Lb(o)}}}default:return{}}}}},H4=new Set(["left","top"]);async function S$(t,s){const{placement:r,platform:n,elements:a}=t,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=ca(r),l=xc(r),c=bn(r)==="y",d=H4.has(o)?-1:1,u=i&&c?-1:1,h=la(s,t);let{mainAxis:f,crossAxis:x,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof g=="number"&&(x=l==="end"?g*-1:g),c?{x:x*u,y:f*d}:{x:f*d,y:x*u}}const k$=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(s){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=s,c=await S$(s,t);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},C$=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(s){const{x:r,y:n,placement:a}=s,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:p=>{let{x:y,y:j}=p;return{x:y,y:j}}},...c}=la(t,s),d={x:r,y:n},u=await Bd(s,c),h=bn(ca(a)),f=tj(h);let x=d[f],g=d[h];if(i){const p=f==="y"?"top":"left",y=f==="y"?"bottom":"right",j=x+u[p],w=x-u[y];x=Vg(j,x,w)}if(o){const p=h==="y"?"top":"left",y=h==="y"?"bottom":"right",j=g+u[p],w=g-u[y];g=Vg(j,g,w)}const v=l.fn({...s,[f]:x,[h]:g});return{...v,data:{x:v.x-r,y:v.y-n,enabled:{[f]:i,[h]:o}}}}}},E$=function(t){return t===void 0&&(t={}),{options:t,fn(s){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=s,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=la(t,s),u={x:r,y:n},h=bn(a),f=tj(h);let x=u[f],g=u[h];const v=la(l,s),p=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const w=f==="y"?"height":"width",b=i.reference[f]-i.floating[w]+p.mainAxis,N=i.reference[f]+i.reference[w]-p.mainAxis;x<b?x=b:x>N&&(x=N)}if(d){var y,j;const w=f==="y"?"width":"height",b=H4.has(ca(a)),N=i.reference[h]-i.floating[w]+(b&&((y=o.offset)==null?void 0:y[h])||0)+(b?0:p.crossAxis),_=i.reference[h]+i.reference[w]+(b?0:((j=o.offset)==null?void 0:j[h])||0)-(b?p.crossAxis:0);g<N?g=N:g>_&&(g=_)}return{[f]:x,[h]:g}}}},T$=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(s){var r,n;const{placement:a,rects:i,platform:o,elements:l}=s,{apply:c=()=>{},...d}=la(t,s),u=await Bd(s,d),h=ca(a),f=xc(a),x=bn(a)==="y",{width:g,height:v}=i.floating;let p,y;h==="top"||h==="bottom"?(p=h,y=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=h,p=f==="end"?"top":"bottom");const j=v-u.top-u.bottom,w=g-u.left-u.right,b=ii(v-u[p],j),N=ii(g-u[y],w),_=!s.middlewareData.shift;let P=b,A=N;if((r=s.middlewareData.shift)!=null&&r.enabled.x&&(A=w),(n=s.middlewareData.shift)!=null&&n.enabled.y&&(P=j),_&&!f){const T=fr(u.left,0),S=fr(u.right,0),R=fr(u.top,0),B=fr(u.bottom,0);x?A=g-2*(T!==0||S!==0?T+S:fr(u.left,u.right)):P=v-2*(R!==0||B!==0?R+B:fr(u.top,u.bottom))}await c({...s,availableWidth:A,availableHeight:P});const k=await o.getDimensions(l.floating);return g!==k.width||v!==k.height?{reset:{rects:!0}}:{}}}};function Ef(){return typeof window<"u"}function pc(t){return W4(t)?(t.nodeName||"").toLowerCase():"#document"}function yr(t){var s;return(t==null||(s=t.ownerDocument)==null?void 0:s.defaultView)||window}function In(t){var s;return(s=(W4(t)?t.ownerDocument:t.document)||window.document)==null?void 0:s.documentElement}function W4(t){return Ef()?t instanceof Node||t instanceof yr(t).Node:!1}function ln(t){return Ef()?t instanceof Element||t instanceof yr(t).Element:!1}function Pn(t){return Ef()?t instanceof HTMLElement||t instanceof yr(t).HTMLElement:!1}function Mb(t){return!Ef()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof yr(t).ShadowRoot}const P$=new Set(["inline","contents"]);function gu(t){const{overflow:s,overflowX:r,overflowY:n,display:a}=cn(t);return/auto|scroll|overlay|hidden|clip/.test(s+n+r)&&!P$.has(a)}const A$=new Set(["table","td","th"]);function R$(t){return A$.has(pc(t))}const O$=[":popover-open",":modal"];function Tf(t){return O$.some(s=>{try{return t.matches(s)}catch{return!1}})}const I$=["transform","translate","scale","rotate","perspective"],D$=["transform","translate","scale","rotate","perspective","filter"],L$=["paint","layout","strict","content"];function nj(t){const s=aj(),r=ln(t)?cn(t):t;return I$.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!s&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!s&&(r.filter?r.filter!=="none":!1)||D$.some(n=>(r.willChange||"").includes(n))||L$.some(n=>(r.contain||"").includes(n))}function M$(t){let s=oi(t);for(;Pn(s)&&!Ql(s);){if(nj(s))return s;if(Tf(s))return null;s=oi(s)}return null}function aj(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const F$=new Set(["html","body","#document"]);function Ql(t){return F$.has(pc(t))}function cn(t){return yr(t).getComputedStyle(t)}function Pf(t){return ln(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function oi(t){if(pc(t)==="html")return t;const s=t.assignedSlot||t.parentNode||Mb(t)&&t.host||In(t);return Mb(s)?s.host:s}function K4(t){const s=oi(t);return Ql(s)?t.ownerDocument?t.ownerDocument.body:t.body:Pn(s)&&gu(s)?s:K4(s)}function qd(t,s,r){var n;s===void 0&&(s=[]),r===void 0&&(r=!0);const a=K4(t),i=a===((n=t.ownerDocument)==null?void 0:n.body),o=yr(a);if(i){const l=qg(o);return s.concat(o,o.visualViewport||[],gu(a)?a:[],l&&r?qd(l):[])}return s.concat(a,qd(a,[],r))}function qg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function G4(t){const s=cn(t);let r=parseFloat(s.width)||0,n=parseFloat(s.height)||0;const a=Pn(t),i=a?t.offsetWidth:r,o=a?t.offsetHeight:n,l=jm(r)!==i||jm(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function ij(t){return ln(t)?t:t.contextElement}function fl(t){const s=ij(t);if(!Pn(s))return kn(1);const r=s.getBoundingClientRect(),{width:n,height:a,$:i}=G4(s);let o=(i?jm(r.width):r.width)/n,l=(i?jm(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const $$=kn(0);function Q4(t){const s=yr(t);return!aj()||!s.visualViewport?$$:{x:s.visualViewport.offsetLeft,y:s.visualViewport.offsetTop}}function U$(t,s,r){return s===void 0&&(s=!1),!r||s&&r!==yr(t)?!1:s}function oo(t,s,r,n){s===void 0&&(s=!1),r===void 0&&(r=!1);const a=t.getBoundingClientRect(),i=ij(t);let o=kn(1);s&&(n?ln(n)&&(o=fl(n)):o=fl(t));const l=U$(i,r,n)?Q4(i):kn(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,u=a.width/o.x,h=a.height/o.y;if(i){const f=yr(i),x=n&&ln(n)?yr(n):n;let g=f,v=qg(g);for(;v&&n&&x!==g;){const p=fl(v),y=v.getBoundingClientRect(),j=cn(v),w=y.left+(v.clientLeft+parseFloat(j.paddingLeft))*p.x,b=y.top+(v.clientTop+parseFloat(j.paddingTop))*p.y;c*=p.x,d*=p.y,u*=p.x,h*=p.y,c+=w,d+=b,g=yr(v),v=qg(g)}}return bm({width:u,height:h,x:c,y:d})}function oj(t,s){const r=Pf(t).scrollLeft;return s?s.left+r:oo(In(t)).left+r}function Z4(t,s,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),a=n.left+s.scrollLeft-(r?0:oj(t,n)),i=n.top+s.scrollTop;return{x:a,y:i}}function z$(t){let{elements:s,rect:r,offsetParent:n,strategy:a}=t;const i=a==="fixed",o=In(n),l=s?Tf(s.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},d=kn(1);const u=kn(0),h=Pn(n);if((h||!h&&!i)&&((pc(n)!=="body"||gu(o))&&(c=Pf(n)),Pn(n))){const x=oo(n);d=fl(n),u.x=x.x+n.clientLeft,u.y=x.y+n.clientTop}const f=o&&!h&&!i?Z4(o,c,!0):kn(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x+f.x,y:r.y*d.y-c.scrollTop*d.y+u.y+f.y}}function V$(t){return Array.from(t.getClientRects())}function B$(t){const s=In(t),r=Pf(t),n=t.ownerDocument.body,a=fr(s.scrollWidth,s.clientWidth,n.scrollWidth,n.clientWidth),i=fr(s.scrollHeight,s.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+oj(t);const l=-r.scrollTop;return cn(n).direction==="rtl"&&(o+=fr(s.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}function q$(t,s){const r=yr(t),n=In(t),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=aj();(!d||d&&s==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}const H$=new Set(["absolute","fixed"]);function W$(t,s){const r=oo(t,!0,s==="fixed"),n=r.top+t.clientTop,a=r.left+t.clientLeft,i=Pn(t)?fl(t):kn(1),o=t.clientWidth*i.x,l=t.clientHeight*i.y,c=a*i.x,d=n*i.y;return{width:o,height:l,x:c,y:d}}function Fb(t,s,r){let n;if(s==="viewport")n=q$(t,r);else if(s==="document")n=B$(In(t));else if(ln(s))n=W$(s,r);else{const a=Q4(t);n={x:s.x-a.x,y:s.y-a.y,width:s.width,height:s.height}}return bm(n)}function Y4(t,s){const r=oi(t);return r===s||!ln(r)||Ql(r)?!1:cn(r).position==="fixed"||Y4(r,s)}function K$(t,s){const r=s.get(t);if(r)return r;let n=qd(t,[],!1).filter(l=>ln(l)&&pc(l)!=="body"),a=null;const i=cn(t).position==="fixed";let o=i?oi(t):t;for(;ln(o)&&!Ql(o);){const l=cn(o),c=nj(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&H$.has(a.position)||gu(o)&&!c&&Y4(t,o))?n=n.filter(u=>u!==o):a=l,o=oi(o)}return s.set(t,n),n}function G$(t){let{element:s,boundary:r,rootBoundary:n,strategy:a}=t;const o=[...r==="clippingAncestors"?Tf(s)?[]:K$(s,this._c):[].concat(r),n],l=o[0],c=o.reduce((d,u)=>{const h=Fb(s,u,a);return d.top=fr(h.top,d.top),d.right=ii(h.right,d.right),d.bottom=ii(h.bottom,d.bottom),d.left=fr(h.left,d.left),d},Fb(s,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Q$(t){const{width:s,height:r}=G4(t);return{width:s,height:r}}function Z$(t,s,r){const n=Pn(s),a=In(s),i=r==="fixed",o=oo(t,!0,i,s);let l={scrollLeft:0,scrollTop:0};const c=kn(0);function d(){c.x=oj(a)}if(n||!n&&!i)if((pc(s)!=="body"||gu(a))&&(l=Pf(s)),n){const x=oo(s,!0,i,s);c.x=x.x+s.clientLeft,c.y=x.y+s.clientTop}else a&&d();i&&!n&&a&&d();const u=a&&!n&&!i?Z4(a,l):kn(0),h=o.left+l.scrollLeft-c.x-u.x,f=o.top+l.scrollTop-c.y-u.y;return{x:h,y:f,width:o.width,height:o.height}}function Kx(t){return cn(t).position==="static"}function $b(t,s){if(!Pn(t)||cn(t).position==="fixed")return null;if(s)return s(t);let r=t.offsetParent;return In(t)===r&&(r=r.ownerDocument.body),r}function X4(t,s){const r=yr(t);if(Tf(t))return r;if(!Pn(t)){let a=oi(t);for(;a&&!Ql(a);){if(ln(a)&&!Kx(a))return a;a=oi(a)}return r}let n=$b(t,s);for(;n&&R$(n)&&Kx(n);)n=$b(n,s);return n&&Ql(n)&&Kx(n)&&!nj(n)?r:n||M$(t)||r}const Y$=async function(t){const s=this.getOffsetParent||X4,r=this.getDimensions,n=await r(t.floating);return{reference:Z$(t.reference,await s(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function X$(t){return cn(t).direction==="rtl"}const J$={convertOffsetParentRelativeRectToViewportRelativeRect:z$,getDocumentElement:In,getClippingRect:G$,getOffsetParent:X4,getElementRects:Y$,getClientRects:V$,getDimensions:Q$,getScale:fl,isElement:ln,isRTL:X$};function J4(t,s){return t.x===s.x&&t.y===s.y&&t.width===s.width&&t.height===s.height}function eU(t,s){let r=null,n;const a=In(t);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=t.getBoundingClientRect(),{left:u,top:h,width:f,height:x}=d;if(l||s(),!f||!x)return;const g=ih(h),v=ih(a.clientWidth-(u+f)),p=ih(a.clientHeight-(h+x)),y=ih(u),w={rootMargin:-g+"px "+-v+"px "+-p+"px "+-y+"px",threshold:fr(0,ii(1,c))||1};let b=!0;function N(_){const P=_[0].intersectionRatio;if(P!==c){if(!b)return o();P?o(!1,P):n=setTimeout(()=>{o(!1,1e-7)},1e3)}P===1&&!J4(d,t.getBoundingClientRect())&&o(),b=!1}try{r=new IntersectionObserver(N,{...w,root:a.ownerDocument})}catch{r=new IntersectionObserver(N,w)}r.observe(t)}return o(!0),i}function tU(t,s,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=ij(t),u=a||i?[...d?qd(d):[],...qd(s)]:[];u.forEach(y=>{a&&y.addEventListener("scroll",r,{passive:!0}),i&&y.addEventListener("resize",r)});const h=d&&l?eU(d,r):null;let f=-1,x=null;o&&(x=new ResizeObserver(y=>{let[j]=y;j&&j.target===d&&x&&(x.unobserve(s),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=x)==null||w.observe(s)})),r()}),d&&!c&&x.observe(d),x.observe(s));let g,v=c?oo(t):null;c&&p();function p(){const y=oo(t);v&&!J4(v,y)&&r(),v=y,g=requestAnimationFrame(p)}return r(),()=>{var y;u.forEach(j=>{a&&j.removeEventListener("scroll",r),i&&j.removeEventListener("resize",r)}),h==null||h(),(y=x)==null||y.disconnect(),x=null,c&&cancelAnimationFrame(g)}}const sU=k$,rU=C$,nU=N$,aU=T$,iU=_$,Ub=b$,oU=E$,lU=(t,s,r)=>{const n=new Map,a={platform:J$,...r},i={...a.platform,_c:n};return w$(t,s,{...a,platform:i})};var cU=typeof document<"u",dU=function(){},kh=cU?m.useLayoutEffect:dU;function Nm(t,s){if(t===s)return!0;if(typeof t!=typeof s)return!1;if(typeof t=="function"&&t.toString()===s.toString())return!0;let r,n,a;if(t&&s&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==s.length)return!1;for(n=r;n--!==0;)if(!Nm(t[n],s[n]))return!1;return!0}if(a=Object.keys(t),r=a.length,r!==Object.keys(s).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(s,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&t.$$typeof)&&!Nm(t[i],s[i]))return!1}return!0}return t!==t&&s!==s}function eC(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function zb(t,s){const r=eC(t);return Math.round(s*r)/r}function Gx(t){const s=m.useRef(t);return kh(()=>{s.current=t}),s}function uU(t){t===void 0&&(t={});const{placement:s="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[u,h]=m.useState({x:0,y:0,strategy:r,placement:s,middlewareData:{},isPositioned:!1}),[f,x]=m.useState(n);Nm(f,n)||x(n);const[g,v]=m.useState(null),[p,y]=m.useState(null),j=m.useCallback(O=>{O!==_.current&&(_.current=O,v(O))},[]),w=m.useCallback(O=>{O!==P.current&&(P.current=O,y(O))},[]),b=i||g,N=o||p,_=m.useRef(null),P=m.useRef(null),A=m.useRef(u),k=c!=null,T=Gx(c),S=Gx(a),R=Gx(d),B=m.useCallback(()=>{if(!_.current||!P.current)return;const O={placement:s,strategy:r,middleware:f};S.current&&(O.platform=S.current),lU(_.current,P.current,O).then(U=>{const ee={...U,isPositioned:R.current!==!1};H.current&&!Nm(A.current,ee)&&(A.current=ee,fo.flushSync(()=>{h(ee)}))})},[f,s,r,S,R]);kh(()=>{d===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,h(O=>({...O,isPositioned:!1})))},[d]);const H=m.useRef(!1);kh(()=>(H.current=!0,()=>{H.current=!1}),[]),kh(()=>{if(b&&(_.current=b),N&&(P.current=N),b&&N){if(T.current)return T.current(b,N,B);B()}},[b,N,B,T,k]);const I=m.useMemo(()=>({reference:_,floating:P,setReference:j,setFloating:w}),[j,w]),V=m.useMemo(()=>({reference:b,floating:N}),[b,N]),z=m.useMemo(()=>{const O={position:r,left:0,top:0};if(!V.floating)return O;const U=zb(V.floating,u.x),ee=zb(V.floating,u.y);return l?{...O,transform:"translate("+U+"px, "+ee+"px)",...eC(V.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:U,top:ee}},[r,l,V.floating,u.x,u.y]);return m.useMemo(()=>({...u,update:B,refs:I,elements:V,floatingStyles:z}),[u,B,I,V,z])}const hU=t=>{function s(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:a}=typeof t=="function"?t(r):t;return n&&s(n)?n.current!=null?Ub({element:n.current,padding:a}).fn(r):{}:n?Ub({element:n,padding:a}).fn(r):{}}}},mU=(t,s)=>({...sU(t),options:[t,s]}),fU=(t,s)=>({...rU(t),options:[t,s]}),xU=(t,s)=>({...oU(t),options:[t,s]}),pU=(t,s)=>({...nU(t),options:[t,s]}),gU=(t,s)=>({...aU(t),options:[t,s]}),vU=(t,s)=>({...iU(t),options:[t,s]}),yU=(t,s)=>({...hU(t),options:[t,s]});var jU="Arrow",tC=m.forwardRef((t,s)=>{const{children:r,width:n=10,height:a=5,...i}=t;return e.jsx(ge.svg,{...i,ref:s,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});tC.displayName=jU;var wU=tC,lj="Popper",[sC,gc]=_s(lj),[bU,rC]=sC(lj),nC=t=>{const{__scopePopper:s,children:r}=t,[n,a]=m.useState(null);return e.jsx(bU,{scope:s,anchor:n,onAnchorChange:a,children:r})};nC.displayName=lj;var aC="PopperAnchor",iC=m.forwardRef((t,s)=>{const{__scopePopper:r,virtualRef:n,...a}=t,i=rC(aC,r),o=m.useRef(null),l=Fe(s,o);return m.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:e.jsx(ge.div,{...a,ref:l})});iC.displayName=aC;var cj="PopperContent",[NU,_U]=sC(cj),oC=m.forwardRef((t,s)=>{var K,Ie,Oe,We,De,tt;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:x="optimized",onPlaced:g,...v}=t,p=rC(cj,r),[y,j]=m.useState(null),w=Fe(s,Vt=>j(Vt)),[b,N]=m.useState(null),_=kf(b),P=(_==null?void 0:_.width)??0,A=(_==null?void 0:_.height)??0,k=n+(i!=="center"?"-"+i:""),T=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},S=Array.isArray(d)?d:[d],R=S.length>0,B={padding:T,boundary:S.filter(kU),altBoundary:R},{refs:H,floatingStyles:I,placement:V,isPositioned:z,middlewareData:O}=uU({strategy:"fixed",placement:k,whileElementsMounted:(...Vt)=>tU(...Vt,{animationFrame:x==="always"}),elements:{reference:p.anchor},middleware:[mU({mainAxis:a+A,alignmentAxis:o}),c&&fU({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?xU():void 0,...B}),c&&pU({...B}),gU({...B,apply:({elements:Vt,rects:Bt,availableWidth:dr,availableHeight:Ln})=>{const{width:Sr,height:Cu}=Bt.reference,Mn=Vt.floating.style;Mn.setProperty("--radix-popper-available-width",`${dr}px`),Mn.setProperty("--radix-popper-available-height",`${Ln}px`),Mn.setProperty("--radix-popper-anchor-width",`${Sr}px`),Mn.setProperty("--radix-popper-anchor-height",`${Cu}px`)}}),b&&yU({element:b,padding:l}),CU({arrowWidth:P,arrowHeight:A}),f&&vU({strategy:"referenceHidden",...B})]}),[U,ee]=dC(V),se=Gt(g);rs(()=>{z&&(se==null||se())},[z,se]);const W=(K=O.arrow)==null?void 0:K.x,ue=(Ie=O.arrow)==null?void 0:Ie.y,ye=((Oe=O.arrow)==null?void 0:Oe.centerOffset)!==0,[me,Ee]=m.useState();return rs(()=>{y&&Ee(window.getComputedStyle(y).zIndex)},[y]),e.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...I,transform:z?I.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:me,"--radix-popper-transform-origin":[(We=O.transformOrigin)==null?void 0:We.x,(De=O.transformOrigin)==null?void 0:De.y].join(" "),...((tt=O.hide)==null?void 0:tt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:e.jsx(NU,{scope:r,placedSide:U,onArrowChange:N,arrowX:W,arrowY:ue,shouldHideArrow:ye,children:e.jsx(ge.div,{"data-side":U,"data-align":ee,...v,ref:w,style:{...v.style,animation:z?void 0:"none"}})})})});oC.displayName=cj;var lC="PopperArrow",SU={top:"bottom",right:"left",bottom:"top",left:"right"},cC=m.forwardRef(function(s,r){const{__scopePopper:n,...a}=s,i=_U(lC,n),o=SU[i.placedSide];return e.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:e.jsx(wU,{...a,ref:r,style:{...a.style,display:"block"}})})});cC.displayName=lC;function kU(t){return t!==null}var CU=t=>({name:"transformOrigin",options:t,fn(s){var p,y,j;const{placement:r,rects:n,middlewareData:a}=s,o=((p=a.arrow)==null?void 0:p.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,u]=dC(r),h={start:"0%",center:"50%",end:"100%"}[u],f=(((y=a.arrow)==null?void 0:y.x)??0)+l/2,x=(((j=a.arrow)==null?void 0:j.y)??0)+c/2;let g="",v="";return d==="bottom"?(g=o?h:`${f}px`,v=`${-c}px`):d==="top"?(g=o?h:`${f}px`,v=`${n.floating.height+c}px`):d==="right"?(g=`${-c}px`,v=o?h:`${x}px`):d==="left"&&(g=`${n.floating.width+c}px`,v=o?h:`${x}px`),{data:{x:g,y:v}}}});function dC(t){const[s,r="center"]=t.split("-");return[s,r]}var dj=nC,Af=iC,uj=oC,hj=cC,EU=[" ","Enter","ArrowUp","ArrowDown"],TU=[" ","Enter"],lo="Select",[Rf,Of,PU]=nu(lo),[vc,IH]=_s(lo,[PU,gc]),If=gc(),[AU,fi]=vc(lo),[RU,OU]=vc(lo),uC=t=>{const{__scopeSelect:s,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:h,disabled:f,required:x,form:g}=t,v=If(s),[p,y]=m.useState(null),[j,w]=m.useState(null),[b,N]=m.useState(!1),_=fc(d),[P,A]=an({prop:n,defaultProp:a??!1,onChange:i,caller:lo}),[k,T]=an({prop:o,defaultProp:l,onChange:c,caller:lo}),S=m.useRef(null),R=p?g||!!p.closest("form"):!0,[B,H]=m.useState(new Set),I=Array.from(B).map(V=>V.props.value).join(";");return e.jsx(dj,{...v,children:e.jsxs(AU,{required:x,scope:s,trigger:p,onTriggerChange:y,valueNode:j,onValueNodeChange:w,valueNodeHasChildren:b,onValueNodeHasChildrenChange:N,contentId:bs(),value:k,onValueChange:T,open:P,onOpenChange:A,dir:_,triggerPointerDownPosRef:S,disabled:f,children:[e.jsx(Rf.Provider,{scope:s,children:e.jsx(RU,{scope:t.__scopeSelect,onNativeOptionAdd:m.useCallback(V=>{H(z=>new Set(z).add(V))},[]),onNativeOptionRemove:m.useCallback(V=>{H(z=>{const O=new Set(z);return O.delete(V),O})},[]),children:r})}),R?e.jsxs(DC,{"aria-hidden":!0,required:x,tabIndex:-1,name:u,autoComplete:h,value:k,onChange:V=>T(V.target.value),disabled:f,form:g,children:[k===void 0?e.jsx("option",{value:""}):null,Array.from(B)]},I):null]})})};uC.displayName=lo;var hC="SelectTrigger",mC=m.forwardRef((t,s)=>{const{__scopeSelect:r,disabled:n=!1,...a}=t,i=If(r),o=fi(hC,r),l=o.disabled||n,c=Fe(s,o.onTriggerChange),d=Of(r),u=m.useRef("touch"),[h,f,x]=MC(v=>{const p=d().filter(w=>!w.disabled),y=p.find(w=>w.value===o.value),j=FC(p,v,y);j!==void 0&&o.onValueChange(j.value)}),g=v=>{l||(o.onOpenChange(!0),x()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return e.jsx(Af,{asChild:!0,...i,children:e.jsx(ge.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":LC(o.value)?"":void 0,...a,ref:c,onClick:ie(a.onClick,v=>{v.currentTarget.focus(),u.current!=="mouse"&&g(v)}),onPointerDown:ie(a.onPointerDown,v=>{u.current=v.pointerType;const p=v.target;p.hasPointerCapture(v.pointerId)&&p.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(g(v),v.preventDefault())}),onKeyDown:ie(a.onKeyDown,v=>{const p=h.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&f(v.key),!(p&&v.key===" ")&&EU.includes(v.key)&&(g(),v.preventDefault())})})})});mC.displayName=hC;var fC="SelectValue",xC=m.forwardRef((t,s)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=t,c=fi(fC,r),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,h=Fe(s,c.onValueNodeChange);return rs(()=>{d(u)},[d,u]),e.jsx(ge.span,{...l,ref:h,style:{pointerEvents:"none"},children:LC(c.value)?e.jsx(e.Fragment,{children:o}):i})});xC.displayName=fC;var IU="SelectIcon",pC=m.forwardRef((t,s)=>{const{__scopeSelect:r,children:n,...a}=t;return e.jsx(ge.span,{"aria-hidden":!0,...a,ref:s,children:n||""})});pC.displayName=IU;var DU="SelectPortal",gC=t=>e.jsx(oc,{asChild:!0,...t});gC.displayName=DU;var co="SelectContent",vC=m.forwardRef((t,s)=>{const r=fi(co,t.__scopeSelect),[n,a]=m.useState();if(rs(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?fo.createPortal(e.jsx(yC,{scope:t.__scopeSelect,children:e.jsx(Rf.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),i):null}return e.jsx(jC,{...t,ref:s})});vC.displayName=co;var zr=10,[yC,xi]=vc(co),LU="SelectContentImpl",MU=ei("SelectContent.RemoveScroll"),jC=m.forwardRef((t,s)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:x,sticky:g,hideWhenDetached:v,avoidCollisions:p,...y}=t,j=fi(co,r),[w,b]=m.useState(null),[N,_]=m.useState(null),P=Fe(s,K=>b(K)),[A,k]=m.useState(null),[T,S]=m.useState(null),R=Of(r),[B,H]=m.useState(!1),I=m.useRef(!1);m.useEffect(()=>{if(w)return vf(w)},[w]),pf();const V=m.useCallback(K=>{const[Ie,...Oe]=R().map(tt=>tt.ref.current),[We]=Oe.slice(-1),De=document.activeElement;for(const tt of K)if(tt===De||(tt==null||tt.scrollIntoView({block:"nearest"}),tt===Ie&&N&&(N.scrollTop=0),tt===We&&N&&(N.scrollTop=N.scrollHeight),tt==null||tt.focus(),document.activeElement!==De))return},[R,N]),z=m.useCallback(()=>V([A,w]),[V,A,w]);m.useEffect(()=>{B&&z()},[B,z]);const{onOpenChange:O,triggerPointerDownPosRef:U}=j;m.useEffect(()=>{if(w){let K={x:0,y:0};const Ie=We=>{var De,tt;K={x:Math.abs(Math.round(We.pageX)-(((De=U.current)==null?void 0:De.x)??0)),y:Math.abs(Math.round(We.pageY)-(((tt=U.current)==null?void 0:tt.y)??0))}},Oe=We=>{K.x<=10&&K.y<=10?We.preventDefault():w.contains(We.target)||O(!1),document.removeEventListener("pointermove",Ie),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",Ie),document.addEventListener("pointerup",Oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ie),document.removeEventListener("pointerup",Oe,{capture:!0})}}},[w,O,U]),m.useEffect(()=>{const K=()=>O(!1);return window.addEventListener("blur",K),window.addEventListener("resize",K),()=>{window.removeEventListener("blur",K),window.removeEventListener("resize",K)}},[O]);const[ee,se]=MC(K=>{const Ie=R().filter(De=>!De.disabled),Oe=Ie.find(De=>De.ref.current===document.activeElement),We=FC(Ie,K,Oe);We&&setTimeout(()=>We.ref.current.focus())}),W=m.useCallback((K,Ie,Oe)=>{const We=!I.current&&!Oe;(j.value!==void 0&&j.value===Ie||We)&&(k(K),We&&(I.current=!0))},[j.value]),ue=m.useCallback(()=>w==null?void 0:w.focus(),[w]),ye=m.useCallback((K,Ie,Oe)=>{const We=!I.current&&!Oe;(j.value!==void 0&&j.value===Ie||We)&&S(K)},[j.value]),me=n==="popper"?Hg:wC,Ee=me===Hg?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:x,sticky:g,hideWhenDetached:v,avoidCollisions:p}:{};return e.jsx(yC,{scope:r,content:w,viewport:N,onViewportChange:_,itemRefCallback:W,selectedItem:A,onItemLeave:ue,itemTextRefCallback:ye,focusSelectedItem:z,selectedItemText:T,position:n,isPositioned:B,searchRef:ee,children:e.jsx(mu,{as:MU,allowPinchZoom:!0,children:e.jsx(hu,{asChild:!0,trapped:j.open,onMountAutoFocus:K=>{K.preventDefault()},onUnmountAutoFocus:ie(a,K=>{var Ie;(Ie=j.trigger)==null||Ie.focus({preventScroll:!0}),K.preventDefault()}),children:e.jsx(ic,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:K=>K.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:e.jsx(me,{role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:K=>K.preventDefault(),...y,...Ee,onPlaced:()=>H(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:ie(y.onKeyDown,K=>{const Ie=K.ctrlKey||K.altKey||K.metaKey;if(K.key==="Tab"&&K.preventDefault(),!Ie&&K.key.length===1&&se(K.key),["ArrowUp","ArrowDown","Home","End"].includes(K.key)){let We=R().filter(De=>!De.disabled).map(De=>De.ref.current);if(["ArrowUp","End"].includes(K.key)&&(We=We.slice().reverse()),["ArrowUp","ArrowDown"].includes(K.key)){const De=K.target,tt=We.indexOf(De);We=We.slice(tt+1)}setTimeout(()=>V(We)),K.preventDefault()}})})})})})})});jC.displayName=LU;var FU="SelectItemAlignedPosition",wC=m.forwardRef((t,s)=>{const{__scopeSelect:r,onPlaced:n,...a}=t,i=fi(co,r),o=xi(co,r),[l,c]=m.useState(null),[d,u]=m.useState(null),h=Fe(s,P=>u(P)),f=Of(r),x=m.useRef(!1),g=m.useRef(!0),{viewport:v,selectedItem:p,selectedItemText:y,focusSelectedItem:j}=o,w=m.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&v&&p&&y){const P=i.trigger.getBoundingClientRect(),A=d.getBoundingClientRect(),k=i.valueNode.getBoundingClientRect(),T=y.getBoundingClientRect();if(i.dir!=="rtl"){const De=T.left-A.left,tt=k.left-De,Vt=P.left-tt,Bt=P.width+Vt,dr=Math.max(Bt,A.width),Ln=window.innerWidth-zr,Sr=Vd(tt,[zr,Math.max(zr,Ln-dr)]);l.style.minWidth=Bt+"px",l.style.left=Sr+"px"}else{const De=A.right-T.right,tt=window.innerWidth-k.right-De,Vt=window.innerWidth-P.right-tt,Bt=P.width+Vt,dr=Math.max(Bt,A.width),Ln=window.innerWidth-zr,Sr=Vd(tt,[zr,Math.max(zr,Ln-dr)]);l.style.minWidth=Bt+"px",l.style.right=Sr+"px"}const S=f(),R=window.innerHeight-zr*2,B=v.scrollHeight,H=window.getComputedStyle(d),I=parseInt(H.borderTopWidth,10),V=parseInt(H.paddingTop,10),z=parseInt(H.borderBottomWidth,10),O=parseInt(H.paddingBottom,10),U=I+V+B+O+z,ee=Math.min(p.offsetHeight*5,U),se=window.getComputedStyle(v),W=parseInt(se.paddingTop,10),ue=parseInt(se.paddingBottom,10),ye=P.top+P.height/2-zr,me=R-ye,Ee=p.offsetHeight/2,K=p.offsetTop+Ee,Ie=I+V+K,Oe=U-Ie;if(Ie<=ye){const De=S.length>0&&p===S[S.length-1].ref.current;l.style.bottom="0px";const tt=d.clientHeight-v.offsetTop-v.offsetHeight,Vt=Math.max(me,Ee+(De?ue:0)+tt+z),Bt=Ie+Vt;l.style.height=Bt+"px"}else{const De=S.length>0&&p===S[0].ref.current;l.style.top="0px";const Vt=Math.max(ye,I+v.offsetTop+(De?W:0)+Ee)+Oe;l.style.height=Vt+"px",v.scrollTop=Ie-ye+v.offsetTop}l.style.margin=`${zr}px 0`,l.style.minHeight=ee+"px",l.style.maxHeight=R+"px",n==null||n(),requestAnimationFrame(()=>x.current=!0)}},[f,i.trigger,i.valueNode,l,d,v,p,y,i.dir,n]);rs(()=>w(),[w]);const[b,N]=m.useState();rs(()=>{d&&N(window.getComputedStyle(d).zIndex)},[d]);const _=m.useCallback(P=>{P&&g.current===!0&&(w(),j==null||j(),g.current=!1)},[w,j]);return e.jsx(UU,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:x,onScrollButtonChange:_,children:e.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:e.jsx(ge.div,{...a,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});wC.displayName=FU;var $U="SelectPopperPosition",Hg=m.forwardRef((t,s)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=zr,...i}=t,o=If(r);return e.jsx(uj,{...o,...i,ref:s,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Hg.displayName=$U;var[UU,mj]=vc(co,{}),Wg="SelectViewport",bC=m.forwardRef((t,s)=>{const{__scopeSelect:r,nonce:n,...a}=t,i=xi(Wg,r),o=mj(Wg,r),l=Fe(s,i.onViewportChange),c=m.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),e.jsx(Rf.Slot,{scope:r,children:e.jsx(ge.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:ie(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&h){const x=Math.abs(c.current-u.scrollTop);if(x>0){const g=window.innerHeight-zr*2,v=parseFloat(h.style.minHeight),p=parseFloat(h.style.height),y=Math.max(v,p);if(y<g){const j=y+x,w=Math.min(g,j),b=j-w;h.style.height=w+"px",h.style.bottom==="0px"&&(u.scrollTop=b>0?b:0,h.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});bC.displayName=Wg;var NC="SelectGroup",[zU,VU]=vc(NC),BU=m.forwardRef((t,s)=>{const{__scopeSelect:r,...n}=t,a=bs();return e.jsx(zU,{scope:r,id:a,children:e.jsx(ge.div,{role:"group","aria-labelledby":a,...n,ref:s})})});BU.displayName=NC;var _C="SelectLabel",SC=m.forwardRef((t,s)=>{const{__scopeSelect:r,...n}=t,a=VU(_C,r);return e.jsx(ge.div,{id:a.id,...n,ref:s})});SC.displayName=_C;var _m="SelectItem",[qU,kC]=vc(_m),CC=m.forwardRef((t,s)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=t,l=fi(_m,r),c=xi(_m,r),d=l.value===n,[u,h]=m.useState(i??""),[f,x]=m.useState(!1),g=Fe(s,j=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,j,n,a)}),v=bs(),p=m.useRef("touch"),y=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(qU,{scope:r,value:n,disabled:a,textId:v,isSelected:d,onItemTextChange:m.useCallback(j=>{h(w=>w||((j==null?void 0:j.textContent)??"").trim())},[]),children:e.jsx(Rf.ItemSlot,{scope:r,value:n,disabled:a,textValue:u,children:e.jsx(ge.div,{role:"option","aria-labelledby":v,"data-highlighted":f?"":void 0,"aria-selected":d&&f,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:g,onFocus:ie(o.onFocus,()=>x(!0)),onBlur:ie(o.onBlur,()=>x(!1)),onClick:ie(o.onClick,()=>{p.current!=="mouse"&&y()}),onPointerUp:ie(o.onPointerUp,()=>{p.current==="mouse"&&y()}),onPointerDown:ie(o.onPointerDown,j=>{p.current=j.pointerType}),onPointerMove:ie(o.onPointerMove,j=>{var w;p.current=j.pointerType,a?(w=c.onItemLeave)==null||w.call(c):p.current==="mouse"&&j.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ie(o.onPointerLeave,j=>{var w;j.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:ie(o.onKeyDown,j=>{var b;((b=c.searchRef)==null?void 0:b.current)!==""&&j.key===" "||(TU.includes(j.key)&&y(),j.key===" "&&j.preventDefault())})})})})});CC.displayName=_m;var rd="SelectItemText",EC=m.forwardRef((t,s)=>{const{__scopeSelect:r,className:n,style:a,...i}=t,o=fi(rd,r),l=xi(rd,r),c=kC(rd,r),d=OU(rd,r),[u,h]=m.useState(null),f=Fe(s,y=>h(y),c.onItemTextChange,y=>{var j;return(j=l.itemTextRefCallback)==null?void 0:j.call(l,y,c.value,c.disabled)}),x=u==null?void 0:u.textContent,g=m.useMemo(()=>e.jsx("option",{value:c.value,disabled:c.disabled,children:x},c.value),[c.disabled,c.value,x]),{onNativeOptionAdd:v,onNativeOptionRemove:p}=d;return rs(()=>(v(g),()=>p(g)),[v,p,g]),e.jsxs(e.Fragment,{children:[e.jsx(ge.span,{id:c.textId,...i,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?fo.createPortal(i.children,o.valueNode):null]})});EC.displayName=rd;var TC="SelectItemIndicator",PC=m.forwardRef((t,s)=>{const{__scopeSelect:r,...n}=t;return kC(TC,r).isSelected?e.jsx(ge.span,{"aria-hidden":!0,...n,ref:s}):null});PC.displayName=TC;var Kg="SelectScrollUpButton",AC=m.forwardRef((t,s)=>{const r=xi(Kg,t.__scopeSelect),n=mj(Kg,t.__scopeSelect),[a,i]=m.useState(!1),o=Fe(s,n.onScrollButtonChange);return rs(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?e.jsx(OC,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});AC.displayName=Kg;var Gg="SelectScrollDownButton",RC=m.forwardRef((t,s)=>{const r=xi(Gg,t.__scopeSelect),n=mj(Gg,t.__scopeSelect),[a,i]=m.useState(!1),o=Fe(s,n.onScrollButtonChange);return rs(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?e.jsx(OC,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});RC.displayName=Gg;var OC=m.forwardRef((t,s)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=t,i=xi("SelectScrollButton",r),o=m.useRef(null),l=Of(r),c=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),rs(()=>{var u;const d=l().find(h=>h.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),e.jsx(ge.div,{"aria-hidden":!0,...a,ref:s,style:{flexShrink:0,...a.style},onPointerDown:ie(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:ie(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:ie(a.onPointerLeave,()=>{c()})})}),HU="SelectSeparator",IC=m.forwardRef((t,s)=>{const{__scopeSelect:r,...n}=t;return e.jsx(ge.div,{"aria-hidden":!0,...n,ref:s})});IC.displayName=HU;var Qg="SelectArrow",WU=m.forwardRef((t,s)=>{const{__scopeSelect:r,...n}=t,a=If(r),i=fi(Qg,r),o=xi(Qg,r);return i.open&&o.position==="popper"?e.jsx(hj,{...a,...n,ref:s}):null});WU.displayName=Qg;var KU="SelectBubbleInput",DC=m.forwardRef(({__scopeSelect:t,value:s,...r},n)=>{const a=m.useRef(null),i=Fe(n,a),o=Sf(s);return m.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==s&&u){const h=new Event("change",{bubbles:!0});u.call(l,s),l.dispatchEvent(h)}},[o,s]),e.jsx(ge.select,{...r,style:{...q2,...r.style},ref:i,defaultValue:s})});DC.displayName=KU;function LC(t){return t===""||t===void 0}function MC(t){const s=Gt(t),r=m.useRef(""),n=m.useRef(0),a=m.useCallback(o=>{const l=r.current+o;s(l),function c(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[s]),i=m.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function FC(t,s,r){const a=s.length>1&&Array.from(s).every(d=>d===s[0])?s[0]:s,i=r?t.indexOf(r):-1;let o=GU(t,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function GU(t,s){return t.map((r,n)=>t[(s+n)%t.length])}var QU=uC,$C=mC,ZU=xC,YU=pC,XU=gC,UC=vC,JU=bC,zC=SC,VC=CC,e9=EC,t9=PC,BC=AC,qC=RC,HC=IC;const Cn=QU,En=ZU,sn=m.forwardRef(({className:t,children:s,...r},n)=>e.jsxs($C,{ref:n,className:oe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[s,e.jsx(YU,{asChild:!0,children:e.jsx(rf,{className:"h-4 w-4 opacity-50"})})]}));sn.displayName=$C.displayName;const WC=m.forwardRef(({className:t,...s},r)=>e.jsx(BC,{ref:r,className:oe("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(fS,{className:"h-4 w-4"})}));WC.displayName=BC.displayName;const KC=m.forwardRef(({className:t,...s},r)=>e.jsx(qC,{ref:r,className:oe("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(rf,{className:"h-4 w-4"})}));KC.displayName=qC.displayName;const rn=m.forwardRef(({className:t,children:s,position:r="popper",...n},a)=>e.jsx(XU,{children:e.jsxs(UC,{ref:a,className:oe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[e.jsx(WC,{}),e.jsx(JU,{className:oe("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),e.jsx(KC,{})]})}));rn.displayName=UC.displayName;const s9=m.forwardRef(({className:t,...s},r)=>e.jsx(zC,{ref:r,className:oe("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...s}));s9.displayName=zC.displayName;const Mt=m.forwardRef(({className:t,children:s,...r},n)=>e.jsxs(VC,{ref:n,className:oe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(t9,{children:e.jsx(iu,{className:"h-4 w-4"})})}),e.jsx(e9,{children:s})]}));Mt.displayName=VC.displayName;const r9=m.forwardRef(({className:t,...s},r)=>e.jsx(HC,{ref:r,className:oe("-mx-1 my-1 h-px bg-muted",t),...s}));r9.displayName=HC.displayName;var Qx="rovingFocusGroup.onEntryFocus",n9={bubbles:!1,cancelable:!0},vu="RovingFocusGroup",[Zg,GC,a9]=nu(vu),[i9,Df]=_s(vu,[a9]),[o9,l9]=i9(vu),QC=m.forwardRef((t,s)=>e.jsx(Zg.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(Zg.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(c9,{...t,ref:s})})}));QC.displayName=vu;var c9=m.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...h}=t,f=m.useRef(null),x=Fe(s,f),g=fc(i),[v,p]=an({prop:o,defaultProp:l??null,onChange:c,caller:vu}),[y,j]=m.useState(!1),w=Gt(d),b=GC(r),N=m.useRef(!1),[_,P]=m.useState(0);return m.useEffect(()=>{const A=f.current;if(A)return A.addEventListener(Qx,w),()=>A.removeEventListener(Qx,w)},[w]),e.jsx(o9,{scope:r,orientation:n,dir:g,loop:a,currentTabStopId:v,onItemFocus:m.useCallback(A=>p(A),[p]),onItemShiftTab:m.useCallback(()=>j(!0),[]),onFocusableItemAdd:m.useCallback(()=>P(A=>A+1),[]),onFocusableItemRemove:m.useCallback(()=>P(A=>A-1),[]),children:e.jsx(ge.div,{tabIndex:y||_===0?-1:0,"data-orientation":n,...h,ref:x,style:{outline:"none",...t.style},onMouseDown:ie(t.onMouseDown,()=>{N.current=!0}),onFocus:ie(t.onFocus,A=>{const k=!N.current;if(A.target===A.currentTarget&&k&&!y){const T=new CustomEvent(Qx,n9);if(A.currentTarget.dispatchEvent(T),!T.defaultPrevented){const S=b().filter(V=>V.focusable),R=S.find(V=>V.active),B=S.find(V=>V.id===v),I=[R,B,...S].filter(Boolean).map(V=>V.ref.current);XC(I,u)}}N.current=!1}),onBlur:ie(t.onBlur,()=>j(!1))})})}),ZC="RovingFocusGroupItem",YC=m.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...l}=t,c=bs(),d=i||c,u=l9(ZC,r),h=u.currentTabStopId===d,f=GC(r),{onFocusableItemAdd:x,onFocusableItemRemove:g,currentTabStopId:v}=u;return m.useEffect(()=>{if(n)return x(),()=>g()},[n,x,g]),e.jsx(Zg.ItemSlot,{scope:r,id:d,focusable:n,active:a,children:e.jsx(ge.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...l,ref:s,onMouseDown:ie(t.onMouseDown,p=>{n?u.onItemFocus(d):p.preventDefault()}),onFocus:ie(t.onFocus,()=>u.onItemFocus(d)),onKeyDown:ie(t.onKeyDown,p=>{if(p.key==="Tab"&&p.shiftKey){u.onItemShiftTab();return}if(p.target!==p.currentTarget)return;const y=h9(p,u.orientation,u.dir);if(y!==void 0){if(p.metaKey||p.ctrlKey||p.altKey||p.shiftKey)return;p.preventDefault();let w=f().filter(b=>b.focusable).map(b=>b.ref.current);if(y==="last")w.reverse();else if(y==="prev"||y==="next"){y==="prev"&&w.reverse();const b=w.indexOf(p.currentTarget);w=u.loop?m9(w,b+1):w.slice(b+1)}setTimeout(()=>XC(w))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:v!=null}):o})})});YC.displayName=ZC;var d9={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function u9(t,s){return s!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function h9(t,s,r){const n=u9(t.key,r);if(!(s==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(s==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return d9[n]}function XC(t,s=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:s}),document.activeElement!==r))return}function m9(t,s){return t.map((r,n)=>t[(s+n)%t.length])}var JC=QC,eE=YC,Lf="Tabs",[f9,DH]=_s(Lf,[Df]),tE=Df(),[x9,fj]=f9(Lf),sE=m.forwardRef((t,s)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=t,u=fc(l),[h,f]=an({prop:n,onChange:a,defaultProp:i??"",caller:Lf});return e.jsx(x9,{scope:r,baseId:bs(),value:h,onValueChange:f,orientation:o,dir:u,activationMode:c,children:e.jsx(ge.div,{dir:u,"data-orientation":o,...d,ref:s})})});sE.displayName=Lf;var rE="TabsList",nE=m.forwardRef((t,s)=>{const{__scopeTabs:r,loop:n=!0,...a}=t,i=fj(rE,r),o=tE(r);return e.jsx(JC,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:e.jsx(ge.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:s})})});nE.displayName=rE;var aE="TabsTrigger",iE=m.forwardRef((t,s)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=t,o=fj(aE,r),l=tE(r),c=cE(o.baseId,n),d=dE(o.baseId,n),u=n===o.value;return e.jsx(eE,{asChild:!0,...l,focusable:!a,active:u,children:e.jsx(ge.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:s,onMouseDown:ie(t.onMouseDown,h=>{!a&&h.button===0&&h.ctrlKey===!1?o.onValueChange(n):h.preventDefault()}),onKeyDown:ie(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(n)}),onFocus:ie(t.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!a&&h&&o.onValueChange(n)})})})});iE.displayName=aE;var oE="TabsContent",lE=m.forwardRef((t,s)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=t,l=fj(oE,r),c=cE(l.baseId,n),d=dE(l.baseId,n),u=n===l.value,h=m.useRef(u);return m.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),e.jsx(Ss,{present:a||u,children:({present:f})=>e.jsx(ge.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:d,tabIndex:0,...o,ref:s,style:{...t.style,animationDuration:h.current?"0s":void 0},children:f&&i})})});lE.displayName=oE;function cE(t,s){return`${t}-trigger-${s}`}function dE(t,s){return`${t}-content-${s}`}var p9=sE,uE=nE,hE=iE,mE=lE;const ds=p9,ns=m.forwardRef(({className:t,...s},r)=>e.jsx(uE,{ref:r,className:oe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...s}));ns.displayName=uE.displayName;const ve=m.forwardRef(({className:t,...s},r)=>e.jsx(hE,{ref:r,className:oe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...s}));ve.displayName=hE.displayName;const pe=m.forwardRef(({className:t,...s},r)=>e.jsx(mE,{ref:r,className:oe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...s}));pe.displayName=mE.displayName;var g9="Separator",Vb="horizontal",v9=["horizontal","vertical"],fE=m.forwardRef((t,s)=>{const{decorative:r,orientation:n=Vb,...a}=t,i=y9(n)?n:Vb,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return e.jsx(ge.div,{"data-orientation":i,...l,...a,ref:s})});fE.displayName=g9;function y9(t){return v9.includes(t)}var xE=fE;const An=m.forwardRef(({className:t,orientation:s="horizontal",decorative:r=!0,...n},a)=>e.jsx(xE,{ref:a,decorative:r,orientation:s,className:oe("shrink-0 bg-border",s==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));An.displayName=xE.displayName;async function pE(t){if(!t.ok){const s=await t.text()||t.statusText;throw new Error(`${t.status}: ${s}`)}}async function gE(){var t;try{const{data:{session:s},error:r}=await ne.auth.getSession();if(r||!s||Bb(s.access_token)){console.log("Token expired or invalid, refreshing...");const{data:a}=await ne.auth.refreshSession();if((t=a==null?void 0:a.session)!=null&&t.access_token)return{"Content-Type":"application/json",Authorization:`Bearer ${a.session.access_token}`}}const n={"Content-Type":"application/json"};return s!=null&&s.access_token&&!Bb(s.access_token)&&(n.Authorization=`Bearer ${s.access_token}`),n}catch(s){return console.warn("Auth header generation failed, using anon key:",s),{"Content-Type":"application/json"}}}function Bb(t){try{return JSON.parse(atob(t.split(".")[1])).exp*1e3<Date.now()}catch{return!0}}async function Xr(t,s,r){const n=await gE(),a=await fetch(s,{method:t,headers:n,body:void 0,credentials:"include"});return await pE(a),a}const j9=({on401:t})=>async({queryKey:s})=>{const r=await gE(),n=await fetch(s[0],{credentials:"include",headers:r});return await pE(n),await n.json()},Sm=new z_({defaultOptions:{queries:{queryFn:j9({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),w9=po({title:ms().min(5,"      ").max(200,"      "),slug:ms().min(5,"      ").max(100,"      "),content:ms().min(20,"      "),excerpt:ms().max(500,"      ").optional(),author:ms().min(2,"       ").max(100,"       ").optional(),image_url:ms().url("    URL ").optional().or(YM("")),category_id:JM.number().min(1,"     "),is_featured:Rg().optional().default(!1),is_published:Rg().optional().default(!0),published_at:ms().optional()});function b9({isOpen:t,onClose:s,article:r,mode:n}){const{toast:a}=Ze(),[i,o]=m.useState("bn"),[l,c]=m.useState("content"),[d,u]=m.useState(0),h=Bi({resolver:qi(w9),defaultValues:{title:(r==null?void 0:r.title)||"",slug:(r==null?void 0:r.slug)||"",content:(r==null?void 0:r.content)||"",excerpt:(r==null?void 0:r.excerpt)||"",author:(r==null?void 0:r.author)||"Admin",image_url:(r==null?void 0:r.image_url)||"",category_id:(r==null?void 0:r.category_id)||1,is_featured:(r==null?void 0:r.is_featured)??!1,is_published:(r==null?void 0:r.is_published)??!0,published_at:r!=null&&r.published_at?new Date(r.published_at).toISOString().split("T")[0]:new Date().toISOString().split("T")[0]}}),{data:f=[],isLoading:x}=_e({queryKey:["admin-categories"],queryFn:pu}),g=Me({mutationFn:By,onSuccess:()=>{a({title:i==="bn"?"  ":"Article Created",description:i==="bn"?"   ":"The article has been successfully created"}),Sm.invalidateQueries({queryKey:["admin-articles"]}),s(),h.reset()},onError:b=>{a({title:i==="bn"?"":"Error",description:b.message||(i==="bn"?"   ":"Failed to create article"),variant:"destructive"})}}),v=Me({mutationFn:({id:b,updates:N})=>qy(b,N),onSuccess:()=>{a({title:i==="bn"?"  ":"Article Updated",description:i==="bn"?"   ":"The article has been successfully updated"}),Sm.invalidateQueries({queryKey:["admin-articles"]}),s()},onError:b=>{a({title:i==="bn"?"":"Error",description:b.message||(i==="bn"?"   ":"Failed to update article"),variant:"destructive"})}});m.useEffect(()=>{const b=h.watch((N,{name:_})=>{if(_==="title"&&N.title){const P=N.title.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").slice(0,100);h.setValue("slug",P)}if(_==="content"&&N.content){const P=N.content.trim().split(/\s+/).filter(A=>A.length>0);u(P.length)}});return()=>b.unsubscribe()},[h]);const p=b=>{n==="create"?g.mutate({title:b.title,content:b.content,excerpt:b.excerpt,author:b.author,category_id:b.category_id,image_url:b.image_url,is_featured:b.is_featured,is_published:b.is_published,published_at:b.published_at,slug:b.slug}):r!=null&&r.id&&v.mutate({id:r.id,updates:{title:b.title,slug:b.slug,content:b.content,excerpt:b.excerpt,author:b.author,image_url:b.image_url,category_id:b.category_id,is_featured:b.is_featured,is_published:b.is_published,published_at:b.published_at}})},j={bn:{title:n==="create"?"   ":"  ",content:"",settings:"",preview:"",articleTitle:" ",titlePlaceholder:"   ...",slug:" (URL)",slugDesc:"   URL   ",contentLabel:" ",contentPlaceholder:"   ...",excerpt:"",excerptPlaceholder:"  ...",author:"",authorPlaceholder:"  ...",featuredImage:" ",imagePlaceholder:" URL ...",category:"",selectCategory:"  ",featured:" ",featuredDesc:"    ",publishDate:" ",save:" ",cancel:"",wordCount:" ",estimatedReadTime:"  "},en:{title:n==="create"?"Create New Article":"Edit Article",content:"Content",settings:"Settings",preview:"Preview",articleTitle:"Article Title",titlePlaceholder:"Enter your article title...",slug:"Slug (URL)",slugDesc:"This will be used in your article URL",contentLabel:"Article Content",contentPlaceholder:"Write your article content...",excerpt:"Excerpt",excerptPlaceholder:"Brief summary of the article...",author:"Author",authorPlaceholder:"Enter author name...",featuredImage:"Featured Image",imagePlaceholder:"Enter image URL...",category:"Category",selectCategory:"Select category",featured:"Featured Article",featuredDesc:"This article will appear on homepage",publishDate:"Publish Date",save:"Save Article",cancel:"Cancel",wordCount:"Word Count",estimatedReadTime:"Estimated Read Time"}}[i],w=Math.ceil(d/200);return e.jsx(Yn,{open:t,onOpenChange:s,children:e.jsxs(yn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx(jn,{className:"border-b pb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(wn,{className:"text-2xl font-bold",children:j.title}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{variant:"outline",size:"sm",onClick:()=>o(i==="bn"?"en":"bn"),children:i==="bn"?"English":""}),e.jsx(D,{variant:"ghost",size:"sm",onClick:s,children:e.jsx(cc,{className:"h-4 w-4"})})]})]})}),e.jsx(Hi,{...h,children:e.jsxs("form",{onSubmit:h.handleSubmit(p),className:"space-y-6",children:[e.jsxs(ds,{value:l,onValueChange:c,className:"w-full",children:[e.jsxs(ns,{className:"grid w-full grid-cols-3",children:[e.jsxs(ve,{value:"content",className:"flex items-center gap-2",children:[e.jsx(Xt,{className:"h-4 w-4"}),j.content]}),e.jsxs(ve,{value:"settings",className:"flex items-center gap-2",children:[e.jsx(As,{className:"h-4 w-4"}),j.settings]}),e.jsxs(ve,{value:"preview",className:"flex items-center gap-2",children:[e.jsx(Et,{className:"h-4 w-4"}),j.preview]})]}),e.jsx(pe,{value:"content",className:"space-y-6 mt-6",children:e.jsxs("div",{className:"grid gap-6",children:[e.jsx(At,{control:h.control,name:"title",render:({field:b})=>e.jsxs(bt,{children:[e.jsx(Nt,{className:"text-lg font-semibold",children:j.articleTitle}),e.jsx(_t,{children:e.jsx(te,{placeholder:j.titlePlaceholder,...b,className:"text-lg p-4 h-12 border-2 focus:border-blue-500"})}),e.jsx(Wt,{})]})}),e.jsx(At,{control:h.control,name:"slug",render:({field:b})=>e.jsxs(bt,{children:[e.jsx(Nt,{children:j.slug}),e.jsx(_t,{children:e.jsx(te,{placeholder:"article-slug",...b,className:"font-mono text-sm"})}),e.jsx(ed,{children:j.slugDesc}),e.jsx(Wt,{})]})}),e.jsx(At,{control:h.control,name:"content",render:({field:b})=>e.jsxs(bt,{children:[e.jsx(Nt,{className:"text-lg font-semibold",children:j.contentLabel}),e.jsx(_t,{children:e.jsx(Qt,{placeholder:j.contentPlaceholder,...b,className:"min-h-[400px] text-base leading-relaxed border-2 focus:border-blue-500 resize-none"})}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[e.jsxs("span",{children:[j.wordCount,": ",d]}),e.jsxs("span",{children:[j.estimatedReadTime,": ",w," ",i==="bn"?"":"minutes"]})]}),e.jsx(Wt,{})]})}),e.jsx(At,{control:h.control,name:"excerpt",render:({field:b})=>e.jsxs(bt,{children:[e.jsx(Nt,{children:j.excerpt}),e.jsx(_t,{children:e.jsx(Qt,{placeholder:j.excerptPlaceholder,...b,rows:3,className:"resize-none"})}),e.jsx(Wt,{})]})}),e.jsx(At,{control:h.control,name:"author",render:({field:b})=>e.jsxs(bt,{children:[e.jsxs(Nt,{className:"flex items-center gap-2",children:[e.jsx(Xt,{className:"h-4 w-4"}),i==="bn"?" ( )":"Author (Coming Soon)"]}),e.jsx(_t,{children:e.jsx(te,{placeholder:i==="bn"?"  ...":"Enter author name...",...b,disabled:!0,className:"border-2 focus:border-blue-500 bg-gray-100"})}),e.jsx(ed,{children:i==="bn"?"       ":"This field will be available after database update"}),e.jsx(Wt,{})]})})]})}),e.jsx(pe,{value:"settings",className:"space-y-6 mt-6",children:e.jsxs("div",{className:"grid gap-6",children:[e.jsx(At,{control:h.control,name:"image_url",render:({field:b})=>e.jsxs(bt,{children:[e.jsxs(Nt,{className:"flex items-center gap-2",children:[e.jsx(wD,{className:"h-4 w-4"}),j.featuredImage]}),e.jsx(_t,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsx(te,{placeholder:j.imagePlaceholder,...b}),b.value&&e.jsx("div",{className:"border rounded-lg p-2",children:e.jsx("img",{src:b.value,alt:"Preview",className:"max-w-full h-32 object-cover rounded",onError:N=>{N.currentTarget.style.display="none"}})})]})}),e.jsx(Wt,{})]})}),e.jsx(At,{control:h.control,name:"category_id",render:({field:b})=>{var N;return e.jsxs(bt,{children:[e.jsx(Nt,{children:j.category}),e.jsxs(Cn,{onValueChange:_=>b.onChange(parseInt(_)),value:(N=b.value)==null?void 0:N.toString(),children:[e.jsx(_t,{children:e.jsx(sn,{children:e.jsx(En,{placeholder:j.selectCategory})})}),e.jsx(rn,{children:f.map(_=>e.jsx(Mt,{value:_.id.toString(),children:_.name},_.id))})]}),e.jsx(Wt,{})]})}}),e.jsx(At,{control:h.control,name:"is_featured",render:({field:b})=>e.jsxs(bt,{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",children:[e.jsx(_t,{children:e.jsx(zg,{checked:b.value,onCheckedChange:b.onChange})}),e.jsxs("div",{className:"space-y-1 leading-none",children:[e.jsx(Nt,{className:"font-medium",children:j.featured}),e.jsx(ed,{children:j.featuredDesc})]})]})}),e.jsx(At,{control:h.control,name:"is_published",render:({field:b})=>e.jsxs(bt,{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",children:[e.jsx(_t,{children:e.jsx(zg,{checked:b.value,onCheckedChange:b.onChange})}),e.jsxs("div",{className:"space-y-1 leading-none",children:[e.jsx(Nt,{className:"font-medium",children:i==="bn"?" ":"Published Article"}),e.jsx(ed,{children:i==="bn"?"    ":"This article will be published on the site"})]})]})}),e.jsx(At,{control:h.control,name:"published_at",render:({field:b})=>e.jsxs(bt,{children:[e.jsxs(Nt,{className:"flex items-center gap-2",children:[e.jsx(Os,{className:"h-4 w-4"}),j.publishDate]}),e.jsx(_t,{children:e.jsx(te,{type:"date",...b,className:"w-full"})}),e.jsx(Wt,{})]})})]})}),e.jsx(pe,{value:"preview",className:"mt-6",children:e.jsxs(C,{children:[e.jsx(L,{children:e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx(Et,{className:"h-5 w-5"}),i==="bn"?" ":"Article Preview"]})}),e.jsx(E,{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:h.watch("title")||j.titlePlaceholder}),h.watch("excerpt")&&e.jsx("p",{className:"text-muted-foreground text-lg mb-4",children:h.watch("excerpt")}),h.watch("image_url")&&e.jsx("img",{src:h.watch("image_url"),alt:"Featured",className:"w-full max-w-2xl h-64 object-cover rounded-lg mb-4",onError:b=>{b.currentTarget.style.display="none"}}),e.jsx("div",{className:"prose max-w-none",children:e.jsx("div",{className:"whitespace-pre-wrap",children:h.watch("content")||j.contentPlaceholder})})]})})]})})]}),e.jsx(An,{}),e.jsxs("div",{className:"flex items-center justify-between pt-4",children:[e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ar,{className:"h-4 w-4"}),d," ",i==="bn"?"":"words"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(mi,{className:"h-4 w-4"}),w," ",i==="bn"?" ":"min read"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(D,{type:"button",variant:"outline",onClick:s,children:j.cancel}),e.jsx(D,{type:"submit",disabled:g.isPending||v.isPending,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:g.isPending||v.isPending?e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"mr-2 h-4 w-4 animate-spin"}),i==="bn"?" ...":"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(nl,{className:"mr-2 h-4 w-4"}),j.save]})})]})]})]})})]})})}const ls=t=>{if(!t)return" ";try{const s=new Date(t);if(isNaN(s.getTime()))return" ";const n=new Date().getTime()-s.getTime(),a=Math.floor(n/1e3),i=Math.floor(a/60),o=Math.floor(i/60),l=Math.floor(o/24),c=Math.floor(l/30),d=Math.floor(c/12);return d>0?`${d}  `:c>0?`${c}  `:l>0?`${l}  `:o>0?`${o}  `:i>0?`${i}  `:" "}catch(s){return console.error("Error formatting date:",s)," "}},ea=t=>{if(!t)return"";try{const s=new Date(t);if(isNaN(s.getTime()))return"";const r=["","","","","","","","","","","",""],n=s.getDate(),a=r[s.getMonth()],i=s.getFullYear();return`${n} ${a}, ${i}`}catch(s){return console.error("Error formatting Bengali date:",s),""}},Zx=t=>{const s=["","","","","","","","","",""];return t.toString().replace(/\d/g,r=>s[parseInt(r)])},vt=({date:t,type:s="relative",fallback:r=" "})=>{try{return!t||t===null||t===void 0||t==="null"||t===""?r:s==="relative"?ls(t):ea(t)}catch(n){return console.error("Date formatting error:",n),r}};var Yg=["Enter"," "],N9=["ArrowDown","PageUp","Home"],vE=["ArrowUp","PageDown","End"],_9=[...N9,...vE],S9={ltr:[...Yg,"ArrowRight"],rtl:[...Yg,"ArrowLeft"]},k9={ltr:["ArrowLeft"],rtl:["ArrowRight"]},yu="Menu",[Hd,C9,E9]=nu(yu),[go,yE]=_s(yu,[E9,gc,Df]),Mf=gc(),jE=Df(),[T9,vo]=go(yu),[P9,ju]=go(yu),wE=t=>{const{__scopeMenu:s,open:r=!1,children:n,dir:a,onOpenChange:i,modal:o=!0}=t,l=Mf(s),[c,d]=m.useState(null),u=m.useRef(!1),h=Gt(i),f=fc(a);return m.useEffect(()=>{const x=()=>{u.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>u.current=!1;return document.addEventListener("keydown",x,{capture:!0}),()=>{document.removeEventListener("keydown",x,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),e.jsx(dj,{...l,children:e.jsx(T9,{scope:s,open:r,onOpenChange:h,content:c,onContentChange:d,children:e.jsx(P9,{scope:s,onClose:m.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:u,dir:f,modal:o,children:n})})})};wE.displayName=yu;var A9="MenuAnchor",xj=m.forwardRef((t,s)=>{const{__scopeMenu:r,...n}=t,a=Mf(r);return e.jsx(Af,{...a,...n,ref:s})});xj.displayName=A9;var pj="MenuPortal",[R9,bE]=go(pj,{forceMount:void 0}),NE=t=>{const{__scopeMenu:s,forceMount:r,children:n,container:a}=t,i=vo(pj,s);return e.jsx(R9,{scope:s,forceMount:r,children:e.jsx(Ss,{present:r||i.open,children:e.jsx(oc,{asChild:!0,container:a,children:n})})})};NE.displayName=pj;var Or="MenuContent",[O9,gj]=go(Or),_E=m.forwardRef((t,s)=>{const r=bE(Or,t.__scopeMenu),{forceMount:n=r.forceMount,...a}=t,i=vo(Or,t.__scopeMenu),o=ju(Or,t.__scopeMenu);return e.jsx(Hd.Provider,{scope:t.__scopeMenu,children:e.jsx(Ss,{present:n||i.open,children:e.jsx(Hd.Slot,{scope:t.__scopeMenu,children:o.modal?e.jsx(I9,{...a,ref:s}):e.jsx(D9,{...a,ref:s})})})})}),I9=m.forwardRef((t,s)=>{const r=vo(Or,t.__scopeMenu),n=m.useRef(null),a=Fe(s,n);return m.useEffect(()=>{const i=n.current;if(i)return vf(i)},[]),e.jsx(vj,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:ie(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),D9=m.forwardRef((t,s)=>{const r=vo(Or,t.__scopeMenu);return e.jsx(vj,{...t,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),L9=ei("MenuContent.ScrollLock"),vj=m.forwardRef((t,s)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:f,onDismiss:x,disableOutsideScroll:g,...v}=t,p=vo(Or,r),y=ju(Or,r),j=Mf(r),w=jE(r),b=C9(r),[N,_]=m.useState(null),P=m.useRef(null),A=Fe(s,P,p.onContentChange),k=m.useRef(0),T=m.useRef(""),S=m.useRef(0),R=m.useRef(null),B=m.useRef("right"),H=m.useRef(0),I=g?mu:m.Fragment,V=g?{as:L9,allowPinchZoom:!0}:void 0,z=U=>{var K,Ie;const ee=T.current+U,se=b().filter(Oe=>!Oe.disabled),W=document.activeElement,ue=(K=se.find(Oe=>Oe.ref.current===W))==null?void 0:K.textValue,ye=se.map(Oe=>Oe.textValue),me=G9(ye,ee,ue),Ee=(Ie=se.find(Oe=>Oe.textValue===me))==null?void 0:Ie.ref.current;(function Oe(We){T.current=We,window.clearTimeout(k.current),We!==""&&(k.current=window.setTimeout(()=>Oe(""),1e3))})(ee),Ee&&setTimeout(()=>Ee.focus())};m.useEffect(()=>()=>window.clearTimeout(k.current),[]),pf();const O=m.useCallback(U=>{var se,W;return B.current===((se=R.current)==null?void 0:se.side)&&Z9(U,(W=R.current)==null?void 0:W.area)},[]);return e.jsx(O9,{scope:r,searchRef:T,onItemEnter:m.useCallback(U=>{O(U)&&U.preventDefault()},[O]),onItemLeave:m.useCallback(U=>{var ee;O(U)||((ee=P.current)==null||ee.focus(),_(null))},[O]),onTriggerLeave:m.useCallback(U=>{O(U)&&U.preventDefault()},[O]),pointerGraceTimerRef:S,onPointerGraceIntentChange:m.useCallback(U=>{R.current=U},[]),children:e.jsx(I,{...V,children:e.jsx(hu,{asChild:!0,trapped:a,onMountAutoFocus:ie(i,U=>{var ee;U.preventDefault(),(ee=P.current)==null||ee.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:e.jsx(ic,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:f,onDismiss:x,children:e.jsx(JC,{asChild:!0,...w,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:N,onCurrentTabStopIdChange:_,onEntryFocus:ie(c,U=>{y.isUsingKeyboardRef.current||U.preventDefault()}),preventScrollOnEntryFocus:!0,children:e.jsx(uj,{role:"menu","aria-orientation":"vertical","data-state":UE(p.open),"data-radix-menu-content":"",dir:y.dir,...j,...v,ref:A,style:{outline:"none",...v.style},onKeyDown:ie(v.onKeyDown,U=>{const se=U.target.closest("[data-radix-menu-content]")===U.currentTarget,W=U.ctrlKey||U.altKey||U.metaKey,ue=U.key.length===1;se&&(U.key==="Tab"&&U.preventDefault(),!W&&ue&&z(U.key));const ye=P.current;if(U.target!==ye||!_9.includes(U.key))return;U.preventDefault();const Ee=b().filter(K=>!K.disabled).map(K=>K.ref.current);vE.includes(U.key)&&Ee.reverse(),W9(Ee)}),onBlur:ie(t.onBlur,U=>{U.currentTarget.contains(U.target)||(window.clearTimeout(k.current),T.current="")}),onPointerMove:ie(t.onPointerMove,Wd(U=>{const ee=U.target,se=H.current!==U.clientX;if(U.currentTarget.contains(ee)&&se){const W=U.clientX>H.current?"right":"left";B.current=W,H.current=U.clientX}}))})})})})})})});_E.displayName=Or;var M9="MenuGroup",yj=m.forwardRef((t,s)=>{const{__scopeMenu:r,...n}=t;return e.jsx(ge.div,{role:"group",...n,ref:s})});yj.displayName=M9;var F9="MenuLabel",SE=m.forwardRef((t,s)=>{const{__scopeMenu:r,...n}=t;return e.jsx(ge.div,{...n,ref:s})});SE.displayName=F9;var km="MenuItem",qb="menu.itemSelect",Ff=m.forwardRef((t,s)=>{const{disabled:r=!1,onSelect:n,...a}=t,i=m.useRef(null),o=ju(km,t.__scopeMenu),l=gj(km,t.__scopeMenu),c=Fe(s,i),d=m.useRef(!1),u=()=>{const h=i.current;if(!r&&h){const f=new CustomEvent(qb,{bubbles:!0,cancelable:!0});h.addEventListener(qb,x=>n==null?void 0:n(x),{once:!0}),fy(h,f),f.defaultPrevented?d.current=!1:o.onClose()}};return e.jsx(kE,{...a,ref:c,disabled:r,onClick:ie(t.onClick,u),onPointerDown:h=>{var f;(f=t.onPointerDown)==null||f.call(t,h),d.current=!0},onPointerUp:ie(t.onPointerUp,h=>{var f;d.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:ie(t.onKeyDown,h=>{const f=l.searchRef.current!=="";r||f&&h.key===" "||Yg.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Ff.displayName=km;var kE=m.forwardRef((t,s)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=t,o=gj(km,r),l=jE(r),c=m.useRef(null),d=Fe(s,c),[u,h]=m.useState(!1),[f,x]=m.useState("");return m.useEffect(()=>{const g=c.current;g&&x((g.textContent??"").trim())},[i.children]),e.jsx(Hd.ItemSlot,{scope:r,disabled:n,textValue:a??f,children:e.jsx(eE,{asChild:!0,...l,focusable:!n,children:e.jsx(ge.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:d,onPointerMove:ie(t.onPointerMove,Wd(g=>{n?o.onItemLeave(g):(o.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ie(t.onPointerLeave,Wd(g=>o.onItemLeave(g))),onFocus:ie(t.onFocus,()=>h(!0)),onBlur:ie(t.onBlur,()=>h(!1))})})})}),$9="MenuCheckboxItem",CE=m.forwardRef((t,s)=>{const{checked:r=!1,onCheckedChange:n,...a}=t;return e.jsx(RE,{scope:t.__scopeMenu,checked:r,children:e.jsx(Ff,{role:"menuitemcheckbox","aria-checked":Cm(r)?"mixed":r,...a,ref:s,"data-state":wj(r),onSelect:ie(a.onSelect,()=>n==null?void 0:n(Cm(r)?!0:!r),{checkForDefaultPrevented:!1})})})});CE.displayName=$9;var EE="MenuRadioGroup",[U9,z9]=go(EE,{value:void 0,onValueChange:()=>{}}),TE=m.forwardRef((t,s)=>{const{value:r,onValueChange:n,...a}=t,i=Gt(n);return e.jsx(U9,{scope:t.__scopeMenu,value:r,onValueChange:i,children:e.jsx(yj,{...a,ref:s})})});TE.displayName=EE;var PE="MenuRadioItem",AE=m.forwardRef((t,s)=>{const{value:r,...n}=t,a=z9(PE,t.__scopeMenu),i=r===a.value;return e.jsx(RE,{scope:t.__scopeMenu,checked:i,children:e.jsx(Ff,{role:"menuitemradio","aria-checked":i,...n,ref:s,"data-state":wj(i),onSelect:ie(n.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});AE.displayName=PE;var jj="MenuItemIndicator",[RE,V9]=go(jj,{checked:!1}),OE=m.forwardRef((t,s)=>{const{__scopeMenu:r,forceMount:n,...a}=t,i=V9(jj,r);return e.jsx(Ss,{present:n||Cm(i.checked)||i.checked===!0,children:e.jsx(ge.span,{...a,ref:s,"data-state":wj(i.checked)})})});OE.displayName=jj;var B9="MenuSeparator",IE=m.forwardRef((t,s)=>{const{__scopeMenu:r,...n}=t;return e.jsx(ge.div,{role:"separator","aria-orientation":"horizontal",...n,ref:s})});IE.displayName=B9;var q9="MenuArrow",DE=m.forwardRef((t,s)=>{const{__scopeMenu:r,...n}=t,a=Mf(r);return e.jsx(hj,{...a,...n,ref:s})});DE.displayName=q9;var H9="MenuSub",[LH,LE]=go(H9),nd="MenuSubTrigger",ME=m.forwardRef((t,s)=>{const r=vo(nd,t.__scopeMenu),n=ju(nd,t.__scopeMenu),a=LE(nd,t.__scopeMenu),i=gj(nd,t.__scopeMenu),o=m.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,d={__scopeMenu:t.__scopeMenu},u=m.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return m.useEffect(()=>u,[u]),m.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),e.jsx(xj,{asChild:!0,...d,children:e.jsx(kE,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":UE(r.open),...t,ref:ia(s,a.onTriggerChange),onClick:h=>{var f;(f=t.onClick)==null||f.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:ie(t.onPointerMove,Wd(h=>{i.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),u()},100))})),onPointerLeave:ie(t.onPointerLeave,Wd(h=>{var x,g;u();const f=(x=r.content)==null?void 0:x.getBoundingClientRect();if(f){const v=(g=r.content)==null?void 0:g.dataset.side,p=v==="right",y=p?-5:5,j=f[p?"left":"right"],w=f[p?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+y,y:h.clientY},{x:j,y:f.top},{x:w,y:f.top},{x:w,y:f.bottom},{x:j,y:f.bottom}],side:v}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ie(t.onKeyDown,h=>{var x;const f=i.searchRef.current!=="";t.disabled||f&&h.key===" "||S9[n.dir].includes(h.key)&&(r.onOpenChange(!0),(x=r.content)==null||x.focus(),h.preventDefault())})})})});ME.displayName=nd;var FE="MenuSubContent",$E=m.forwardRef((t,s)=>{const r=bE(Or,t.__scopeMenu),{forceMount:n=r.forceMount,...a}=t,i=vo(Or,t.__scopeMenu),o=ju(Or,t.__scopeMenu),l=LE(FE,t.__scopeMenu),c=m.useRef(null),d=Fe(s,c);return e.jsx(Hd.Provider,{scope:t.__scopeMenu,children:e.jsx(Ss,{present:n||i.open,children:e.jsx(Hd.Slot,{scope:t.__scopeMenu,children:e.jsx(vj,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var h;o.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:ie(t.onFocusOutside,u=>{u.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ie(t.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:ie(t.onKeyDown,u=>{var x;const h=u.currentTarget.contains(u.target),f=k9[o.dir].includes(u.key);h&&f&&(i.onOpenChange(!1),(x=l.trigger)==null||x.focus(),u.preventDefault())})})})})})});$E.displayName=FE;function UE(t){return t?"open":"closed"}function Cm(t){return t==="indeterminate"}function wj(t){return Cm(t)?"indeterminate":t?"checked":"unchecked"}function W9(t){const s=document.activeElement;for(const r of t)if(r===s||(r.focus(),document.activeElement!==s))return}function K9(t,s){return t.map((r,n)=>t[(s+n)%t.length])}function G9(t,s,r){const a=s.length>1&&Array.from(s).every(d=>d===s[0])?s[0]:s,i=r?t.indexOf(r):-1;let o=K9(t,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Q9(t,s){const{x:r,y:n}=t;let a=!1;for(let i=0,o=s.length-1;i<s.length;o=i++){const l=s[i],c=s[o],d=l.x,u=l.y,h=c.x,f=c.y;u>n!=f>n&&r<(h-d)*(n-u)/(f-u)+d&&(a=!a)}return a}function Z9(t,s){if(!s)return!1;const r={x:t.clientX,y:t.clientY};return Q9(r,s)}function Wd(t){return s=>s.pointerType==="mouse"?t(s):void 0}var Y9=wE,X9=xj,J9=NE,ez=_E,tz=yj,sz=SE,rz=Ff,nz=CE,az=TE,iz=AE,oz=OE,lz=IE,cz=DE,dz=ME,uz=$E,$f="DropdownMenu",[hz,MH]=_s($f,[yE]),Ks=yE(),[mz,zE]=hz($f),VE=t=>{const{__scopeDropdownMenu:s,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=t,c=Ks(s),d=m.useRef(null),[u,h]=an({prop:a,defaultProp:i??!1,onChange:o,caller:$f});return e.jsx(mz,{scope:s,triggerId:bs(),triggerRef:d,contentId:bs(),open:u,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(f=>!f),[h]),modal:l,children:e.jsx(Y9,{...c,open:u,onOpenChange:h,dir:n,modal:l,children:r})})};VE.displayName=$f;var BE="DropdownMenuTrigger",qE=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=t,i=zE(BE,r),o=Ks(r);return e.jsx(X9,{asChild:!0,...o,children:e.jsx(ge.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:ia(s,i.triggerRef),onPointerDown:ie(t.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:ie(t.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});qE.displayName=BE;var fz="DropdownMenuPortal",HE=t=>{const{__scopeDropdownMenu:s,...r}=t,n=Ks(s);return e.jsx(J9,{...n,...r})};HE.displayName=fz;var WE="DropdownMenuContent",KE=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=zE(WE,r),i=Ks(r),o=m.useRef(!1);return e.jsx(ez,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:s,onCloseAutoFocus:ie(t.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:ie(t.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!a.modal||u)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});KE.displayName=WE;var xz="DropdownMenuGroup",pz=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=Ks(r);return e.jsx(tz,{...a,...n,ref:s})});pz.displayName=xz;var gz="DropdownMenuLabel",GE=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=Ks(r);return e.jsx(sz,{...a,...n,ref:s})});GE.displayName=gz;var vz="DropdownMenuItem",QE=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=Ks(r);return e.jsx(rz,{...a,...n,ref:s})});QE.displayName=vz;var yz="DropdownMenuCheckboxItem",ZE=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=Ks(r);return e.jsx(nz,{...a,...n,ref:s})});ZE.displayName=yz;var jz="DropdownMenuRadioGroup",wz=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=Ks(r);return e.jsx(az,{...a,...n,ref:s})});wz.displayName=jz;var bz="DropdownMenuRadioItem",YE=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=Ks(r);return e.jsx(iz,{...a,...n,ref:s})});YE.displayName=bz;var Nz="DropdownMenuItemIndicator",XE=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=Ks(r);return e.jsx(oz,{...a,...n,ref:s})});XE.displayName=Nz;var _z="DropdownMenuSeparator",JE=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=Ks(r);return e.jsx(lz,{...a,...n,ref:s})});JE.displayName=_z;var Sz="DropdownMenuArrow",kz=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=Ks(r);return e.jsx(cz,{...a,...n,ref:s})});kz.displayName=Sz;var Cz="DropdownMenuSubTrigger",eT=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=Ks(r);return e.jsx(dz,{...a,...n,ref:s})});eT.displayName=Cz;var Ez="DropdownMenuSubContent",tT=m.forwardRef((t,s)=>{const{__scopeDropdownMenu:r,...n}=t,a=Ks(r);return e.jsx(uz,{...a,...n,ref:s,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});tT.displayName=Ez;var Tz=VE,Pz=qE,Az=HE,sT=KE,rT=GE,nT=QE,aT=ZE,iT=YE,oT=XE,lT=JE,cT=eT,dT=tT;const pi=Tz,gi=Pz,Rz=m.forwardRef(({className:t,inset:s,children:r,...n},a)=>e.jsxs(cT,{ref:a,className:oe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",s&&"pl-8",t),...n,children:[r,e.jsx(ou,{className:"ml-auto h-4 w-4"})]}));Rz.displayName=cT.displayName;const Oz=m.forwardRef(({className:t,...s},r)=>e.jsx(dT,{ref:r,className:oe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s}));Oz.displayName=dT.displayName;const ua=m.forwardRef(({className:t,sideOffset:s=4,...r},n)=>e.jsx(Az,{children:e.jsx(sT,{ref:n,sideOffset:s,className:oe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));ua.displayName=sT.displayName;const kt=m.forwardRef(({className:t,inset:s,...r},n)=>e.jsx(nT,{ref:n,className:oe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s&&"pl-8",t),...r}));kt.displayName=nT.displayName;const Iz=m.forwardRef(({className:t,children:s,checked:r,...n},a)=>e.jsxs(aT,{ref:a,className:oe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...n,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(oT,{children:e.jsx(iu,{className:"h-4 w-4"})})}),s]}));Iz.displayName=aT.displayName;const Dz=m.forwardRef(({className:t,children:s,...r},n)=>e.jsxs(iT,{ref:n,className:oe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(oT,{children:e.jsx(uD,{className:"h-2 w-2 fill-current"})})}),s]}));Dz.displayName=iT.displayName;const yc=m.forwardRef(({className:t,inset:s,...r},n)=>e.jsx(rT,{ref:n,className:oe("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",t),...r}));yc.displayName=rT.displayName;const Rn=m.forwardRef(({className:t,...s},r)=>e.jsx(lT,{ref:r,className:oe("-mx-1 my-1 h-px bg-muted",t),...s}));Rn.displayName=lT.displayName;const yo=m.forwardRef(({className:t,...s},r)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:r,className:oe("w-full caption-bottom text-sm",t),...s})}));yo.displayName="Table";const jo=m.forwardRef(({className:t,...s},r)=>e.jsx("thead",{ref:r,className:oe("[&_tr]:border-b",t),...s}));jo.displayName="TableHeader";const wo=m.forwardRef(({className:t,...s},r)=>e.jsx("tbody",{ref:r,className:oe("[&_tr:last-child]:border-0",t),...s}));wo.displayName="TableBody";const Lz=m.forwardRef(({className:t,...s},r)=>e.jsx("tfoot",{ref:r,className:oe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...s}));Lz.displayName="TableFooter";const Zt=m.forwardRef(({className:t,...s},r)=>e.jsx("tr",{ref:r,className:oe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...s}));Zt.displayName="TableRow";const ct=m.forwardRef(({className:t,...s},r)=>e.jsx("th",{ref:r,className:oe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...s}));ct.displayName="TableHead";const Ge=m.forwardRef(({className:t,...s},r)=>e.jsx("td",{ref:r,className:oe("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...s}));Ge.displayName="TableCell";const Mz=m.forwardRef(({className:t,...s},r)=>e.jsx("caption",{ref:r,className:oe("mt-4 text-sm text-muted-foreground",t),...s}));Mz.displayName="TableCaption";var uT="AlertDialog",[Fz,FH]=_s(uT,[Ik]),ha=Ik(),hT=t=>{const{__scopeAlertDialog:s,...r}=t,n=ha(s);return e.jsx(jf,{...n,...r,modal:!0})};hT.displayName=uT;var $z="AlertDialogTrigger",Uz=m.forwardRef((t,s)=>{const{__scopeAlertDialog:r,...n}=t,a=ha(r);return e.jsx(zy,{...a,...n,ref:s})});Uz.displayName=$z;var zz="AlertDialogPortal",mT=t=>{const{__scopeAlertDialog:s,...r}=t,n=ha(s);return e.jsx(wf,{...n,...r})};mT.displayName=zz;var Vz="AlertDialogOverlay",fT=m.forwardRef((t,s)=>{const{__scopeAlertDialog:r,...n}=t,a=ha(r);return e.jsx(uc,{...a,...n,ref:s})});fT.displayName=Vz;var xl="AlertDialogContent",[Bz,qz]=Fz(xl),Hz=fI("AlertDialogContent"),xT=m.forwardRef((t,s)=>{const{__scopeAlertDialog:r,children:n,...a}=t,i=ha(r),o=m.useRef(null),l=Fe(s,o),c=m.useRef(null);return e.jsx(LF,{contentName:xl,titleName:pT,docsSlug:"alert-dialog",children:e.jsx(Bz,{scope:r,cancelRef:c,children:e.jsxs(hc,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:ie(a.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[e.jsx(Hz,{children:n}),e.jsx(Kz,{contentRef:o})]})})})});xT.displayName=xl;var pT="AlertDialogTitle",gT=m.forwardRef((t,s)=>{const{__scopeAlertDialog:r,...n}=t,a=ha(r);return e.jsx(fu,{...a,...n,ref:s})});gT.displayName=pT;var vT="AlertDialogDescription",yT=m.forwardRef((t,s)=>{const{__scopeAlertDialog:r,...n}=t,a=ha(r);return e.jsx(xu,{...a,...n,ref:s})});yT.displayName=vT;var Wz="AlertDialogAction",jT=m.forwardRef((t,s)=>{const{__scopeAlertDialog:r,...n}=t,a=ha(r);return e.jsx(bf,{...a,...n,ref:s})});jT.displayName=Wz;var wT="AlertDialogCancel",bT=m.forwardRef((t,s)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:a}=qz(wT,r),i=ha(r),o=Fe(s,a);return e.jsx(bf,{...i,...n,ref:o})});bT.displayName=wT;var Kz=({contentRef:t})=>{const s=`\`${xl}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${xl}\` by passing a \`${vT}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${xl}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(s)},[s,t]),null},Gz=hT,Qz=mT,NT=fT,_T=xT,ST=jT,kT=bT,CT=gT,ET=yT;const wu=Gz,Zz=Qz,TT=m.forwardRef(({className:t,...s},r)=>e.jsx(NT,{className:oe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s,ref:r}));TT.displayName=NT.displayName;const jc=m.forwardRef(({className:t,...s},r)=>e.jsxs(Zz,{children:[e.jsx(TT,{}),e.jsx(_T,{ref:r,className:oe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...s})]}));jc.displayName=_T.displayName;const wc=({className:t,...s})=>e.jsx("div",{className:oe("flex flex-col space-y-2 text-center sm:text-left",t),...s});wc.displayName="AlertDialogHeader";const bc=({className:t,...s})=>e.jsx("div",{className:oe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s});bc.displayName="AlertDialogFooter";const Nc=m.forwardRef(({className:t,...s},r)=>e.jsx(CT,{ref:r,className:oe("text-lg font-semibold",t),...s}));Nc.displayName=CT.displayName;const _c=m.forwardRef(({className:t,...s},r)=>e.jsx(ET,{ref:r,className:oe("text-sm text-muted-foreground",t),...s}));_c.displayName=ET.displayName;const Sc=m.forwardRef(({className:t,...s},r)=>e.jsx(ST,{ref:r,className:oe(Ey(),t),...s}));Sc.displayName=ST.displayName;const kc=m.forwardRef(({className:t,...s},r)=>e.jsx(kT,{ref:r,className:oe(Ey({variant:"outline"}),"mt-2 sm:mt-0",t),...s}));kc.displayName=kT.displayName;function Yz(){var Ee;const{toast:t}=Ze(),s=cs();yt();const[r,n]=m.useState(!1),[a,i]=m.useState(null),[o,l]=m.useState("create"),[c,d]=m.useState(!1),[u,h]=m.useState(null),[f,x]=m.useState("bn"),[g,v]=m.useState(""),[p,y]=m.useState("all"),[j,w]=m.useState("all"),[b,N]=m.useState("published_at"),[_,P]=m.useState("desc"),[A,k]=m.useState(1),[T]=m.useState(20),{data:S=[]}=_e({queryKey:["admin-categories"],queryFn:pu}),{data:R,isLoading:B,error:H,refetch:I}=_e({queryKey:["admin-articles",{page:A,limit:T,search:g,category:p,status:j,sortBy:b,sortOrder:_}],queryFn:()=>Nf({page:A,limit:T,search:g,category:p==="all"?void 0:p,status:j==="all"?void 0:j,sortBy:b,sortOrder:_}),keepPreviousData:!0}),V=Me({mutationFn:Hy,onSuccess:()=>{t({title:f==="bn"?"   ":"Article Deleted",description:f==="bn"?"    ":"The article has been successfully deleted"}),s.invalidateQueries({queryKey:["admin-articles"]}),d(!1),h(null)},onError:K=>{t({title:f==="bn"?"":"Error",description:f==="bn"?"   ":"Failed to delete article",variant:"destructive"})}}),O={bn:{title:" ",subtitle:"     ",createNew:" ",searchPlaceholder:" ...",allCategories:" ",allStatus:" ",published:"",draft:"",featured:"",normal:"",edit:"",delete:"",confirmDelete:" ",confirmDeleteDesc:"        ?",cancel:"",loading:" ...",noArticles:"   ",totalArticles:" ",publishedArticles:" ",draftArticles:" ",featuredArticles:" ",title_col:"",category_col:"",status_col:"",published_col:" ",views_col:"",actions_col:""},en:{title:"Articles Management",subtitle:"Manage all articles on your site",createNew:"Create New Article",searchPlaceholder:"Search articles...",allCategories:"All Categories",allStatus:"All Status",published:"Published",draft:"Draft",featured:"Featured",normal:"Normal",edit:"Edit",delete:"Delete",confirmDelete:"Confirm Delete",confirmDeleteDesc:"Are you sure you want to delete this article?",cancel:"Cancel",loading:"Loading...",noArticles:"No articles found",totalArticles:"Total Articles",publishedArticles:"Published Articles",draftArticles:"Draft Articles",featuredArticles:"Featured Articles",title_col:"Title",category_col:"Category",status_col:"Status",published_col:"Published",views_col:"Views",actions_col:"Actions"}}[f],U=()=>{i(null),l("create"),n(!0)},ee=K=>{i(K),l("edit"),n(!0)},se=K=>{h(K),d(!0)},W=()=>{u&&V.mutate(u.id)},ue=K=>{v(K),k(1)},ye=(K,Ie)=>{K==="category"?y(Ie):w(Ie),k(1)},me=R!=null&&R.articles?{total:R.totalCount,published:R.articles.filter(K=>K.is_published).length,drafts:R.articles.filter(K=>!K.is_published).length,featured:R.articles.filter(K=>K.is_featured).length}:{total:0,published:0,drafts:0,featured:0};return e.jsxs(xt,{children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:O.title}),e.jsx("p",{className:"text-muted-foreground",children:O.subtitle})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(Cn,{value:f,onValueChange:K=>x(K),children:[e.jsx(sn,{className:"w-24",children:e.jsx(En,{})}),e.jsxs(rn,{children:[e.jsx(Mt,{value:"bn",children:""}),e.jsx(Mt,{value:"en",children:"English"})]})]}),e.jsxs(D,{onClick:U,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:[e.jsx(rr,{className:"mr-2 h-4 w-4"}),O.createNew]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(C,{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-950 dark:to-blue-900 border-blue-200 dark:border-blue-800",children:[e.jsxs(L,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(M,{className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:O.totalArticles}),e.jsx(Ar,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})]}),e.jsx(E,{children:e.jsx("div",{className:"text-2xl font-bold text-blue-900 dark:text-blue-100",children:me.total})})]}),e.jsxs(C,{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950 dark:to-green-900 border-green-200 dark:border-green-800",children:[e.jsxs(L,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(M,{className:"text-sm font-medium text-green-700 dark:text-green-300",children:O.publishedArticles}),e.jsx(ts,{className:"h-4 w-4 text-green-600 dark:text-green-400"})]}),e.jsx(E,{children:e.jsx("div",{className:"text-2xl font-bold text-green-900 dark:text-green-100",children:me.published})})]}),e.jsxs(C,{className:"bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-950 dark:to-orange-900 border-orange-200 dark:border-orange-800",children:[e.jsxs(L,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(M,{className:"text-sm font-medium text-orange-700 dark:text-orange-300",children:O.draftArticles}),e.jsx(ht,{className:"h-4 w-4 text-orange-600 dark:text-orange-400"})]}),e.jsx(E,{children:e.jsx("div",{className:"text-2xl font-bold text-orange-900 dark:text-orange-100",children:me.drafts})})]}),e.jsxs(C,{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-950 dark:to-purple-900 border-purple-200 dark:border-purple-800",children:[e.jsxs(L,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(M,{className:"text-sm font-medium text-purple-700 dark:text-purple-300",children:O.featuredArticles}),e.jsx(ri,{className:"h-4 w-4 text-purple-600 dark:text-purple-400"})]}),e.jsx(E,{children:e.jsx("div",{className:"text-2xl font-bold text-purple-900 dark:text-purple-100",children:me.featured})})]})]}),e.jsxs(C,{children:[e.jsx(L,{children:e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx(wy,{className:"h-5 w-5"}),f==="bn"?"  ":"Search & Filters"]})}),e.jsx(E,{children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Ot,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(te,{placeholder:O.searchPlaceholder,value:g,onChange:K=>ue(K.target.value),className:"pl-10"})]}),e.jsxs(Cn,{value:p,onValueChange:K=>ye("category",K),children:[e.jsx(sn,{className:"w-48",children:e.jsx(En,{placeholder:O.allCategories})}),e.jsxs(rn,{children:[e.jsx(Mt,{value:"all",children:O.allCategories}),S.map(K=>e.jsx(Mt,{value:K.id.toString(),children:K.name},K.id))]})]}),e.jsxs(Cn,{value:j,onValueChange:K=>ye("status",K),children:[e.jsx(sn,{className:"w-32",children:e.jsx(En,{placeholder:O.allStatus})}),e.jsxs(rn,{children:[e.jsx(Mt,{value:"all",children:O.allStatus}),e.jsx(Mt,{value:"published",children:O.published}),e.jsx(Mt,{value:"draft",children:O.draft})]})]}),e.jsxs(D,{onClick:()=>I(),variant:"outline",children:[e.jsx(on,{className:"h-4 w-4 mr-2"}),f==="bn"?"":"Refresh"]})]})})]}),e.jsxs(C,{children:[e.jsxs(L,{children:[e.jsx(M,{children:f==="bn"?" ":"Articles List"}),e.jsxs(Ce,{children:[(R==null?void 0:R.totalCount)||0," ",f==="bn"?"   ":"articles found"]})]}),e.jsx(E,{children:B?e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx(ae,{className:"h-8 w-8 animate-spin text-muted-foreground"}),e.jsx("span",{className:"ml-2 text-muted-foreground",children:O.loading})]}):H?e.jsxs("div",{className:"flex items-center justify-center py-8 text-red-500",children:[e.jsx(Yt,{className:"h-8 w-8 mr-2"}),f==="bn"?"   ":"Failed to load articles"]}):(Ee=R==null?void 0:R.articles)!=null&&Ee.length?e.jsx("div",{className:"rounded-lg border",children:e.jsxs(yo,{children:[e.jsx(jo,{children:e.jsxs(Zt,{children:[e.jsx(ct,{className:"min-w-[300px]",children:O.title_col}),e.jsx(ct,{children:O.category_col}),e.jsx(ct,{children:O.status_col}),e.jsx(ct,{children:O.published_col}),e.jsx(ct,{className:"text-center",children:O.views_col}),e.jsx(ct,{className:"text-center",children:O.actions_col})]})}),e.jsx(wo,{children:R.articles.map(K=>{var Ie;return e.jsxs(Zt,{className:"hover:bg-muted/50",children:[e.jsx(Ge,{children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-medium line-clamp-2",children:K.title}),K.excerpt&&e.jsx("div",{className:"text-sm text-muted-foreground line-clamp-1",children:K.excerpt}),e.jsx("div",{className:"flex items-center gap-2",children:K.is_featured&&e.jsxs(X,{variant:"secondary",className:"text-xs",children:[e.jsx(ri,{className:"h-3 w-3 mr-1"}),O.featured]})})]})}),e.jsx(Ge,{children:e.jsx(X,{variant:"outline",children:((Ie=K.categories)==null?void 0:Ie.name)||"Uncategorized"})}),e.jsx(Ge,{children:e.jsx(X,{variant:K.is_published?"default":"secondary",className:oe(K.is_published?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200"),children:K.is_published?O.published:O.draft})}),e.jsx(Ge,{children:e.jsx(vt,{date:K.published_at})}),e.jsx(Ge,{className:"text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[e.jsx(Et,{className:"h-4 w-4 text-muted-foreground"}),K.view_count||0]})}),e.jsx(Ge,{children:e.jsxs(pi,{children:[e.jsx(gi,{asChild:!0,children:e.jsx(D,{variant:"ghost",className:"h-8 w-8 p-0",children:e.jsx(of,{className:"h-4 w-4"})})}),e.jsxs(ua,{align:"end",children:[e.jsx(yc,{children:O.actions_col}),e.jsx(Rn,{}),e.jsxs(kt,{onClick:()=>ee(K),children:[e.jsx(nr,{className:"mr-2 h-4 w-4"}),O.edit]}),e.jsxs(kt,{onClick:()=>se(K),className:"text-red-600 focus:text-red-600",children:[e.jsx(vs,{className:"mr-2 h-4 w-4"}),O.delete]})]})]})})]},K.id)})})]})}):e.jsxs("div",{className:"flex items-center justify-center py-8 text-muted-foreground",children:[e.jsx(Ar,{className:"h-8 w-8 mr-2"}),O.noArticles]})})]}),(R==null?void 0:R.totalPages)&&R.totalPages>1&&e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsx(D,{variant:"outline",disabled:A===1,onClick:()=>k(K=>Math.max(1,K-1)),children:f==="bn"?"":"Previous"}),e.jsxs("span",{className:"flex items-center px-4",children:[A," / ",R.totalPages]}),e.jsx(D,{variant:"outline",disabled:A===R.totalPages,onClick:()=>k(K=>Math.min(R.totalPages||1,K+1)),children:f==="bn"?"":"Next"})]})]}),e.jsx(b9,{isOpen:r,onClose:()=>{n(!1),i(null)},article:a,mode:o}),e.jsx(wu,{open:c,onOpenChange:d,children:e.jsxs(jc,{children:[e.jsxs(wc,{children:[e.jsx(Nc,{children:O.confirmDelete}),e.jsxs(_c,{children:[O.confirmDeleteDesc,u&&e.jsx("div",{className:"mt-2 p-2 bg-muted rounded",children:e.jsx("strong",{children:u.title})})]})]}),e.jsxs(bc,{children:[e.jsx(kc,{children:O.cancel}),e.jsxs(Sc,{onClick:W,disabled:V.isPending,className:"bg-red-600 hover:bg-red-700",children:[V.isPending?e.jsx(ae,{className:"mr-2 h-4 w-4 animate-spin"}):e.jsx(vs,{className:"mr-2 h-4 w-4"}),O.delete]})]})]})})]})}function bj({data:t,columns:s,searchPlaceholder:r="Search...",onEdit:n,onDelete:a,onView:i,itemsPerPage:o=10,loading:l=!1}){const[c,d]=m.useState(""),[u,h]=m.useState(""),[f,x]=m.useState("asc"),[g,v]=m.useState(1),[p,y]=m.useState(o),w=[...(t==null?void 0:t.filter(k=>Object.values(k).some(T=>String(T).toLowerCase().includes(c.toLowerCase()))))||[]].sort((k,T)=>{if(!u)return 0;const S=k[u],R=T[u];if(S===R)return 0;const B=S<R?-1:1;return f==="asc"?B:-B}),b=Math.ceil(w.length/p),N=(g-1)*p,_=w.slice(N,N+p),P=k=>{u===k?x(f==="asc"?"desc":"asc"):(h(k),x("asc"))},A=(k,T)=>{const S=T[k.key];if(k.render)return k.render(S,T);switch(k.key){case"publishedAt":case"createdAt":case"updatedAt":return e.jsx(vt,{date:S,type:"relative"});case"isFeatured":return e.jsx(X,{variant:S?"default":"secondary",children:S?"Featured":"Normal"});case"isActive":return e.jsx(X,{variant:S?"default":"destructive",children:S?"Active":"Inactive"});case"viewCount":case"view_count":return e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Et,{className:"h-3 w-3 text-muted-foreground"}),S||0]});default:return typeof S=="object"&&S!==null?S.name?S.name:S.title?S.title:S.id?`#${S.id}`:JSON.stringify(S):S}};return l?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"h-9 w-64 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"}),e.jsx("div",{className:"h-9 w-24 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"})]}),e.jsx("div",{className:"border rounded-lg",children:[...Array(5)].map((k,T)=>e.jsx("div",{className:"border-b last:border-b-0 p-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded flex-1 animate-pulse"}),e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-24 animate-pulse"}),e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-16 animate-pulse"})]})},T))})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[e.jsxs("div",{className:"relative max-w-sm",children:[e.jsx(Ot,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(te,{placeholder:r,value:c,onChange:k=>d(k.target.value),className:"pl-8"})]}),e.jsxs(D,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[e.jsx(wy,{className:"h-4 w-4"}),"Filter"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Show"}),e.jsxs(Cn,{value:p.toString(),onValueChange:k=>{y(parseInt(k)),v(1)},children:[e.jsx(sn,{className:"w-20",children:e.jsx(En,{})}),e.jsxs(rn,{children:[e.jsx(Mt,{value:"5",children:"5"}),e.jsx(Mt,{value:"10",children:"10"}),e.jsx(Mt,{value:"20",children:"20"}),e.jsx(Mt,{value:"50",children:"50"})]})]})]})]}),e.jsx("div",{className:"border rounded-lg",children:e.jsxs(yo,{children:[e.jsx(jo,{children:e.jsxs(Zt,{children:[s.map(k=>e.jsx(ct,{children:k.sortable?e.jsxs(D,{variant:"ghost",onClick:()=>P(k.key),className:"h-auto p-0 font-medium hover:bg-transparent",children:[k.label,e.jsx(aD,{className:"ml-2 h-4 w-4"})]}):k.label},k.key)),(n||a||i)&&e.jsx(ct,{className:"w-[100px]",children:"Actions"})]})}),e.jsx(wo,{children:_.length===0?e.jsx(Zt,{children:e.jsx(Ge,{colSpan:s.length+(n||a||i?1:0),className:"h-24 text-center",children:"No data found."})}):_.map((k,T)=>e.jsxs(Zt,{children:[s.map(S=>e.jsx(Ge,{children:A(S,k)},S.key)),(n||a||i)&&e.jsx(Ge,{children:e.jsxs(pi,{children:[e.jsx(gi,{asChild:!0,children:e.jsxs(D,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx(of,{className:"h-4 w-4"})]})}),e.jsxs(ua,{align:"end",children:[e.jsx(yc,{children:"Actions"}),i&&e.jsxs(kt,{onClick:()=>i(k),children:[e.jsx(Et,{className:"mr-2 h-4 w-4"}),"View"]}),n&&e.jsxs(kt,{onClick:()=>n(k),children:[e.jsx(TD,{className:"mr-2 h-4 w-4"}),"Edit"]}),a&&e.jsxs(e.Fragment,{children:[e.jsx(Rn,{}),e.jsxs(kt,{onClick:()=>a(k),className:"text-red-600",children:[e.jsx(vs,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]})})]},k.id||T))})]})}),b>1&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",N+1," to"," ",Math.min(N+p,w.length)," of"," ",w.length," entries"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(D,{variant:"outline",size:"sm",onClick:()=>v(1),disabled:g===1,children:e.jsx(cD,{className:"h-4 w-4"})}),e.jsx(D,{variant:"outline",size:"sm",onClick:()=>v(Math.max(1,g-1)),disabled:g===1,children:e.jsx(lD,{className:"h-4 w-4"})}),e.jsxs("span",{className:"text-sm",children:["Page ",g," of ",b]}),e.jsx(D,{variant:"outline",size:"sm",onClick:()=>v(Math.min(b,g+1)),disabled:g===b,children:e.jsx(ou,{className:"h-4 w-4"})}),e.jsx(D,{variant:"outline",size:"sm",onClick:()=>v(b),disabled:g===b,children:e.jsx(dD,{className:"h-4 w-4"})})]})]})]})}const Xz=po({name:ms().min(1,"Category name is required"),slug:ms().min(1,"Slug is required")}),Jz=t=>[{key:"id",label:t("id","ID",""),sortable:!0},{key:"name",label:t("name","Name",""),sortable:!0,render:s=>e.jsx("div",{className:"font-medium",children:s})},{key:"slug",label:t("slug","Slug",""),sortable:!0,render:s=>e.jsx(X,{variant:"outline",children:s})},{key:"articleCount",label:t("articles","Articles",""),sortable:!0,render:s=>e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Xt,{className:"h-3 w-3 text-muted-foreground"}),s||0]})}];function eV(){var k,T;const{toast:t}=Ze(),{t:s}=On(),[r,n]=m.useState(!1),[a,i]=m.useState(null),[o,l]=m.useState("create"),[c,d]=m.useState(!1),[u,h]=m.useState(null),f=Bi({resolver:qi(Xz),defaultValues:{name:"",slug:""}}),{data:x,isLoading:g,error:v}=_e({queryKey:["admin-categories"],queryFn:()=>pu()}),{data:p}=_e({queryKey:["/api/articles"],queryFn:async()=>{const{getArticles:S}=await de(async()=>{const{getArticles:R}=await Promise.resolve().then(()=>ke);return{getArticles:R}},void 0);return await S()}}),y=(x==null?void 0:x.map(S=>({...S,articleCount:(p==null?void 0:p.filter(R=>R.categoryId===S.id).length)||0})))||[],j=Me({mutationFn:async S=>o==="create"?await Wy(S):await Ky(a.id,S),onSuccess:()=>{t({title:`Category ${o==="create"?"created":"updated"}`,description:`The category has been ${o==="create"?"created":"updated"} successfully.`}),n(!1),f.reset()},onError:S=>{t({title:"Error",description:S.message,variant:"destructive"})}}),w=Me({mutationFn:S=>Gy(S),onSuccess:()=>{t({title:"Category deleted",description:"The category has been successfully deleted."}),d(!1),h(null)},onError:S=>{t({title:"Error",description:S.message,variant:"destructive"})}}),b=()=>{i(null),l("create"),f.reset(),n(!0)},N=S=>{i(S),l("edit"),f.setValue("name",S.name),f.setValue("slug",S.slug),n(!0)},_=S=>{h(S),d(!0)},P=S=>{j.mutate(S)},A=S=>S.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-");return v?e.jsx(xt,{children:e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Yt,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Error Loading Categories"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:v.message||"An error occurred while loading categories"})]})})}):e.jsx(xt,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:s("categories_management","Categories Management"," ")}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:s("categories_description","Create and manage article categories","     ")})]}),e.jsxs(D,{onClick:b,className:"flex items-center gap-2",children:[e.jsx(rr,{className:"h-4 w-4"}),s("create_category","Create Category","  ")]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs(C,{children:[e.jsxs(L,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(M,{className:"text-sm font-medium",children:"Total Categories"}),e.jsx(so,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(x==null?void 0:x.length)||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Active categories"})]})]}),e.jsxs(C,{children:[e.jsxs(L,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(M,{className:"text-sm font-medium",children:"Total Articles"}),e.jsx(Xt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(p==null?void 0:p.length)||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Categorized articles"})]})]}),e.jsxs(C,{children:[e.jsxs(L,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(M,{className:"text-sm font-medium",children:"Most Used"}),e.jsx(so,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:y.length>0?((T=(k=y.sort((S,R)=>R.articleCount-S.articleCount)[0])==null?void 0:k.name)==null?void 0:T.slice(0,8))+"...":"None"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Most articles"})]})]})]}),e.jsxs(C,{children:[e.jsxs(L,{children:[e.jsx(M,{children:s("all_categories","All Categories"," ")}),e.jsx(Ce,{children:s("manage_categories_description","Manage and organize your article categories","      ")})]}),e.jsx(E,{children:g?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(ae,{className:"h-8 w-8 animate-spin"})}):e.jsx(bj,{data:y,columns:Jz(s),searchPlaceholder:"Search categories...",onEdit:N,onDelete:_,loading:g})})]}),e.jsx(Yn,{open:r,onOpenChange:n,children:e.jsxs(yn,{children:[e.jsx(jn,{children:e.jsx(wn,{children:o==="create"?"Create New Category":"Edit Category"})}),e.jsx(Hi,{...f,children:e.jsxs("form",{onSubmit:f.handleSubmit(P),className:"space-y-4",children:[e.jsx(At,{control:f.control,name:"name",render:({field:S})=>e.jsxs(bt,{children:[e.jsx(Nt,{children:"Category Name *"}),e.jsx(_t,{children:e.jsx(te,{placeholder:"Enter category name",...S,onChange:R=>{S.onChange(R),o==="create"&&f.setValue("slug",A(R.target.value))}})}),e.jsx(Wt,{})]})}),e.jsx(At,{control:f.control,name:"slug",render:({field:S})=>e.jsxs(bt,{children:[e.jsx(Nt,{children:"URL Slug *"}),e.jsx(_t,{children:e.jsx(te,{placeholder:"category-slug",...S})}),e.jsx(Wt,{})]})}),e.jsxs(_f,{children:[e.jsx(D,{type:"button",variant:"outline",onClick:()=>n(!1),children:"Cancel"}),e.jsx(D,{type:"submit",disabled:j.isPending,children:j.isPending?e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"h-4 w-4 animate-spin mr-2"}),"Saving..."]}):o==="create"?"Create Category":"Update Category"})]})]})})]})}),e.jsx(wu,{open:c,onOpenChange:d,children:e.jsxs(jc,{children:[e.jsxs(wc,{children:[e.jsx(Nc,{children:"Are you sure?"}),e.jsxs(_c,{children:['This action cannot be undone. This will permanently delete the category "',u==null?void 0:u.name,'" and may affect articles using this category.']})]}),e.jsxs(bc,{children:[e.jsx(kc,{children:"Cancel"}),e.jsx(Sc,{onClick:()=>u&&w.mutate(u.id),className:"bg-red-600 hover:bg-red-700",children:"Delete Category"})]})]})})]})})}function tV(){const{toast:t}=Ze(),{t:s}=On(),r=cs(),[n,a]=m.useState(null),[i,o]=m.useState({title:"",publish_date:new Date().toISOString().split("T")[0],image_url:"",pdf_url:"",is_latest:!1}),[l,c]=m.useState(!1),{data:d,isLoading:u,error:h}=_e({queryKey:["admin-epapers"],queryFn:()=>f4()}),f=Me({mutationFn:async y=>l&&n?p4(n.id,y):x4(y),onSuccess:()=>{t({title:`E-paper ${l?"updated":"created"}`,description:`The e-paper has been ${l?"updated":"created"} successfully.`}),g(),r.invalidateQueries({queryKey:["admin-epapers"]})},onError:y=>{t({title:"Error",description:y.message,variant:"destructive"})}}),x=Me({mutationFn:y=>g4(y),onSuccess:()=>{t({title:"E-paper deleted",description:"The e-paper has been deleted successfully."}),r.invalidateQueries({queryKey:["admin-epapers"]})},onError:y=>{t({title:"Error",description:y.message,variant:"destructive"})}}),g=()=>{o({title:"",publish_date:new Date().toISOString().split("T")[0],image_url:"",pdf_url:"",is_latest:!1}),c(!1),a(null)},v=y=>{a(y),o({title:y.title,publish_date:y.publish_date,image_url:y.image_url,pdf_url:y.pdf_url,is_latest:y.is_latest}),c(!0)},p=y=>{y.preventDefault(),f.mutate(i)};return u?e.jsx(xt,{children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(ae,{className:"h-8 w-8 animate-spin"})})}):e.jsx(xt,{children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:s("E-Papers Management","- ")}),e.jsx("p",{className:"text-muted-foreground",children:s("Manage digital newspaper editions","    ")})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(C,{children:[e.jsx(L,{children:e.jsx(M,{children:l?s("Edit E-Paper","- "):s("Create E-Paper","-  ")})}),e.jsx(E,{children:e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"title",children:s("Title","")}),e.jsx(te,{id:"title",value:i.title,onChange:y=>o({...i,title:y.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"publish_date",children:s("Publish Date"," ")}),e.jsx(te,{id:"publish_date",type:"date",value:i.publish_date,onChange:y=>o({...i,publish_date:y.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"image_url",children:s("Image URL"," URL")}),e.jsx(te,{id:"image_url",value:i.image_url,onChange:y=>o({...i,image_url:y.target.value}),placeholder:"https://example.com/image.jpg"})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"pdf_url",children:s("PDF URL","PDF URL")}),e.jsx(te,{id:"pdf_url",value:i.pdf_url,onChange:y=>o({...i,pdf_url:y.target.value}),placeholder:"https://example.com/epaper.pdf",required:!0})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"is_latest",checked:i.is_latest,onChange:y=>o({...i,is_latest:y.target.checked})}),e.jsx(G,{htmlFor:"is_latest",children:s("Latest Issue"," ")})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(D,{type:"submit",disabled:f.isPending,children:[f.isPending&&e.jsx(ae,{className:"mr-2 h-4 w-4 animate-spin"}),l?s("Update",""):s("Create"," ")]}),l&&e.jsx(D,{type:"button",variant:"outline",onClick:g,children:s("Cancel","")})]})]})})]}),e.jsxs(C,{children:[e.jsxs(L,{children:[e.jsx(M,{children:s("E-Papers List","- ")}),e.jsxs(Ce,{children:[s("Total E-Papers:"," -:")," ",(d==null?void 0:d.length)||0]})]}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[d==null?void 0:d.map(y=>e.jsx("div",{className:"p-4 border rounded-lg",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold",children:y.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:e.jsx(vt,{date:y.publish_date})}),y.is_latest&&e.jsxs(X,{variant:"default",className:"mt-1",children:[e.jsx(ri,{className:"w-3 h-3 mr-1"}),s("Latest","")]})]}),e.jsxs("div",{className:"flex gap-2",children:[y.pdf_url&&e.jsx(D,{size:"sm",variant:"outline",asChild:!0,children:e.jsx("a",{href:y.pdf_url,target:"_blank",rel:"noopener noreferrer",children:e.jsx(si,{className:"w-4 h-4"})})}),e.jsx(D,{size:"sm",variant:"outline",onClick:()=>v(y),children:e.jsx(nr,{className:"w-4 h-4"})}),e.jsx(D,{size:"sm",variant:"destructive",onClick:()=>x.mutate(y.id),disabled:x.isPending,children:e.jsx(vs,{className:"w-4 h-4"})})]})]})},y.id)),(!d||d.length===0)&&e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(Xt,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:s("No e-papers found"," -  ")})]})]})})]})]})]})})}var Uf="Switch",[sV,$H]=_s(Uf),[rV,nV]=sV(Uf),PT=m.forwardRef((t,s)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...h}=t,[f,x]=m.useState(null),g=Fe(s,w=>x(w)),v=m.useRef(!1),p=f?u||!!f.closest("form"):!0,[y,j]=an({prop:a,defaultProp:i??!1,onChange:d,caller:Uf});return e.jsxs(rV,{scope:r,checked:y,disabled:l,children:[e.jsx(ge.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":IT(y),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:g,onClick:ie(t.onClick,w=>{j(b=>!b),p&&(v.current=w.isPropagationStopped(),v.current||w.stopPropagation())})}),p&&e.jsx(OT,{control:f,bubbles:!v.current,name:n,value:c,checked:y,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});PT.displayName=Uf;var AT="SwitchThumb",RT=m.forwardRef((t,s)=>{const{__scopeSwitch:r,...n}=t,a=nV(AT,r);return e.jsx(ge.span,{"data-state":IT(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:s})});RT.displayName=AT;var aV="SwitchBubbleInput",OT=m.forwardRef(({__scopeSwitch:t,control:s,checked:r,bubbles:n=!0,...a},i)=>{const o=m.useRef(null),l=Fe(o,i),c=Sf(r),d=kf(s);return m.useEffect(()=>{const u=o.current;if(!u)return;const h=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&x){const g=new Event("click",{bubbles:n});x.call(u,r),u.dispatchEvent(g)}},[c,r,n]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});OT.displayName=aV;function IT(t){return t?"checked":"unchecked"}var DT=PT,iV=RT;const lt=m.forwardRef(({className:t,...s},r)=>e.jsx(DT,{className:oe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...s,ref:r,children:e.jsx(iV,{className:oe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));lt.displayName=DT.displayName;const oV=po({content:ms().min(10,"Content must be at least 10 characters"),is_active:Rg().default(!0),article_id:ZM().optional(),creation_type:XM(["new","existing"]).default("new")}),lV=t=>[{key:"id",label:t("id","ID",""),sortable:!0},{key:"content",label:t("content","Content",""),sortable:!0,render:s=>e.jsx("div",{className:"max-w-[400px] truncate font-medium",children:s})},{key:"is_active",label:t("status","Status",""),sortable:!0,render:s=>e.jsx(X,{variant:s?"default":"secondary",children:s?e.jsxs(e.Fragment,{children:[e.jsx(lu,{className:"h-3 w-3 mr-1"})," ",t("live","Live","")]}):e.jsxs(e.Fragment,{children:[e.jsx(nf,{className:"h-3 w-3 mr-1"})," ",t("inactive","Inactive","")]})})},{key:"created_at",label:t("created","Created",""),sortable:!0,render:s=>e.jsx(vt,{date:s,type:"relative"})},{key:"updated_at",label:t("updated","Updated",""),sortable:!0,render:s=>e.jsx(vt,{date:s,type:"relative"})}];function cV(){const{toast:t}=Ze(),{t:s}=On(),[r,n]=m.useState(!1),[a,i]=m.useState(null),[o,l]=m.useState("create"),[c,d]=m.useState(!1),[u,h]=m.useState(null),[f,x]=m.useState("new"),g=Bi({resolver:qi(oV),defaultValues:{content:"",is_active:!0,creation_type:"new",article_id:void 0}}),{data:v,isLoading:p,error:y}=_e({queryKey:["admin-breaking-news"],queryFn:()=>Zy()}),{data:j}=_e({queryKey:["/api/articles"],queryFn:async()=>{const{getArticles:I}=await de(async()=>{const{getArticles:V}=await Promise.resolve().then(()=>ke);return{getArticles:V}},void 0);return await I(50)},enabled:f==="existing"}),w=Me({mutationFn:async I=>{const V={title:I.content,content:I.content,priority:"high",is_active:I.is_active};return o==="create"?await Yy(V):await ym(a.id,V)},onSuccess:()=>{t({title:`Breaking news ${o==="create"?"created":"updated"}`,description:`The breaking news has been ${o==="create"?"created":"updated"} successfully.`}),n(!1),g.reset()},onError:I=>{t({title:"Error",description:I.message,variant:"destructive"})}}),b=Me({mutationFn:I=>Xy(I),onSuccess:()=>{t({title:"Breaking news deleted",description:"The breaking news has been successfully deleted."}),d(!1),h(null)},onError:I=>{t({title:"Error",description:I.message,variant:"destructive"})}}),N=Me({mutationFn:({id:I,is_active:V})=>ym(I,{is_active:V}),onSuccess:()=>{t({title:"Status updated",description:"The breaking news status has been updated."})},onError:I=>{t({title:"Error",description:I.message,variant:"destructive"})}}),_=()=>{i(null),l("create"),g.reset(),n(!0)},P=I=>{i(I),l("edit"),g.setValue("content",I.content),g.setValue("is_active",I.is_active),n(!0)},A=I=>{h(I),d(!0)},k=I=>{N.mutate({id:I.id,is_active:!I.is_active})},T=I=>{w.mutate(I)},S=(v==null?void 0:v.length)||0,R=(v==null?void 0:v.filter(I=>I.is_active).length)||0,B=S-R,H=(v==null?void 0:v.filter(I=>{const V=new Date(I.created_at),z=new Date;return z.setHours(z.getHours()-24),V>z}).length)||0;return y?e.jsx(xt,{children:e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx(zs,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Error Loading Breaking News"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:y.message||"An error occurred while loading breaking news"})]})})}):e.jsx(xt,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(tn,{className:"h-8 w-8"}),s("breaking-news-management","Breaking News Management","  ")]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:s("manage-breaking-news-desc","Manage urgent news alerts and breaking news","       ")})]}),e.jsxs(D,{onClick:_,className:"flex items-center gap-2",children:[e.jsx(rr,{className:"h-4 w-4"}),s("create-breaking-news","Create Breaking News","   ")]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(C,{children:[e.jsxs(L,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(M,{className:"text-sm font-medium",children:s("total-news","Total News"," ")}),e.jsx(tn,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:S}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("breaking-news-items","Breaking news items","  ")})]})]}),e.jsxs(C,{children:[e.jsxs(L,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(M,{className:"text-sm font-medium",children:s("active-live","Active/Live","/")}),e.jsx(lu,{className:"h-4 w-4 text-green-500"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:R}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("currently-visible","Currently visible"," ")})]})]}),e.jsxs(C,{children:[e.jsxs(L,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(M,{className:"text-sm font-medium",children:s("inactive","Inactive","")}),e.jsx(nf,{className:"h-4 w-4 text-gray-500"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold text-gray-600",children:B}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("hidden-from-public","Hidden from public","   ")})]})]}),e.jsxs(C,{children:[e.jsxs(L,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(M,{className:"text-sm font-medium",children:s("last-24h","Last 24h","  ")}),e.jsx(ht,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:H}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("recent-updates","Recent updates"," ")})]})]})]}),R>0&&e.jsxs(C,{className:"border-orange-200 bg-orange-50 dark:bg-orange-950 dark:border-orange-800",children:[e.jsx(L,{children:e.jsxs(M,{className:"text-orange-800 dark:text-orange-200 flex items-center gap-2",children:[e.jsx(zs,{className:"h-5 w-5"}),"Live Breaking News"]})}),e.jsx(E,{className:"space-y-3",children:v==null?void 0:v.filter(I=>I.is_active).map(I=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-gray-800 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:I.content}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Created: ",e.jsx(vt,{date:I.created_at,type:"relative"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(lt,{checked:I.is_active,onCheckedChange:()=>k(I)}),e.jsx(D,{variant:"ghost",size:"sm",onClick:()=>P(I),children:"Edit"})]})]},I.id))})]}),e.jsxs(C,{children:[e.jsxs(L,{children:[e.jsx(M,{children:s("all-breaking-news","All Breaking News","  ")}),e.jsx(Ce,{children:s("manage-breaking-news-alerts","Manage all breaking news alerts and their status","        ")})]}),e.jsx(E,{children:p?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(ae,{className:"h-8 w-8 animate-spin"})}):e.jsx(bj,{data:v||[],columns:lV(s),searchPlaceholder:s("search-breaking-news","Search breaking news...","  ..."),onEdit:P,onDelete:A,loading:p})})]}),e.jsx(Yn,{open:r,onOpenChange:n,children:e.jsxs(yn,{className:"max-w-2xl",children:[e.jsx(jn,{children:e.jsx(wn,{children:o==="create"?s("create-breaking-news","Create Breaking News","   "):s("edit-breaking-news","Edit Breaking News","   ")})}),e.jsx(Hi,{...g,children:e.jsxs("form",{onSubmit:g.handleSubmit(T),className:"space-y-4",children:[e.jsx(At,{control:g.control,name:"creation_type",render:({field:I})=>e.jsxs(bt,{className:"space-y-3",children:[e.jsx(Nt,{children:s("creation-type","Creation Type"," ")}),e.jsx(_t,{children:e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",id:"new",value:"new",checked:I.value==="new",onChange:V=>{I.onChange(V.target.value),x("new")}}),e.jsx("label",{htmlFor:"new",className:"text-sm font-medium",children:s("create-new","Create New","  ")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",id:"existing",value:"existing",checked:I.value==="existing",onChange:V=>{I.onChange(V.target.value),x("existing")}}),e.jsx("label",{htmlFor:"existing",className:"text-sm font-medium",children:s("use-existing","Use Existing Article","   ")})]})]})})]})}),f==="existing"&&e.jsx(At,{control:g.control,name:"article_id",render:({field:I})=>e.jsxs(bt,{children:[e.jsx(Nt,{children:s("select-article","Select Article","  ")}),e.jsx(_t,{children:e.jsxs(Cn,{onValueChange:V=>I.onChange(parseInt(V)),children:[e.jsx(sn,{children:e.jsx(En,{placeholder:s("choose-article","Choose an article...","   ...")})}),e.jsx(rn,{children:j==null?void 0:j.map(V=>e.jsx(Mt,{value:V.id.toString(),children:V.title},V.id))})]})}),e.jsx(Wt,{})]})}),e.jsx(At,{control:g.control,name:"content",render:({field:I})=>e.jsxs(bt,{children:[e.jsxs(Nt,{children:[s("breaking-news-content","Breaking News Content","  ")," *"]}),e.jsx(_t,{children:e.jsx(Qt,{placeholder:s("enter-breaking-news","Enter breaking news content...","   ..."),className:"min-h-[100px]",...I})}),e.jsx(Wt,{})]})}),e.jsx(At,{control:g.control,name:"is_active",render:({field:I})=>e.jsxs(bt,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(Nt,{className:"text-base",children:s("publish-immediately","Publish Immediately","  ")}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s("breaking-news-visible","This breaking news will be visible to all users","       ")})]}),e.jsx(_t,{children:e.jsx(lt,{checked:I.value,onCheckedChange:I.onChange})})]})}),e.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-950 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(zs,{className:"h-4 w-4 text-yellow-600"}),e.jsx("p",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:s("important-notice","Important Notice"," ")})]}),e.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:s("breaking-news-warning","Breaking news will appear at the top of the website and in the ticker. Only activate when necessary to avoid overwhelming users.","                ")})]}),e.jsxs(_f,{children:[e.jsx(D,{type:"button",variant:"outline",onClick:()=>n(!1),children:s("cancel","Cancel","")}),e.jsx(D,{type:"submit",disabled:w.isPending,children:w.isPending?e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"h-4 w-4 animate-spin mr-2"}),s("saving","Saving...","  ...")]}):o==="create"?s("create-publish","Create & Publish","   "):s("update-breaking-news","Update Breaking News","   ")})]})]})})]})}),e.jsx(wu,{open:c,onOpenChange:d,children:e.jsxs(jc,{children:[e.jsxs(wc,{children:[e.jsx(Nc,{children:"Are you sure?"}),e.jsx(_c,{children:"This action cannot be undone. This will permanently delete the breaking news and remove it from all displays."})]}),e.jsxs(bc,{children:[e.jsx(kc,{children:"Cancel"}),e.jsx(Sc,{onClick:()=>u&&b.mutate(u.id),className:"bg-red-600 hover:bg-red-700",children:"Delete Breaking News"})]})]})})]})})}function dV(){return E2.useSyncExternalStore(uV,()=>!0,()=>!1)}function uV(){return()=>{}}var Nj="Avatar",[hV,UH]=_s(Nj),[mV,LT]=hV(Nj),MT=m.forwardRef((t,s)=>{const{__scopeAvatar:r,...n}=t,[a,i]=m.useState("idle");return e.jsx(mV,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:e.jsx(ge.span,{...n,ref:s})})});MT.displayName=Nj;var FT="AvatarImage",$T=m.forwardRef((t,s)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=t,o=LT(FT,r),l=fV(n,i),c=Gt(d=>{a(d),o.onImageLoadingStatusChange(d)});return rs(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?e.jsx(ge.img,{...i,ref:s,src:n}):null});$T.displayName=FT;var UT="AvatarFallback",zT=m.forwardRef((t,s)=>{const{__scopeAvatar:r,delayMs:n,...a}=t,i=LT(UT,r),[o,l]=m.useState(n===void 0);return m.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?e.jsx(ge.span,{...a,ref:s}):null});zT.displayName=UT;function Hb(t,s){return t?s?(t.src!==s&&(t.src=s),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function fV(t,{referrerPolicy:s,crossOrigin:r}){const n=dV(),a=m.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[o,l]=m.useState(()=>Hb(i,t));return rs(()=>{l(Hb(i,t))},[i,t]),rs(()=>{const c=h=>()=>{l(h)};if(!i)return;const d=c("loaded"),u=c("error");return i.addEventListener("load",d),i.addEventListener("error",u),s&&(i.referrerPolicy=s),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",d),i.removeEventListener("error",u)}},[i,r,s]),o}var VT=MT,BT=$T,qT=zT;const bo=m.forwardRef(({className:t,...s},r)=>e.jsx(VT,{ref:r,className:oe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...s}));bo.displayName=VT.displayName;const No=m.forwardRef(({className:t,...s},r)=>e.jsx(BT,{ref:r,className:oe("aspect-square h-full w-full",t),...s}));No.displayName=BT.displayName;const _o=m.forwardRef(({className:t,...s},r)=>e.jsx(qT,{ref:r,className:oe("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...s}));_o.displayName=qT.displayName;const xV=[{key:"id",label:"ID",sortable:!0},{key:"email",label:"User",sortable:!0,render:(t,s)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(bo,{className:"h-8 w-8",children:[e.jsx(No,{src:s.avatar_url}),e.jsx(_o,{children:s.name?s.name.charAt(0).toUpperCase():t.charAt(0).toUpperCase()})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.name||t}),e.jsx("div",{className:"text-sm text-muted-foreground",children:t})]})]})},{key:"role",label:"Role",sortable:!0,render:t=>e.jsx(X,{variant:t==="admin"?"default":"secondary",children:t==="admin"?e.jsxs(e.Fragment,{children:[e.jsx(bS,{className:"h-3 w-3 mr-1"})," Admin"]}):e.jsxs(e.Fragment,{children:[e.jsx(gt,{className:"h-3 w-3 mr-1"})," User"]})})},{key:"created_at",label:"Joined",sortable:!0,render:t=>e.jsx(vt,{date:t,type:"relative"})},{key:"last_sign_in_at",label:"Last Active",sortable:!0,render:t=>t?e.jsx(vt,{date:t,type:"relative"}):"Never"}];function pV(){const{toast:t}=Ze(),{t:s}=On(),[r,n]=m.useState(!1),[a,i]=m.useState(null),[o,l]=m.useState(""),{data:c,isLoading:d,error:u}=_e({queryKey:["admin-users"],retry:!1,queryFn:()=>vm()}),{data:h}=_e({queryKey:["admin-users-stats"],retry:!1,queryFn:async()=>{try{const j=await vm();if(j&&j.users){const w=j.users,b=w.length,N=w.filter(_=>_.role==="admin").length;return{totalUsers:b,adminUsers:N,activeUsers:b,newUsers:0}}if(c&&c.users&&Array.isArray(c.users)){const w=c.users,b=w.length,N=w.filter(A=>A.role==="admin").length,_=w.filter(A=>{const k=new Date(A.last_sign_in_at||A.created_at),T=new Date;return T.setDate(T.getDate()-30),k>T}).length,P=w.filter(A=>{const k=new Date(A.created_at),T=new Date;return T.setDate(T.getDate()-7),k>T}).length;return{totalUsers:b,adminUsers:N,activeUsers:_,newUsers:P}}return{totalUsers:0,adminUsers:0,activeUsers:0,newUsers:0}}catch{if(c&&c.users&&Array.isArray(c.users)){const w=c.users,b=w.length,N=w.filter(_=>_.role==="admin").length;return{totalUsers:b,adminUsers:N,activeUsers:0,newUsers:0}}return{totalUsers:0,adminUsers:0,activeUsers:0,newUsers:0}}}}),f=Me({mutationFn:({userId:j,role:w})=>Qy(j,w),onSuccess:()=>{t({title:"User role updated",description:"The user role has been successfully updated."}),Sm.invalidateQueries({queryKey:["admin-users"]}),n(!1),i(null)},onError:j=>{t({title:"Error",description:j.message,variant:"destructive"})}}),x=Me({mutationFn:async j=>{throw new Error("User deletion not implemented in direct API")},onSuccess:()=>{t({title:"User deleted",description:"The user has been successfully deleted."}),Sm.invalidateQueries({queryKey:["admin-users"]})},onError:j=>{t({title:"Error",description:j.message,variant:"destructive"})}}),g=(j,w)=>{i(j),l(w),n(!0)},v=j=>{confirm(`Are you sure you want to delete user "${j.email}"?`)&&x.mutate(j.id)},p=({user:j})=>e.jsxs(pi,{children:[e.jsx(gi,{asChild:!0,children:e.jsx(D,{variant:"ghost",className:"h-8 w-8 p-0",children:e.jsx(of,{className:"h-4 w-4"})})}),e.jsxs(ua,{align:"end",children:[e.jsx(yc,{children:"Actions"}),e.jsx(kt,{onClick:()=>navigator.clipboard.writeText(j.email),children:"Copy email"}),e.jsx(Rn,{}),e.jsx(kt,{onClick:()=>g(j,j.role==="admin"?"user":"admin"),children:j.role==="admin"?"Remove Admin":"Make Admin"}),e.jsx(Rn,{}),e.jsx(kt,{onClick:()=>v(j),className:"text-red-600",children:"Delete User"})]})]}),y=[...xV,{key:"actions",label:"Actions",render:(j,w)=>e.jsx(p,{user:w})}];return u?e.jsx(xt,{children:e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Yt,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:s("error_loading_users","Error Loading Users","   ")}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:u.message||s("error_loading_users_description","An error occurred while loading users","      ")})]})})}):e.jsx(xt,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:s("users_management","Users Management"," ")}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:s("users_management_description","Manage users, roles, and permissions",",     ")})]}),e.jsxs(D,{className:"flex items-center gap-2",children:[e.jsx(Mw,{className:"h-4 w-4"}),s("invite_user","Invite User","  ")]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(C,{children:[e.jsxs(L,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(M,{className:"text-sm font-medium",children:"Total Users"}),e.jsx(gt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(h==null?void 0:h.totalUsers)||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Registered users"})]})]}),e.jsxs(C,{children:[e.jsxs(L,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(M,{className:"text-sm font-medium",children:"Admin Users"}),e.jsx(Is,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(h==null?void 0:h.adminUsers)||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Admin privileges"})]})]}),e.jsxs(C,{children:[e.jsxs(L,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(M,{className:"text-sm font-medium",children:"Active Users"}),e.jsx(Os,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(h==null?void 0:h.activeUsers)||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Active this month"})]})]}),e.jsxs(C,{children:[e.jsxs(L,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(M,{className:"text-sm font-medium",children:"New Users"}),e.jsx(Mw,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(h==null?void 0:h.newUsers)||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Joined this week"})]})]})]}),e.jsxs(C,{children:[e.jsxs(L,{children:[e.jsx(M,{children:"All Users"}),e.jsx(Ce,{children:"Manage user accounts and permissions"})]}),e.jsx(E,{children:e.jsx(bj,{data:c||[],columns:y,searchPlaceholder:"Search users...",loading:d})})]}),e.jsx(wu,{open:r,onOpenChange:n,children:e.jsxs(jc,{children:[e.jsxs(wc,{children:[e.jsx(Nc,{children:"Change User Role"}),e.jsxs(_c,{children:['Are you sure you want to change the role of "',a==null?void 0:a.email,'" to "',o,'"? This will ',o==="admin"?"grant admin privileges":"remove admin privileges","."]})]}),e.jsxs(bc,{children:[e.jsx(kc,{children:"Cancel"}),e.jsx(Sc,{onClick:()=>a&&f.mutate({userId:a.id,role:o}),children:"Change Role"})]})]})})]})})}async function Wb(){try{const{data:t,error:s}=await J.storage.listBuckets();if(s)return console.error("Error listing buckets:",s),{success:!1,error:s.message};if(t==null?void 0:t.some(i=>i.name==="media"))return console.log("Media bucket already exists"),{success:!0,message:"Bucket already exists"};const{data:n,error:a}=await J.storage.createBucket("media",{public:!0,allowedMimeTypes:["image/jpeg","image/jpg","image/png","image/webp","video/mp4","video/webm","video/ogg","audio/mp3","audio/wav","audio/ogg","audio/mpeg"],fileSizeLimit:524288e3});return a?(console.error("Error creating bucket:",a),{success:!1,error:a.message}):(console.log("Media bucket created successfully"),{success:!0,data:n})}catch(t){return console.error("Error in createMediaBucket:",t),{success:!1,error:t.message}}}class gV{static async uploadFile(s,r,n){var a;try{const i=await Wb();if(!i.success&&!((a=i.message)!=null&&a.includes("already exists")))return{success:!1,error:`Bucket setup failed: ${i.error}`};const o=s.name.split(".").pop(),l=n||`${Date.now()}-${Math.random().toString(36).substring(7)}.${o}`,c=`${r}/${l}`,{data:d,error:u}=await J.storage.from("media").upload(c,s,{cacheControl:"3600",upsert:!1});if(u){if(console.error("Upload error:",u),u.message.includes("Bucket not found")&&(console.log("Bucket not found, creating media bucket..."),(await Wb()).success)){const{data:x,error:g}=await J.storage.from("media").upload(c,s,{cacheControl:"3600",upsert:!1});if(g)return{success:!1,error:g.message};const{data:v}=J.storage.from("media").getPublicUrl(c);return{success:!0,url:v.publicUrl,path:c}}return{success:!1,error:u.message}}const{data:h}=J.storage.from("media").getPublicUrl(c);return{success:!0,url:h.publicUrl,path:c}}catch(i){return console.error("Upload error:",i),{success:!1,error:i.message}}}static async deleteFile(s){try{const{error:r}=await J.storage.from("media").remove([s]);return r?(console.error("Delete error:",r),!1):!0}catch(r){return console.error("Delete error:",r),!1}}static getPublicUrl(s){const{data:r}=J.storage.from("media").getPublicUrl(s);return r.publicUrl}static async listFiles(s,r=100){try{const{data:n,error:a}=await J.storage.from("media").list(s,{limit:r,sortBy:{column:"created_at",order:"desc"}});return a?(console.error("List files error:",a),[]):n||[]}catch(n){return console.error("List files error:",n),[]}}static async getFileInfo(s){try{const{data:r,error:n}=await J.storage.from("media").list(s.split("/")[0],{search:s.split("/")[1]});return n?(console.error("Get file info error:",n),null):(r==null?void 0:r[0])||null}catch(r){return console.error("Get file info error:",r),null}}}function vV(){const[t,s]=m.useState(!1),[r,n]=m.useState(!1),[a,i]=m.useState(null),{toast:o}=Ze(),l=async()=>{s(!0),i(null);try{const c=await Xr("/api/admin/setup-storage",{method:"POST"});c.success?(n(!0),o({title:"Storage setup complete",description:"Media bucket has been configured successfully"})):i(c.error||"Failed to setup storage")}catch(c){i(c.message||"Failed to setup storage")}finally{s(!1)}};return r?e.jsxs(Bs,{className:"border-green-200 bg-green-50 dark:bg-green-900/20",children:[e.jsx(ts,{className:"h-4 w-4 text-green-600"}),e.jsx(qs,{className:"text-green-800 dark:text-green-200",children:"Storage setup is complete. You can now upload files."})]}):e.jsxs(C,{className:"border-orange-200 bg-orange-50 dark:bg-orange-900/20",children:[e.jsxs(L,{children:[e.jsxs(M,{className:"flex items-center gap-2 text-orange-800 dark:text-orange-200",children:[e.jsx(Jn,{className:"h-5 w-5"}),"Storage Setup Required"]}),e.jsx(Ce,{className:"text-orange-700 dark:text-orange-300",children:"The media storage bucket needs to be configured before you can upload files."})]}),e.jsxs(E,{className:"space-y-4",children:[a&&e.jsxs(Bs,{variant:"destructive",children:[e.jsx(Yt,{className:"h-4 w-4"}),e.jsx(qs,{children:a})]}),e.jsx(D,{onClick:l,disabled:t,className:"w-full",children:t?e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"h-4 w-4 mr-2 animate-spin"}),"Setting up storage..."]}):"Setup Storage Bucket"})]})]})}function Kb({label:t,type:s,mediaType:r,value:n,onChange:a,placeholder:i="Select file to upload or enter URL",accept:o,maxSize:l="500MB",description:c}){const[d,u]=m.useState(!1),[h,f]=m.useState(!1),[x,g]=m.useState("url"),{toast:v}=Ze(),p=s||r,y=async w=>{var b,N,_,P;u(!0);try{const A=await gV.uploadFile(w,p);A.success&&A.url?(a==null||a(A.url),v({title:"Upload successful",description:`${w.name} uploaded successfully`})):(b=A.error)!=null&&b.includes("Bucket not found")||(N=A.error)!=null&&N.includes("bucket")?(f(!0),v({title:"Storage setup required",description:"Please set up the media storage bucket first",variant:"destructive"})):v({title:"Upload failed",description:A.error||"Unknown error occurred",variant:"destructive"})}catch(A){(_=A.message)!=null&&_.includes("Bucket not found")||(P=A.message)!=null&&P.includes("bucket")?(f(!0),v({title:"Storage setup required",description:"Please set up the media storage bucket first",variant:"destructive"})):v({title:"Upload failed",description:A.message,variant:"destructive"})}finally{u(!1)}},j=w=>{var N;const b=(N=w.target.files)==null?void 0:N[0];b&&y(b)};return h?e.jsxs("div",{className:"space-y-4",children:[e.jsx(G,{children:t}),e.jsx(vV,{}),e.jsx(D,{variant:"outline",onClick:()=>f(!1),className:"w-full",children:"Try Upload Again"})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(G,{children:t}),c&&e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:c})]}),e.jsxs("div",{className:"flex rounded-md border",children:[e.jsx(D,{type:"button",variant:x==="url"?"default":"ghost",size:"sm",onClick:()=>g("url"),className:"rounded-r-none",children:"URL"}),e.jsx(D,{type:"button",variant:x==="upload"?"default":"ghost",size:"sm",onClick:()=>g("upload"),className:"rounded-l-none",children:"Upload"})]})]}),e.jsxs("div",{className:"space-y-2",children:[n&&e.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-green-50 dark:bg-green-900/20 rounded",children:[e.jsx(ts,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm text-green-800 dark:text-green-200",children:x==="upload"?"File uploaded successfully":"URL set successfully"})]}),x==="url"?e.jsx(te,{type:"url",value:n||"",onChange:w=>a==null?void 0:a(w.target.value),placeholder:`Enter ${p?p.slice(0,-1):"media"} URL...`,className:"w-full"}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(te,{type:"file",accept:o,onChange:j,disabled:d,className:"flex-1"}),d&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ae,{className:"h-4 w-4 animate-spin"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Uploading..."})]})]}),e.jsx("p",{className:"text-sm text-gray-500",children:x==="upload"?`Max size: ${l}. ${o?`Accepted formats: ${o}`:""}`:"Enter a direct URL to the media file"})]})]})}function yV(){var P;const{user:t,loading:s}=rt(),{t:r}=On(),[,n]=yt(),[a,i]=m.useState(null),[o,l]=m.useState(!1),[c,d]=m.useState(""),[u,h]=m.useState(""),f=cs(),{toast:x}=Ze();m.useEffect(()=>{var A;(!s&&!t||!s&&t&&((A=t.user_metadata)==null?void 0:A.role)!=="admin")&&n("/admin-login")},[s,t,n]);const{data:g,isLoading:v,error:p}=_e({queryKey:["admin-videos"],queryFn:()=>i4(),enabled:!!t&&((P=t.user_metadata)==null?void 0:P.role)==="admin"}),y=Me({mutationFn:A=>o4(A),onSuccess:()=>{x({title:r("success","Success",""),description:r("video_created_successfully","Video created successfully","   ")}),l(!1),i(null)},onError:A=>{x({title:r("error","Error",""),description:A.message||r("failed_to_create_video","Failed to create video","   "),variant:"destructive"})}}),j=Me({mutationFn:({id:A,...k})=>l4(A,k),onSuccess:()=>{x({title:"Success",description:"Video updated successfully"}),l(!1),i(null)},onError:A=>{x({title:"Error",description:A.message||"Failed to update video",variant:"destructive"})}}),w=Me({mutationFn:A=>c4(A),onSuccess:()=>{f.invalidateQueries({queryKey:["admin-videos"]}),x({title:"Success",description:"Video deleted successfully"})},onError:A=>{x({title:"Error",description:A.message||"Failed to delete video",variant:"destructive"})}}),b=async A=>{A.preventDefault();const k=new FormData(A.currentTarget),T={title:k.get("title"),slug:k.get("title").toLowerCase().replace(/\s+/g,"-"),description:k.get("description"),thumbnail_url:u,video_url:c,duration:k.get("duration"),published_at:new Date().toISOString(),view_count:0};a?j.mutate({id:a.id,...T}):y.mutate(T)},N=A=>{A?(i(A),d(A.videoUrl),h(A.thumbnailUrl)):(i(null),d(""),h("")),l(!0)},_=()=>{l(!1),i(null),d(""),h("")};return s?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(ae,{className:"h-8 w-8 animate-spin"})}):e.jsx(xt,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:r("video_management","Video Management"," ")}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:r("video_management_description","Manage video content for your Bengali news website","        ")})]}),e.jsxs(D,{onClick:()=>N(),className:"flex items-center gap-2",children:[e.jsx(rr,{className:"h-4 w-4"}),r("add_new_video","Add New Video","   ")]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(C,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(hf,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Videos"}),e.jsx("p",{className:"text-2xl font-bold",children:(g==null?void 0:g.length)||0})]})]})})}),e.jsx(C,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Views"}),e.jsx("p",{className:"text-2xl font-bold",children:(g==null?void 0:g.reduce((A,k)=>A+k.viewCount,0))||0})]})]})})}),e.jsx(C,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Os,{className:"h-8 w-8 text-purple-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Published Today"}),e.jsx("p",{className:"text-2xl font-bold",children:(g==null?void 0:g.filter(A=>new Date(A.publishedAt).toDateString()===new Date().toDateString()).length)||0})]})]})})}),e.jsx(C,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ht,{className:"h-8 w-8 text-orange-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Avg Duration"}),e.jsxs("p",{className:"text-2xl font-bold",children:[g!=null&&g.length?Math.round(g.reduce((A,k)=>{const T=k.duration.split(":").reduce((S,R)=>60*S+ +R,0);return A+T},0)/g.length/60):0,"m"]})]})]})})})]}),e.jsxs(C,{children:[e.jsxs(L,{children:[e.jsx(M,{children:"All Videos"}),e.jsx(Ce,{children:"Manage your video content library"})]}),e.jsx(E,{children:v?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(ae,{className:"h-8 w-8 animate-spin"})}):p?e.jsxs("div",{className:"text-center py-8 text-red-500",children:["Error loading videos: ",p.message]}):(g==null?void 0:g.length)===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No videos found. Create your first video!"}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:g==null?void 0:g.map(A=>e.jsxs(C,{className:"overflow-hidden",children:[e.jsx("div",{className:"aspect-video bg-gray-100 dark:bg-gray-800 flex items-center justify-center",children:A.thumbnailUrl?e.jsx("img",{src:A.thumbnailUrl,alt:A.title,className:"w-full h-full object-cover"}):e.jsx(to,{className:"h-12 w-12 text-gray-400"})}),e.jsxs(E,{className:"p-4",children:[e.jsx("h3",{className:"font-semibold text-lg mb-2 line-clamp-2",children:A.title}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2 line-clamp-2",children:A.description}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-3",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ht,{className:"h-3 w-3"}),A.duration]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Et,{className:"h-3 w-3"}),A.viewCount]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(D,{size:"sm",variant:"outline",onClick:()=>N(A),children:e.jsx(nr,{className:"h-3 w-3"})}),e.jsx(D,{size:"sm",variant:"outline",onClick:()=>w.mutate(A.id),children:e.jsx(vs,{className:"h-3 w-3"})})]})]})]},A.id))})})]}),o&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs(C,{className:"w-full max-w-md",children:[e.jsx(L,{children:e.jsx(M,{children:a?"Edit Video":"Add New Video"})}),e.jsx(E,{children:e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"title",children:"Title"}),e.jsx(te,{id:"title",name:"title",required:!0,defaultValue:(a==null?void 0:a.title)||""})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"description",children:"Description"}),e.jsx(Qt,{id:"description",name:"description",required:!0,defaultValue:(a==null?void 0:a.description)||""})]}),e.jsx(Kb,{label:"Video File",description:"Upload video file or provide URL",mediaType:"videos",value:c,onChange:d,placeholder:"https://example.com/video.mp4",required:!0}),e.jsx(Kb,{label:"Thumbnail Image",description:"Upload thumbnail image or provide URL",mediaType:"images",value:u,onChange:h,placeholder:"https://example.com/thumbnail.jpg"}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"duration",children:"Duration (MM:SS)"}),e.jsx(te,{id:"duration",name:"duration",placeholder:"05:30",required:!0,defaultValue:(a==null?void 0:a.duration)||""})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(D,{type:"submit",disabled:y.isPending||j.isPending,children:y.isPending||j.isPending?e.jsx(ae,{className:"h-4 w-4 animate-spin"}):a?"Update":"Create"}),e.jsx(D,{type:"button",variant:"outline",onClick:_,children:"Cancel"})]})]})})]})})]})})}function jV(){var T;const{user:t,loading:s}=rt(),{t:r}=On(),[,n]=yt(),[a,i]=m.useState(null),[o,l]=m.useState(!1),[c,d]=m.useState(null),[u,h]=m.useState(""),[f,x]=m.useState(""),g=cs(),{toast:v}=Ze();m.useEffect(()=>{var S;(!s&&!t||!s&&t&&((S=t.user_metadata)==null?void 0:S.role)!=="admin")&&n("/admin-login")},[s,t,n]);const{data:p,isLoading:y,error:j}=_e({queryKey:["admin-audio-articles"],queryFn:()=>d4(),enabled:!!t&&((T=t.user_metadata)==null?void 0:T.role)==="admin"}),w=Me({mutationFn:S=>u4(S),onSuccess:()=>{g.invalidateQueries({queryKey:["/api/audio-articles"]}),v({title:"Success",description:"Audio article created successfully"}),l(!1),i(null)},onError:S=>{v({title:"Error",description:S.message||"Failed to create audio article",variant:"destructive"})}}),b=Me({mutationFn:async({id:S,...R})=>await h4(S,R),onSuccess:()=>{g.invalidateQueries({queryKey:["/api/audio-articles"]}),v({title:"Success",description:"Audio article updated successfully"}),l(!1),i(null)},onError:S=>{v({title:"Error",description:S.message||"Failed to update audio article",variant:"destructive"})}}),N=Me({mutationFn:async S=>await m4(S),onSuccess:()=>{g.invalidateQueries({queryKey:["/api/audio-articles"]}),v({title:"Success",description:"Audio article deleted successfully"})},onError:S=>{v({title:"Error",description:S.message||"Failed to delete audio article",variant:"destructive"})}}),_=async S=>{S.preventDefault();const R=new FormData(S.currentTarget),B={title:R.get("title"),slug:R.get("title").toLowerCase().replace(/\s+/g,"-"),excerpt:R.get("excerpt"),image_url:f,audio_url:u,duration:R.get("duration"),published_at:new Date().toISOString()};a?b.mutate({id:a.id,...B}):w.mutate(B)},P=S=>{S?(i(S),h(S.audioUrl),x(S.imageUrl)):(i(null),h(""),x("")),l(!0)},A=()=>{l(!1),i(null),h(""),x("")},k=S=>{d(c===S?null:S)};return s?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(ae,{className:"h-8 w-8 animate-spin"})}):e.jsx(xt,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Audio Articles Management"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage audio content for your Bengali news website"})]}),e.jsxs(D,{onClick:()=>P(),className:"flex items-center gap-2",children:[e.jsx(rr,{className:"h-4 w-4"}),"Add New Audio Article"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(C,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(lu,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Audio Articles"}),e.jsx("p",{className:"text-2xl font-bold",children:(p==null?void 0:p.length)||0})]})]})})}),e.jsx(C,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Vl,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Duration"}),e.jsxs("p",{className:"text-2xl font-bold",children:[p!=null&&p.reduce((S,R)=>{const B=R.duration.split(":").reduce((H,I)=>60*H+ +I,0);return S+B},0)?Math.round(p.reduce((S,R)=>{const B=R.duration.split(":").reduce((H,I)=>60*H+ +I,0);return S+B},0)/60):0,"m"]})]})]})})}),e.jsx(C,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Os,{className:"h-8 w-8 text-purple-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Published Today"}),e.jsx("p",{className:"text-2xl font-bold",children:(p==null?void 0:p.filter(S=>new Date(S.publishedAt).toDateString()===new Date().toDateString()).length)||0})]})]})})}),e.jsx(C,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ht,{className:"h-8 w-8 text-orange-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Avg Duration"}),e.jsxs("p",{className:"text-2xl font-bold",children:[p!=null&&p.length?Math.round(p.reduce((S,R)=>{const B=R.duration.split(":").reduce((H,I)=>60*H+ +I,0);return S+B},0)/p.length/60):0,"m"]})]})]})})})]}),e.jsxs(C,{children:[e.jsxs(L,{children:[e.jsx(M,{children:"All Audio Articles"}),e.jsx(Ce,{children:"Manage your audio content library"})]}),e.jsx(E,{children:y?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(ae,{className:"h-8 w-8 animate-spin"})}):j?e.jsxs("div",{className:"text-center py-8 text-red-500",children:["Error loading audio articles: ",j.message]}):(p==null?void 0:p.length)===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No audio articles found. Create your first audio article!"}):e.jsx("div",{className:"space-y-4",children:p==null?void 0:p.map(S=>e.jsx(C,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-lg flex items-center justify-center flex-shrink-0",children:S.imageUrl?e.jsx("img",{src:S.imageUrl,alt:S.title,className:"w-full h-full object-cover rounded-lg"}):e.jsx(jD,{className:"h-8 w-8 text-gray-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-lg mb-1",children:S.title}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:S.excerpt}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ht,{className:"h-3 w-3"}),S.duration]}),e.jsx("span",{children:new Date(S.publishedAt).toLocaleDateString("bn-BD")})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{size:"sm",variant:"outline",onClick:()=>k(S.audioUrl),children:c===S.audioUrl?e.jsx($l,{className:"h-3 w-3"}):e.jsx(to,{className:"h-3 w-3"})}),e.jsx(D,{size:"sm",variant:"outline",onClick:()=>P(S),children:e.jsx(nr,{className:"h-3 w-3"})}),e.jsx(D,{size:"sm",variant:"outline",onClick:()=>N.mutate(S.id),children:e.jsx(vs,{className:"h-3 w-3"})})]})]})},S.id))})})]}),o&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs(C,{className:"w-full max-w-md",children:[e.jsx(L,{children:e.jsx(M,{children:a?"Edit Audio Article":"Add New Audio Article"})}),e.jsx(E,{children:e.jsxs("form",{onSubmit:_,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"title",children:"Title"}),e.jsx(te,{id:"title",name:"title",required:!0,defaultValue:(a==null?void 0:a.title)||""})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"excerpt",children:"Excerpt"}),e.jsx(Qt,{id:"excerpt",name:"excerpt",required:!0,defaultValue:(a==null?void 0:a.excerpt)||""})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"audioUrl",children:"Audio URL"}),e.jsx(te,{id:"audioUrl",value:u,onChange:S=>h(S.target.value),placeholder:"https://example.com/audio.mp3",required:!0})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"imageUrl",children:"Cover Image URL"}),e.jsx(te,{id:"imageUrl",value:f,onChange:S=>x(S.target.value),placeholder:"https://example.com/image.jpg"})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"duration",children:"Duration (MM:SS)"}),e.jsx(te,{id:"duration",name:"duration",placeholder:"05:30",required:!0,defaultValue:(a==null?void 0:a.duration)||""})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(D,{type:"submit",disabled:w.isPending||b.isPending,children:w.isPending||b.isPending?e.jsx(ae,{className:"h-4 w-4 animate-spin"}):a?"Update":"Create"}),e.jsx(D,{type:"button",variant:"outline",onClick:A,children:"Cancel"})]})]})})]})})]})})}function wV(){var d,u,h,f;const{user:t,loading:s}=rt(),[,r]=yt(),[n,a]=m.useState("today");m.useEffect(()=>{var x;(!s&&!t||!s&&t&&((x=t.user_metadata)==null?void 0:x.role)!=="admin")&&r("/admin-login")},[s,t,r]);const{data:i,isLoading:o,error:l}=_e({queryKey:["admin-analytics",n],queryFn:()=>de(()=>Promise.resolve().then(()=>Ug),void 0).then(x=>x.getAdminAnalytics(n)),enabled:!!t&&((d=t.user_metadata)==null?void 0:d.role)==="admin"}),c=x=>{a(x)};return s?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(ae,{className:"h-8 w-8 animate-spin"})}):e.jsx(xt,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Analytics Dashboard"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Comprehensive analytics and insights for your Bengali news website"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(D,{variant:n==="today"?"default":"outline",onClick:()=>c("today"),children:"Today"}),e.jsx(D,{variant:n==="week"?"default":"outline",onClick:()=>c("week"),children:"This Week"}),e.jsx(D,{variant:n==="month"?"default":"outline",onClick:()=>c("month"),children:"This Month"})]})]}),o?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(ae,{className:"h-8 w-8 animate-spin"})}):l?e.jsxs("div",{className:"text-center py-8 text-red-500",children:["Error loading analytics: ",l.message]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(C,{children:e.jsxs(E,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between space-y-0 pb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xt,{className:"h-5 w-5 text-blue-600"}),e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Articles"})]}),e.jsx(X,{variant:"secondary",className:"text-xs",children:(i==null?void 0:i.articlesGrowth)||"0"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-2xl font-bold",children:(i==null?void 0:i.totalArticles)||0}),e.jsxs("p",{className:"text-xs text-gray-500",children:[(i==null?void 0:i.recentArticles)||0," new in ",n]})]})]})}),e.jsx(C,{children:e.jsxs(E,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between space-y-0 pb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(gt,{className:"h-5 w-5 text-green-600"}),e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Users"})]}),e.jsx(X,{variant:"secondary",className:"text-xs",children:(i==null?void 0:i.usersGrowth)||"0"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-2xl font-bold",children:(i==null?void 0:i.totalUsers)||0}),e.jsxs("p",{className:"text-xs text-gray-500",children:[(i==null?void 0:i.recentUsers)||0," new in ",n]})]})]})}),e.jsx(C,{children:e.jsxs(E,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between space-y-0 pb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"h-5 w-5 text-purple-600"}),e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Views"})]}),e.jsx(Ct,{className:"h-4 w-4 text-green-600"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-2xl font-bold",children:((u=i==null?void 0:i.totalViews)==null?void 0:u.toLocaleString())||0}),e.jsx("p",{className:"text-xs text-gray-500",children:"Across all content"})]})]})}),e.jsx(C,{children:e.jsxs(E,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between space-y-0 pb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(hf,{className:"h-5 w-5 text-orange-600"}),e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Videos"})]}),e.jsx(X,{variant:"secondary",className:"text-xs",children:(i==null?void 0:i.videosGrowth)||"0"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-2xl font-bold",children:(i==null?void 0:i.totalVideos)||0}),e.jsxs("p",{className:"text-xs text-gray-500",children:[(i==null?void 0:i.recentVideos)||0," new in ",n]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(C,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(lu,{className:"h-5 w-5 text-indigo-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Audio Articles"}),e.jsx("p",{className:"text-2xl font-bold",children:(i==null?void 0:i.totalAudioArticles)||0})]})]})})}),e.jsx(C,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tn,{className:"h-5 w-5 text-pink-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Social Posts"}),e.jsx("p",{className:"text-2xl font-bold",children:(i==null?void 0:i.totalSocialPosts)||0})]})]})})}),e.jsx(C,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Os,{className:"h-5 w-5 text-teal-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"E-Papers"}),e.jsx("p",{className:"text-2xl font-bold",children:(i==null?void 0:i.totalEpapers)||0})]})]})})}),e.jsx(C,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(wr,{className:"h-5 w-5 text-red-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Breaking News"}),e.jsx("p",{className:"text-2xl font-bold",children:(i==null?void 0:i.totalBreakingNews)||0})]})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(C,{children:[e.jsxs(L,{children:[e.jsx(M,{children:"Popular Articles"}),e.jsx(Ce,{children:"Most viewed articles by audience"})]}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:((h=i==null?void 0:i.popularArticles)==null?void 0:h.slice(0,5).map((x,g)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:x.title}),e.jsxs("p",{className:"text-xs text-gray-500",children:[x.views," views"]})]}),e.jsxs(X,{variant:"outline",children:["#",g+1]})]},g)))||e.jsx("div",{className:"text-center py-4 text-gray-500",children:"No popular articles data available"})})})]}),e.jsxs(C,{children:[e.jsxs(L,{children:[e.jsx(M,{children:"Popular Videos"}),e.jsx(Ce,{children:"Most viewed video content"})]}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:((f=i==null?void 0:i.popularVideos)==null?void 0:f.slice(0,5).map((x,g)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:x.title}),e.jsxs("p",{className:"text-xs text-gray-500",children:[x.views," views"]})]}),e.jsxs(X,{variant:"outline",children:["#",g+1]})]},g)))||e.jsx("div",{className:"text-center py-4 text-gray-500",children:"No popular videos data available"})})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(C,{children:[e.jsxs(L,{children:[e.jsx(M,{children:"Category Distribution"}),e.jsx(Ce,{children:"Articles by category"})]}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:i!=null&&i.categoriesDistribution?Object.entries(i.categoriesDistribution).sort(([,x],[,g])=>g-x).slice(0,8).map(([x,g])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:x}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-16 h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-600 rounded-full",style:{width:`${g/Math.max(...Object.values(i.categoriesDistribution))*100}%`}})}),e.jsx("span",{className:"text-sm text-gray-600 min-w-[2rem]",children:g})]})]},x)):e.jsx("div",{className:"text-center py-4 text-gray-500",children:"No category data available"})})})]}),e.jsxs(C,{children:[e.jsxs(L,{children:[e.jsx(M,{children:"Social Media Distribution"}),e.jsx(Ce,{children:"Posts by platform"})]}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:i!=null&&i.platformDistribution?Object.entries(i.platformDistribution).sort(([,x],[,g])=>g-x).map(([x,g])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium capitalize",children:x}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-16 h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-green-600 rounded-full",style:{width:`${g/Math.max(...Object.values(i.platformDistribution))*100}%`}})}),e.jsx("span",{className:"text-sm text-gray-600 min-w-[2rem]",children:g})]})]},x)):e.jsx("div",{className:"text-center py-4 text-gray-500",children:"No platform data available"})})})]})]})]})]})})}const bV={facebook:lf,twitter:uf,instagram:by},NV={facebook:"bg-blue-600",twitter:"bg-sky-500",instagram:"bg-pink-600"};function _V(){var N;const{user:t,loading:s}=rt(),{t:r}=On(),[,n]=yt(),[a,i]=m.useState(null),[o,l]=m.useState(!1),[c,d]=m.useState("all"),u=cs(),{toast:h}=Ze();m.useEffect(()=>{var _;(!s&&!t||!s&&t&&((_=t.user_metadata)==null?void 0:_.role)!=="admin")&&n("/admin-login")},[s,t,n]);const{data:f,isLoading:x,error:g}=_e({queryKey:["admin-social-posts"],queryFn:()=>b4(),enabled:!!t&&((N=t.user_metadata)==null?void 0:N.role)==="admin"}),v=Me({mutationFn:_=>N4(_),onSuccess:()=>{u.invalidateQueries({queryKey:["admin-social-posts"]}),h({title:"Success",description:"Social media post created successfully"}),l(!1),i(null)},onError:_=>{h({title:"Error",description:_.message||"Failed to create social media post",variant:"destructive"})}}),p=Me({mutationFn:({id:_,...P})=>_4(_,P),onSuccess:()=>{u.invalidateQueries({queryKey:["admin-social-posts"]}),h({title:"Success",description:"Social media post updated successfully"}),l(!1),i(null)},onError:_=>{h({title:"Error",description:_.message||"Failed to update social media post",variant:"destructive"})}}),y=Me({mutationFn:_=>S4(_),onSuccess:()=>{u.invalidateQueries({queryKey:["admin-social-posts"]}),h({title:"Success",description:"Social media post deleted successfully"})},onError:_=>{h({title:"Error",description:_.message||"Failed to delete social media post",variant:"destructive"})}}),j=async _=>{_.preventDefault();const P=new FormData(_.currentTarget),A={platform:P.get("platform"),content:P.get("content"),embed_code:P.get("embed_code"),post_url:P.get("post_url"),published_at:new Date().toISOString()};a?p.mutate({id:a.id,...A}):v.mutate(A)},w=f==null?void 0:f.filter(_=>c==="all"||_.platform===c),b=f==null?void 0:f.reduce((_,P)=>(_[P.platform]=(_[P.platform]||0)+1,_),{});return s?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(ae,{className:"h-8 w-8 animate-spin"})}):e.jsx(xt,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:r("social-media-management","Social Media Management","  ")}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:r("manage-social-media-posts","Manage social media posts for your Bengali news website","         ")})]}),e.jsxs(D,{onClick:()=>l(!0),className:"flex items-center gap-2",children:[e.jsx(rr,{className:"h-4 w-4"}),r("add-new-post","Add New Post","   ")]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(G,{htmlFor:"platform-filter",children:r("filter-by-platform","Filter by Platform:","   :")}),e.jsxs(Cn,{value:c,onValueChange:d,children:[e.jsx(sn,{id:"platform-filter",className:"w-48",children:e.jsx(En,{placeholder:"Select platform"})}),e.jsxs(rn,{children:[e.jsx(Mt,{value:"all",children:"All Platforms"}),e.jsx(Mt,{value:"facebook",children:"Facebook"}),e.jsx(Mt,{value:"twitter",children:"Twitter"}),e.jsx(Mt,{value:"instagram",children:"Instagram"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(C,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tn,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:r("total-posts","Total Posts"," ")}),e.jsx("p",{className:"text-2xl font-bold",children:(f==null?void 0:f.length)||0})]})]})})}),e.jsx(C,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(lf,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Facebook"}),e.jsx("p",{className:"text-2xl font-bold",children:(b==null?void 0:b.facebook)||0})]})]})})}),e.jsx(C,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(uf,{className:"h-8 w-8 text-sky-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Twitter"}),e.jsx("p",{className:"text-2xl font-bold",children:(b==null?void 0:b.twitter)||0})]})]})})}),e.jsx(C,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(by,{className:"h-8 w-8 text-pink-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Instagram"}),e.jsx("p",{className:"text-2xl font-bold",children:(b==null?void 0:b.instagram)||0})]})]})})})]}),e.jsxs(C,{children:[e.jsxs(L,{children:[e.jsx(M,{children:r("social-media-posts","Social Media Posts","  ")}),e.jsx(Ce,{children:r("manage-social-media-integration","Manage your social media integration and posts","       ")})]}),e.jsx(E,{children:x?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(ae,{className:"h-8 w-8 animate-spin"})}):g?e.jsxs("div",{className:"text-center py-8 text-red-500",children:["Error loading social media posts: ",g.message]}):(w==null?void 0:w.length)===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No social media posts found for this platform."}):e.jsx("div",{className:"space-y-4",children:w==null?void 0:w.map(_=>{const P=bV[_.platform]||Tn,A=NV[_.platform]||"bg-gray-600";return e.jsx(C,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${A}`,children:e.jsx(P,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(X,{variant:"outline",className:"capitalize",children:_.platform}),e.jsx("span",{className:"text-sm text-gray-500",children:new Date(_.published_at).toLocaleDateString("bn-BD")})]}),e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-2",children:_.content}),_.embed_code&&e.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 rounded p-2 mb-2",children:e.jsxs("code",{className:"text-xs text-gray-600 dark:text-gray-400",children:[_.embed_code.substring(0,100),"..."]})}),_.post_url&&e.jsxs("a",{href:_.post_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-sm text-blue-600 hover:text-blue-800",children:[e.jsx(jy,{className:"h-3 w-3"}),"View Original Post"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{size:"sm",variant:"outline",onClick:()=>{i(_),l(!0)},children:e.jsx(nr,{className:"h-3 w-3"})}),e.jsx(D,{size:"sm",variant:"outline",onClick:()=>y.mutate(_.id),children:e.jsx(vs,{className:"h-3 w-3"})})]})]})},_.id)})})})]}),o&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs(C,{className:"w-full max-w-lg",children:[e.jsx(L,{children:e.jsx(M,{children:a?"Edit Social Media Post":"Add New Social Media Post"})}),e.jsx(E,{children:e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"platform",children:"Platform"}),e.jsxs(Cn,{name:"platform",defaultValue:(a==null?void 0:a.platform)||"",children:[e.jsx(sn,{children:e.jsx(En,{placeholder:"Select platform"})}),e.jsxs(rn,{children:[e.jsx(Mt,{value:"facebook",children:"Facebook"}),e.jsx(Mt,{value:"twitter",children:"Twitter"}),e.jsx(Mt,{value:"instagram",children:"Instagram"})]})]})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"content",children:"Content"}),e.jsx(Qt,{id:"content",name:"content",required:!0,placeholder:"Post content...",defaultValue:(a==null?void 0:a.content)||""})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"embed_code",children:"Embed Code (Optional)"}),e.jsx(Qt,{id:"embed_code",name:"embed_code",placeholder:"HTML embed code...",defaultValue:(a==null?void 0:a.embed_code)||""})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"post_url",children:"Post URL (Optional)"}),e.jsx(te,{id:"post_url",name:"post_url",type:"url",placeholder:"https://...",defaultValue:(a==null?void 0:a.post_url)||""})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(D,{type:"submit",disabled:v.isPending||p.isPending,children:v.isPending||p.isPending?e.jsx(ae,{className:"h-4 w-4 animate-spin"}):a?"Update":"Create"}),e.jsx(D,{type:"button",variant:"outline",onClick:()=>{l(!1),i(null)},children:"Cancel"})]})]})})]})})]})})}function SV(){var x;const{user:t,loading:s}=rt(),[,r]=yt(),{toast:n}=Ze(),a=cs(),[i,o]=m.useState({siteName:"",siteDescription:"",siteUrl:"",logoUrl:"",defaultLanguage:"bn"});m.useEffect(()=>{var g;(!s&&!t||!s&&t&&((g=t.user_metadata)==null?void 0:g.role)!=="admin")&&r("/admin-login")},[s,t,r]);const{data:l,isLoading:c,error:d}=_e({queryKey:["admin-system-settings"],enabled:!!t&&((x=t.user_metadata)==null?void 0:x.role)==="admin",queryFn:async()=>{const{getSystemSettings:g}=await de(async()=>{const{getSystemSettings:v}=await Promise.resolve().then(()=>Ug);return{getSystemSettings:v}},void 0);return await g()}});m.useEffect(()=>{l&&o({siteName:l.siteName||"",siteDescription:l.siteDescription||"",siteUrl:l.siteUrl||"",logoUrl:l.logoUrl||"",defaultLanguage:l.defaultLanguage||"bn"})},[l]);const u=Me({mutationFn:async g=>{const{updateSystemSetting:v}=await de(async()=>{const{updateSystemSetting:y}=await Promise.resolve().then(()=>Ug);return{updateSystemSetting:y}},void 0),p=Object.entries(g).map(([y,j])=>v(y,j));return await Promise.all(p)},onSuccess:()=>{n({title:"Settings updated",description:"System settings have been successfully updated."}),a.invalidateQueries({queryKey:["admin-system-settings"]})},onError:g=>{n({title:"Error",description:g.message,variant:"destructive"})}}),h=()=>{u.mutate(i)},f=(g,v)=>{o(p=>({...p,[g]:v}))};return d?e.jsx(xt,{children:e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx(As,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Error Loading Settings"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:d.message||"An error occurred while loading settings"})]})})}):e.jsx(xt,{children:e.jsxs("div",{className:"space-y-6 p-6",children:[e.jsx("div",{className:"cultural-gradient rounded-2xl p-8 text-white shadow-2xl",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold mb-3 tracking-tight",children:"System Settings"}),e.jsx("p",{className:"text-green-100 text-lg",children:"Configure your news website settings - Direct Supabase API"})]}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs(D,{variant:"outline",className:"bg-white/10 border-white/20 text-white hover:bg-white/20",onClick:()=>window.location.reload(),children:[e.jsx(on,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]})}),e.jsxs(ds,{defaultValue:"general",className:"space-y-6",children:[e.jsxs(ns,{className:"grid w-full grid-cols-5",children:[e.jsxs(ve,{value:"general",children:[e.jsx(mi,{className:"h-4 w-4 mr-2"}),"General"]}),e.jsxs(ve,{value:"appearance",children:[e.jsx(CD,{className:"h-4 w-4 mr-2"}),"Appearance"]}),e.jsxs(ve,{value:"security",children:[e.jsx(Is,{className:"h-4 w-4 mr-2"}),"Security"]}),e.jsxs(ve,{value:"notifications",children:[e.jsx(tn,{className:"h-4 w-4 mr-2"}),"Notifications"]}),e.jsxs(ve,{value:"advanced",children:[e.jsx(Jn,{className:"h-4 w-4 mr-2"}),"Advanced"]})]}),e.jsx(pe,{value:"general",className:"space-y-6",children:e.jsxs(C,{children:[e.jsxs(L,{children:[e.jsx(M,{children:"General Settings"}),e.jsx(Ce,{children:"Configure basic website information and branding"})]}),e.jsx(E,{className:"space-y-6",children:c?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(ae,{className:"h-8 w-8 animate-spin"})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"siteName",children:"Site Name"}),e.jsx(te,{id:"siteName",value:i.siteName,onChange:g=>f("siteName",g.target.value),placeholder:"Your website name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"siteUrl",children:"Site URL"}),e.jsx(te,{id:"siteUrl",value:i.siteUrl,onChange:g=>f("siteUrl",g.target.value),placeholder:"https://yourwebsite.com"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"siteDescription",children:"Site Description"}),e.jsx(Qt,{id:"siteDescription",value:i.siteDescription,onChange:g=>f("siteDescription",g.target.value),placeholder:"Brief description of your website",rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"logoUrl",children:"Logo URL"}),e.jsx(te,{id:"logoUrl",value:i.logoUrl,onChange:g=>f("logoUrl",g.target.value),placeholder:"https://yourwebsite.com/logo.png"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"defaultLanguage",children:"Default Language"}),e.jsxs("select",{id:"defaultLanguage",value:i.defaultLanguage,onChange:g=>f("defaultLanguage",g.target.value),className:"w-full p-2 border rounded-md",children:[e.jsx("option",{value:"bn",children:"Bengali ()"}),e.jsx("option",{value:"en",children:"English"})]})]}),e.jsxs(D,{onClick:h,disabled:u.isPending,className:"w-full",children:[u.isPending?e.jsx(ae,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(nl,{className:"h-4 w-4 mr-2"}),"Save General Settings"]})]})})]})}),e.jsx(pe,{value:"appearance",className:"space-y-6",children:e.jsxs(C,{children:[e.jsxs(L,{children:[e.jsx(M,{children:"Appearance Settings"}),e.jsx(Ce,{children:"Customize the look and feel of your website"})]}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"Appearance settings are managed through the theme system. Theme customization will be available in a future update."})})})]})}),e.jsx(pe,{value:"security",className:"space-y-6",children:e.jsxs(C,{children:[e.jsxs(L,{children:[e.jsx(M,{children:"Security Settings"}),e.jsx(Ce,{children:"Manage security features and access controls"})]}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"Security settings are managed through Supabase Row Level Security (RLS) policies. Advanced security configuration is available in the Security admin section."})})})]})}),e.jsx(pe,{value:"notifications",className:"space-y-6",children:e.jsxs(C,{children:[e.jsxs(L,{children:[e.jsx(M,{children:"Notification Settings"}),e.jsx(Ce,{children:"Configure email and push notifications"})]}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"Notification settings will be available in the Email & Notifications admin section."})})})]})}),e.jsx(pe,{value:"advanced",className:"space-y-6",children:e.jsxs(C,{children:[e.jsxs(L,{children:[e.jsx(M,{children:"Advanced Settings"}),e.jsx(Ce,{children:"Database and system configuration options"})]}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Direct Supabase API"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Using direct Supabase API calls (Vercel ready)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-sm text-green-600",children:"Active"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Express Server Dependency"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Migration to serverless functions completed"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),e.jsx("span",{className:"text-sm text-red-600",children:"Removed"})]})]})]})})]})})]})]})})}const kV={sunny:cu,cloudy:af,rainy:yy,snowy:xS,windy:Sy},CV=[{value:"sunny",label:" (Sunny)",icon:cu},{value:"cloudy",label:" (Cloudy)",icon:af},{value:"rainy",label:" (Rainy)",icon:yy},{value:"snowy",label:" (Snowy)",icon:xS},{value:"windy",label:" (Windy)",icon:Sy}];function EV(){var v;const{user:t,loading:s}=rt(),[,r]=yt(),[n,a]=m.useState(null),[i,o]=m.useState(!1),l=cs(),{toast:c}=Ze();m.useEffect(()=>{var p;(!s&&!t||!s&&t&&((p=t.user_metadata)==null?void 0:p.role)!=="admin")&&r("/admin-login")},[s,t,r]);const{data:d,isLoading:u,error:h}=_e({queryKey:["admin-weather-data"],queryFn:()=>P4(),enabled:!!t&&((v=t.user_metadata)==null?void 0:v.role)==="admin"}),f=Me({mutationFn:p=>A4(p),onSuccess:()=>{l.invalidateQueries({queryKey:["admin-weather-data"]}),c({title:"Success",description:"Weather data created successfully"}),o(!1),a(null)},onError:p=>{c({title:"Error",description:p.message||"Failed to create weather data",variant:"destructive"})}}),x=Me({mutationFn:({id:p,...y})=>R4(p,y),onSuccess:()=>{l.invalidateQueries({queryKey:["admin-weather-data"]}),c({title:"Success",description:"Weather data updated successfully"}),o(!1),a(null)},onError:p=>{c({title:"Error",description:p.message||"Failed to update weather data",variant:"destructive"})}}),g=async p=>{p.preventDefault();const y=new FormData(p.currentTarget),j={city:y.get("city"),temperature:parseInt(y.get("temperature")),condition:y.get("condition"),icon:y.get("condition"),forecast:JSON.stringify({humidity:parseInt(y.get("humidity"))||65,windSpeed:parseInt(y.get("windSpeed"))||10,pressure:parseInt(y.get("pressure"))||1013})};n?x.mutate({city:n.city,...j}):f.mutate(j)};return s?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(ae,{className:"h-8 w-8 animate-spin"})}):e.jsx(xt,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Weather Management"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage weather information for your Bengali news website"})]}),e.jsxs(D,{onClick:()=>o(!0),className:"flex items-center gap-2",children:[e.jsx(rr,{className:"h-4 w-4"}),"Add Weather Data"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(C,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Fl,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Cities"}),e.jsx("p",{className:"text-2xl font-bold",children:(d==null?void 0:d.length)||0})]})]})})}),e.jsx(C,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(OD,{className:"h-8 w-8 text-red-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Avg Temperature"}),e.jsxs("p",{className:"text-2xl font-bold",children:[d!=null&&d.length?Math.round(d.reduce((p,y)=>p+y.temperature,0)/d.length):0,"C"]})]})]})})}),e.jsx(C,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(yy,{className:"h-8 w-8 text-blue-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Rainy Cities"}),e.jsx("p",{className:"text-2xl font-bold",children:(d==null?void 0:d.filter(p=>p.condition==="rainy").length)||0})]})]})})}),e.jsx(C,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(cu,{className:"h-8 w-8 text-yellow-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Sunny Cities"}),e.jsx("p",{className:"text-2xl font-bold",children:(d==null?void 0:d.filter(p=>p.condition==="sunny").length)||0})]})]})})})]}),e.jsxs(C,{children:[e.jsxs(L,{children:[e.jsx(M,{children:"Weather Information"}),e.jsx(Ce,{children:"Manage weather data for different cities"})]}),e.jsx(E,{children:u?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(ae,{className:"h-8 w-8 animate-spin"})}):h?e.jsxs("div",{className:"text-center py-8 text-red-500",children:["Error loading weather data: ",h.message]}):(d==null?void 0:d.length)===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No weather data found. Add weather information for cities!"}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:d==null?void 0:d.map(p=>{const y=kV[p.condition]||af,j=p.forecast?JSON.parse(p.forecast):{};return e.jsx(C,{className:"relative",children:e.jsxs(E,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(y,{className:"h-6 w-6 text-blue-600"}),e.jsx("h3",{className:"font-semibold text-lg",children:p.city})]}),e.jsx(X,{variant:"outline",className:"capitalize",children:p.condition})]}),e.jsxs("div",{className:"text-center mb-4",children:[e.jsxs("div",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:[p.temperature,"C"]}),e.jsx("div",{className:"text-sm text-gray-500 capitalize",children:p.condition})]}),j&&e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(xD,{className:"h-3 w-3"}),"Humidity"]}),e.jsxs("span",{children:[j.humidity||65,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Sy,{className:"h-3 w-3"}),"Wind Speed"]}),e.jsxs("span",{children:[j.windSpeed||10," km/h"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Pressure"}),e.jsxs("span",{children:[j.pressure||1013," hPa"]})]})]}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsx(D,{size:"sm",variant:"outline",onClick:()=>{a(p),o(!0)},children:e.jsx(nr,{className:"h-3 w-3"})}),e.jsx(D,{size:"sm",variant:"outline",onClick:()=>{c({title:"Info",description:"Weather data deletion not implemented yet"})},children:e.jsx(vs,{className:"h-3 w-3"})})]})]})},p.id)})})})]}),i&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs(C,{className:"w-full max-w-md",children:[e.jsx(L,{children:e.jsx(M,{children:n?"Edit Weather Data":"Add Weather Data"})}),e.jsx(E,{children:e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"city",children:"City"}),e.jsx(te,{id:"city",name:"city",required:!0,placeholder:"e.g., , ",defaultValue:(n==null?void 0:n.city)||""})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"temperature",children:"Temperature (C)"}),e.jsx(te,{id:"temperature",name:"temperature",type:"number",required:!0,placeholder:"e.g., 28",defaultValue:(n==null?void 0:n.temperature)||""})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"condition",children:"Weather Condition"}),e.jsxs(Cn,{name:"condition",defaultValue:(n==null?void 0:n.condition)||"",children:[e.jsx(sn,{children:e.jsx(En,{placeholder:"Select condition"})}),e.jsx(rn,{children:CV.map(p=>e.jsx(Mt,{value:p.value,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p.icon,{className:"h-4 w-4"}),p.label]})},p.value))})]})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"humidity",children:"Humidity (%)"}),e.jsx(te,{id:"humidity",name:"humidity",type:"number",placeholder:"e.g., 65",defaultValue:n!=null&&n.forecast?JSON.parse(n.forecast).humidity:""})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"windSpeed",children:"Wind Speed (km/h)"}),e.jsx(te,{id:"windSpeed",name:"windSpeed",type:"number",placeholder:"e.g., 10",defaultValue:n!=null&&n.forecast?JSON.parse(n.forecast).windSpeed:""})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"pressure",children:"Pressure (hPa)"}),e.jsx(te,{id:"pressure",name:"pressure",type:"number",placeholder:"e.g., 1013",defaultValue:n!=null&&n.forecast?JSON.parse(n.forecast).pressure:""})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(D,{type:"submit",disabled:f.isPending||x.isPending,children:f.isPending||x.isPending?e.jsx(ae,{className:"h-4 w-4 animate-spin"}):n?"Update":"Create"}),e.jsx(D,{type:"button",variant:"outline",onClick:()=>{o(!1),a(null)},children:"Cancel"})]})]})})]})})]})})}const TV=()=>{const[t,s]=m.useState(!1),[r,n]=m.useState("idle"),[a,i]=m.useState(""),o=async()=>{s(!0),n("idle"),i("");try{n("success"),i("     !          ")}catch{n("error"),i("      ")}finally{s(!1)}},l=[{icon:e.jsx(nm,{className:"w-6 h-6"}),title:" ",description:"    ",features:["   ","   ","  "]},{icon:e.jsx(Ct,{className:"w-6 h-6"}),title:" ",description:"-   ",features:["  ","  ","  "]},{icon:e.jsx(Ot,{className:"w-6 h-6"}),title:"  ",description:"    ",features:["  ","   ","  "]},{icon:e.jsx(gt,{className:"w-6 h-6"}),title:" ",description:"  ",features:["  "," ","  "]},{icon:e.jsx(tn,{className:"w-6 h-6"}),title:"- ",description:"    ",features:["  "," ","  "]},{icon:e.jsx(As,{className:"w-6 h-6"}),title:" ",description:"   ",features:["  "," ","  "]}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"  "}),e.jsx("p",{className:"text-gray-600 mt-1",children:"         "})]}),e.jsx(D,{onClick:o,disabled:t,size:"lg",className:"bg-blue-600 hover:bg-blue-700",children:t?e.jsxs(e.Fragment,{children:[e.jsx(As,{className:"w-4 h-4 mr-2 animate-spin"}),"  ..."]}):e.jsxs(e.Fragment,{children:[e.jsx(nm,{className:"w-4 h-4 mr-2"}),"  "]})})]}),r==="success"&&e.jsxs(Bs,{className:"border-green-200 bg-green-50",children:[e.jsx(ts,{className:"h-4 w-4 text-green-600"}),e.jsx(qs,{className:"text-green-800",children:a})]}),r==="error"&&e.jsxs(Bs,{className:"border-red-200 bg-red-50",children:[e.jsx(Yt,{className:"h-4 w-4 text-red-600"}),e.jsx(qs,{className:"text-red-800",children:a})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map((c,d)=>e.jsxs(C,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(L,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg text-blue-600",children:c.icon}),e.jsxs("div",{children:[e.jsx(M,{className:"text-lg",children:c.title}),e.jsx(Ce,{className:"text-sm mt-1",children:c.description})]})]})}),e.jsx(E,{children:e.jsx("ul",{className:"space-y-2",children:c.features.map((u,h)=>e.jsxs("li",{className:"flex items-start space-x-2 text-sm",children:[e.jsx(ts,{className:"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:u})]},h))})})]},d))}),e.jsxs(C,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",children:[e.jsx(L,{children:e.jsxs(M,{className:"flex items-center space-x-2",children:[e.jsx(As,{className:"w-5 h-5"}),e.jsx("span",{children:"     :"})]})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"  :"}),e.jsxs("ul",{className:"text-sm space-y-1",children:[e.jsx("li",{children:"   "}),e.jsx("li",{children:" -  "}),e.jsx("li",{children:"   "}),e.jsx("li",{children:"  "})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"  :"}),e.jsxs("ul",{className:"text-sm space-y-1",children:[e.jsx("li",{children:" %   "}),e.jsx("li",{children:" %   "}),e.jsx("li",{children:" %   "}),e.jsx("li",{children:" %   "})]})]})]})})]})]})};var _j="Progress",Sj=100,[PV,zH]=_s(_j),[AV,RV]=PV(_j),HT=m.forwardRef((t,s)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:i=OV,...o}=t;(a||a===0)&&!Gb(a)&&console.error(IV(`${a}`,"Progress"));const l=Gb(a)?a:Sj;n!==null&&!Qb(n,l)&&console.error(DV(`${n}`,"Progress"));const c=Qb(n,l)?n:null,d=Em(c)?i(c,l):void 0;return e.jsx(AV,{scope:r,value:c,max:l,children:e.jsx(ge.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Em(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":GT(c,l),"data-value":c??void 0,"data-max":l,...o,ref:s})})});HT.displayName=_j;var WT="ProgressIndicator",KT=m.forwardRef((t,s)=>{const{__scopeProgress:r,...n}=t,a=RV(WT,r);return e.jsx(ge.div,{"data-state":GT(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:s})});KT.displayName=WT;function OV(t,s){return`${Math.round(t/s*100)}%`}function GT(t,s){return t==null?"indeterminate":t===s?"complete":"loading"}function Em(t){return typeof t=="number"}function Gb(t){return Em(t)&&!isNaN(t)&&t>0}function Qb(t,s){return Em(t)&&!isNaN(t)&&t<=s&&t>=0}function IV(t,s){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${s}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Sj}\`.`}function DV(t,s){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${s}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Sj} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var QT=HT,LV=KT;const gr=m.forwardRef(({className:t,value:s,...r},n)=>e.jsx(QT,{ref:n,className:oe("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:e.jsx(LV,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})}));gr.displayName=QT.displayName;function Kt({className:t,...s}){return e.jsx("div",{className:oe("animate-pulse rounded-md bg-primary/10 dark:bg-primary/5 skeleton-loading",t),...s})}const ZT=()=>{const[t,s]=m.useState([]),[r,n]=m.useState([]),[a,i]=m.useState([]),[o,l]=m.useState(!0),[c,d]=m.useState(null),[u,h]=m.useState("24h");m.useEffect(()=>{f();const p=setInterval(f,5*60*1e3);return()=>clearInterval(p)},[u]);const f=async()=>{try{l(!0),d(null);const{getPopularArticles:p,getTrendingTopics:y}=await de(async()=>{const{getPopularArticles:N,getTrendingTopics:_}=await Promise.resolve().then(()=>ke);return{getPopularArticles:N,getTrendingTopics:_}},void 0),[j,w,b]=await Promise.all([p(10),y?y(10):Promise.resolve([]),p(10)]);s(j),n(w),i(b)}catch(p){d("     "),console.error("Error fetching trending data:",p)}finally{l(!1)}},x=p=>{const y=new Date(p),w=Math.floor((new Date().getTime()-y.getTime())/(1e3*60));return w<60?`${w}  `:w<1440?`${Math.floor(w/60)}  `:y.toLocaleDateString("bn-BD")},g=p=>p>.7?e.jsx(Ct,{className:"w-4 h-4 text-green-500"}):p>.4?e.jsx(Rt,{className:"w-4 h-4 text-yellow-500"}):e.jsx(_S,{className:"w-4 h-4 text-red-500"}),v=p=>p>.7?"text-green-600":p>.4?"text-yellow-600":"text-red-600";return o?e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[...Array(3)].map((p,y)=>e.jsxs(C,{children:[e.jsx(L,{children:e.jsx(Kt,{className:"h-6 w-32"})}),e.jsx(E,{className:"space-y-4",children:[...Array(5)].map((j,w)=>e.jsx(Kt,{className:"h-4 w-full"},w))})]},y))})}):c?e.jsxs(C,{className:"p-8 text-center",children:[e.jsxs("div",{className:"text-red-500 mb-4",children:[e.jsx(Rt,{className:"w-12 h-12 mx-auto mb-2"}),e.jsx("p",{children:c})]}),e.jsx(D,{onClick:f,variant:"outline",children:"  "})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold flex items-center space-x-2",children:[e.jsx(Ct,{className:"w-6 h-6 text-blue-600"}),e.jsx("span",{children:" "})]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"-    "})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(X,{variant:"outline",className:"text-green-600",children:[e.jsx(Rt,{className:"w-3 h-3 mr-1"}),""]}),e.jsx(D,{onClick:f,variant:"outline",size:"sm",children:" "})]})]}),e.jsxs(ds,{defaultValue:"trending",className:"w-full",children:[e.jsxs(ns,{className:"grid w-full grid-cols-3",children:[e.jsx(ve,{value:"trending",children:" "}),e.jsx(ve,{value:"popular",children:" "}),e.jsx(ve,{value:"topics",children:" "})]}),e.jsx(pe,{value:"trending",className:"space-y-4",children:e.jsxs(C,{children:[e.jsx(L,{children:e.jsxs(M,{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"w-5 h-5"}),e.jsx("span",{children:" "}),e.jsx(X,{variant:"secondary",children:t.length})]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:t.map((p,y)=>e.jsxs("div",{className:"flex items-center space-x-4 p-4 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>window.open(`/article/${p.id}`,"_blank"),children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsxs(X,{className:"bg-blue-100 text-blue-800",children:["#",y+1]})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-lg truncate mb-1",children:p.title}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Et,{className:"w-4 h-4"}),e.jsx("span",{children:p.view_count})]}),e.jsx("div",{className:"flex items-center space-x-1",children:e.jsx(X,{variant:"outline",className:"text-xs",children:p.category_name})}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ht,{className:"w-4 h-4"}),e.jsx("span",{children:x(p.published_at)})]})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[g(p.trending_score),e.jsxs("span",{className:`text-sm font-medium ${v(p.trending_score)}`,children:[Math.round(p.trending_score*100),"%"]})]}),e.jsx("div",{className:"text-xs text-gray-500",children:" "})]})})]},p.id))})})]})}),e.jsx(pe,{value:"popular",className:"space-y-4",children:e.jsxs(C,{children:[e.jsx(L,{children:e.jsxs(M,{className:"flex items-center space-x-2",children:[e.jsx(wr,{className:"w-5 h-5"}),e.jsx("span",{children:" "}),e.jsx(X,{variant:"secondary",children:a.length})]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:a.map((p,y)=>e.jsxs("div",{className:"flex items-center space-x-4 p-4 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>window.open(`/article/${p.id}`,"_blank"),children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsxs(X,{className:"bg-green-100 text-green-800",children:["#",y+1]})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-lg truncate mb-1",children:p.title}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Et,{className:"w-4 h-4"}),e.jsx("span",{children:p.view_count})]}),e.jsx("div",{className:"flex items-center space-x-1",children:e.jsx(X,{variant:"outline",className:"text-xs",children:p.category_name})}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ht,{className:"w-4 h-4"}),e.jsx("span",{children:x(p.published_at)})]})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm font-medium",children:Math.round(p.engagement_score)}),e.jsx("div",{className:"text-xs text-gray-500",children:""}),e.jsx(gr,{value:Math.min(p.engagement_score,100),className:"w-16 h-2 mt-1"})]})})]},p.id))})})]})}),e.jsx(pe,{value:"topics",className:"space-y-4",children:e.jsxs(C,{children:[e.jsx(L,{children:e.jsxs(M,{className:"flex items-center space-x-2",children:[e.jsx(Rt,{className:"w-5 h-5"}),e.jsx("span",{children:" "}),e.jsx(X,{variant:"secondary",children:r.length})]})}),e.jsx(E,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.map((p,y)=>e.jsxs("div",{className:"p-4 rounded-lg border hover:bg-gray-50 cursor-pointer transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs(X,{className:"bg-purple-100 text-purple-800",children:["#",y+1]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[g(p.trending_score),e.jsxs("span",{className:`text-sm font-medium ${v(p.trending_score)}`,children:[Math.round(p.trending_score*100),"%"]})]})]}),e.jsx("h3",{className:"font-semibold text-lg mb-2",children:p.topic_name}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(gt,{className:"w-4 h-4"}),e.jsxs("span",{children:[p.mention_count," "]})]}),p.categories&&e.jsx(X,{variant:"outline",className:"text-xs",children:p.categories.name})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:" "}),e.jsx(gr,{value:Math.min(p.trending_score*100,100),className:"w-full h-2"})]})]},p.id))})})]})})]}),e.jsxs(C,{className:"bg-gradient-to-r from-blue-50 to-purple-50 border-blue-200",children:[e.jsx(L,{children:e.jsxs(M,{className:"flex items-center space-x-2",children:[e.jsx(wr,{className:"w-5 h-5"}),e.jsx("span",{children:"- "})]})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.length}),e.jsx("div",{className:"text-sm text-gray-500",children:" "})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:a.length}),e.jsx("div",{className:"text-sm text-gray-500",children:" "})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:r.length}),e.jsx("div",{className:"text-sm text-gray-500",children:" "})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[Math.round(t.reduce((p,y)=>p+y.view_count,0)/1e3),"K"]}),e.jsx("div",{className:"text-sm text-gray-500",children:" "})]})]})})]})]})};function MV(){const t=[{title:" ",description:"     ",icon:e.jsx(nm,{className:"w-5 h-5"}),status:"active",performance:"87%"},{title:"  ",description:"   NLP    ",icon:e.jsx(Ot,{className:"w-5 h-5"}),status:"active",performance:"92%"},{title:" ",description:"-   ",icon:e.jsx(Ct,{className:"w-5 h-5"}),status:"active",performance:"78%"},{title:" ",description:"    ",icon:e.jsx(gt,{className:"w-5 h-5"}),status:"active",performance:"84%"},{title:" ",description:"    ",icon:e.jsx(tn,{className:"w-5 h-5"}),status:"active",performance:"91%"},{title:" ",description:"    ",icon:e.jsx(du,{className:"w-5 h-5"}),status:"active",performance:"95%"}],s=n=>{switch(n){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},r=n=>{const a=parseInt(n);return a>=90?"text-green-600":a>=70?"text-yellow-600":"text-red-600"};return e.jsx(xt,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold flex items-center space-x-3",children:[e.jsx(nm,{className:"w-8 h-8"}),e.jsx("span",{children:"  "})]}),e.jsx("p",{className:"text-blue-100 mt-2",children:"     AI    "})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(X,{className:"bg-white/20 text-white border-white/30",children:[e.jsx(Rt,{className:"w-3 h-3 mr-1"}),""]}),e.jsxs(X,{className:"bg-white/20 text-white border-white/30",children:[e.jsx(As,{className:"w-3 h-3 mr-1"}),"-"]})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map((n,a)=>e.jsxs(C,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(L,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg text-blue-600",children:n.icon}),e.jsx("div",{children:e.jsx(M,{className:"text-lg",children:n.title})})]}),e.jsx(X,{className:s(n.status),children:n.status==="active"?"":""})]})}),e.jsxs(E,{children:[e.jsx("p",{className:"text-gray-600 text-sm mb-3",children:n.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500",children:":"}),e.jsx("span",{className:`font-semibold ${r(n.performance)}`,children:n.performance})]})]})]},a))}),e.jsxs(ds,{defaultValue:"setup",className:"w-full",children:[e.jsxs(ns,{className:"grid w-full grid-cols-3",children:[e.jsx(ve,{value:"setup",children:"  "}),e.jsx(ve,{value:"trending",children:" "}),e.jsx(ve,{value:"monitoring",children:""})]}),e.jsx(pe,{value:"setup",className:"space-y-4",children:e.jsx(TV,{})}),e.jsx(pe,{value:"trending",className:"space-y-4",children:e.jsx(ZT,{})}),e.jsxs(pe,{value:"monitoring",className:"space-y-4",children:[e.jsxs(C,{children:[e.jsx(L,{children:e.jsxs(M,{className:"flex items-center space-x-2",children:[e.jsx(wr,{className:"w-5 h-5"}),e.jsx("span",{children:" "})]})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold",children:" "}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"  "}),e.jsx("span",{className:"text-sm font-medium text-green-600",children:"142ms"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"  "}),e.jsx("span",{className:"text-sm font-medium text-green-600",children:"38ms"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"  "}),e.jsx("span",{className:"text-sm font-medium text-yellow-600",children:"2.3s"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"- "}),e.jsx("span",{className:"text-sm font-medium text-green-600",children:".%"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold",children:" "}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:" "}),e.jsx("span",{className:"text-sm font-medium text-green-600",children:".%"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:" "}),e.jsx("span",{className:"text-sm font-medium text-yellow-600",children:"%"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:" "}),e.jsx("span",{className:"text-sm font-medium text-green-600",children:"%"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:" "}),e.jsx("span",{className:"text-sm font-medium text-green-600",children:"% "})]})]})]})]})})]}),e.jsxs(C,{children:[e.jsx(L,{children:e.jsx(M,{children:"   "})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"   "}),e.jsx("p",{className:"text-xs text-gray-500",children:"  "})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"     "}),e.jsx("p",{className:"text-xs text-gray-500",children:"  "})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-yellow-50 rounded-lg",children:[e.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"  "}),e.jsx("p",{className:"text-xs text-gray-500",children:"  "})]})]})]})})]})]})]})]})})}function FV(){const t=()=>{console.log("Exporting analytics data...")},s=()=>{console.log("Refreshing analytics data...")},r=[{title:"  ",value:"",change:"+%",icon:e.jsx(Ct,{className:"w-5 h-5"}),color:"text-green-600"},{title:" ",value:",",change:"+%",icon:e.jsx(gt,{className:"w-5 h-5"}),color:"text-blue-600"},{title:" ",value:",",change:"+%",icon:e.jsx(pr,{className:"w-5 h-5"}),color:"text-red-600"},{title:"  ",value:". ",change:"+%",icon:e.jsx(ht,{className:"w-5 h-5"}),color:"text-purple-600"}],n=[{name:"",articles:45,engagement:89},{name:"",articles:32,engagement:76},{name:"",articles:28,engagement:82},{name:"",articles:21,engagement:68},{name:"",articles:19,engagement:71}],a=[{topic:"  ",mentions:1247,growth:"+342%",category:""},{topic:" ",mentions:892,growth:"+156%",category:""},{topic:"  ",mentions:654,growth:"+98%",category:""},{topic:" ",mentions:543,growth:"+76%",category:""}];return e.jsx(xt,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-600 to-blue-600 rounded-xl p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold flex items-center space-x-3",children:[e.jsx(Ct,{className:"w-8 h-8"}),e.jsx("span",{children:" "})]}),e.jsx("p",{className:"text-green-100 mt-2",children:"-      "})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs(D,{onClick:s,variant:"outline",className:"bg-white/10 border-white/20 text-white hover:bg-white/20",children:[e.jsx(on,{className:"w-4 h-4 mr-2"}),""]}),e.jsxs(D,{onClick:t,variant:"outline",className:"bg-white/10 border-white/20 text-white hover:bg-white/20",children:[e.jsx(si,{className:"w-4 h-4 mr-2"}),""]}),e.jsxs(X,{className:"bg-white/20 text-white border-white/30",children:[e.jsx(Rt,{className:"w-3 h-3 mr-1"})," "]})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:r.map((i,o)=>e.jsx(C,{className:"hover:shadow-lg transition-shadow",children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:i.title}),e.jsx("p",{className:"text-2xl font-bold mb-1",children:i.value}),e.jsx("p",{className:`text-sm font-medium ${i.color}`,children:i.change})]}),e.jsx("div",{className:`p-3 rounded-full bg-gray-100 ${i.color}`,children:i.icon})]})})},o))}),e.jsxs(ds,{defaultValue:"dashboard",className:"w-full",children:[e.jsxs(ns,{className:"grid w-full grid-cols-4",children:[e.jsx(ve,{value:"dashboard",children:""}),e.jsx(ve,{value:"categories",children:" "}),e.jsx(ve,{value:"trends",children:" "}),e.jsx(ve,{value:"reports",children:""})]}),e.jsx(pe,{value:"dashboard",className:"space-y-4",children:e.jsx(ZT,{})}),e.jsx(pe,{value:"categories",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(C,{children:[e.jsx(L,{children:e.jsxs(M,{className:"flex items-center space-x-2",children:[e.jsx(wr,{className:"w-5 h-5"}),e.jsx("span",{children:"  "})]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:n.map((i,o)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-medium text-blue-600",children:o+1})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:i.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:[i.articles,"  "]})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"text-sm font-medium text-green-600",children:[i.engagement,"% "]})})]},o))})})]}),e.jsxs(C,{children:[e.jsx(L,{children:e.jsxs(M,{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"w-5 h-5"}),e.jsx("span",{children:" "})]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:n.map((i,o)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:i.name}),e.jsxs("span",{className:"text-sm text-gray-600",children:[i.engagement,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-500",style:{width:`${i.engagement}%`}})})]},o))})})]})]})}),e.jsx(pe,{value:"trends",className:"space-y-4",children:e.jsxs(C,{children:[e.jsx(L,{children:e.jsxs(M,{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"w-5 h-5"}),e.jsx("span",{children:"  "})]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:a.map((i,o)=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-lg mb-1",children:i.topic}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[e.jsxs("span",{children:[i.mentions," "]}),e.jsx(X,{variant:"outline",children:i.category})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-lg font-bold text-green-600",children:i.growth}),e.jsx("p",{className:"text-sm text-gray-500",children:""})]})]},o))})})]})}),e.jsx(pe,{value:"reports",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(C,{children:[e.jsx(L,{children:e.jsx(M,{children:" "})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:" "}),e.jsx("span",{className:"font-semibold",children:","})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"  "}),e.jsx("span",{className:"font-semibold",children:""})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:" "}),e.jsx("span",{className:"font-semibold",children:"%"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"  "}),e.jsx("span",{className:"font-semibold",children:". "})]})]})})]}),e.jsxs(C,{children:[e.jsx(L,{children:e.jsx(M,{children:" "})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:" "}),e.jsx("span",{className:"font-semibold",children:""})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:" "}),e.jsx("span",{className:"font-semibold",children:""})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:" "}),e.jsx("span",{className:"font-semibold",children:"%"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:" "}),e.jsx("span",{className:"font-semibold",children:"%"})]})]})})]})]})})]})]})})}function $V(){var b;const[t,s]=m.useState([]),[r,n]=m.useState([]),[a,i]=m.useState([]),[o,l]=m.useState([]),[c,d]=m.useState(!0),[u,h]=m.useState("team"),[f,x]=m.useState(null),[g,v]=m.useState(!1),{toast:p}=Ze();m.useEffect(()=>{y()},[]);const y=async()=>{d(!0);try{const{data:N,error:_}=await J.from("team_members").select("*").order("is_featured",{ascending:!1});if(_)throw _;s(N||[]);const{data:P,error:A}=await J.from("contact_info").select("*").order("is_primary",{ascending:!1});if(A)throw A;n(P||[]);const{data:k,error:T}=await J.from("ad_packages").select("*").order("price",{ascending:!0});if(T)throw T;i(k||[]);const{data:S,error:R}=await J.from("editorial_policies").select("*").order("priority",{ascending:!0});if(R)throw R;l(S||[])}catch(N){console.error("Error fetching data:",N),p({title:"Error",description:"Failed to load data",variant:"destructive"})}finally{d(!1)}},j=async(N,_)=>{try{if(_.id){const{error:P}=await J.from(N).update(_).eq("id",_.id);if(P)throw P;p({title:"Success",description:"Item updated successfully"})}else{const{error:P}=await J.from(N).insert([_]);if(P)throw P;p({title:"Success",description:"Item created successfully"})}v(!1),x(null),y()}catch(P){console.error("Error saving item:",P),p({title:"Error",description:"Failed to save item",variant:"destructive"})}},w=async(N,_)=>{if(confirm("Are you sure you want to delete this item?"))try{const{error:P}=await J.from(N).delete().eq("id",_);if(P)throw P;p({title:"Success",description:"Item deleted successfully"}),y()}catch(P){console.error("Error deleting item:",P),p({title:"Error",description:"Failed to delete item",variant:"destructive"})}};return c?e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"animate-pulse space-y-4",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),e.jsx("div",{className:"space-y-3",children:[...Array(5)].map((N,_)=>e.jsx("div",{className:"h-20 bg-gray-200 rounded"},_))})]})}):e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Footer Pages Management"}),e.jsxs(X,{variant:"outline",children:[t.length+r.length+a.length+o.length," Total Items"]})]}),e.jsxs(ds,{value:u,onValueChange:h,children:[e.jsxs(ns,{className:"grid w-full grid-cols-4",children:[e.jsx(ve,{value:"team",children:"Team Members"}),e.jsx(ve,{value:"contact",children:"Contact Info"}),e.jsx(ve,{value:"ads",children:"Ad Packages"}),e.jsx(ve,{value:"policies",children:"Editorial Policies"})]}),e.jsx(pe,{value:"team",children:e.jsxs(C,{children:[e.jsxs(L,{className:"flex flex-row items-center justify-between",children:[e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx(gt,{className:"h-5 w-5"}),"Team Members (",t.length,")"]}),e.jsxs(Yn,{open:g,onOpenChange:v,children:[e.jsx(sd,{asChild:!0,children:e.jsxs(D,{onClick:()=>x({is_featured:!1}),children:[e.jsx(rr,{className:"h-4 w-4 mr-2"}),"Add Member"]})}),e.jsxs(yn,{className:"max-w-2xl",children:[e.jsx(jn,{children:e.jsxs(wn,{children:[f!=null&&f.id?"Edit":"Add"," Team Member"]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"name",children:"Name"}),e.jsx(te,{id:"name",value:(f==null?void 0:f.name)||"",onChange:N=>x({...f,name:N.target.value})})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"position",children:"Position"}),e.jsx(te,{id:"position",value:(f==null?void 0:f.position)||"",onChange:N=>x({...f,position:N.target.value})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"department",children:"Department"}),e.jsx(te,{id:"department",value:(f==null?void 0:f.department)||"",onChange:N=>x({...f,department:N.target.value})})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"email",children:"Email"}),e.jsx(te,{id:"email",type:"email",value:(f==null?void 0:f.email)||"",onChange:N=>x({...f,email:N.target.value})})]})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"bio",children:"Bio"}),e.jsx(Qt,{id:"bio",value:(f==null?void 0:f.bio)||"",onChange:N=>x({...f,bio:N.target.value}),rows:3})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(lt,{id:"is_featured",checked:(f==null?void 0:f.is_featured)||!1,onCheckedChange:N=>x({...f,is_featured:N})}),e.jsx(G,{htmlFor:"is_featured",children:"Featured Member"})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(D,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),e.jsxs(D,{onClick:()=>j("team_members",f),children:[e.jsx(nl,{className:"h-4 w-4 mr-2"}),"Save"]})]})]})]})]})]}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:t.map(N=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-gray-200 flex items-center justify-center",children:e.jsx(gt,{className:"h-6 w-6 text-gray-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:N.name}),e.jsx("p",{className:"text-sm text-gray-600",children:N.position}),e.jsx("p",{className:"text-xs text-gray-500",children:N.department})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[N.is_featured&&e.jsx(X,{variant:"secondary",children:"Featured"}),e.jsx(D,{variant:"outline",size:"sm",onClick:()=>{x(N),v(!0)},children:e.jsx(nr,{className:"h-4 w-4"})}),e.jsx(D,{variant:"destructive",size:"sm",onClick:()=>w("team_members",N.id),children:e.jsx(vs,{className:"h-4 w-4"})})]})]},N.id))})})]})}),e.jsx(pe,{value:"contact",children:e.jsxs(C,{children:[e.jsxs(L,{className:"flex flex-row items-center justify-between",children:[e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx(eo,{className:"h-5 w-5"}),"Contact Information (",r.length,")"]}),e.jsxs(Yn,{open:g,onOpenChange:v,children:[e.jsx(sd,{asChild:!0,children:e.jsxs(D,{onClick:()=>x({is_primary:!1}),children:[e.jsx(rr,{className:"h-4 w-4 mr-2"}),"Add Contact"]})}),e.jsxs(yn,{className:"max-w-2xl",children:[e.jsx(jn,{children:e.jsxs(wn,{children:[f!=null&&f.id?"Edit":"Add"," Contact Information"]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"department",children:"Department"}),e.jsx(te,{id:"department",value:(f==null?void 0:f.department)||"",onChange:N=>x({...f,department:N.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"phone",children:"Phone"}),e.jsx(te,{id:"phone",value:(f==null?void 0:f.phone)||"",onChange:N=>x({...f,phone:N.target.value})})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"email",children:"Email"}),e.jsx(te,{id:"email",type:"email",value:(f==null?void 0:f.email)||"",onChange:N=>x({...f,email:N.target.value})})]})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"address",children:"Address"}),e.jsx(Qt,{id:"address",value:(f==null?void 0:f.address)||"",onChange:N=>x({...f,address:N.target.value}),rows:2})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"working_hours",children:"Working Hours"}),e.jsx(te,{id:"working_hours",value:(f==null?void 0:f.working_hours)||"",onChange:N=>x({...f,working_hours:N.target.value})})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(lt,{id:"is_primary",checked:(f==null?void 0:f.is_primary)||!1,onCheckedChange:N=>x({...f,is_primary:N})}),e.jsx(G,{htmlFor:"is_primary",children:"Primary Contact"})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(D,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),e.jsxs(D,{onClick:()=>j("contact_info",f),children:[e.jsx(nl,{className:"h-4 w-4 mr-2"}),"Save"]})]})]})]})]})]}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:r.map(N=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-gray-200 flex items-center justify-center",children:e.jsx(eo,{className:"h-6 w-6 text-gray-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:N.department}),e.jsxs("p",{className:"text-sm text-gray-600",children:[N.phone,"  ",N.email]}),e.jsx("p",{className:"text-xs text-gray-500",children:N.working_hours})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[N.is_primary&&e.jsx(X,{variant:"secondary",children:"Primary"}),e.jsx(D,{variant:"outline",size:"sm",onClick:()=>{x(N),v(!0)},children:e.jsx(nr,{className:"h-4 w-4"})}),e.jsx(D,{variant:"destructive",size:"sm",onClick:()=>w("contact_info",N.id),children:e.jsx(vs,{className:"h-4 w-4"})})]})]},N.id))})})]})}),e.jsx(pe,{value:"ads",children:e.jsxs(C,{children:[e.jsxs(L,{className:"flex flex-row items-center justify-between",children:[e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx($d,{className:"h-5 w-5"}),"Advertisement Packages (",a.length,")"]}),e.jsxs(Yn,{open:g,onOpenChange:v,children:[e.jsx(sd,{asChild:!0,children:e.jsxs(D,{onClick:()=>x({features:[],is_popular:!1,is_active:!0}),children:[e.jsx(rr,{className:"h-4 w-4 mr-2"}),"Add Package"]})}),e.jsxs(yn,{className:"max-w-2xl",children:[e.jsx(jn,{children:e.jsxs(wn,{children:[f!=null&&f.id?"Edit":"Add"," Ad Package"]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"name",children:"Package Name"}),e.jsx(te,{id:"name",value:(f==null?void 0:f.name)||"",onChange:N=>x({...f,name:N.target.value})})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"description",children:"Description"}),e.jsx(Qt,{id:"description",value:(f==null?void 0:f.description)||"",onChange:N=>x({...f,description:N.target.value}),rows:2})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"price",children:"Price"}),e.jsx(te,{id:"price",type:"number",value:(f==null?void 0:f.price)||"",onChange:N=>x({...f,price:parseFloat(N.target.value)})})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"duration",children:"Duration"}),e.jsx(te,{id:"duration",value:(f==null?void 0:f.duration)||"",onChange:N=>x({...f,duration:N.target.value})})]})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"features",children:"Features (comma-separated)"}),e.jsx(Qt,{id:"features",value:((b=f==null?void 0:f.features)==null?void 0:b.join(", "))||"",onChange:N=>x({...f,features:N.target.value.split(", ").filter(_=>_.trim())}),rows:3})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(lt,{id:"is_popular",checked:(f==null?void 0:f.is_popular)||!1,onCheckedChange:N=>x({...f,is_popular:N})}),e.jsx(G,{htmlFor:"is_popular",children:"Popular"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(lt,{id:"is_active",checked:(f==null?void 0:f.is_active)||!1,onCheckedChange:N=>x({...f,is_active:N})}),e.jsx(G,{htmlFor:"is_active",children:"Active"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(D,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),e.jsxs(D,{onClick:()=>j("ad_packages",f),children:[e.jsx(nl,{className:"h-4 w-4 mr-2"}),"Save"]})]})]})]})]})]}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:a.map(N=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-gray-200 flex items-center justify-center",children:e.jsx($d,{className:"h-6 w-6 text-gray-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:N.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["",N.price,"  ",N.duration]}),e.jsxs("p",{className:"text-xs text-gray-500",children:[N.features.length," features"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[N.is_popular&&e.jsx(X,{variant:"secondary",children:"Popular"}),!N.is_active&&e.jsx(X,{variant:"destructive",children:"Inactive"}),e.jsx(D,{variant:"outline",size:"sm",onClick:()=>{x(N),v(!0)},children:e.jsx(nr,{className:"h-4 w-4"})}),e.jsx(D,{variant:"destructive",size:"sm",onClick:()=>w("ad_packages",N.id),children:e.jsx(vs,{className:"h-4 w-4"})})]})]},N.id))})})]})}),e.jsx(pe,{value:"policies",children:e.jsxs(C,{children:[e.jsxs(L,{className:"flex flex-row items-center justify-between",children:[e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx(Is,{className:"h-5 w-5"}),"Editorial Policies (",o.length,")"]}),e.jsxs(Yn,{open:g,onOpenChange:v,children:[e.jsx(sd,{asChild:!0,children:e.jsxs(D,{onClick:()=>x({priority:0,is_active:!0}),children:[e.jsx(rr,{className:"h-4 w-4 mr-2"}),"Add Policy"]})}),e.jsxs(yn,{className:"max-w-2xl",children:[e.jsx(jn,{children:e.jsxs(wn,{children:[f!=null&&f.id?"Edit":"Add"," Editorial Policy"]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"title",children:"Title"}),e.jsx(te,{id:"title",value:(f==null?void 0:f.title)||"",onChange:N=>x({...f,title:N.target.value})})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"content",children:"Content"}),e.jsx(Qt,{id:"content",value:(f==null?void 0:f.content)||"",onChange:N=>x({...f,content:N.target.value}),rows:6})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"category",children:"Category"}),e.jsx(te,{id:"category",value:(f==null?void 0:f.category)||"",onChange:N=>x({...f,category:N.target.value})})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"priority",children:"Priority"}),e.jsx(te,{id:"priority",type:"number",value:(f==null?void 0:f.priority)||"",onChange:N=>x({...f,priority:parseInt(N.target.value)})})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(lt,{id:"is_active",checked:(f==null?void 0:f.is_active)||!1,onCheckedChange:N=>x({...f,is_active:N})}),e.jsx(G,{htmlFor:"is_active",children:"Active"})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(D,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),e.jsxs(D,{onClick:()=>j("editorial_policies",f),children:[e.jsx(nl,{className:"h-4 w-4 mr-2"}),"Save"]})]})]})]})]})]}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:o.map(N=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-gray-200 flex items-center justify-center",children:e.jsx(Is,{className:"h-6 w-6 text-gray-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:N.title}),e.jsx("p",{className:"text-sm text-gray-600",children:N.category}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Priority: ",N.priority]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[!N.is_active&&e.jsx(X,{variant:"destructive",children:"Inactive"}),e.jsx(D,{variant:"outline",size:"sm",onClick:()=>{x(N),v(!0)},children:e.jsx(nr,{className:"h-4 w-4"})}),e.jsx(D,{variant:"destructive",size:"sm",onClick:()=>w("editorial_policies",N.id),children:e.jsx(vs,{className:"h-4 w-4"})})]})]},N.id))})})]})})]})]})}function UV(){var b,N,_,P,A,k,T,S;const{user:t,loading:s}=rt(),[,r]=yt(),[n,a]=m.useState(""),[i,o]=m.useState("week"),{toast:l}=Ze(),c=cs();m.useEffect(()=>{var R;(!s&&!t||!s&&t&&((R=t.user_metadata)==null?void 0:R.role)!=="admin")&&r("/admin-login")},[s,t,r]);const{data:d,isLoading:u}=_e({queryKey:["admin-user-stats",i],queryFn:()=>O4(i),enabled:!!t&&((b=t.user_metadata)==null?void 0:b.role)==="admin"}),{data:h,isLoading:f}=_e({queryKey:["admin-active-users",i],queryFn:()=>td(),enabled:!!t&&((N=t.user_metadata)==null?void 0:N.role)==="admin"}),{data:x,isLoading:g}=_e({queryKey:["admin-reading-activity",i],queryFn:()=>td(),enabled:!!t&&((_=t.user_metadata)==null?void 0:_.role)==="admin"}),{data:v,isLoading:p}=_e({queryKey:["admin-user-achievements"],queryFn:()=>td(),enabled:!!t&&((P=t.user_metadata)==null?void 0:P.role)==="admin"}),{data:y,isLoading:j}=_e({queryKey:["admin-saved-articles-stats",i],queryFn:()=>td(),enabled:!!t&&((A=t.user_metadata)==null?void 0:A.role)==="admin"}),w=Me({mutationFn:async R=>({success:!0,type:R,timeRange:i}),onSuccess:()=>{l({title:" ",description:"    "})},onError:R=>{l({title:" ",description:"    ",variant:"destructive"})}});return s?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(ae,{className:"h-8 w-8 animate-spin"})}):e.jsx(xt,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"  "}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"  ,     "})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(D,{variant:"outline",onClick:()=>c.invalidateQueries({queryKey:["/api/admin/"]}),children:[e.jsx(on,{className:"h-4 w-4 mr-2"}),""]}),e.jsxs(D,{onClick:()=>w.mutate("users"),disabled:w.isPending,children:[e.jsx(si,{className:"h-4 w-4 mr-2"}),""]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium",children:":"}),e.jsx("div",{className:"flex gap-2",children:["today","week","month"].map(R=>e.jsx(D,{variant:i===R?"default":"outline",size:"sm",onClick:()=>o(R),children:R==="today"?"":R==="week"?"":""},R))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(C,{children:[e.jsxs(L,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(M,{className:"text-sm font-medium",children:" "}),e.jsx(gt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:u?e.jsx(ae,{className:"h-6 w-6 animate-spin"}):(d==null?void 0:d.totalUsers)||0}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",(d==null?void 0:d.newUsers)||0,"   "]})]})]}),e.jsxs(C,{children:[e.jsxs(L,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(M,{className:"text-sm font-medium",children:" "}),e.jsx(Rt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:f?e.jsx(ae,{className:"h-6 w-6 animate-spin"}):(h==null?void 0:h.count)||0}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(h==null?void 0:h.percentage)||0,"%  "]})]})]}),e.jsxs(C,{children:[e.jsxs(L,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(M,{className:"text-sm font-medium",children:" "}),e.jsx(Ar,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:g?e.jsx(ae,{className:"h-6 w-6 animate-spin"}):(x==null?void 0:x.totalReads)||0}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(x==null?void 0:x.avgReadsPerUser)||0,"  "]})]})]}),e.jsxs(C,{children:[e.jsxs(L,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(M,{className:"text-sm font-medium",children:" "}),e.jsx(pr,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:j?e.jsx(ae,{className:"h-6 w-6 animate-spin"}):(y==null?void 0:y.totalSaved)||0}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(y==null?void 0:y.avgSavedPerUser)||0,"  "]})]})]})]}),e.jsxs(ds,{defaultValue:"users",className:"w-full",children:[e.jsxs(ns,{children:[e.jsx(ve,{value:"users",children:""}),e.jsx(ve,{value:"activity",children:""}),e.jsx(ve,{value:"achievements",children:""}),e.jsx(ve,{value:"reading",children:" "})]}),e.jsx(pe,{value:"users",className:"space-y-4",children:e.jsxs(C,{children:[e.jsxs(L,{children:[e.jsx(M,{children:" "}),e.jsx(Ce,{children:"     "})]}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ot,{className:"h-4 w-4 text-muted-foreground"}),e.jsx(te,{placeholder:" ...",value:n,onChange:R=>a(R.target.value),className:"max-w-sm"})]}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(yo,{children:[e.jsx(jo,{children:e.jsxs(Zt,{children:[e.jsx(ct,{children:""}),e.jsx(ct,{children:" "}),e.jsx(ct,{children:" "}),e.jsx(ct,{children:" "}),e.jsx(ct,{children:""}),e.jsx(ct,{children:""})]})}),e.jsx(wo,{children:f?e.jsx(Zt,{children:e.jsx(Ge,{colSpan:6,className:"text-center py-8",children:e.jsx(ae,{className:"h-6 w-6 animate-spin mx-auto"})})}):(k=h==null?void 0:h.users)!=null&&k.length?h.users.map(R=>e.jsxs(Zt,{children:[e.jsx(Ge,{children:e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:R.fullName||" "}),e.jsx("div",{className:"text-sm text-muted-foreground",children:R.email})]})})}),e.jsx(Ge,{children:e.jsx(vt,{date:R.createdAt,type:"date"})}),e.jsx(Ge,{children:e.jsx(vt,{date:R.lastActive,type:"relative"})}),e.jsx(Ge,{children:e.jsx(X,{variant:"outline",children:R.readArticles||0})}),e.jsx(Ge,{children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(rm,{className:"h-4 w-4 text-yellow-500"}),e.jsx("span",{children:R.achievements||0})]})}),e.jsx(Ge,{children:e.jsx(X,{variant:R.isActive?"default":"secondary",children:R.isActive?"":""})})]},R.id)):e.jsx(Zt,{children:e.jsx(Ge,{colSpan:6,className:"text-center py-8",children:"   "})})})]})})]})})]})}),e.jsx(pe,{value:"activity",className:"space-y-4",children:e.jsxs(C,{children:[e.jsxs(L,{children:[e.jsx(M,{children:" "}),e.jsx(Ce,{children:"    "})]}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:(x==null?void 0:x.totalReads)||0}),e.jsx("div",{className:"text-sm text-blue-600 dark:text-blue-400",children:" "})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:[(x==null?void 0:x.avgReadTime)||0,""]}),e.jsx("div",{className:"text-sm text-green-600 dark:text-green-400",children:"  "})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:[(x==null?void 0:x.completionRate)||0,"%"]}),e.jsx("div",{className:"text-sm text-purple-600 dark:text-purple-400",children:"  "})]})]})})})]})}),e.jsx(pe,{value:"achievements",className:"space-y-4",children:e.jsxs(C,{children:[e.jsxs(L,{children:[e.jsx(M,{children:" "}),e.jsx(Ce,{children:"    "})]}),e.jsx(E,{children:p?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(ae,{className:"h-8 w-8 animate-spin"})}):e.jsx("div",{className:"space-y-4",children:v==null?void 0:v.map(R=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-yellow-100 dark:bg-yellow-900/20 rounded-full flex items-center justify-center",children:e.jsx(rm,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:R.title}),e.jsx("div",{className:"text-sm text-muted-foreground",children:R.description})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-medium",children:R.earnedCount||0}),e.jsx("div",{className:"text-sm text-muted-foreground",children:""})]})]},R.id))})})]})}),e.jsx(pe,{value:"reading",className:"space-y-4",children:e.jsxs(C,{children:[e.jsxs(L,{children:[e.jsx(M,{children:" "}),e.jsx(Ce,{children:"    "})]}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:" "}),(T=x==null?void 0:x.popularCategories)==null?void 0:T.map((R,B)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-100 dark:bg-blue-900/20 rounded text-xs flex items-center justify-center",children:B+1}),e.jsx("span",{children:R.name})]}),e.jsxs(X,{variant:"outline",children:[R.readCount," "]})]},R.id))]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:" "}),(S=x==null?void 0:x.topReaders)==null?void 0:S.map((R,B)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-6 h-6 bg-green-100 dark:bg-green-900/20 rounded text-xs flex items-center justify-center",children:B+1}),e.jsx("span",{children:R.fullName||R.email})]}),e.jsxs(X,{variant:"outline",children:[R.readCount," "]})]},R.id))]})]})})]})})]})]})})}function zV(){var I,V,z;const{user:t,loading:s}=rt(),[,r]=yt(),[n,a]=m.useState(""),[i,o]=m.useState("all"),[l,c]=m.useState(null),[d,u]=m.useState(!1),[h,f]=m.useState(""),[x,g]=m.useState(null),{toast:v}=Ze(),p=cs();m.useEffect(()=>{var O;(!s&&!t||!s&&t&&((O=t.user_metadata)==null?void 0:O.role)!=="admin")&&r("/admin-login")},[s,t,r]);const{data:y,isLoading:j}=_e({queryKey:["admin-comments",i,n],queryFn:()=>Lg(),enabled:!!t&&((I=t.user_metadata)==null?void 0:I.role)==="admin"}),{data:w,isLoading:b}=_e({queryKey:["admin-comment-stats"],queryFn:()=>Promise.resolve({total:245,pending:12,approved:220,rejected:13}),enabled:!!t&&((V=t.user_metadata)==null?void 0:V.role)==="admin"}),{data:N,isLoading:_}=_e({queryKey:["admin-reported-comments"],queryFn:()=>Lg().then(O=>O.filter(U=>U.is_reported)),enabled:!!t&&((z=t.user_metadata)==null?void 0:z.role)==="admin"}),P=Me({mutationFn:O=>Mg(O,"approved"),onSuccess:()=>{v({title:" ",description:"   "})},onError:()=>{v({title:" ",description:"    ",variant:"destructive"})}}),A=Me({mutationFn:O=>Mg(O,"rejected"),onSuccess:()=>{v({title:" ",description:"   "})},onError:()=>{v({title:" ",description:"    ",variant:"destructive"})}}),k=Me({mutationFn:async O=>await apiRequest(`/api/admin/comments/${O}`,{method:"DELETE"}),onSuccess:()=>{p.invalidateQueries({queryKey:["/api/admin/comments"]}),g(null),v({title:"   ",description:"    "})},onError:()=>{v({title:"  ",description:"    ",variant:"destructive"})}}),T=Me({mutationFn:async({commentId:O,content:U})=>await apiRequest(`/api/admin/comments/${O}/reply`,{method:"POST",body:{content:U}}),onSuccess:()=>{p.invalidateQueries({queryKey:["/api/admin/comments"]}),u(!1),f(""),c(null),v({title:"  ",description:"    "})},onError:()=>{v({title:"  ",description:"   ",variant:"destructive"})}}),S=y==null?void 0:y.filter(O=>{var se;const U=O.content.toLowerCase().includes(n.toLowerCase())||((se=O.authorName)==null?void 0:se.toLowerCase().includes(n.toLowerCase())),ee=i==="all"||O.status===i;return U&&ee});if(s)return e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(ae,{className:"h-8 w-8 animate-spin"})});const R=O=>{switch(O){case"approved":return e.jsx(X,{variant:"default",className:"bg-green-100 text-green-800",children:""});case"rejected":return e.jsx(X,{variant:"destructive",children:""});case"pending":return e.jsx(X,{variant:"secondary",children:""});default:return e.jsx(X,{variant:"outline",children:""})}},B=O=>{c(O),u(!0)},H=()=>{l&&h.trim()&&T.mutate({commentId:l.id,content:h.trim()})};return e.jsx(xt,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:" "}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"  ,    "})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs(C,{children:[e.jsxs(L,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(M,{className:"text-sm font-medium",children:" "}),e.jsx(cf,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(E,{children:e.jsx("div",{className:"text-2xl font-bold",children:b?e.jsx(ae,{className:"h-6 w-6 animate-spin"}):(w==null?void 0:w.total)||0})})]}),e.jsxs(C,{children:[e.jsxs(L,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(M,{className:"text-sm font-medium",children:""}),e.jsx(ht,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(E,{children:e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:b?e.jsx(ae,{className:"h-6 w-6 animate-spin"}):(w==null?void 0:w.pending)||0})})]}),e.jsxs(C,{children:[e.jsxs(L,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(M,{className:"text-sm font-medium",children:""}),e.jsx(ts,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(E,{children:e.jsx("div",{className:"text-2xl font-bold text-green-600",children:b?e.jsx(ae,{className:"h-6 w-6 animate-spin"}):(w==null?void 0:w.approved)||0})})]}),e.jsxs(C,{children:[e.jsxs(L,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(M,{className:"text-sm font-medium",children:""}),e.jsx(gS,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(E,{children:e.jsx("div",{className:"text-2xl font-bold text-red-600",children:b?e.jsx(ae,{className:"h-6 w-6 animate-spin"}):(w==null?void 0:w.reported)||0})})]})]}),e.jsxs(C,{children:[e.jsx(L,{children:e.jsx(M,{children:"  "})}),e.jsx(E,{children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ot,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(te,{placeholder:"  ...",value:n,onChange:O=>a(O.target.value),className:"pl-9"})]})}),e.jsx("div",{className:"flex gap-2",children:["all","pending","approved","rejected"].map(O=>e.jsx(D,{variant:i===O?"default":"outline",size:"sm",onClick:()=>o(O),children:O==="all"?"":O==="pending"?"":O==="approved"?"":""},O))})]})})]}),e.jsxs(C,{children:[e.jsxs(L,{children:[e.jsx(M,{children:" "}),e.jsx(Ce,{children:"    "})]}),e.jsx(E,{children:e.jsx("div",{className:"rounded-md border",children:e.jsxs(yo,{children:[e.jsx(jo,{children:e.jsxs(Zt,{children:[e.jsx(ct,{children:""}),e.jsx(ct,{children:""}),e.jsx(ct,{children:""}),e.jsx(ct,{children:""}),e.jsx(ct,{children:""}),e.jsx(ct,{children:""})]})}),e.jsx(wo,{children:j?e.jsx(Zt,{children:e.jsx(Ge,{colSpan:6,className:"text-center py-8",children:e.jsx(ae,{className:"h-6 w-6 animate-spin mx-auto"})})}):S!=null&&S.length?S.map(O=>e.jsxs(Zt,{children:[e.jsx(Ge,{className:"max-w-xs",children:e.jsx("div",{className:"truncate",children:O.content})}),e.jsx(Ge,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Zr,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:O.authorName||" "})]})}),e.jsx(Ge,{children:e.jsx("div",{className:"max-w-xs truncate",children:O.articleTitle})}),e.jsx(Ge,{children:e.jsx(vt,{date:O.createdAt,type:"relative"})}),e.jsx(Ge,{children:R(O.status)}),e.jsx(Ge,{children:e.jsxs(pi,{children:[e.jsx(gi,{asChild:!0,children:e.jsxs(D,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:" "}),e.jsx(of,{className:"h-4 w-4"})]})}),e.jsxs(ua,{align:"end",children:[e.jsx(yc,{children:""}),e.jsx(Rn,{}),O.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsxs(kt,{onClick:()=>P.mutate(O.id),className:"text-green-600",children:[e.jsx(ts,{className:"h-4 w-4 mr-2"}),""]}),e.jsxs(kt,{onClick:()=>A.mutate(O.id),className:"text-red-600",children:[e.jsx(nf,{className:"h-4 w-4 mr-2"}),""]})]}),e.jsxs(kt,{onClick:()=>B(O),children:[e.jsx(PD,{className:"h-4 w-4 mr-2"})," "]}),e.jsx(Rn,{}),e.jsxs(kt,{onClick:()=>g(O.id),className:"text-red-600",children:[e.jsx(vs,{className:"h-4 w-4 mr-2"})," "]})]})]})})]},O.id)):e.jsx(Zt,{children:e.jsx(Ge,{colSpan:6,className:"text-center py-8",children:"   "})})})]})})})]}),e.jsx(Yn,{open:d,onOpenChange:u,children:e.jsxs(yn,{children:[e.jsxs(jn,{children:[e.jsx(wn,{children:" "}),e.jsx(L4,{children:"     "})]}),l&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium",children:" :"}),e.jsx("p",{className:"text-sm mt-1",children:l.content})]}),e.jsx(Qt,{placeholder:"  ...",value:h,onChange:O=>f(O.target.value),rows:4})]}),e.jsxs(_f,{children:[e.jsx(D,{variant:"outline",onClick:()=>u(!1),children:""}),e.jsxs(D,{onClick:H,disabled:!h.trim()||T.isPending,children:[T.isPending?e.jsx(ae,{className:"h-4 w-4 animate-spin mr-2"}):null," "]})]})]})}),e.jsx(wu,{open:!!x,onOpenChange:()=>g(null),children:e.jsxs(jc,{children:[e.jsxs(wc,{children:[e.jsx(Nc,{children:"  "}),e.jsx(_c,{children:"         ?      "})]}),e.jsxs(bc,{children:[e.jsx(kc,{children:""}),e.jsx(Sc,{onClick:()=>x&&k.mutate(x),className:"bg-red-600 hover:bg-red-700",children:" "})]})]})})]})})}function VV(){var y,j,w,b,N;const{user:t,loading:s}=rt(),[,r]=yt(),[n,a]=m.useState({siteName:"",siteDescription:"   ",siteKeywords:", , , ",ogImageUrl:"/og-default-image.svg",twitterHandle:"@prothomaloBD",facebookAppId:"",googleSiteVerification:"",bingWebmasterTools:"",enableSitemap:!0,enableRobots:!0,enableAnalytics:!0,canonicalUrl:"https://prothomalo.com"}),{toast:i}=Ze(),o=cs();m.useEffect(()=>{var _;(!s&&!t||!s&&t&&((_=t.user_metadata)==null?void 0:_.role)!=="admin")&&r("/admin-login")},[s,t,r]);const{data:l,isLoading:c}=_e({queryKey:["/api/admin/seo-settings"],enabled:!!t&&((y=t.user_metadata)==null?void 0:y.role)==="admin"}),{data:d,isLoading:u}=_e({queryKey:["/api/admin/meta-tags"],enabled:!!t&&((j=t.user_metadata)==null?void 0:j.role)==="admin"}),{data:h,isLoading:f}=_e({queryKey:["/api/admin/seo-analytics"],enabled:!!t&&((w=t.user_metadata)==null?void 0:w.role)==="admin"}),x=Me({mutationFn:async _=>await Xr("/api/admin/seo-settings",{method:"PUT",body:_}),onSuccess:()=>{o.invalidateQueries({queryKey:["/api/admin/seo-settings"]}),i({title:"SEO  ",description:" SEO    "})},onError:()=>{i({title:" ",description:"SEO     ",variant:"destructive"})}}),g=Me({mutationFn:async()=>await Xr("/api/admin/generate-sitemap",{method:"POST"}),onSuccess:()=>{i({title:"  ",description:"      "})},onError:()=>{i({title:"  ",description:"    ",variant:"destructive"})}});Me({mutationFn:async _=>await Xr(`/api/admin/meta-tags/${_.page}`,{method:"PUT",body:_.metaData}),onSuccess:()=>{o.invalidateQueries({queryKey:["/api/admin/meta-tags"]}),i({title:"  ",description:"     "})},onError:()=>{i({title:" ",description:"     ",variant:"destructive"})}});const v=(_,P)=>{a(A=>({...A,[_]:P}))},p=()=>{x.mutate(n)};return s?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(ae,{className:"h-8 w-8 animate-spin"})}):e.jsx(xt,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"SEO "}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"      "})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(D,{variant:"outline",onClick:()=>g.mutate(),disabled:g.isPending,children:[g.isPending?e.jsx(ae,{className:"h-4 w-4 animate-spin mr-2"}):e.jsx(on,{className:"h-4 w-4 mr-2"})," "]}),e.jsxs(D,{onClick:p,disabled:x.isPending,children:[x.isPending?e.jsx(ae,{className:"h-4 w-4 animate-spin mr-2"}):null,""]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs(C,{children:[e.jsxs(L,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(M,{className:"text-sm font-medium",children:" "}),e.jsx(Et,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:f?e.jsx(ae,{className:"h-6 w-6 animate-spin"}):(h==null?void 0:h.impressions)||0}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",(h==null?void 0:h.impressionChange)||0,"%  "]})]})]}),e.jsxs(C,{children:[e.jsxs(L,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(M,{className:"text-sm font-medium",children:" "}),e.jsx(Ot,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:f?e.jsx(ae,{className:"h-6 w-6 animate-spin"}):(h==null?void 0:h.clicks)||0}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(h==null?void 0:h.clickThroughRate)||0,"% CTR"]})]})]}),e.jsxs(C,{children:[e.jsxs(L,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(M,{className:"text-sm font-medium",children:" "}),e.jsx(mi,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:f?e.jsx(ae,{className:"h-6 w-6 animate-spin"}):(h==null?void 0:h.indexedPages)||0}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(h==null?void 0:h.totalPages)||0,"  "]})]})]}),e.jsxs(C,{children:[e.jsxs(L,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(M,{className:"text-sm font-medium",children:" "}),e.jsx(wr,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:f?e.jsx(ae,{className:"h-6 w-6 animate-spin"}):(h==null?void 0:h.avgRanking)||0}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(h==null?void 0:h.keywordCount)||0," "]})]})]})]}),e.jsxs(ds,{defaultValue:"general",className:"w-full",children:[e.jsxs(ns,{children:[e.jsx(ve,{value:"general",children:" "}),e.jsx(ve,{value:"meta-tags",children:" "}),e.jsx(ve,{value:"social-media",children:" "}),e.jsx(ve,{value:"analytics",children:""})]}),e.jsx(pe,{value:"general",className:"space-y-4",children:e.jsxs(C,{children:[e.jsxs(L,{children:[e.jsx(M,{children:" SEO "}),e.jsx(Ce,{children:"  SEO "})]}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"siteName",children:" "}),e.jsx(te,{id:"siteName",value:n.siteName,onChange:_=>v("siteName",_.target.value),placeholder:""})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"canonicalUrl",children:" URL"}),e.jsx(te,{id:"canonicalUrl",value:n.canonicalUrl,onChange:_=>v("canonicalUrl",_.target.value),placeholder:"https://prothomalo.com"})]})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"siteDescription",children:" "}),e.jsx(Qt,{id:"siteDescription",value:n.siteDescription,onChange:_=>v("siteDescription",_.target.value),placeholder:"   ",rows:3})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"siteKeywords",children:""}),e.jsx(te,{id:"siteKeywords",value:n.siteKeywords,onChange:_=>v("siteKeywords",_.target.value),placeholder:", , , "})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"googleSiteVerification",children:"Google Site Verification"}),e.jsx(te,{id:"googleSiteVerification",value:n.googleSiteVerification,onChange:_=>v("googleSiteVerification",_.target.value),placeholder:"google-site-verification "})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"bingWebmasterTools",children:"Bing Webmaster Tools"}),e.jsx(te,{id:"bingWebmasterTools",value:n.bingWebmasterTools,onChange:_=>v("bingWebmasterTools",_.target.value),placeholder:"msvalidate.01 "})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(G,{children:" "}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"    "})]}),e.jsx(lt,{checked:n.enableSitemap,onCheckedChange:_=>v("enableSitemap",_)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(G,{children:"Robots.txt "}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"   "})]}),e.jsx(lt,{checked:n.enableRobots,onCheckedChange:_=>v("enableRobots",_)})]})]})]})}),e.jsx(pe,{value:"meta-tags",className:"space-y-4",children:e.jsxs(C,{children:[e.jsxs(L,{children:[e.jsx(M,{children:"  "}),e.jsx(Ce,{children:"       "})]}),e.jsx(E,{children:e.jsx("div",{className:"rounded-md border",children:e.jsxs(yo,{children:[e.jsx(jo,{children:e.jsxs(Zt,{children:[e.jsx(ct,{children:""}),e.jsx(ct,{children:""}),e.jsx(ct,{children:""}),e.jsx(ct,{children:""}),e.jsx(ct,{children:""})]})}),e.jsx(wo,{children:u?e.jsx(Zt,{children:e.jsx(Ge,{colSpan:5,className:"text-center py-8",children:e.jsx(ae,{className:"h-6 w-6 animate-spin mx-auto"})})}):d!=null&&d.length?d.map(_=>e.jsxs(Zt,{children:[e.jsx(Ge,{className:"font-medium",children:_.pageName}),e.jsx(Ge,{className:"max-w-xs truncate",children:_.title}),e.jsx(Ge,{className:"max-w-xs truncate",children:_.description}),e.jsx(Ge,{className:"max-w-xs truncate",children:_.keywords}),e.jsx(Ge,{children:_.isOptimized?e.jsx(ts,{className:"h-4 w-4 text-green-500"}):e.jsx(Yt,{className:"h-4 w-4 text-yellow-500"})})]},_.id)):e.jsx(Zt,{children:e.jsx(Ge,{colSpan:5,className:"text-center py-8",children:"    "})})})]})})})]})}),e.jsx(pe,{value:"social-media",className:"space-y-4",children:e.jsxs(C,{children:[e.jsxs(L,{children:[e.jsx(M,{children:"  SEO"}),e.jsx(Ce,{children:"Open Graph  Twitter Card "})]}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"ogImageUrl",children:"Open Graph  URL"}),e.jsx(te,{id:"ogImageUrl",value:n.ogImageUrl,onChange:_=>v("ogImageUrl",_.target.value),placeholder:"/og-default-image.svg"})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"twitterHandle",children:"Twitter Handle"}),e.jsx(te,{id:"twitterHandle",value:n.twitterHandle,onChange:_=>v("twitterHandle",_.target.value),placeholder:"@prothomaloBD"})]})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"facebookAppId",children:"Facebook App ID"}),e.jsx(te,{id:"facebookAppId",value:n.facebookAppId,onChange:_=>v("facebookAppId",_.target.value),placeholder:"Facebook App ID"})]}),e.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(jy,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-blue-600",children:" "})]}),e.jsxs("div",{className:"mt-2 space-y-1",children:[e.jsx("a",{href:"https://developers.facebook.com/tools/debug/",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline block",children:"Facebook Open Graph Debugger"}),e.jsx("a",{href:"https://cards-dev.twitter.com/validator",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline block",children:"Twitter Card Validator"})]})]})]})]})}),e.jsx(pe,{value:"analytics",className:"space-y-4",children:e.jsxs(C,{children:[e.jsxs(L,{children:[e.jsx(M,{children:"SEO "}),e.jsx(Ce,{children:"    "})]}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:" "}),(b=h==null?void 0:h.topKeywords)==null?void 0:b.map((_,P)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-100 dark:bg-blue-900/20 rounded text-xs flex items-center justify-center",children:P+1}),e.jsx("span",{className:"text-sm",children:_.keyword})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm font-medium",children:["#",_.position]}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[_.clicks," "]})]})]},_.keyword))]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:" "}),(N=h==null?void 0:h.topPages)==null?void 0:N.map((_,P)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-6 h-6 bg-green-100 dark:bg-green-900/20 rounded text-xs flex items-center justify-center",children:P+1}),e.jsx("span",{className:"text-sm truncate max-w-[200px]",children:_.title})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm font-medium",children:_.clicks}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[_.impressions," "]})]})]},_.url))]})]})})]})})]})]})})}function BV(){var b,N,_,P,A;const{user:t,loading:s}=rt(),[,r]=yt(),[n,a]=m.useState({enableFuzzySearch:!0,enableSearchSuggestions:!0,enableAutoComplete:!0,enableSearchHistory:!0,maxSearchResults:50,searchTimeout:5e3,enableBengaliSearch:!0,enableAdvancedSearch:!0,enableSearchAnalytics:!0,indexingEnabled:!0,reindexFrequency:"daily"}),{toast:i}=Ze(),o=cs();m.useEffect(()=>{var k;(!s&&!t||!s&&t&&((k=t.user_metadata)==null?void 0:k.role)!=="admin")&&r("/admin-login")},[s,t,r]);const{data:l,isLoading:c}=_e({queryKey:["/api/admin/search-stats"],enabled:!!t&&((b=t.user_metadata)==null?void 0:b.role)==="admin"}),{data:d,isLoading:u}=_e({queryKey:["/api/admin/search-analytics"],enabled:!!t&&((N=t.user_metadata)==null?void 0:N.role)==="admin"}),{data:h,isLoading:f}=_e({queryKey:["/api/admin/search-history"],enabled:!!t&&((_=t.user_metadata)==null?void 0:_.role)==="admin"}),{data:x,isLoading:g}=_e({queryKey:["/api/admin/search-index"],enabled:!!t&&((P=t.user_metadata)==null?void 0:P.role)==="admin"}),v=Me({mutationFn:async k=>await Xr("/api/admin/search-settings",{method:"PUT",body:k}),onSuccess:()=>{o.invalidateQueries({queryKey:["/api/admin/search-settings"]}),i({title:"  ",description:"     "})},onError:()=>{i({title:" ",description:"     ",variant:"destructive"})}}),p=Me({mutationFn:async()=>await Xr("/api/admin/reindex-search",{method:"POST"}),onSuccess:()=>{o.invalidateQueries({queryKey:["/api/admin/search-index"]}),i({title:" ",description:"     "})},onError:()=>{i({title:" ",description:"     ",variant:"destructive"})}}),y=Me({mutationFn:async()=>await Xr("/api/admin/clear-search-history",{method:"DELETE"}),onSuccess:()=>{o.invalidateQueries({queryKey:["/api/admin/search-history"]}),i({title:"   ",description:"     "})},onError:()=>{i({title:"  ",description:"     ",variant:"destructive"})}}),j=(k,T)=>{a(S=>({...S,[k]:T}))},w=()=>{v.mutate(n)};return s?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(ae,{className:"h-8 w-8 animate-spin"})}):e.jsx(xt,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:" "}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:" ,     "})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(D,{variant:"outline",onClick:()=>p.mutate(),disabled:p.isPending,children:[p.isPending?e.jsx(ae,{className:"h-4 w-4 animate-spin mr-2"}):e.jsx(on,{className:"h-4 w-4 mr-2"}),""]}),e.jsxs(D,{onClick:w,disabled:v.isPending,children:[v.isPending?e.jsx(ae,{className:"h-4 w-4 animate-spin mr-2"}):null,""]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs(C,{children:[e.jsxs(L,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(M,{className:"text-sm font-medium",children:" "}),e.jsx(Ot,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:c?e.jsx(ae,{className:"h-6 w-6 animate-spin"}):(l==null?void 0:l.totalSearches)||0}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",(l==null?void 0:l.searchGrowth)||0,"%  "]})]})]}),e.jsxs(C,{children:[e.jsxs(L,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(M,{className:"text-sm font-medium",children:" "}),e.jsx(Jn,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:g?e.jsx(ae,{className:"h-6 w-6 animate-spin"}):(x==null?void 0:x.indexedArticles)||0}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(x==null?void 0:x.totalArticles)||0,"  "]})]})]}),e.jsxs(C,{children:[e.jsxs(L,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(M,{className:"text-sm font-medium",children:"  "}),e.jsx(du,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[c?e.jsx(ae,{className:"h-6 w-6 animate-spin"}):(l==null?void 0:l.avgResponseTime)||0,"ms"]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(l==null?void 0:l.performanceImprovement)||0,"% "]})]})]}),e.jsxs(C,{children:[e.jsxs(L,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(M,{className:"text-sm font-medium",children:" "}),e.jsx(ts,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[c?e.jsx(ae,{className:"h-6 w-6 animate-spin"}):(l==null?void 0:l.successRate)||0,"%"]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(l==null?void 0:l.totalResults)||0," "]})]})]})]}),e.jsxs(ds,{defaultValue:"settings",className:"w-full",children:[e.jsxs(ns,{children:[e.jsx(ve,{value:"settings",children:""}),e.jsx(ve,{value:"analytics",children:""}),e.jsx(ve,{value:"history",children:""}),e.jsx(ve,{value:"index",children:""})]}),e.jsx(pe,{value:"settings",className:"space-y-4",children:e.jsxs(C,{children:[e.jsxs(L,{children:[e.jsx(M,{children:" "}),e.jsx(Ce,{children:"    "})]}),e.jsx(E,{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:" "}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(G,{children:" "}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"  "})]}),e.jsx(lt,{checked:n.enableFuzzySearch,onCheckedChange:k=>j("enableFuzzySearch",k)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(G,{children:" "}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"  "})]}),e.jsx(lt,{checked:n.enableSearchSuggestions,onCheckedChange:k=>j("enableSearchSuggestions",k)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(G,{children:" "}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"  "})]}),e.jsx(lt,{checked:n.enableAutoComplete,onCheckedChange:k=>j("enableAutoComplete",k)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(G,{children:" "}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"  "})]}),e.jsx(lt,{checked:n.enableBengaliSearch,onCheckedChange:k=>j("enableBengaliSearch",k)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(G,{children:" "}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"  "})]}),e.jsx(lt,{checked:n.enableAdvancedSearch,onCheckedChange:k=>j("enableAdvancedSearch",k)})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:" "}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"maxResults",children:" "}),e.jsx(te,{id:"maxResults",type:"number",value:n.maxSearchResults,onChange:k=>j("maxSearchResults",parseInt(k.target.value)),min:"10",max:"100",className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"searchTimeout",children:"  (ms)"}),e.jsx(te,{id:"searchTimeout",type:"number",value:n.searchTimeout,onChange:k=>j("searchTimeout",parseInt(k.target.value)),min:"1000",max:"10000",className:"mt-1"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(G,{children:" "}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"   "})]}),e.jsx(lt,{checked:n.enableSearchHistory,onCheckedChange:k=>j("enableSearchHistory",k)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(G,{children:" "}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"  "})]}),e.jsx(lt,{checked:n.enableSearchAnalytics,onCheckedChange:k=>j("enableSearchAnalytics",k)})]})]})]})})]})}),e.jsx(pe,{value:"analytics",className:"space-y-4",children:e.jsxs(C,{children:[e.jsxs(L,{children:[e.jsx(M,{children:" "}),e.jsx(Ce,{children:"    "})]}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:" "}),u?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(ae,{className:"h-6 w-6 animate-spin"})}):(A=d==null?void 0:d.popularSearches)==null?void 0:A.map((k,T)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-100 dark:bg-blue-900/20 rounded text-xs flex items-center justify-center",children:T+1}),e.jsx("span",{className:"font-medium",children:k.query})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm font-medium",children:k.count}),e.jsx("div",{className:"text-xs text-muted-foreground",children:""})]})]},k.query))]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:" "}),u?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(ae,{className:"h-6 w-6 animate-spin"})}):e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsx("span",{className:"text-sm font-medium",children:" "}),e.jsxs("span",{className:"text-green-600 font-bold",children:[(d==null?void 0:d.successfulSearches)||0,"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:[e.jsx("span",{className:"text-sm font-medium",children:" "}),e.jsxs("span",{className:"text-yellow-600 font-bold",children:[(d==null?void 0:d.partialResults)||0,"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[e.jsx("span",{className:"text-sm font-medium",children:" "}),e.jsxs("span",{className:"text-red-600 font-bold",children:[(d==null?void 0:d.noResults)||0,"%"]})]})]})]})]})})]})}),e.jsx(pe,{value:"history",className:"space-y-4",children:e.jsxs(C,{children:[e.jsx(L,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(M,{children:" "}),e.jsx(Ce,{children:"  "})]}),e.jsxs(D,{variant:"outline",size:"sm",onClick:()=>y.mutate(),disabled:y.isPending,children:[y.isPending?e.jsx(ae,{className:"h-4 w-4 animate-spin mr-2"}):null," "]})]})}),e.jsx(E,{children:e.jsx("div",{className:"rounded-md border",children:e.jsxs(yo,{children:[e.jsx(jo,{children:e.jsxs(Zt,{children:[e.jsx(ct,{children:""}),e.jsx(ct,{children:""}),e.jsx(ct,{children:""}),e.jsx(ct,{children:" "}),e.jsx(ct,{children:""})]})}),e.jsx(wo,{children:f?e.jsx(Zt,{children:e.jsx(Ge,{colSpan:5,className:"text-center py-8",children:e.jsx(ae,{className:"h-6 w-6 animate-spin mx-auto"})})}):h!=null&&h.length?h.map(k=>e.jsxs(Zt,{children:[e.jsx(Ge,{className:"font-medium",children:k.query}),e.jsx(Ge,{children:k.userEmail||""}),e.jsx(Ge,{children:e.jsxs(X,{variant:k.resultCount>0?"default":"destructive",children:[k.resultCount," "]})}),e.jsxs(Ge,{children:[k.responseTime,"ms"]}),e.jsx(Ge,{children:e.jsx(vt,{date:k.searchedAt,type:"relative"})})]},k.id)):e.jsx(Zt,{children:e.jsx(Ge,{colSpan:5,className:"text-center py-8",children:"    "})})})]})})})]})}),e.jsx(pe,{value:"index",className:"space-y-4",children:e.jsxs(C,{children:[e.jsxs(L,{children:[e.jsx(M,{children:" "}),e.jsx(Ce,{children:"    "})]}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:g?e.jsx(ae,{className:"h-6 w-6 animate-spin mx-auto"}):(x==null?void 0:x.indexedArticles)||0}),e.jsx("div",{className:"text-sm text-blue-600 dark:text-blue-400",children:" "})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:g?e.jsx(ae,{className:"h-6 w-6 animate-spin mx-auto"}):(x==null?void 0:x.indexedCategories)||0}),e.jsx("div",{className:"text-sm text-green-600 dark:text-green-400",children:" "})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:[g?e.jsx(ae,{className:"h-6 w-6 animate-spin mx-auto"}):(x==null?void 0:x.indexHealth)||0,"%"]}),e.jsx("div",{className:"text-sm text-purple-600 dark:text-purple-400",children:" "})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:" "}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ts,{className:"h-5 w-5 text-green-500"}),e.jsx("span",{children:" "})]}),e.jsx("span",{className:"font-medium",children:(x==null?void 0:x.fullyIndexed)||0})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ht,{className:"h-5 w-5 text-yellow-500"}),e.jsx("span",{children:" "})]}),e.jsx("span",{className:"font-medium",children:(x==null?void 0:x.pendingIndexing)||0})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Yt,{className:"h-5 w-5 text-red-500"}),e.jsx("span",{children:" "})]}),e.jsx("span",{className:"font-medium",children:(x==null?void 0:x.failedIndexing)||0})]})]})]})]})})]})})]})]})})}function qV(){var h,f,x;const[t,s]=m.useState("overview"),{toast:r}=Ze(),n=cs(),{data:a,isLoading:i}=_e({queryKey:["admin-db-stats"],queryFn:()=>Promise.resolve({totalTables:71,totalRows:1200,databaseSize:"2.4 MB",lastBackup:new Date().toISOString()}),refetchInterval:3e4}),{data:o,isLoading:l}=_e({queryKey:["admin-db-health"],queryFn:()=>Promise.resolve({status:"healthy",connections:5,uptime:"99.9%"}),refetchInterval:1e4}),c=Me({mutationFn:()=>Promise.resolve({success:!0}),onSuccess:()=>{r({title:" ",description:"Supabase automatically handles database backups"})}}),d=Me({mutationFn:g=>apiRequest(`/api/admin/database/restore/${g}`,{method:"POST"}),onSuccess:()=>{r({title:" ",description:"   "}),n.invalidateQueries({queryKey:["/api/admin/database"]})}}),u=Me({mutationFn:()=>apiRequest("/api/admin/database/cleanup",{method:"POST"}),onSuccess:()=>{r({title:" ",description:"   "}),n.invalidateQueries({queryKey:["/api/admin/database"]})}});return e.jsx(xt,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:" "}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:" ,    "})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(D,{onClick:()=>c.mutate(),disabled:c.isPending,className:"flex items-center gap-2",children:[c.isPending?e.jsx(ae,{className:"h-4 w-4 animate-spin"}):e.jsx(si,{className:"h-4 w-4"}),"  "]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(C,{children:[e.jsxs(L,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(M,{className:"text-sm font-medium",children:" "}),e.jsx(Jn,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold flex items-center gap-2",children:(o==null?void 0:o.status)==="healthy"?e.jsxs(e.Fragment,{children:[e.jsx(ts,{className:"h-5 w-5 text-green-500"}),""]}):e.jsxs(e.Fragment,{children:[e.jsx(zs,{className:"h-5 w-5 text-yellow-500"}),""]})}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[" : ",new Date().toLocaleString("bn-BD")]})]})]}),e.jsxs(C,{children:[e.jsxs(L,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(M,{className:"text-sm font-medium",children:" "}),e.jsx(yD,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[(a==null?void 0:a.storage_used)||"0"," MB"]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",(a==null?void 0:a.storage_total)||"0"," MB  "]})]})]}),e.jsxs(C,{children:[e.jsxs(L,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(M,{className:"text-sm font-medium",children:" "}),e.jsx(mS,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:a!=null&&a.last_backup?new Date(a.last_backup).toLocaleDateString("bn-BD"):"  "}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(a==null?void 0:a.backup_count)||0,"   "]})]})]})]}),e.jsxs(ds,{value:t,onValueChange:s,className:"space-y-4",children:[e.jsxs(ns,{className:"grid w-full grid-cols-4",children:[e.jsx(ve,{value:"overview",children:""}),e.jsx(ve,{value:"backup",children:""}),e.jsx(ve,{value:"tables",children:""}),e.jsx(ve,{value:"monitoring",children:""})]}),e.jsx(pe,{value:"overview",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(C,{children:[e.jsx(L,{children:e.jsx(M,{children:" "})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:(h=a==null?void 0:a.tables)==null?void 0:h.map(g=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:g.name}),e.jsxs(X,{variant:"outline",children:[g.rows," "]})]},g.name))})})]}),e.jsxs(C,{children:[e.jsx(L,{children:e.jsx(M,{children:" "})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs(D,{onClick:()=>u.mutate(),disabled:u.isPending,variant:"outline",className:"w-full justify-start",children:[u.isPending?e.jsx(ae,{className:"h-4 w-4 animate-spin mr-2"}):e.jsx(vs,{className:"h-4 w-4 mr-2"})," "]}),e.jsxs(D,{onClick:()=>n.invalidateQueries({queryKey:["/api/admin/database"]}),variant:"outline",className:"w-full justify-start",children:[e.jsx(on,{className:"h-4 w-4 mr-2"})," "]})]})})]})]})}),e.jsx(pe,{value:"backup",className:"space-y-4",children:e.jsxs(C,{children:[e.jsxs(L,{children:[e.jsx(M,{children:" "}),e.jsx(Ce,{children:"   "})]}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:(f=a==null?void 0:a.backups)==null?void 0:f.map(g=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:g.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:[new Date(g.created_at).toLocaleString("bn-BD"),"  ",g.size," MB"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(D,{onClick:()=>d.mutate(g.id),disabled:d.isPending,size:"sm",variant:"outline",children:[e.jsx(ID,{className:"h-4 w-4 mr-1"}),""]}),e.jsxs(D,{size:"sm",variant:"outline",children:[e.jsx(si,{className:"h-4 w-4 mr-1"}),""]})]})]},g.id))})})]})}),e.jsx(pe,{value:"tables",className:"space-y-4",children:e.jsxs(C,{children:[e.jsxs(L,{children:[e.jsx(M,{children:" "}),e.jsx(Ce,{children:"    "})]}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:(x=a==null?void 0:a.table_structures)==null?void 0:x.map(g=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium mb-2",children:g.name}),e.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[e.jsxs("p",{children:[": ",g.rows]}),e.jsxs("p",{children:[": ",g.columns]}),e.jsxs("p",{children:[": ",g.size," MB"]})]})]},g.name))})})]})}),e.jsx(pe,{value:"monitoring",className:"space-y-4",children:e.jsxs(C,{children:[e.jsxs(L,{children:[e.jsx(M,{children:" "}),e.jsx(Ce,{children:"  "})]}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("h4",{className:"font-medium mb-2",children:" "}),e.jsxs("div",{className:"text-sm space-y-1",children:[e.jsxs("p",{children:["  : ",(a==null?void 0:a.avg_response_time)||"0","ms"]}),e.jsxs("p",{children:[" : ",(a==null?void 0:a.slow_queries)||"0"]}),e.jsxs("p",{children:[" : ",(a==null?void 0:a.active_connections)||"0"]})]})]}),e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("h4",{className:"font-medium mb-2",children:" "}),e.jsxs("div",{className:"text-sm space-y-1",children:[e.jsxs("p",{children:["CPU : ",(a==null?void 0:a.cpu_usage)||"0","%"]}),e.jsxs("p",{children:[" : ",(a==null?void 0:a.memory_usage)||"0","%"]}),e.jsxs("p",{children:[" I/O: ",(a==null?void 0:a.disk_io)||"0"," ops/sec"]})]})]})]})})})]})})]})]})})}function HV(){const[t,s]=m.useState("templates"),[r,n]=m.useState(null),[a,i]=m.useState({name:"",subject:"",content:"",type:"newsletter"}),{toast:o}=Ze(),l=cs(),{data:c,isLoading:d}=_e({queryKey:["admin-email-templates"],queryFn:()=>w4()}),{data:u,isLoading:h}=_e({queryKey:["/api/admin/newsletter-subscribers"]}),{data:f,isLoading:x}=_e({queryKey:["/api/admin/email-settings"]}),{data:g,isLoading:v}=_e({queryKey:["/api/admin/email-stats"]}),p=Me({mutationFn:_=>r?apiRequest(`/api/admin/email-templates/${r.id}`,{method:"PUT",body:JSON.stringify(_)}):apiRequest("/api/admin/email-templates",{method:"POST",body:JSON.stringify(_)}),onSuccess:()=>{o({title:" ",description:"    "}),l.invalidateQueries({queryKey:["/api/admin/email-templates"]}),n(null),i({name:"",subject:"",content:"",type:"newsletter"})}}),y=Me({mutationFn:_=>apiRequest(`/api/admin/email-templates/${_}`,{method:"DELETE"}),onSuccess:()=>{o({title:"   ",description:"     "}),l.invalidateQueries({queryKey:["/api/admin/email-templates"]})}}),j=Me({mutationFn:_=>apiRequest("/api/admin/send-newsletter",{method:"POST",body:JSON.stringify(_)}),onSuccess:()=>{o({title:"  ",description:"    "})}}),w=Me({mutationFn:_=>apiRequest("/api/admin/email-settings",{method:"PUT",body:JSON.stringify(_)}),onSuccess:()=>{o({title:"  ",description:"    "}),l.invalidateQueries({queryKey:["/api/admin/email-settings"]})}}),b=_=>{_.preventDefault(),p.mutate(a)},N=_=>{n(_),i({name:_.name,subject:_.subject,content:_.content,type:_.type})};return e.jsx(xt,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"  "}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:" ,     "})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs(C,{children:[e.jsxs(L,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(M,{className:"text-sm font-medium",children:" "}),e.jsx(gt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(g==null?void 0:g.total_subscribers)||0}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",(g==null?void 0:g.new_subscribers_today)||0," "]})]})]}),e.jsxs(C,{children:[e.jsxs(L,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(M,{className:"text-sm font-medium",children:" "}),e.jsx(Ul,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(g==null?void 0:g.emails_sent)||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]})]}),e.jsxs(C,{children:[e.jsxs(L,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(M,{className:"text-sm font-medium",children:" "}),e.jsx(Et,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[(g==null?void 0:g.open_rate)||0,"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"  "})]})]}),e.jsxs(C,{children:[e.jsxs(L,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(M,{className:"text-sm font-medium",children:" "}),e.jsx(Xt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(c==null?void 0:c.length)||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]})]})]}),e.jsxs(ds,{value:t,onValueChange:s,className:"space-y-4",children:[e.jsxs(ns,{className:"grid w-full grid-cols-4",children:[e.jsx(ve,{value:"templates",children:""}),e.jsx(ve,{value:"subscribers",children:""}),e.jsx(ve,{value:"newsletter",children:""}),e.jsx(ve,{value:"settings",children:""})]}),e.jsx(pe,{value:"templates",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(C,{children:[e.jsx(L,{children:e.jsx(M,{children:r?" ":" "})}),e.jsx(E,{children:e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"name",children:" "}),e.jsx(te,{id:"name",value:a.name,onChange:_=>i({...a,name:_.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"subject",children:" "}),e.jsx(te,{id:"subject",value:a.subject,onChange:_=>i({...a,subject:_.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"content",children:" "}),e.jsx(Qt,{id:"content",value:a.content,onChange:_=>i({...a,content:_.target.value}),rows:8,required:!0})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(D,{type:"submit",disabled:p.isPending,className:"flex-1",children:[p.isPending?e.jsx(ae,{className:"h-4 w-4 animate-spin mr-2"}):e.jsx(rr,{className:"h-4 w-4 mr-2"}),r?" ":" "]}),r&&e.jsx(D,{type:"button",variant:"outline",onClick:()=>{n(null),i({name:"",subject:"",content:"",type:"newsletter"})},children:""})]})]})})]}),e.jsxs(C,{children:[e.jsx(L,{children:e.jsx(M,{children:" "})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:c==null?void 0:c.map(_=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium",children:_.name}),e.jsx("p",{className:"text-sm text-gray-600 truncate",children:_.subject}),e.jsx(X,{variant:"outline",className:"mt-1",children:_.type})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(D,{size:"sm",variant:"outline",onClick:()=>N(_),children:e.jsx(nr,{className:"h-4 w-4"})}),e.jsx(D,{size:"sm",variant:"outline",onClick:()=>y.mutate(_.id),children:e.jsx(vs,{className:"h-4 w-4"})})]})]},_.id))})})]})]})}),e.jsx(pe,{value:"subscribers",className:"space-y-4",children:e.jsxs(C,{children:[e.jsxs(L,{children:[e.jsx(M,{children:" "}),e.jsxs(Ce,{children:[(u==null?void 0:u.length)||0,"   "]})]}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:u==null?void 0:u.map(_=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:_.email}),e.jsxs("p",{className:"text-sm text-gray-600",children:[": ",new Date(_.subscribed_at).toLocaleDateString("bn-BD")]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(X,{variant:_.active?"default":"secondary",children:_.active?"":""}),e.jsx(D,{size:"sm",variant:"outline",children:e.jsx(cf,{className:"h-4 w-4"})})]})]},_.id))})})]})}),e.jsx(pe,{value:"newsletter",className:"space-y-4",children:e.jsxs(C,{children:[e.jsxs(L,{children:[e.jsx(M,{children:" "}),e.jsx(Ce,{children:"   "})]}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"newsletter-template",children:"  "}),e.jsxs("select",{id:"newsletter-template",className:"w-full p-2 border rounded-md",children:[e.jsx("option",{value:"",children:"  "}),c==null?void 0:c.filter(_=>_.type==="newsletter").map(_=>e.jsx("option",{value:_.id,children:_.name},_.id))]})]}),e.jsxs(D,{onClick:()=>j.mutate({}),disabled:j.isPending,className:"w-full",children:[j.isPending?e.jsx(ae,{className:"h-4 w-4 animate-spin mr-2"}):e.jsx(Ul,{className:"h-4 w-4 mr-2"})," "]})]})})]})}),e.jsx(pe,{value:"settings",className:"space-y-4",children:e.jsxs(C,{children:[e.jsxs(L,{children:[e.jsx(M,{children:" "}),e.jsx(Ce,{children:"     "})]}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"email-notifications",children:" "}),e.jsx("p",{className:"text-sm text-gray-600",children:"     "})]}),e.jsx(lt,{id:"email-notifications",checked:f==null?void 0:f.email_notifications,onCheckedChange:_=>w.mutate({...f,email_notifications:_})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"auto-newsletter",children:" "}),e.jsx("p",{className:"text-sm text-gray-600",children:"   "})]}),e.jsx(lt,{id:"auto-newsletter",checked:f==null?void 0:f.auto_newsletter,onCheckedChange:_=>w.mutate({...f,auto_newsletter:_})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"push-notifications",children:" "}),e.jsx("p",{className:"text-sm text-gray-600",children:"    "})]}),e.jsx(lt,{id:"push-notifications",checked:f==null?void 0:f.push_notifications,onCheckedChange:_=>w.mutate({...f,push_notifications:_})})]})]})})]})})]})]})})}function WV(){var x,g,v;const[t,s]=m.useState("overview"),[r,n]=m.useState(5e3),{data:a,isLoading:i}=_e({queryKey:["/api/admin/performance-metrics"],refetchInterval:r}),{data:o,isLoading:l}=_e({queryKey:["/api/admin/error-logs"],refetchInterval:3e4}),{data:c,isLoading:d}=_e({queryKey:["/api/admin/api-metrics"],refetchInterval:1e4}),{data:u,isLoading:h}=_e({queryKey:["/api/admin/ux-analytics"],refetchInterval:6e4}),f=p=>{switch(p){case"excellent":case"good":return e.jsx(ts,{className:"h-4 w-4 text-green-500"});case"warning":return e.jsx(zs,{className:"h-4 w-4 text-yellow-500"});case"critical":return e.jsx(zs,{className:"h-4 w-4 text-red-500"});default:return e.jsx(Rt,{className:"h-4 w-4 text-gray-500"})}};return e.jsx(xt,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:" "}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:" ,    API   "})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(X,{variant:"outline",className:"flex items-center gap-1",children:[e.jsx(on,{className:"h-3 w-3"}),r/1e3,"s"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs(C,{children:[e.jsxs(L,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(M,{className:"text-sm font-medium",children:" "}),e.jsx(mi,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsxs("div",{className:"text-2xl font-bold flex items-center gap-2",children:[f((a==null?void 0:a.site_status)||"unknown"),(a==null?void 0:a.site_status)==="excellent"?"":(a==null?void 0:a.site_status)==="good"?"":(a==null?void 0:a.site_status)==="warning"?"":""]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[": ",(a==null?void 0:a.uptime)||"99.9","%"]})]})]}),e.jsxs(C,{children:[e.jsxs(L,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(M,{className:"text-sm font-medium",children:"  "}),e.jsx(ht,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[(a==null?void 0:a.avg_page_load_time)||"0","ms"]}),e.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[(a==null?void 0:a.page_load_trend)==="up"?e.jsx(Ct,{className:"h-3 w-3 text-green-500 mr-1"}):e.jsx(_S,{className:"h-3 w-3 text-red-500 mr-1"}),(a==null?void 0:a.page_load_change)||"0","%   "]})]})]}),e.jsxs(C,{children:[e.jsxs(L,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(M,{className:"text-sm font-medium",children:"API "}),e.jsx(du,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[(c==null?void 0:c.avg_response_time)||"0","ms"]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(c==null?void 0:c.total_requests)||0,"  "]})]})]}),e.jsxs(C,{children:[e.jsxs(L,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(M,{className:"text-sm font-medium",children:" "}),e.jsx(zs,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[(a==null?void 0:a.error_rate)||"0","%"]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(o==null?void 0:o.length)||0,"  "]})]})]})]}),e.jsxs(ds,{value:t,onValueChange:s,className:"space-y-4",children:[e.jsxs(ns,{className:"grid w-full grid-cols-4",children:[e.jsx(ve,{value:"overview",children:""}),e.jsx(ve,{value:"errors",children:" "}),e.jsx(ve,{value:"api",children:"API "}),e.jsx(ve,{value:"ux",children:"UX "})]}),e.jsx(pe,{value:"overview",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(C,{children:[e.jsx(L,{children:e.jsx(M,{children:" "})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:"CPU "}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-24 h-2 bg-gray-200 rounded-full",children:e.jsx("div",{className:"h-2 bg-blue-500 rounded-full",style:{width:`${(a==null?void 0:a.cpu_usage)||0}%`}})}),e.jsxs("span",{className:"text-sm",children:[(a==null?void 0:a.cpu_usage)||0,"%"]})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:" "}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-24 h-2 bg-gray-200 rounded-full",children:e.jsx("div",{className:"h-2 bg-green-500 rounded-full",style:{width:`${(a==null?void 0:a.memory_usage)||0}%`}})}),e.jsxs("span",{className:"text-sm",children:[(a==null?void 0:a.memory_usage)||0,"%"]})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:" "}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-24 h-2 bg-gray-200 rounded-full",children:e.jsx("div",{className:"h-2 bg-yellow-500 rounded-full",style:{width:`${(a==null?void 0:a.disk_usage)||0}%`}})}),e.jsxs("span",{className:"text-sm",children:[(a==null?void 0:a.disk_usage)||0,"%"]})]})]})]})})]}),e.jsxs(C,{children:[e.jsx(L,{children:e.jsx(M,{children:" "})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:" "}),e.jsxs("span",{className:"text-sm font-bold",children:[(a==null?void 0:a.bandwidth_usage)||"0"," MB/s"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:"/"}),e.jsx("span",{className:"text-sm font-bold",children:(a==null?void 0:a.requests_per_second)||"0"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:" "}),e.jsx("span",{className:"text-sm font-bold",children:(a==null?void 0:a.active_connections)||"0"})]})]})})]})]})}),e.jsx(pe,{value:"errors",className:"space-y-4",children:e.jsxs(C,{children:[e.jsxs(L,{children:[e.jsx(M,{children:"  "}),e.jsxs(Ce,{children:[" ",(o==null?void 0:o.length)||0,"  "]})]}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:o==null?void 0:o.map((p,y)=>e.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:e.jsx(zs,{className:`h-4 w-4 ${p.level==="critical"?"text-red-500":p.level==="warning"?"text-yellow-500":"text-gray-500"}`})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-sm font-medium",children:p.type}),e.jsx(X,{variant:p.level==="critical"?"destructive":"outline",children:p.level})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:p.message}),e.jsxs("p",{className:"text-xs text-gray-500",children:[new Date(p.timestamp).toLocaleString("bn-BD"),"  ",p.url]})]})]},y))})})]})}),e.jsx(pe,{value:"api",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(C,{children:[e.jsx(L,{children:e.jsx(M,{children:"API  "})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:(x=c==null?void 0:c.endpoints)==null?void 0:x.map((p,y)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:p.path}),e.jsx("p",{className:"text-sm text-gray-600",children:p.method})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm font-bold",children:[p.avg_response_time,"ms"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[p.requests_count," "]})]})]},y))})})]}),e.jsxs(C,{children:[e.jsx(L,{children:e.jsx(M,{children:" "})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:(g=c==null?void 0:c.slow_queries)==null?void 0:g.map((p,y)=>e.jsxs("div",{className:"p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("span",{className:"text-sm font-medium",children:["Query #",y+1]}),e.jsxs(X,{variant:"outline",children:[p.duration,"ms"]})]}),e.jsx("p",{className:"text-xs text-gray-600 font-mono",children:p.query}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(p.timestamp).toLocaleString("bn-BD")})]},y))})})]})]})}),e.jsx(pe,{value:"ux",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(C,{children:[e.jsx(L,{children:e.jsx(M,{children:"  "})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:" "}),e.jsxs("span",{className:"text-sm font-bold",children:[(u==null?void 0:u.bounce_rate)||"0","%"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:"  "}),e.jsxs("span",{className:"text-sm font-bold",children:[(u==null?void 0:u.avg_session_duration)||"0","s"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:" /"}),e.jsx("span",{className:"text-sm font-bold",children:(u==null?void 0:u.pages_per_session)||"0"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:" "}),e.jsxs("span",{className:"text-sm font-bold",children:[(u==null?void 0:u.conversion_rate)||"0","%"]})]})]})})]}),e.jsxs(C,{children:[e.jsx(L,{children:e.jsx(M,{children:"  "})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:(v=u==null?void 0:u.slowest_pages)==null?void 0:v.map((p,y)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium truncate",children:p.path}),e.jsxs("p",{className:"text-sm text-gray-600",children:[p.visits," "]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm font-bold",children:[p.avg_load_time,"ms"]}),e.jsx("div",{className:"text-xs text-gray-500",children:"  "})]})]},y))})})]})]})})]})]})})}function KV(){var p;const[t,s]=m.useState("config"),[r,n]=m.useState({title:"",message:"",target:"all"}),{toast:a}=Ze(),i=cs(),{data:o,isLoading:l}=_e({queryKey:["admin-mobile-app-config"],queryFn:()=>k4()}),{data:c,isLoading:d}=_e({queryKey:["admin-mobile-app-analytics"],queryFn:()=>C4()}),{data:u,isLoading:h}=_e({queryKey:["admin-push-notifications"],queryFn:()=>T4()}),f=Me({mutationFn:y=>$g(y),onSuccess:()=>{a({title:"  ",description:"     "}),i.invalidateQueries({queryKey:["admin-mobile-app-config"]})}}),x=Me({mutationFn:y=>E4(y),onSuccess:()=>{a({title:"   ",description:"    "}),i.invalidateQueries({queryKey:["admin-push-notifications"]}),n({title:"",message:"",target:"all"})}}),g=Me({mutationFn:()=>$g({force_update_enabled:!0}),onSuccess:()=>{a({title:"   ",description:"     "}),i.invalidateQueries({queryKey:["admin-mobile-app-config"]})}}),v=y=>{y.preventDefault(),x.mutate(r)};return e.jsx(xt,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"  "}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"  ,    "})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(D,{onClick:()=>g.mutate(),disabled:g.isPending,variant:"outline",children:[g.isPending?e.jsx(ae,{className:"h-4 w-4 animate-spin mr-2"}):e.jsx(on,{className:"h-4 w-4 mr-2"})," "]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs(C,{children:[e.jsxs(L,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(M,{className:"text-sm font-medium",children:" "}),e.jsx(gt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(c==null?void 0:c.active_users)||0}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",(c==null?void 0:c.new_users_today)||0," "]})]})]}),e.jsxs(C,{children:[e.jsxs(L,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(M,{className:"text-sm font-medium",children:" "}),e.jsx(df,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(o==null?void 0:o.current_version)||"v1.0.0"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(o==null?void 0:o.users_on_latest)||0,"%  "]})]})]}),e.jsxs(C,{children:[e.jsxs(L,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(M,{className:"text-sm font-medium",children:""}),e.jsx(si,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(c==null?void 0:c.total_downloads)||0}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(c==null?void 0:c.downloads_this_month)||0,"  "]})]})]}),e.jsxs(C,{children:[e.jsxs(L,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(M,{className:"text-sm font-medium",children:" "}),e.jsx(tn,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(u==null?void 0:u.length)||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"  "})]})]})]}),e.jsxs(ds,{value:t,onValueChange:s,className:"space-y-4",children:[e.jsxs(ns,{className:"grid w-full grid-cols-4",children:[e.jsx(ve,{value:"config",children:""}),e.jsx(ve,{value:"notifications",children:""}),e.jsx(ve,{value:"analytics",children:""}),e.jsx(ve,{value:"updates",children:""})]}),e.jsx(pe,{value:"config",className:"space-y-4",children:e.jsxs(C,{children:[e.jsxs(L,{children:[e.jsx(M,{children:" "}),e.jsx(Ce,{children:"     "})]}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"app-name",children:" "}),e.jsx(te,{id:"app-name",value:(o==null?void 0:o.app_name)||"",onChange:y=>f.mutate({...o,app_name:y.target.value})})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"app-version",children:" "}),e.jsx(te,{id:"app-version",value:(o==null?void 0:o.current_version)||"v1.0.0",onChange:y=>f.mutate({...o,current_version:y.target.value})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"push-enabled",children:"  "}),e.jsx("p",{className:"text-sm text-gray-600",children:"    "})]}),e.jsx(lt,{id:"push-enabled",checked:o==null?void 0:o.push_notifications_enabled,onCheckedChange:y=>f.mutate({...o,push_notifications_enabled:y})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"offline-mode",children:" "}),e.jsx("p",{className:"text-sm text-gray-600",children:"    "})]}),e.jsx(lt,{id:"offline-mode",checked:o==null?void 0:o.offline_mode_enabled,onCheckedChange:y=>f.mutate({...o,offline_mode_enabled:y})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"dark-mode",children:" "}),e.jsx("p",{className:"text-sm text-gray-600",children:"   "})]}),e.jsx(lt,{id:"dark-mode",checked:o==null?void 0:o.dark_mode_enabled,onCheckedChange:y=>f.mutate({...o,dark_mode_enabled:y})})]})]})]})})]})}),e.jsx(pe,{value:"notifications",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(C,{children:[e.jsx(L,{children:e.jsx(M,{children:"  "})}),e.jsx(E,{children:e.jsxs("form",{onSubmit:v,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"notification-title",children:" "}),e.jsx(te,{id:"notification-title",value:r.title,onChange:y=>n({...r,title:y.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"notification-message",children:""}),e.jsx(te,{id:"notification-message",value:r.message,onChange:y=>n({...r,message:y.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"notification-target",children:""}),e.jsxs("select",{id:"notification-target",value:r.target,onChange:y=>n({...r,target:y.target.value}),className:"w-full p-2 border rounded-md",children:[e.jsx("option",{value:"all",children:" "}),e.jsx("option",{value:"active",children:" "}),e.jsx("option",{value:"subscribers",children:""})]})]}),e.jsxs(D,{type:"submit",disabled:x.isPending,className:"w-full",children:[x.isPending?e.jsx(ae,{className:"h-4 w-4 animate-spin mr-2"}):e.jsx(tn,{className:"h-4 w-4 mr-2"})," "]})]})})]}),e.jsxs(C,{children:[e.jsx(L,{children:e.jsx(M,{children:" "})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:u==null?void 0:u.slice(0,5).map(y=>e.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[e.jsx(tn,{className:"h-4 w-4 text-blue-500 mt-1 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium",children:y.title}),e.jsx("p",{className:"text-sm text-gray-600",children:y.message}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(X,{variant:"outline",children:y.target}),e.jsx("span",{className:"text-xs text-gray-500",children:new Date(y.sent_at).toLocaleString("bn-BD")})]})]})]},y.id))})})]})]})}),e.jsx(pe,{value:"analytics",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(C,{children:[e.jsx(L,{children:e.jsx(M,{children:" "})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:"  "}),e.jsx("span",{className:"text-sm font-bold",children:(c==null?void 0:c.daily_active_users)||0})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:"  "}),e.jsx("span",{className:"text-sm font-bold",children:(c==null?void 0:c.weekly_active_users)||0})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:"  "}),e.jsx("span",{className:"text-sm font-bold",children:(c==null?void 0:c.monthly_active_users)||0})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:" "}),e.jsxs("span",{className:"text-sm font-bold",children:[(c==null?void 0:c.retention_rate)||0,"%"]})]})]})})]}),e.jsxs(C,{children:[e.jsx(L,{children:e.jsx(M,{children:" "})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:"  "}),e.jsxs("span",{className:"text-sm font-bold",children:[(c==null?void 0:c.avg_launch_time)||0,"ms"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:" "}),e.jsxs("span",{className:"text-sm font-bold",children:[(c==null?void 0:c.crash_rate)||0,"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:"  "}),e.jsxs("span",{className:"text-sm font-bold",children:[(c==null?void 0:c.avg_session_duration)||0,"m"]})]})]})})]})]})}),e.jsx(pe,{value:"updates",className:"space-y-4",children:e.jsxs(C,{children:[e.jsxs(L,{children:[e.jsx(M,{children:"  "}),e.jsx(Ce,{children:"    "})]}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"min-version",children:" "}),e.jsx(te,{id:"min-version",value:(o==null?void 0:o.minimum_version)||"v1.0.0",onChange:y=>f.mutate({...o,minimum_version:y.target.value})})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"latest-version",children:" "}),e.jsx(te,{id:"latest-version",value:(o==null?void 0:o.latest_version)||"v1.0.0",onChange:y=>f.mutate({...o,latest_version:y.target.value})})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"force-update",children:" "}),e.jsx("p",{className:"text-sm text-gray-600",children:"    "})]}),e.jsx(lt,{id:"force-update",checked:o==null?void 0:o.force_update_enabled,onCheckedChange:y=>f.mutate({...o,force_update_enabled:y})})]}),e.jsxs("div",{className:"pt-4 border-t",children:[e.jsx("h4",{className:"font-medium mb-2",children:" "}),e.jsx("div",{className:"space-y-2",children:(p=c==null?void 0:c.version_stats)==null?void 0:p.map(y=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:y.version}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:[y.percentage,"%"]}),e.jsxs(X,{variant:"outline",children:[y.count," "]})]})]},y.version))})]})]})})]})})]})]})})}function GV(){var j;const[t,s]=m.useState("ads"),[r,n]=m.useState(null),[a,i]=m.useState({title:"",description:"",image_url:"",target_url:"",position:"banner",status:"active"}),{toast:o}=Ze(),l=cs(),{data:c,isLoading:d}=_e({queryKey:["admin-advertisements"],queryFn:()=>v4()}),u=[],{data:h={total_revenue:0,revenue_this_month:0,revenue_last_month:0,growth_rate:0,revenue_sources:[]},isLoading:f}=_e({queryKey:["admin-ad-revenue"]}),x=Me({mutationFn:w=>r?Fg(r.id,w):y4(w),onSuccess:()=>{o({title:" ",description:"   "}),l.invalidateQueries({queryKey:["admin-advertisements"]}),n(null),i({title:"",description:"",image_url:"",target_url:"",position:"banner",status:"active"})}}),g=Me({mutationFn:w=>j4(w),onSuccess:()=>{o({title:"   ",description:"    "}),l.invalidateQueries({queryKey:["admin-advertisements"]})}}),v=Me({mutationFn:w=>Fg(w.id,{...w,status:w.status==="active"?"inactive":"active"}),onSuccess:()=>{l.invalidateQueries({queryKey:["admin-advertisements"]})}}),p=w=>{w.preventDefault(),x.mutate(a)},y=w=>{n(w),i({title:w.title,description:w.description,image_url:w.image_url,target_url:w.target_url,position:w.position,status:w.status})};return e.jsx(xt,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:" "}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:" ,     "})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs(C,{children:[e.jsxs(L,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(M,{className:"text-sm font-medium",children:" "}),e.jsx($d,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:["",(h==null?void 0:h.total_revenue)||0]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",(h==null?void 0:h.revenue_this_month)||0,"  "]})]})]}),e.jsxs(C,{children:[e.jsxs(L,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(M,{className:"text-sm font-medium",children:" "}),e.jsx(Et,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:0}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[0," "]})]})]}),e.jsxs(C,{children:[e.jsxs(L,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(M,{className:"text-sm font-medium",children:" "}),e.jsx(kD,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[0,"%"]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[0,"  "]})]})]}),e.jsxs(C,{children:[e.jsxs(L,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(M,{className:"text-sm font-medium",children:" "}),e.jsx(wr,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(c==null?void 0:c.filter(w=>w.status==="active").length)||0}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",(c==null?void 0:c.length)||0,"  "]})]})]})]}),e.jsxs(ds,{value:t,onValueChange:s,className:"space-y-4",children:[e.jsxs(ns,{className:"grid w-full grid-cols-4",children:[e.jsx(ve,{value:"ads",children:""}),e.jsx(ve,{value:"analytics",children:""}),e.jsx(ve,{value:"advertisers",children:""}),e.jsx(ve,{value:"revenue",children:""})]}),e.jsx(pe,{value:"ads",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(C,{children:[e.jsx(L,{children:e.jsx(M,{children:r?" ":" "})}),e.jsx(E,{children:e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"title",children:" "}),e.jsx(te,{id:"title",value:a.title,onChange:w=>i({...a,title:w.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"description",children:""}),e.jsx(Qt,{id:"description",value:a.description,onChange:w=>i({...a,description:w.target.value}),rows:3})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"image_url",children:" URL"}),e.jsx(te,{id:"image_url",value:a.image_url,onChange:w=>i({...a,image_url:w.target.value}),placeholder:"https://example.com/image.jpg"})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"target_url",children:" URL"}),e.jsx(te,{id:"target_url",value:a.target_url,onChange:w=>i({...a,target_url:w.target.value}),placeholder:"https://example.com"})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"position",children:""}),e.jsxs("select",{id:"position",value:a.position,onChange:w=>i({...a,position:w.target.value}),className:"w-full p-2 border rounded-md",children:[e.jsx("option",{value:"banner",children:""}),e.jsx("option",{value:"sidebar",children:""}),e.jsx("option",{value:"inline",children:""}),e.jsx("option",{value:"popup",children:""})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(D,{type:"submit",disabled:x.isPending,className:"flex-1",children:[x.isPending?e.jsx(ae,{className:"h-4 w-4 animate-spin mr-2"}):e.jsx(rr,{className:"h-4 w-4 mr-2"}),r?" ":" "]}),r&&e.jsx(D,{type:"button",variant:"outline",onClick:()=>{n(null),i({title:"",description:"",image_url:"",target_url:"",position:"banner",status:"active"})},children:""})]})]})})]}),e.jsxs(C,{children:[e.jsx(L,{children:e.jsx(M,{children:" "})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:c==null?void 0:c.map(w=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"font-medium",children:w.title}),e.jsx(X,{variant:w.status==="active"?"default":"secondary",children:w.status==="active"?"":""})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:w.description}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[e.jsx("span",{children:w.position}),e.jsx("span",{children:""}),e.jsxs("span",{children:[w.impressions||0," "]}),e.jsx("span",{children:""}),e.jsxs("span",{children:[w.clicks||0," "]})]})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(D,{size:"sm",variant:"outline",onClick:()=>v.mutate(w),children:w.status==="active"?e.jsx($l,{className:"h-4 w-4"}):e.jsx(to,{className:"h-4 w-4"})}),e.jsx(D,{size:"sm",variant:"outline",onClick:()=>y(w),children:e.jsx(nr,{className:"h-4 w-4"})}),e.jsx(D,{size:"sm",variant:"outline",onClick:()=>g.mutate(w.id),children:e.jsx(vs,{className:"h-4 w-4"})})]})]},w.id))})})]})]})}),e.jsx(pe,{value:"analytics",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(C,{children:[e.jsx(L,{children:e.jsx(M,{children:" "})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:c==null?void 0:c.map(w=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:w.title}),e.jsx("p",{className:"text-sm text-gray-600",children:w.position})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm font-bold",children:[w.click_rate||0,"% CTR"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[w.impressions||0,"   ",w.clicks||0," "]})]})]},w.id))})})]}),e.jsxs(C,{children:[e.jsx(L,{children:e.jsx(M,{children:" "})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:" "}),e.jsx("span",{className:"text-sm font-bold",children:0})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:" "}),e.jsx("span",{className:"text-sm font-bold",children:0})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:" CTR"}),e.jsxs("span",{className:"text-sm font-bold",children:[0,"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:" "}),e.jsxs("span",{className:"text-sm font-bold",children:["",0]})]})]})})]})]})}),e.jsx(pe,{value:"advertisers",className:"space-y-4",children:e.jsxs(C,{children:[e.jsxs(L,{children:[e.jsx(M,{children:""}),e.jsx(Ce,{children:"     "})]}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:u==null?void 0:u.map(w=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:w.company_name}),e.jsx("p",{className:"text-sm text-gray-600",children:w.email}),e.jsx("p",{className:"text-sm text-gray-600",children:w.phone})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm font-bold",children:["",w.total_spent||0]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[w.active_campaigns||0,"  "]}),e.jsx(X,{variant:w.status==="active"?"default":"secondary",children:w.status==="active"?"":""})]})]},w.id))})})]})}),e.jsx(pe,{value:"revenue",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(C,{children:[e.jsx(L,{children:e.jsx(M,{children:" "})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:"  "}),e.jsxs("span",{className:"text-sm font-bold",children:["",(h==null?void 0:h.revenue_this_month)||0]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:"  "}),e.jsxs("span",{className:"text-sm font-bold",children:["",(h==null?void 0:h.revenue_last_month)||0]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:" "}),e.jsxs("span",{className:"text-sm font-bold flex items-center gap-1",children:[e.jsx(Ct,{className:"h-4 w-4 text-green-500"}),(h==null?void 0:h.growth_rate)||0,"%"]})]})]})})]}),e.jsxs(C,{children:[e.jsx(L,{children:e.jsx(M,{children:" "})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:(j=h==null?void 0:h.revenue_sources)==null?void 0:j.map(w=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:w.type}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm font-bold",children:["",w.amount]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[w.percentage,"%"]})]})]},w.type))})})]})]})})]})]})})}function QV(){const[t,s]=m.useState("roles"),[r,n]=m.useState(null),[a,i]=m.useState({name:"",description:"",permissions:[]}),{toast:o}=Ze(),l=cs(),{data:c,isLoading:d}=_e({queryKey:["/api/admin/user-roles"]}),{data:u,isLoading:h}=_e({queryKey:["/api/admin/security-audit-logs"]}),{data:f,isLoading:x}=_e({queryKey:["/api/admin/access-control-policies"]}),{data:g,isLoading:v}=_e({queryKey:["/api/admin/security-settings"]}),{data:p,isLoading:y}=_e({queryKey:["/api/admin/available-permissions"]}),j=Me({mutationFn:k=>r?Xr(`/api/admin/user-roles/${r.id}`,{method:"PUT",body:JSON.stringify(k)}):Xr("/api/admin/user-roles",{method:"POST",body:JSON.stringify(k)}),onSuccess:()=>{o({title:" ",description:"    "}),l.invalidateQueries({queryKey:["/api/admin/user-roles"]}),n(null),i({name:"",description:"",permissions:[]})}}),w=Me({mutationFn:k=>Xr("/api/admin/security-settings",{method:"PUT",body:JSON.stringify(k)}),onSuccess:()=>{o({title:"   ",description:"    "}),l.invalidateQueries({queryKey:["/api/admin/security-settings"]})}}),b=Me({mutationFn:k=>Xr(`/api/admin/user-roles/${k}`,{method:"DELETE"}),onSuccess:()=>{o({title:"   ",description:"     "}),l.invalidateQueries({queryKey:["/api/admin/user-roles"]})}}),N=k=>{k.preventDefault(),j.mutate(a)},_=k=>{n(k),i({name:k.name,description:k.description,permissions:k.permissions||[]})},P=k=>{i(T=>({...T,permissions:T.permissions.includes(k)?T.permissions.filter(S=>S!==k):[...T.permissions,k]}))},A=k=>{switch(k){case"login":return e.jsx(wg,{className:"h-4 w-4 text-green-500"});case"logout":return e.jsx(DD,{className:"h-4 w-4 text-gray-500"});case"permission_denied":return e.jsx(Ny,{className:"h-4 w-4 text-red-500"});case"role_changed":return e.jsx(As,{className:"h-4 w-4 text-blue-500"});default:return e.jsx(Rt,{className:"h-4 w-4 text-gray-500"})}};return e.jsx(xt,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"   "}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:" ,     "})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs(C,{children:[e.jsxs(L,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(M,{className:"text-sm font-medium",children:" "}),e.jsx(gt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(c==null?void 0:c.length)||0}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(c==null?void 0:c.filter(k=>k.active).length)||0," "]})]})]}),e.jsxs(C,{children:[e.jsxs(L,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(M,{className:"text-sm font-medium",children:" "}),e.jsx(Xt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(u==null?void 0:u.length)||0}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(u==null?void 0:u.filter(k=>k.level==="warning").length)||0," "]})]})]}),e.jsxs(C,{children:[e.jsxs(L,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(M,{className:"text-sm font-medium",children:" "}),e.jsx(Is,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(f==null?void 0:f.length)||0}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(f==null?void 0:f.filter(k=>k.active).length)||0," "]})]})]}),e.jsxs(C,{children:[e.jsxs(L,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(M,{className:"text-sm font-medium",children:" "}),e.jsx(vS,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(E,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[(g==null?void 0:g.security_score)||85,"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"  "})]})]})]}),e.jsxs(ds,{value:t,onValueChange:s,className:"space-y-4",children:[e.jsxs(ns,{className:"grid w-full grid-cols-4",children:[e.jsx(ve,{value:"roles",children:""}),e.jsx(ve,{value:"audit",children:" "}),e.jsx(ve,{value:"policies",children:""}),e.jsx(ve,{value:"settings",children:""})]}),e.jsx(pe,{value:"roles",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(C,{children:[e.jsx(L,{children:e.jsx(M,{children:r?" ":" "})}),e.jsx(E,{children:e.jsxs("form",{onSubmit:N,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"role-name",children:" "}),e.jsx(te,{id:"role-name",value:a.name,onChange:k=>i({...a,name:k.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"role-description",children:""}),e.jsx(te,{id:"role-description",value:a.description,onChange:k=>i({...a,description:k.target.value})})]}),e.jsxs("div",{children:[e.jsx(G,{children:""}),e.jsx("div",{className:"space-y-2 mt-2",children:p==null?void 0:p.map(k=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:`permission-${k.id}`,checked:a.permissions.includes(k.id),onChange:()=>P(k.id),className:"rounded border-gray-300"}),e.jsx(G,{htmlFor:`permission-${k.id}`,className:"text-sm",children:k.name})]},k.id))})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(D,{type:"submit",disabled:j.isPending,className:"flex-1",children:[j.isPending?e.jsx(ae,{className:"h-4 w-4 animate-spin mr-2"}):e.jsx(rr,{className:"h-4 w-4 mr-2"}),r?" ":" "]}),r&&e.jsx(D,{type:"button",variant:"outline",onClick:()=>{n(null),i({name:"",description:"",permissions:[]})},children:""})]})]})})]}),e.jsxs(C,{children:[e.jsx(L,{children:e.jsx(M,{children:" "})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:c==null?void 0:c.map(k=>{var T;return e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"font-medium",children:k.name}),e.jsx(X,{variant:k.active?"default":"secondary",children:k.active?"":""})]}),e.jsx("p",{className:"text-sm text-gray-600",children:k.description}),e.jsxs("p",{className:"text-xs text-gray-500",children:[((T=k.permissions)==null?void 0:T.length)||0,"    ",k.user_count||0,"  "]})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(D,{size:"sm",variant:"outline",onClick:()=>_(k),children:e.jsx(nr,{className:"h-4 w-4"})}),e.jsx(D,{size:"sm",variant:"outline",onClick:()=>b.mutate(k.id),children:e.jsx(vs,{className:"h-4 w-4"})})]})]},k.id)})})})]})]})}),e.jsx(pe,{value:"audit",className:"space-y-4",children:e.jsxs(C,{children:[e.jsxs(L,{children:[e.jsx(M,{children:"  "}),e.jsx(Ce,{children:"    "})]}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:u==null?void 0:u.map(k=>e.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:A(k.action)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-sm font-medium",children:k.action}),e.jsx(X,{variant:k.level==="warning"?"destructive":"outline",children:k.level})]}),e.jsx("p",{className:"text-sm text-gray-600",children:k.description}),e.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-gray-500",children:[e.jsx("span",{children:k.user_email}),e.jsx("span",{children:""}),e.jsx("span",{children:k.ip_address}),e.jsx("span",{children:""}),e.jsx("span",{children:new Date(k.timestamp).toLocaleString("bn-BD")})]})]})]},k.id))})})]})}),e.jsx(pe,{value:"policies",className:"space-y-4",children:e.jsxs(C,{children:[e.jsxs(L,{children:[e.jsx(M,{children:"  "}),e.jsx(Ce,{children:"     "})]}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:f==null?void 0:f.map(k=>{var T;return e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h4",{className:"font-medium",children:k.name}),e.jsx(X,{variant:k.active?"default":"secondary",children:k.active?"":""})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:k.description}),e.jsxs("div",{className:"text-xs text-gray-500",children:[": ",(T=k.affected_roles)==null?void 0:T.join(", "),"   : ",new Date(k.updated_at).toLocaleDateString("bn-BD")]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(lt,{checked:k.active,onCheckedChange:S=>{}}),e.jsx(D,{size:"sm",variant:"outline",children:e.jsx(nr,{className:"h-4 w-4"})})]})]},k.id)})})})]})}),e.jsx(pe,{value:"settings",className:"space-y-4",children:e.jsxs(C,{children:[e.jsxs(L,{children:[e.jsx(M,{children:" "}),e.jsx(Ce,{children:"     "})]}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"two-factor",children:"- "}),e.jsx("p",{className:"text-sm text-gray-600",children:"  2FA "})]}),e.jsx(lt,{id:"two-factor",checked:g==null?void 0:g.two_factor_required,onCheckedChange:k=>w.mutate({...g,two_factor_required:k})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"session-timeout",children:" "}),e.jsx("p",{className:"text-sm text-gray-600",children:"   "})]}),e.jsx(lt,{id:"session-timeout",checked:g==null?void 0:g.session_timeout_enabled,onCheckedChange:k=>w.mutate({...g,session_timeout_enabled:k})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"ip-whitelist",children:"IP "}),e.jsx("p",{className:"text-sm text-gray-600",children:"  IP  "})]}),e.jsx(lt,{id:"ip-whitelist",checked:g==null?void 0:g.ip_whitelist_enabled,onCheckedChange:k=>w.mutate({...g,ip_whitelist_enabled:k})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"audit-logging",children:" "}),e.jsx("p",{className:"text-sm text-gray-600",children:"    "})]}),e.jsx(lt,{id:"audit-logging",checked:g==null?void 0:g.audit_logging_enabled,onCheckedChange:k=>w.mutate({...g,audit_logging_enabled:k})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"session-duration",children:"  ()"}),e.jsx(te,{id:"session-duration",type:"number",value:(g==null?void 0:g.session_duration)||60,onChange:k=>w.mutate({...g,session_duration:parseInt(k.target.value)})})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"max-login-attempts",children:"  "}),e.jsx(te,{id:"max-login-attempts",type:"number",value:(g==null?void 0:g.max_login_attempts)||5,onChange:k=>w.mutate({...g,max_login_attempts:parseInt(k.target.value)})})]})]})]})})]})})]})]})})}function ZV(){return e.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-background",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("h1",{className:"text-4xl font-bold text-destructive",children:"404"}),e.jsx("p",{className:"text-xl text-muted-foreground",children:"Admin Page Not Found"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"The admin page you're looking for doesn't exist."})]})})}function jt({children:t}){const{isAdmin:s,loading:r}=qS(),[,n]=yt();return m.useEffect(()=>{!r&&!s&&n("/admin-login")},[r,s,n]),r?e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx(ae,{className:"h-8 w-8 animate-spin mx-auto"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Verifying admin access..."})]})}):s?e.jsx(e.Fragment,{children:t}):null}function YV(){return yt(),e.jsxs(F2,{children:[e.jsx(Ae,{path:"/admin-access",component:TL}),e.jsx(Ae,{path:"/admin-login",component:R8}),e.jsx(Ae,{path:"/admin-dashboard",children:e.jsx(jt,{children:e.jsx(r$,{})})}),e.jsx(Ae,{path:"/admin/articles",children:e.jsx(jt,{children:e.jsx(Yz,{})})}),e.jsx(Ae,{path:"/admin/categories",children:e.jsx(jt,{children:e.jsx(eV,{})})}),e.jsx(Ae,{path:"/admin/epapers",children:e.jsx(jt,{children:e.jsx(tV,{})})}),e.jsx(Ae,{path:"/admin/breaking-news",children:e.jsx(jt,{children:e.jsx(cV,{})})}),e.jsx(Ae,{path:"/admin/users",children:e.jsx(jt,{children:e.jsx(pV,{})})}),e.jsx(Ae,{path:"/admin/videos",children:e.jsx(jt,{children:e.jsx(yV,{})})}),e.jsx(Ae,{path:"/admin/audio",children:e.jsx(jt,{children:e.jsx(jV,{})})}),e.jsx(Ae,{path:"/admin/analytics",children:e.jsx(jt,{children:e.jsx(wV,{})})}),e.jsx(Ae,{path:"/admin/social-media",children:e.jsx(jt,{children:e.jsx(_V,{})})}),e.jsx(Ae,{path:"/admin/weather",children:e.jsx(jt,{children:e.jsx(EV,{})})}),e.jsx(Ae,{path:"/admin/settings",children:e.jsx(jt,{children:e.jsx(SV,{})})}),e.jsx(Ae,{path:"/admin/advanced-algorithms",children:e.jsx(jt,{children:e.jsx(MV,{})})}),e.jsx(Ae,{path:"/admin/trending-analytics",children:e.jsx(jt,{children:e.jsx(FV,{})})}),e.jsx(Ae,{path:"/admin/footer-pages",children:e.jsx(jt,{children:e.jsx($V,{})})}),e.jsx(Ae,{path:"/admin/user-dashboard",children:e.jsx(jt,{children:e.jsx(UV,{})})}),e.jsx(Ae,{path:"/admin/comments",children:e.jsx(jt,{children:e.jsx(zV,{})})}),e.jsx(Ae,{path:"/admin/seo",children:e.jsx(jt,{children:e.jsx(VV,{})})}),e.jsx(Ae,{path:"/admin/search",children:e.jsx(jt,{children:e.jsx(BV,{})})}),e.jsx(Ae,{path:"/admin/database",children:e.jsx(jt,{children:e.jsx(qV,{})})}),e.jsx(Ae,{path:"/admin/email-notifications",children:e.jsx(jt,{children:e.jsx(HV,{})})}),e.jsx(Ae,{path:"/admin/performance",children:e.jsx(jt,{children:e.jsx(WV,{})})}),e.jsx(Ae,{path:"/admin/mobile-app",children:e.jsx(jt,{children:e.jsx(KV,{})})}),e.jsx(Ae,{path:"/admin/advertisements",children:e.jsx(jt,{children:e.jsx(GV,{})})}),e.jsx(Ae,{path:"/admin/security",children:e.jsx(jt,{children:e.jsx(QV,{})})}),e.jsx(Ae,{path:"/admin",children:e.jsx(jt,{children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Admin Portal"}),e.jsx("p",{className:"text-muted-foreground",children:"Welcome to the admin portal. Please select a section from the navigation menu."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Content Management"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage articles, categories, and breaking news"})]}),e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"User Management"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Monitor users, comments, and interactions"})]}),e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"System Management"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Database, performance, and security controls"})]})]})]})})}),e.jsx(Ae,{component:ZV})]})}function XV({children:t}){return e.jsx("div",{className:"min-h-screen bg-background",children:t})}function JV(){return m.useEffect(()=>{console.log(" AdminApp initializing on route:",window.location.pathname)},[]),e.jsx(XV,{children:e.jsx(MS,{children:e.jsx(wL,{children:e.jsx(US,{children:e.jsx(VS,{children:e.jsx(bL,{children:e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(YV,{}),e.jsx(DS,{})]})})})})})})})}function e7(){return m.useState(()=>{try{_O()}catch(t){console.error("Auto storage cleanup failed:",t)}}),null}function t7(){const{theme:t,toggleTheme:s}=jL();return e.jsx(D,{variant:"ghost",size:"sm",onClick:s,className:"w-9 px-0 group","aria-label":"Toggle theme",children:t==="dark"?e.jsx(cu,{className:"h-5 w-5 text-amber-300 transition-transform group-hover:rotate-90"}):e.jsx(wS,{className:"h-5 w-5 transition-transform group-hover:-rotate-90"})})}const s7=()=>{const{settings:t,isLoading:s}=Cy();return{siteName:t.siteName,isLoading:s}},Zb=({fallback:t=""})=>{const{siteName:s,isLoading:r}=s7();return r?t:s||t},r7=({categories:t})=>{var y,j,w,b,N;const[s,r]=m.useState(!1),[n,a]=m.useState(null),[i,o]=m.useState(""),{user:l,signOut:c}=rt(),[d,u]=yt(),h=()=>{r(!1),a(null)},f=_=>{a(n===_?null:_)},x=_=>{_.preventDefault(),i.trim()&&(u(`/search?q=${encodeURIComponent(i)}`),h())},g=async()=>{await c(),h()},v=[{href:"/",label:" ",icon:Xc},{href:"/epaper",label:"-",icon:Os},{href:"/videos",label:"",icon:mi},{href:"/audio-articles",label:"",icon:df}],p=l?[{href:"/dashboard",label:"",icon:Zr},{href:"/saved-articles",label:"",icon:ti},{href:"/reading-history",label:" ",icon:Os},{href:"/profile",label:"",icon:As}]:[{href:"/login",label:"",icon:Zr},{href:"/register",label:"",icon:Zr}];return e.jsxs(Zk,{open:s,onOpenChange:r,children:[e.jsx(Yk,{asChild:!0,children:e.jsx(D,{variant:"ghost",size:"icon",className:"md:hidden relative p-2 hover:bg-accent/10 transition-colors","aria-label":" ",children:e.jsx(yg,{className:"h-6 w-6"})})}),e.jsx(Vy,{side:"left",className:"w-80 p-0 bg-background border-r border-border",children:e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsx(Jk,{className:"sr-only",children:"Navigation Menu"}),e.jsxs("div",{className:"p-4 border-b border-border bg-primary/5",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-primary",children:e.jsx(Zb,{})}),e.jsx(D,{variant:"ghost",size:"icon",onClick:h,className:"h-8 w-8 hover:bg-accent/10","aria-label":"  ",children:e.jsx(cc,{className:"h-4 w-4"})})]}),e.jsx("form",{onSubmit:x,className:"mt-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ot,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(te,{type:"search",placeholder:" ...",value:i,onChange:_=>o(_.target.value),className:"pl-10 pr-4 py-2 bg-background border border-border focus:ring-2 focus:ring-primary/20"})]})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto",children:[l&&e.jsx("div",{className:"p-4 border-b border-border bg-muted/10",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs(bo,{className:"h-10 w-10",children:[e.jsx(No,{src:(y=l.user_metadata)==null?void 0:y.avatar_url}),e.jsx(_o,{className:"bg-primary text-primary-foreground",children:((w=(j=l.user_metadata)==null?void 0:j.name)==null?void 0:w[0])||((b=l.email)==null?void 0:b[0])||"U"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:((N=l.user_metadata)==null?void 0:N.name)||"User"}),e.jsx("p",{className:"text-xs text-muted-foreground truncate",children:l.email})]})]})}),e.jsxs("nav",{className:"p-2",children:[e.jsx("div",{className:"space-y-1",children:v.map(_=>e.jsx(Y,{href:_.href,onClick:h,children:e.jsxs("span",{className:"flex items-center px-3 py-3 text-sm font-medium text-foreground hover:text-primary hover:bg-accent/10 rounded-lg transition-colors cursor-pointer",children:[e.jsx(_.icon,{className:"h-5 w-5 mr-3"}),_.label]})},_.href))}),e.jsx(An,{className:"my-3"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h3",{className:"px-3 py-2 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:""}),t.map(_=>e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>f(_.slug),className:"w-full flex items-center justify-between px-3 py-2 text-sm font-medium text-foreground hover:text-primary hover:bg-accent/10 rounded-lg transition-colors",children:[e.jsx("span",{children:_.name}),n===_.slug?e.jsx(rf,{className:"h-4 w-4"}):e.jsx(ou,{className:"h-4 w-4"})]}),n===_.slug&&e.jsx("div",{className:"ml-4 mt-1 space-y-1",children:e.jsx(Y,{href:`/category/${_.slug}`,onClick:h,children:e.jsxs("span",{className:"block px-3 py-2 text-sm text-muted-foreground hover:text-primary hover:bg-accent/10 rounded-lg transition-colors cursor-pointer",children:[" ",_.name]})})})]},_.slug))]}),e.jsx(An,{className:"my-3"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h3",{className:"px-3 py-2 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:l?" ":""}),p.map(_=>e.jsx(Y,{href:_.href,onClick:h,children:e.jsxs("span",{className:"flex items-center px-3 py-3 text-sm font-medium text-foreground hover:text-primary hover:bg-accent/10 rounded-lg transition-colors cursor-pointer",children:[e.jsx(_.icon,{className:"h-5 w-5 mr-3"}),_.label]})},_.href)),l&&e.jsxs("button",{onClick:g,className:"w-full flex items-center px-3 py-3 text-sm font-medium text-destructive hover:text-destructive/80 hover:bg-destructive/10 rounded-lg transition-colors",children:[e.jsx(Zr,{className:"h-5 w-5 mr-3"}),""]})]})]})]}),e.jsx("div",{className:"p-4 border-t border-border bg-muted/10",children:e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[e.jsxs("span",{children:["  ",e.jsx(Zb,{})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(Y,{href:"/privacy-policy",onClick:h,children:e.jsx("span",{className:"hover:text-primary transition-colors cursor-pointer",children:""})}),e.jsx("span",{children:""}),e.jsx(Y,{href:"/terms-of-service",onClick:h,children:e.jsx("span",{className:"hover:text-primary transition-colors cursor-pointer",children:""})})]})]})})]})})]})};var zf="Popover",[YT,VH]=_s(zf,[gc]),bu=gc(),[n7,vi]=YT(zf),XT=t=>{const{__scopePopover:s,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=t,l=bu(s),c=m.useRef(null),[d,u]=m.useState(!1),[h,f]=an({prop:n,defaultProp:a??!1,onChange:i,caller:zf});return e.jsx(dj,{...l,children:e.jsx(n7,{scope:s,contentId:bs(),triggerRef:c,open:h,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(x=>!x),[f]),hasCustomAnchor:d,onCustomAnchorAdd:m.useCallback(()=>u(!0),[]),onCustomAnchorRemove:m.useCallback(()=>u(!1),[]),modal:o,children:r})})};XT.displayName=zf;var JT="PopoverAnchor",a7=m.forwardRef((t,s)=>{const{__scopePopover:r,...n}=t,a=vi(JT,r),i=bu(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return m.useEffect(()=>(o(),()=>l()),[o,l]),e.jsx(Af,{...i,...n,ref:s})});a7.displayName=JT;var eP="PopoverTrigger",tP=m.forwardRef((t,s)=>{const{__scopePopover:r,...n}=t,a=vi(eP,r),i=bu(r),o=Fe(s,a.triggerRef),l=e.jsx(ge.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":iP(a.open),...n,ref:o,onClick:ie(t.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:e.jsx(Af,{asChild:!0,...i,children:l})});tP.displayName=eP;var kj="PopoverPortal",[i7,o7]=YT(kj,{forceMount:void 0}),sP=t=>{const{__scopePopover:s,forceMount:r,children:n,container:a}=t,i=vi(kj,s);return e.jsx(i7,{scope:s,forceMount:r,children:e.jsx(Ss,{present:r||i.open,children:e.jsx(oc,{asChild:!0,container:a,children:n})})})};sP.displayName=kj;var Zl="PopoverContent",rP=m.forwardRef((t,s)=>{const r=o7(Zl,t.__scopePopover),{forceMount:n=r.forceMount,...a}=t,i=vi(Zl,t.__scopePopover);return e.jsx(Ss,{present:n||i.open,children:i.modal?e.jsx(c7,{...a,ref:s}):e.jsx(d7,{...a,ref:s})})});rP.displayName=Zl;var l7=ei("PopoverContent.RemoveScroll"),c7=m.forwardRef((t,s)=>{const r=vi(Zl,t.__scopePopover),n=m.useRef(null),a=Fe(s,n),i=m.useRef(!1);return m.useEffect(()=>{const o=n.current;if(o)return vf(o)},[]),e.jsx(mu,{as:l7,allowPinchZoom:!0,children:e.jsx(nP,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ie(t.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:ie(t.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:ie(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),d7=m.forwardRef((t,s)=>{const r=vi(Zl,t.__scopePopover),n=m.useRef(!1),a=m.useRef(!1);return e.jsx(nP,{...t,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),nP=m.forwardRef((t,s)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...h}=t,f=vi(Zl,r),x=bu(r);return pf(),e.jsx(hu,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:e.jsx(ic,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>f.onOpenChange(!1),children:e.jsx(uj,{"data-state":iP(f.open),role:"dialog",id:f.contentId,...x,...h,ref:s,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),aP="PopoverClose",u7=m.forwardRef((t,s)=>{const{__scopePopover:r,...n}=t,a=vi(aP,r);return e.jsx(ge.button,{type:"button",...n,ref:s,onClick:ie(t.onClick,()=>a.onOpenChange(!1))})});u7.displayName=aP;var h7="PopoverArrow",m7=m.forwardRef((t,s)=>{const{__scopePopover:r,...n}=t,a=bu(r);return e.jsx(hj,{...a,...n,ref:s})});m7.displayName=h7;function iP(t){return t?"open":"closed"}var f7=XT,x7=tP,p7=sP,oP=rP;const g7=f7,v7=x7,lP=m.forwardRef(({className:t,align:s="center",sideOffset:r=4,...n},a)=>e.jsx(p7,{children:e.jsx(oP,{ref:a,align:s,sideOffset:r,className:oe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));lP.displayName=oP.displayName;var Yb=1,y7=.9,j7=.8,w7=.17,Yx=.1,Xx=.999,b7=.9999,N7=.99,_7=/[\\\/_+.#"@\[\(\{&]/,S7=/[\\\/_+.#"@\[\(\{&]/g,k7=/[\s-]/,cP=/[\s-]/g;function Xg(t,s,r,n,a,i,o){if(i===s.length)return a===t.length?Yb:N7;var l=`${a},${i}`;if(o[l]!==void 0)return o[l];for(var c=n.charAt(i),d=r.indexOf(c,a),u=0,h,f,x,g;d>=0;)h=Xg(t,s,r,n,d+1,i+1,o),h>u&&(d===a?h*=Yb:_7.test(t.charAt(d-1))?(h*=j7,x=t.slice(a,d-1).match(S7),x&&a>0&&(h*=Math.pow(Xx,x.length))):k7.test(t.charAt(d-1))?(h*=y7,g=t.slice(a,d-1).match(cP),g&&a>0&&(h*=Math.pow(Xx,g.length))):(h*=w7,a>0&&(h*=Math.pow(Xx,d-a))),t.charAt(d)!==s.charAt(i)&&(h*=b7)),(h<Yx&&r.charAt(d-1)===n.charAt(i+1)||n.charAt(i+1)===n.charAt(i)&&r.charAt(d-1)!==n.charAt(i))&&(f=Xg(t,s,r,n,d+1,i+2,o),f*Yx>h&&(h=f*Yx)),h>u&&(u=h),d=r.indexOf(c,d+1);return o[l]=u,u}function Xb(t){return t.toLowerCase().replace(cP," ")}function C7(t,s,r){return t=r&&r.length>0?`${t+" "+r.join(" ")}`:t,Xg(t,s,Xb(t),Xb(s),0,0,{})}var Hc='[cmdk-group=""]',Jx='[cmdk-group-items=""]',E7='[cmdk-group-heading=""]',dP='[cmdk-item=""]',Jb=`${dP}:not([aria-disabled="true"])`,Jg="cmdk-item-select",Vo="data-value",T7=(t,s,r)=>C7(t,s,r),uP=m.createContext(void 0),Nu=()=>m.useContext(uP),hP=m.createContext(void 0),Cj=()=>m.useContext(hP),mP=m.createContext(void 0),fP=m.forwardRef((t,s)=>{let r=Bo(()=>{var W,ue;return{search:"",value:(ue=(W=t.value)!=null?W:t.defaultValue)!=null?ue:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=Bo(()=>new Set),a=Bo(()=>new Map),i=Bo(()=>new Map),o=Bo(()=>new Set),l=xP(t),{label:c,children:d,value:u,onValueChange:h,filter:f,shouldFilter:x,loop:g,disablePointerSelection:v=!1,vimBindings:p=!0,...y}=t,j=bs(),w=bs(),b=bs(),N=m.useRef(null),_=U7();uo(()=>{if(u!==void 0){let W=u.trim();r.current.value=W,P.emit()}},[u]),uo(()=>{_(6,B)},[]);let P=m.useMemo(()=>({subscribe:W=>(o.current.add(W),()=>o.current.delete(W)),snapshot:()=>r.current,setState:(W,ue,ye)=>{var me,Ee,K,Ie;if(!Object.is(r.current[W],ue)){if(r.current[W]=ue,W==="search")R(),T(),_(1,S);else if(W==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let Oe=document.getElementById(b);Oe?Oe.focus():(me=document.getElementById(j))==null||me.focus()}if(_(7,()=>{var Oe;r.current.selectedItemId=(Oe=H())==null?void 0:Oe.id,P.emit()}),ye||_(5,B),((Ee=l.current)==null?void 0:Ee.value)!==void 0){let Oe=ue??"";(Ie=(K=l.current).onValueChange)==null||Ie.call(K,Oe);return}}P.emit()}},emit:()=>{o.current.forEach(W=>W())}}),[]),A=m.useMemo(()=>({value:(W,ue,ye)=>{var me;ue!==((me=i.current.get(W))==null?void 0:me.value)&&(i.current.set(W,{value:ue,keywords:ye}),r.current.filtered.items.set(W,k(ue,ye)),_(2,()=>{T(),P.emit()}))},item:(W,ue)=>(n.current.add(W),ue&&(a.current.has(ue)?a.current.get(ue).add(W):a.current.set(ue,new Set([W]))),_(3,()=>{R(),T(),r.current.value||S(),P.emit()}),()=>{i.current.delete(W),n.current.delete(W),r.current.filtered.items.delete(W);let ye=H();_(4,()=>{R(),(ye==null?void 0:ye.getAttribute("id"))===W&&S(),P.emit()})}),group:W=>(a.current.has(W)||a.current.set(W,new Set),()=>{i.current.delete(W),a.current.delete(W)}),filter:()=>l.current.shouldFilter,label:c||t["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:j,inputId:b,labelId:w,listInnerRef:N}),[]);function k(W,ue){var ye,me;let Ee=(me=(ye=l.current)==null?void 0:ye.filter)!=null?me:T7;return W?Ee(W,r.current.search,ue):0}function T(){if(!r.current.search||l.current.shouldFilter===!1)return;let W=r.current.filtered.items,ue=[];r.current.filtered.groups.forEach(me=>{let Ee=a.current.get(me),K=0;Ee.forEach(Ie=>{let Oe=W.get(Ie);K=Math.max(Oe,K)}),ue.push([me,K])});let ye=N.current;I().sort((me,Ee)=>{var K,Ie;let Oe=me.getAttribute("id"),We=Ee.getAttribute("id");return((K=W.get(We))!=null?K:0)-((Ie=W.get(Oe))!=null?Ie:0)}).forEach(me=>{let Ee=me.closest(Jx);Ee?Ee.appendChild(me.parentElement===Ee?me:me.closest(`${Jx} > *`)):ye.appendChild(me.parentElement===ye?me:me.closest(`${Jx} > *`))}),ue.sort((me,Ee)=>Ee[1]-me[1]).forEach(me=>{var Ee;let K=(Ee=N.current)==null?void 0:Ee.querySelector(`${Hc}[${Vo}="${encodeURIComponent(me[0])}"]`);K==null||K.parentElement.appendChild(K)})}function S(){let W=I().find(ye=>ye.getAttribute("aria-disabled")!=="true"),ue=W==null?void 0:W.getAttribute(Vo);P.setState("value",ue||void 0)}function R(){var W,ue,ye,me;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let Ee=0;for(let K of n.current){let Ie=(ue=(W=i.current.get(K))==null?void 0:W.value)!=null?ue:"",Oe=(me=(ye=i.current.get(K))==null?void 0:ye.keywords)!=null?me:[],We=k(Ie,Oe);r.current.filtered.items.set(K,We),We>0&&Ee++}for(let[K,Ie]of a.current)for(let Oe of Ie)if(r.current.filtered.items.get(Oe)>0){r.current.filtered.groups.add(K);break}r.current.filtered.count=Ee}function B(){var W,ue,ye;let me=H();me&&(((W=me.parentElement)==null?void 0:W.firstChild)===me&&((ye=(ue=me.closest(Hc))==null?void 0:ue.querySelector(E7))==null||ye.scrollIntoView({block:"nearest"})),me.scrollIntoView({block:"nearest"}))}function H(){var W;return(W=N.current)==null?void 0:W.querySelector(`${dP}[aria-selected="true"]`)}function I(){var W;return Array.from(((W=N.current)==null?void 0:W.querySelectorAll(Jb))||[])}function V(W){let ue=I()[W];ue&&P.setState("value",ue.getAttribute(Vo))}function z(W){var ue;let ye=H(),me=I(),Ee=me.findIndex(Ie=>Ie===ye),K=me[Ee+W];(ue=l.current)!=null&&ue.loop&&(K=Ee+W<0?me[me.length-1]:Ee+W===me.length?me[0]:me[Ee+W]),K&&P.setState("value",K.getAttribute(Vo))}function O(W){let ue=H(),ye=ue==null?void 0:ue.closest(Hc),me;for(;ye&&!me;)ye=W>0?F7(ye,Hc):$7(ye,Hc),me=ye==null?void 0:ye.querySelector(Jb);me?P.setState("value",me.getAttribute(Vo)):z(W)}let U=()=>V(I().length-1),ee=W=>{W.preventDefault(),W.metaKey?U():W.altKey?O(1):z(1)},se=W=>{W.preventDefault(),W.metaKey?V(0):W.altKey?O(-1):z(-1)};return m.createElement(ge.div,{ref:s,tabIndex:-1,...y,"cmdk-root":"",onKeyDown:W=>{var ue;(ue=y.onKeyDown)==null||ue.call(y,W);let ye=W.nativeEvent.isComposing||W.keyCode===229;if(!(W.defaultPrevented||ye))switch(W.key){case"n":case"j":{p&&W.ctrlKey&&ee(W);break}case"ArrowDown":{ee(W);break}case"p":case"k":{p&&W.ctrlKey&&se(W);break}case"ArrowUp":{se(W);break}case"Home":{W.preventDefault(),V(0);break}case"End":{W.preventDefault(),U();break}case"Enter":{W.preventDefault();let me=H();if(me){let Ee=new Event(Jg);me.dispatchEvent(Ee)}}}}},m.createElement("label",{"cmdk-label":"",htmlFor:A.inputId,id:A.labelId,style:V7},c),Vf(t,W=>m.createElement(hP.Provider,{value:P},m.createElement(uP.Provider,{value:A},W))))}),P7=m.forwardRef((t,s)=>{var r,n;let a=bs(),i=m.useRef(null),o=m.useContext(mP),l=Nu(),c=xP(t),d=(n=(r=c.current)==null?void 0:r.forceMount)!=null?n:o==null?void 0:o.forceMount;uo(()=>{if(!d)return l.item(a,o==null?void 0:o.id)},[d]);let u=pP(a,i,[t.value,t.children,i],t.keywords),h=Cj(),f=li(_=>_.value&&_.value===u.current),x=li(_=>d||l.filter()===!1?!0:_.search?_.filtered.items.get(a)>0:!0);m.useEffect(()=>{let _=i.current;if(!(!_||t.disabled))return _.addEventListener(Jg,g),()=>_.removeEventListener(Jg,g)},[x,t.onSelect,t.disabled]);function g(){var _,P;v(),(P=(_=c.current).onSelect)==null||P.call(_,u.current)}function v(){h.setState("value",u.current,!0)}if(!x)return null;let{disabled:p,value:y,onSelect:j,forceMount:w,keywords:b,...N}=t;return m.createElement(ge.div,{ref:ia(i,s),...N,id:a,"cmdk-item":"",role:"option","aria-disabled":!!p,"aria-selected":!!f,"data-disabled":!!p,"data-selected":!!f,onPointerMove:p||l.getDisablePointerSelection()?void 0:v,onClick:p?void 0:g},t.children)}),A7=m.forwardRef((t,s)=>{let{heading:r,children:n,forceMount:a,...i}=t,o=bs(),l=m.useRef(null),c=m.useRef(null),d=bs(),u=Nu(),h=li(x=>a||u.filter()===!1?!0:x.search?x.filtered.groups.has(o):!0);uo(()=>u.group(o),[]),pP(o,l,[t.value,t.heading,c]);let f=m.useMemo(()=>({id:o,forceMount:a}),[a]);return m.createElement(ge.div,{ref:ia(l,s),...i,"cmdk-group":"",role:"presentation",hidden:h?void 0:!0},r&&m.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:d},r),Vf(t,x=>m.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?d:void 0},m.createElement(mP.Provider,{value:f},x))))}),R7=m.forwardRef((t,s)=>{let{alwaysRender:r,...n}=t,a=m.useRef(null),i=li(o=>!o.search);return!r&&!i?null:m.createElement(ge.div,{ref:ia(a,s),...n,"cmdk-separator":"",role:"separator"})}),O7=m.forwardRef((t,s)=>{let{onValueChange:r,...n}=t,a=t.value!=null,i=Cj(),o=li(d=>d.search),l=li(d=>d.selectedItemId),c=Nu();return m.useEffect(()=>{t.value!=null&&i.setState("search",t.value)},[t.value]),m.createElement(ge.input,{ref:s,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:a?t.value:o,onChange:d=>{a||i.setState("search",d.target.value),r==null||r(d.target.value)}})}),I7=m.forwardRef((t,s)=>{let{children:r,label:n="Suggestions",...a}=t,i=m.useRef(null),o=m.useRef(null),l=li(d=>d.selectedItemId),c=Nu();return m.useEffect(()=>{if(o.current&&i.current){let d=o.current,u=i.current,h,f=new ResizeObserver(()=>{h=requestAnimationFrame(()=>{let x=d.offsetHeight;u.style.setProperty("--cmdk-list-height",x.toFixed(1)+"px")})});return f.observe(d),()=>{cancelAnimationFrame(h),f.unobserve(d)}}},[]),m.createElement(ge.div,{ref:ia(i,s),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":n,id:c.listId},Vf(t,d=>m.createElement("div",{ref:ia(o,c.listInnerRef),"cmdk-list-sizer":""},d)))}),D7=m.forwardRef((t,s)=>{let{open:r,onOpenChange:n,overlayClassName:a,contentClassName:i,container:o,...l}=t;return m.createElement(jf,{open:r,onOpenChange:n},m.createElement(wf,{container:o},m.createElement(uc,{"cmdk-overlay":"",className:a}),m.createElement(hc,{"aria-label":t.label,"cmdk-dialog":"",className:i},m.createElement(fP,{ref:s,...l}))))}),L7=m.forwardRef((t,s)=>li(r=>r.filtered.count===0)?m.createElement(ge.div,{ref:s,...t,"cmdk-empty":"",role:"presentation"}):null),M7=m.forwardRef((t,s)=>{let{progress:r,children:n,label:a="Loading...",...i}=t;return m.createElement(ge.div,{ref:s,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},Vf(t,o=>m.createElement("div",{"aria-hidden":!0},o)))}),cr=Object.assign(fP,{List:I7,Item:P7,Input:O7,Group:A7,Separator:R7,Dialog:D7,Empty:L7,Loading:M7});function F7(t,s){let r=t.nextElementSibling;for(;r;){if(r.matches(s))return r;r=r.nextElementSibling}}function $7(t,s){let r=t.previousElementSibling;for(;r;){if(r.matches(s))return r;r=r.previousElementSibling}}function xP(t){let s=m.useRef(t);return uo(()=>{s.current=t}),s}var uo=typeof window>"u"?m.useEffect:m.useLayoutEffect;function Bo(t){let s=m.useRef();return s.current===void 0&&(s.current=t()),s}function li(t){let s=Cj(),r=()=>t(s.snapshot());return m.useSyncExternalStore(s.subscribe,r,r)}function pP(t,s,r,n=[]){let a=m.useRef(),i=Nu();return uo(()=>{var o;let l=(()=>{var d;for(let u of r){if(typeof u=="string")return u.trim();if(typeof u=="object"&&"current"in u)return u.current?(d=u.current.textContent)==null?void 0:d.trim():a.current}})(),c=n.map(d=>d.trim());i.value(t,l,c),(o=s.current)==null||o.setAttribute(Vo,l),a.current=l}),a}var U7=()=>{let[t,s]=m.useState(),r=Bo(()=>new Map);return uo(()=>{r.current.forEach(n=>n()),r.current=new Map},[t]),(n,a)=>{r.current.set(n,a),s({})}};function z7(t){let s=t.type;return typeof s=="function"?s(t.props):"render"in s?s.render(t.props):t}function Vf({asChild:t,children:s},r){return t&&m.isValidElement(s)?m.cloneElement(z7(s),{ref:s.ref},r(s.props.children)):r(s)}var V7={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const gP=m.forwardRef(({className:t,...s},r)=>e.jsx(cr,{ref:r,className:oe("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...s}));gP.displayName=cr.displayName;const B7=m.forwardRef(({className:t,...s},r)=>e.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[e.jsx(Ot,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),e.jsx(cr.Input,{ref:r,className:oe("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...s})]}));B7.displayName=cr.Input.displayName;const q7=m.forwardRef(({className:t,...s},r)=>e.jsx(cr.List,{ref:r,className:oe("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...s}));q7.displayName=cr.List.displayName;const vP=m.forwardRef(({className:t,...s},r)=>e.jsx(cr.Empty,{ref:r,className:oe("py-6 text-center text-sm",t),...s}));vP.displayName=cr.Empty.displayName;const Ch=m.forwardRef(({className:t,...s},r)=>e.jsx(cr.Group,{ref:r,className:oe("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...s}));Ch.displayName=cr.Group.displayName;const H7=m.forwardRef(({className:t,...s},r)=>e.jsx(cr.Separator,{ref:r,className:oe("-mx-1 h-px bg-border",t),...s}));H7.displayName=cr.Separator.displayName;const ev=m.forwardRef(({className:t,...s},r)=>e.jsx(cr.Item,{ref:r,className:oe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...s}));ev.displayName=cr.Item.displayName;function W7(t,s){const[r,n]=m.useState(t);return m.useEffect(()=>{const a=setTimeout(()=>{n(t)},s);return()=>{clearTimeout(a)}},[t,s]),r}const eN=({placeholder:t=" ...",showHistory:s=!0,showTrending:r=!0,showFilters:n=!0,className:a=""})=>{const[i,o]=m.useState(""),[l,c]=m.useState([]),[d,u]=m.useState([]),[h,f]=m.useState([]),[x,g]=m.useState(!1),[v,p]=m.useState(!1),[y,j]=m.useState(""),[w,b]=m.useState([]),N=W7(i,300),_=m.useRef(null),[,P]=yt();m.useEffect(()=>{const I=localStorage.getItem("searchHistory");I&&u(JSON.parse(I))},[]),m.useEffect(()=>{(async()=>{try{const{getCategories:V}=await de(async()=>{const{getCategories:O}=await Promise.resolve().then(()=>ke);return{getCategories:O}},void 0),z=await V();b(z)}catch(V){console.error("Error fetching categories:",V)}})()},[]),m.useEffect(()=>{(async()=>{try{f([{query:"",count:1250},{query:"",count:980},{query:"",count:760},{query:"",count:650},{query:"",count:540}])}catch(V){console.error("Error fetching trending searches:",V)}})()},[]);const A=m.useCallback(async I=>{if(!I.trim()){c([]);return}p(!0);try{const V=await fetch(`/api/search?q=${encodeURIComponent(I)}&limit=5`);if(V.ok){const O=(await V.json()).map(se=>{var W;return{id:se.id.toString(),title:se.title,type:"article",category:(W=se.category)==null?void 0:W.name,url:`/article/${se.slug}`}}),ee=w.filter(se=>se.name.toLowerCase().includes(I.toLowerCase())).map(se=>({id:`category-${se.id}`,title:se.name,type:"category",url:`/category/${se.slug}`}));c([...ee,...O])}}catch(V){console.error("Error fetching suggestions:",V)}finally{p(!1)}},[w]);m.useEffect(()=>{N&&x&&A(N)},[N,x,A]);const k=I=>{if(!I.trim())return;const V=[{query:I,timestamp:Date.now()},...d.filter(O=>O.query!==I)].slice(0,10);u(V),localStorage.setItem("searchHistory",JSON.stringify(V));const z=new URLSearchParams;z.set("q",I),y&&z.set("category",y),P(`/search?${z.toString()}`),g(!1),o("")},T=I=>{P(I.url),g(!1),o("")},S=I=>{o(I),k(I)},R=()=>{u([]),localStorage.removeItem("searchHistory")},B=()=>{var I;o(""),c([]),(I=_.current)==null||I.focus()},H=I=>{var V;I.key==="Enter"?(I.preventDefault(),k(i)):I.key==="Escape"&&(g(!1),(V=_.current)==null||V.blur())};return e.jsx("div",{className:`relative ${a}`,children:e.jsxs(g7,{open:x,onOpenChange:g,children:[e.jsx(v7,{asChild:!0,children:e.jsxs("div",{className:"relative",children:[e.jsx(Ot,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(te,{ref:_,type:"search",placeholder:t,value:i,onChange:I=>o(I.target.value),onKeyDown:H,className:"pl-10 pr-12 py-2 bg-background border border-border focus:ring-2 focus:ring-primary/20 focus:border-primary/50 transition-all duration-200",autoComplete:"off"}),i&&e.jsx(D,{variant:"ghost",size:"sm",onClick:B,className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-6 w-6 p-0 hover:bg-accent/10","aria-label":"Clear search",children:e.jsx(cc,{className:"h-3 w-3"})})]})}),e.jsx(lP,{className:"w-96 p-0 bg-background border border-border shadow-lg",align:"start",sideOffset:4,children:e.jsxs(gP,{className:"w-full",children:[l.length>0&&e.jsx(Ch,{heading:"",children:l.map(I=>e.jsxs(ev,{value:I.title,onSelect:()=>T(I),className:"flex items-center justify-between p-3 cursor-pointer hover:bg-accent/10 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex-shrink-0",children:[I.type==="article"&&e.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),I.type==="category"&&e.jsx("div",{className:"w-2 h-2 bg-accent rounded-full"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:I.title}),I.category&&e.jsx("p",{className:"text-xs text-muted-foreground",children:I.category})]})]}),e.jsx(rl,{className:"h-3 w-3 text-muted-foreground"})]},I.id))}),s&&d.length>0&&!i&&e.jsxs(e.Fragment,{children:[e.jsx(An,{}),e.jsxs(Ch,{heading:" ",children:[e.jsxs("div",{className:"flex items-center justify-between px-3 py-2",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:" "}),e.jsx(D,{variant:"ghost",size:"sm",onClick:R,className:"h-6 text-xs text-muted-foreground hover:text-foreground",children:" "})]}),d.slice(0,5).map((I,V)=>e.jsxs(ev,{value:I.query,onSelect:()=>S(I.query),className:"flex items-center space-x-3 p-3 cursor-pointer hover:bg-accent/10 transition-colors",children:[e.jsx(ht,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm text-foreground",children:I.query})]},V))]})]}),r&&h.length>0&&!i&&e.jsxs(e.Fragment,{children:[e.jsx(An,{}),e.jsx(Ch,{heading:" ",children:e.jsxs("div",{className:"px-3 py-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(Ct,{className:"h-4 w-4 text-accent"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:" "})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:h.slice(0,5).map((I,V)=>e.jsx(X,{variant:"secondary",className:"cursor-pointer hover:bg-accent/20 transition-colors",onClick:()=>S(I.query),children:I.query},V))})]})})]}),i&&l.length===0&&!v&&e.jsx(vP,{children:e.jsxs("div",{className:"text-center py-4",children:[e.jsx(Ot,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"   "})]})}),v&&e.jsx("div",{className:"p-4 text-center",children:e.jsxs("div",{className:"inline-flex items-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"  ..."})]})})]})})]})})},Bf=()=>{var j,w,b,N,_,P;const[t,s]=m.useState(!1),[r,n]=m.useState(!1),[a,i]=m.useState([]),[o,l]=m.useState(""),[c,d]=m.useState(""),[u,h]=yt(),{user:f,signOut:x,loading:g}=rt(),{settings:v}=Cy();m.useEffect(()=>{const A=new Date,k={weekday:"long",year:"numeric",month:"long",day:"numeric"};l(A.toLocaleDateString("bn-BD",k)),(async()=>{try{const{getCategories:R}=await de(async()=>{const{getCategories:H}=await Promise.resolve().then(()=>ke);return{getCategories:H}},void 0),B=await R();i(B)}catch(R){console.error("Error fetching categories:",R)}})();const S=R=>{t&&!R.target.closest(".mobile-menu")&&s(!1)};return document.addEventListener("click",S),()=>document.removeEventListener("click",S)},[t]);const p=()=>{n(!r),r||setTimeout(()=>{var A;(A=document.getElementById("mobile-search"))==null||A.focus()},100)},y=async()=>{try{await x(),h("/")}catch(A){console.error("Error logging out:",A)}};return e.jsxs("header",{className:"glass-effect sticky top-0 z-50 shadow-sm",children:[e.jsx("div",{className:"bg-primary text-primary-foreground border-b border-primary/20",children:e.jsx("div",{className:"container-modern",children:e.jsxs("div",{className:"flex justify-between items-center py-2",children:[e.jsxs("div",{className:"hidden md:flex items-center space-x-3 text-sm",children:[e.jsx("time",{className:"font-medium",children:o}),e.jsx("span",{className:"text-primary-foreground/60",children:""}),e.jsx("span",{className:"text-primary-foreground/90",children:", "})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[f?e.jsxs(pi,{children:[e.jsx(gi,{asChild:!0,children:e.jsx(D,{variant:"ghost",className:"relative h-8 w-8 rounded-full text-primary-foreground hover:bg-primary-foreground/10",children:e.jsxs(bo,{className:"h-8 w-8",children:[e.jsx(No,{src:(j=f.user_metadata)==null?void 0:j.avatar_url,alt:((w=f.user_metadata)==null?void 0:w.name)||f.email}),e.jsx(_o,{className:"bg-accent text-accent-foreground text-xs",children:(((N=(b=f.user_metadata)==null?void 0:b.name)==null?void 0:N[0])||((_=f.email)==null?void 0:_[0])||"?").toUpperCase()})]})})}),e.jsxs(ua,{className:"w-56",align:"end",forceMount:!0,children:[e.jsxs("div",{className:"flex flex-col space-y-1 p-3",children:[e.jsx("p",{className:"text-sm font-medium leading-none",children:((P=f.user_metadata)==null?void 0:P.name)||""}),e.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:f.email})]}),e.jsx(Rn,{}),e.jsx(kt,{asChild:!0,children:e.jsxs(Y,{href:"/profile",className:"cursor-pointer",children:[e.jsx(Zr,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:""})]})}),e.jsx(kt,{asChild:!0,children:e.jsxs(Y,{href:"/dashboard",className:"cursor-pointer",children:[e.jsx(Xc,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:""})]})}),e.jsx(kt,{asChild:!0,children:e.jsxs(Y,{href:"/saved-articles",className:"cursor-pointer",children:[e.jsx(ti,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:""})]})}),e.jsx(kt,{asChild:!0,children:e.jsxs(Y,{href:"/reading-history",className:"cursor-pointer",children:[e.jsx(tn,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:" "})]})}),e.jsx(Rn,{}),e.jsxs(kt,{onClick:y,className:"cursor-pointer text-destructive",children:[e.jsx(_y,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:""})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[e.jsx(Y,{href:"/login",className:"btn-link text-primary-foreground hover:text-primary-foreground/80",children:""}),e.jsx("span",{className:"text-primary-foreground/40",children:"|"}),e.jsx(Y,{href:"/register",className:"btn-link text-primary-foreground hover:text-primary-foreground/80",children:""})]}),e.jsx("div",{className:"border-l border-primary-foreground/20 pl-3",children:e.jsx(t7,{})})]})]})})}),e.jsx("div",{className:"bg-background/95 backdrop-blur-sm border-b border-border",children:e.jsx("div",{className:"container-modern",children:e.jsxs("div",{className:"flex items-center justify-between py-4",children:[e.jsx("div",{className:"flex items-center",children:e.jsxs(Y,{href:"/",className:"flex items-center space-x-3 hover:scale-105 transition-transform duration-200",children:[v.logoUrl&&e.jsx("img",{src:v.logoUrl,alt:v.siteName,className:"h-10 w-auto object-contain",onError:A=>{A.currentTarget.style.display="none"}}),e.jsx("span",{className:"headline gradient-text",children:v.siteName})]})}),e.jsx("div",{className:"hidden md:flex items-center space-x-4",children:e.jsx(eN,{placeholder:" ...",className:"w-80",showHistory:!0,showTrending:!0,showFilters:!0})}),e.jsxs("div",{className:"flex items-center space-x-2 md:hidden",children:[e.jsx("button",{onClick:p,className:"p-2 rounded-lg hover:bg-accent/10 transition-colors","aria-label":"Search",children:e.jsx(Ot,{size:20})}),e.jsx(r7,{categories:a})]})]})})}),r&&e.jsx("div",{className:"md:hidden bg-background border-b border-border p-4 slide-up",children:e.jsx(eN,{placeholder:" ...",className:"w-full",showHistory:!0,showTrending:!0,showFilters:!1})}),e.jsx("nav",{className:"bg-background/98 backdrop-blur-sm border-b border-border",children:e.jsxs("div",{className:"container-modern",children:[e.jsx("div",{className:"hidden md:flex items-center justify-start py-2 overflow-x-auto",children:e.jsxs("div",{className:"flex items-center space-x-2 min-w-max",children:[e.jsxs(Y,{href:"/",className:"nav-link flex items-center whitespace-nowrap",children:[e.jsx(Xc,{size:16,className:"mr-1"})," "]}),a.map(A=>e.jsx(Y,{href:`/category/${A.slug}`,className:"nav-link whitespace-nowrap",children:A.name},A.id)),e.jsx(Y,{href:"/epaper",className:"nav-link whitespace-nowrap",children:"-"}),e.jsx(Y,{href:"/videos",className:"nav-link whitespace-nowrap",children:""}),e.jsx(Y,{href:"/audio-articles",className:"nav-link whitespace-nowrap",children:""}),e.jsx(Y,{href:"/advanced-search",className:"nav-link whitespace-nowrap",children:" "})]})}),t&&e.jsx("div",{className:"md:hidden mobile-menu bg-background border-t border-border animate-in slide-in-from-top-2 duration-200",children:e.jsxs("div",{className:"py-4 px-4 space-y-2",children:[e.jsxs(Y,{href:"/",className:"mobile-nav-link",onClick:()=>s(!1),children:[e.jsx(Xc,{size:16,className:"mr-2"})," "]}),a.map(A=>e.jsx(Y,{href:`/category/${A.slug}`,className:"mobile-nav-link",onClick:()=>s(!1),children:A.name},A.id)),e.jsx(Y,{href:"/epaper",className:"mobile-nav-link",onClick:()=>s(!1),children:"-"}),e.jsx(Y,{href:"/videos",className:"mobile-nav-link",onClick:()=>s(!1),children:""}),e.jsx(Y,{href:"/audio-articles",className:"mobile-nav-link",onClick:()=>s(!1),children:""}),e.jsx(Y,{href:"/advanced-search",className:"mobile-nav-link",onClick:()=>s(!1),children:" "}),f&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"border-t border-border/50 my-2"}),e.jsxs(Y,{href:"/dashboard",className:"mobile-nav-link",onClick:()=>s(!1),children:[e.jsx(Xc,{size:16,className:"mr-2"}),""]}),e.jsxs(Y,{href:"/saved-articles",className:"mobile-nav-link",onClick:()=>s(!1),children:[e.jsx(ti,{size:16,className:"mr-2"})," "]}),e.jsxs(Y,{href:"/reading-history",className:"mobile-nav-link",onClick:()=>s(!1),children:[e.jsx(tn,{size:16,className:"mr-2"})," "]})]})]})})]})})]})},qf=()=>{const[t,s]=m.useState([]),[r,n]=m.useState(""),{settings:a}=Cy();m.useEffect(()=>{(async()=>{try{const{getCategories:l}=await de(async()=>{const{getCategories:d}=await Promise.resolve().then(()=>ke);return{getCategories:d}},void 0),c=await l();s(c)}catch(l){console.error("Error fetching categories:",l)}})()},[]);const i=o=>{o.preventDefault(),alert(`   : ${r}`),n("")};return e.jsx("footer",{className:"bg-primary text-primary-foreground pt-10 pb-4",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-8",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-xl font-bold mb-4 text-primary-foreground",children:a.siteName}),e.jsx("p",{className:"text-primary-foreground/80 mb-4",children:"    ,      "}),e.jsxs("div",{className:"flex space-x-4 mb-4",children:[e.jsx("a",{href:"https://facebook.com",className:"text-primary-foreground hover:text-accent transition",target:"_blank",rel:"noopener noreferrer",children:e.jsx("i",{className:"fab fa-facebook-f"})}),e.jsx("a",{href:"https://twitter.com",className:"text-primary-foreground hover:text-accent transition",target:"_blank",rel:"noopener noreferrer",children:e.jsx("i",{className:"fab fa-twitter"})}),e.jsx("a",{href:"https://youtube.com",className:"text-primary-foreground hover:text-accent transition",target:"_blank",rel:"noopener noreferrer",children:e.jsx("i",{className:"fab fa-youtube"})}),e.jsx("a",{href:"https://instagram.com",className:"text-primary-foreground hover:text-accent transition",target:"_blank",rel:"noopener noreferrer",children:e.jsx("i",{className:"fab fa-instagram"})})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("a",{href:"https://play.google.com/store",className:"block px-3 py-2 bg-primary-foreground/10 hover:bg-accent rounded transition flex items-center space-x-2",target:"_blank",rel:"noopener noreferrer",children:[e.jsx("i",{className:"fab fa-android"}),e.jsx("span",{children:"Android App"})]}),e.jsxs("a",{href:"https://apps.apple.com",className:"block px-3 py-2 bg-primary-foreground/10 hover:bg-accent rounded transition flex items-center space-x-2",target:"_blank",rel:"noopener noreferrer",children:[e.jsx("i",{className:"fab fa-apple"}),e.jsx("span",{children:"iOS App"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold mb-4 text-primary-foreground",children:""}),e.jsx("ul",{className:"space-y-2",children:t.map(o=>e.jsx("li",{children:e.jsx(Y,{href:`/category/${o.slug}`,className:"text-primary-foreground/80 hover:text-accent transition",children:o.name})},o.id))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold mb-4 text-primary-foreground",children:" "}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx(Y,{href:"/about",className:"text-primary-foreground/80 hover:text-accent transition",children:""})}),e.jsx("li",{children:e.jsx(Y,{href:"/editorial-policy",className:"text-primary-foreground/80 hover:text-accent transition",children:" "})}),e.jsx("li",{children:e.jsx(Y,{href:"/contact",className:"text-primary-foreground/80 hover:text-accent transition",children:""})}),e.jsx("li",{children:e.jsx(Y,{href:"/advertisement",className:"text-primary-foreground/80 hover:text-accent transition",children:""})}),e.jsx("li",{children:e.jsx(Y,{href:"/archive",className:"text-primary-foreground/80 hover:text-accent transition",children:""})}),e.jsx("li",{children:e.jsx(Y,{href:"/privacy-policy",className:"text-primary-foreground/80 hover:text-accent transition",children:" "})}),e.jsx("li",{children:e.jsx(Y,{href:"/terms-of-service",className:"text-primary-foreground/80 hover:text-accent transition",children:" "})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold mb-4 text-primary-foreground",children:" "}),e.jsx("p",{className:"text-primary-foreground/80 mb-4",children:"       "}),e.jsxs("form",{onSubmit:i,children:[e.jsx("div",{className:"mb-4",children:e.jsx(te,{type:"email",placeholder:"  ",className:"w-full px-4 py-2 rounded bg-primary-foreground/10 border border-primary-foreground/20 focus:outline-none focus:ring-2 focus:ring-accent text-primary-foreground placeholder:text-primary-foreground/60",value:r,onChange:o=>n(o.target.value),required:!0})}),e.jsx(D,{type:"submit",className:"bg-accent hover:bg-opacity-90 transition text-white px-4 py-2 rounded w-full font-medium",children:""})]})]})]}),e.jsx("div",{className:"border-t border-gray-800 pt-4 text-center text-gray-400 text-sm",children:e.jsxs("p",{children:[" ",new Date().getFullYear()," ",a.siteName,"  "]})})]})})};function K7(){return e.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:e.jsx(C,{className:"w-full max-w-md mx-4",children:e.jsxs(E,{className:"pt-6 text-center",children:[e.jsx(Yt,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:""}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200 mb-4",children:"   "}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"           "}),e.jsx(Y,{href:"/",children:e.jsx(D,{className:"w-full",children:"   "})})]})})})}var gN;const qo={siteName:typeof window<"u"&&((gN=window.globalSiteSettings)==null?void 0:gN.siteName)||"",image:"/og-default-image.svg",twitterHandle:"@prothomalo",author:""};function G7(t,s=160){if(t.length<=s)return t;const r=t.substring(0,s-3),n=r.lastIndexOf(" ");return n>0?r.substring(0,n)+"...":r+"..."}function Q7(t){return t?t.startsWith("http://")||t.startsWith("https://")?t:t.startsWith("/")?`${window.location.origin}${t}`:`${window.location.origin}/${t}`:qo.image}function Z7(t){return t?t.startsWith("http://")||t.startsWith("https://")?t:`${window.location.origin}${t.startsWith("/")?"":"/"}${t}`:window.location.href}function _u(t){const{title:s,description:r,image:n,url:a,type:i="website",siteName:o=qo.siteName,author:l=qo.author,publishedTime:c,section:d,tags:u=[],twitterHandle:h=qo.twitterHandle}=t,f=G7(r),x=Q7(n),g=Z7(a);return{title:`${s} | ${o}`,description:f,"og:title":s,"og:description":f,"og:image":x,"og:image:width":"1200","og:image:height":"630","og:image:alt":s,"og:url":g,"og:type":i,"og:site_name":o||"","og:locale":"bn_BD",...i==="article"&&{"article:author":l||"","article:section":d||"","article:published_time":c||"","article:tag":u.join(", ")},"twitter:card":"summary_large_image","twitter:title":s,"twitter:description":f,"twitter:image":x,"twitter:image:alt":s,"twitter:site":h||qo.twitterHandle,"twitter:creator":h||qo.twitterHandle,"instagram:title":s,"instagram:description":f,"instagram:image":x,canonical:g,"apple-mobile-web-app-title":o||"","application-name":o||"",robots:"index, follow",googlebot:"index, follow",language:"Bengali","geo.region":"BD","geo.country":"Bangladesh"}}function Y7(t){var s,r;return _u({title:t.title,description:t.excerpt,image:t.image_url,url:`/article/${encodeURIComponent(t.slug)}`,type:"article",author:t.author,publishedTime:t.published_at,section:(s=t.category)==null?void 0:s.name,tags:(r=t.category)!=null&&r.name?[t.category.name]:[]})}function X7(t){return _u({title:t.name,description:t.description||`${t.name}   `,url:`/category/${t.slug}`,section:t.name})}function J7(){return _u({title:"Bengali News",description:"     , , , , ,     ",url:"/"})}function eB(t){const s=t?`"${t}"  `:"",r=t?`"${t}"   `:"  - ,      ";return _u({title:s,description:r,url:t?`/search?q=${encodeURIComponent(t)}`:"/search"})}function Su(t){const s=[],r=[];return Object.entries(t).forEach(([n,a])=>{if(n!=="title"){if(n==="canonical"){r.push({rel:"canonical",href:a});return}n.startsWith("og:")||n.startsWith("article:")||n.startsWith("instagram:")?s.push({property:n,content:a}):s.push({name:n,content:a})}}),{metaElements:s,linkElements:r}}const tB=()=>{const[t,s]=m.useState([]),[r,n]=m.useState(!0),[a,i]=m.useState(null);return m.useEffect(()=>{(async()=>{try{n(!0);const{getBreakingNews:l}=await de(async()=>{const{getBreakingNews:d}=await Promise.resolve().then(()=>ke);return{getBreakingNews:d}},void 0),c=await l();s(c),i(null)}catch(l){i("     "),console.error("Error fetching breaking news:",l)}finally{n(!1)}})()},[]),r?e.jsx("div",{className:"breaking-news-container mb-6",children:e.jsx("div",{className:"breaking-news-wrapper bg-gradient-to-r from-red-500/10 via-orange-500/10 to-red-500/10 dark:from-red-500/20 dark:via-orange-500/20 dark:to-red-500/20 border-l-4 border-red-500 rounded-lg shadow-md overflow-hidden",children:e.jsxs("div",{className:"flex items-center min-h-[64px]",children:[e.jsxs("div",{className:"breaking-label flex-shrink-0 bg-red-500 text-white px-4 py-3 flex items-center space-x-2 font-bold text-sm tracking-wide uppercase",children:[e.jsx(Yt,{className:"w-4 h-4 animate-pulse"}),e.jsx("span",{children:""})]}),e.jsx("div",{className:"content-area flex-1 px-4",children:e.jsx("div",{className:"text-foreground font-semibold animate-pulse",children:" ..."})})]})})}):a||t.length===0?e.jsx("div",{className:"breaking-news-container mb-6",children:e.jsx("div",{className:"breaking-news-wrapper bg-muted/30 border-l-4 border-muted rounded-lg shadow-sm overflow-hidden",children:e.jsxs("div",{className:"flex items-center min-h-[64px]",children:[e.jsxs("div",{className:"breaking-label flex-shrink-0 bg-muted text-muted-foreground px-4 py-3 flex items-center space-x-2 font-bold text-sm tracking-wide uppercase",children:[e.jsx(Yt,{className:"w-4 h-4"}),e.jsx("span",{children:""})]}),e.jsx("div",{className:"content-area flex-1 px-4",children:e.jsx("div",{className:"text-muted-foreground font-medium",children:a||"     "})})]})})}):e.jsx("div",{className:"breaking-news-container mb-6",children:e.jsx("div",{className:"breaking-news-wrapper bg-gradient-to-r from-red-500/10 via-orange-500/10 to-red-500/10 dark:from-red-500/20 dark:via-orange-500/20 dark:to-red-500/20 border-l-4 border-red-500 rounded-lg shadow-md hover:shadow-lg transition-all duration-300 overflow-hidden",children:e.jsxs("div",{className:"flex items-center min-h-[64px]",children:[e.jsxs("div",{className:"breaking-label flex-shrink-0 bg-red-500 text-white px-4 py-3 flex items-center space-x-2 font-bold text-sm tracking-wide uppercase shadow-lg",children:[e.jsx(Yt,{className:"w-4 h-4 animate-pulse"}),e.jsx("span",{children:""}),e.jsx("div",{className:"w-1 h-1 bg-white rounded-full animate-pulse ml-1"})]}),e.jsx("div",{className:"ticker-wrapper flex-1 overflow-hidden bg-gradient-to-r from-transparent via-white/5 to-transparent dark:via-white/10",children:e.jsx("div",{className:"ticker-content",children:e.jsx("div",{className:"ticker-marquee animate-marquee-smooth font-semibold text-foreground text-base lg:text-lg leading-relaxed py-3 px-4",children:t.map((o,l)=>e.jsxs("span",{className:"ticker-item",children:[o.content,l<t.length-1&&e.jsx("span",{className:"separator mx-8 text-red-500 font-bold",children:""})]},o.id))})})}),e.jsx("div",{className:"live-indicator flex-shrink-0 px-3",children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"LIVE"})]})})]})})})},sB=()=>{const[t,s]=m.useState([]),[r,n]=m.useState([]),[a,i]=m.useState(0),[o,l]=m.useState(!0),[c,d]=m.useState(null);m.useEffect(()=>{(async()=>{try{l(!0);const{getArticles:f,getLatestArticles:x}=await de(async()=>{const{getArticles:p,getLatestArticles:y}=await Promise.resolve().then(()=>ke);return{getArticles:p,getLatestArticles:y}},void 0),g=await f({featured:!0,limit:3});s(g);const v=await x(5);n(v.filter(p=>!g.some(y=>y.id===p.id)).slice(0,2)),d(null)}catch(f){d("    "),console.error("Error fetching articles:",f)}finally{l(!1)}})()},[]),m.useEffect(()=>{if(t.length===0)return;const h=setInterval(()=>{i(f=>(f+1)%t.length)},5e3);return()=>clearInterval(h)},[t]);const u=m.useCallback(h=>{i(h)},[]);return o?e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[e.jsx("div",{className:"lg:col-span-2 h-96 bg-card border border-border rounded shadow-sm animate-pulse"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-48 bg-card border border-border rounded shadow-sm animate-pulse"}),e.jsx("div",{className:"h-48 bg-card border border-border rounded shadow-sm animate-pulse"})]})]}):c||t.length===0&&r.length===0?e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[e.jsx("div",{className:"lg:col-span-2 p-4 bg-card border border-border rounded shadow-sm",children:e.jsx("p",{className:"text-center py-12 text-muted-foreground",children:c||"   "})}),e.jsx("div",{className:"p-4 bg-card border border-border rounded shadow-sm",children:e.jsx("p",{className:"text-center py-12 text-muted-foreground",children:"    "})})]}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"slideshow-container bg-card border border-border rounded shadow-sm overflow-hidden",children:[t.map((h,f)=>e.jsxs("div",{className:`slide fade relative ${f===a?"":"hidden"}`,children:[e.jsx("img",{src:h.imageUrl||h.image_url||"/placeholder-800x450.svg",alt:h.title,className:"w-full aspect-[16/9] object-cover",onError:x=>{const g=x.target;g.src="/placeholder-800x450.svg"}}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-4 text-white",children:[h.category&&e.jsx(Y,{href:`/category/${h.category.slug}`,className:"bg-accent text-white text-xs px-2 py-1 rounded inline-block",children:h.category.name}),e.jsx("h2",{className:"headline text-white mt-2 mb-2",children:e.jsx(Y,{href:`/article/${h.slug}`,className:"text-white hover:text-gray-200 transition",children:h.title})}),e.jsx("p",{className:"article-excerpt text-sm md:text-base opacity-90 line-clamp-2 text-white",children:h.excerpt}),e.jsxs("div",{className:"flex items-center mt-2 text-sm",children:[e.jsx("span",{children:h.publishedAt?ls(h.publishedAt):" "}),e.jsx("span",{className:"mx-2",children:""}),e.jsx(Y,{href:`/article/${h.slug}`,className:"text-accent hover:underline",children:" "})]})]})]},h.id)),e.jsx("div",{className:"text-center mt-2",children:t.map((h,f)=>e.jsx("span",{className:`dot inline-block w-2 h-2 rounded-full mx-1 cursor-pointer ${f===a?"bg-accent":"bg-mid-gray"}`,onClick:()=>u(f)},f))})]})}),e.jsx("div",{className:"space-y-4",children:r.map(h=>e.jsxs("div",{className:"bg-card dark:bg-card rounded shadow-sm overflow-hidden hover:shadow-md transition",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:h.imageUrl||h.image_url||"/placeholder-300x176.svg",alt:h.title,className:"w-full h-44 object-cover",onError:f=>{const x=f.target;x.src="/placeholder-300x176.svg"}}),h.category&&e.jsx(Y,{href:`/category/${h.category.slug}`,className:"absolute top-2 left-2 bg-accent text-white text-xs px-2 py-1 rounded",children:h.category.name})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"news-title mb-1 line-clamp-2",children:e.jsx(Y,{href:`/article/${h.slug}`,className:"hover:text-accent transition",children:h.title})}),e.jsx("p",{className:"article-excerpt text-sm line-clamp-2",children:h.excerpt}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:h.publishedAt?ls(h.publishedAt):" "})]})]},h.id))})]})},rB=()=>{const[t,s]=m.useState(null),[r,n]=m.useState([]),[a,i]=m.useState(!0),[o,l]=m.useState(null),[c,d]=m.useState(""),[u,h]=m.useState("pending"),[f,x]=m.useState(!1),g=y=>{if(Array.isArray(y))return y;try{return JSON.parse(y)||[]}catch(j){return console.error("Error parsing forecast data:",j),[]}},v=async()=>{x(!0);try{console.log("[Weather] Getting location via IP address...");const{getWeatherByCity:y}=await de(async()=>{const{getWeatherByCity:w}=await Promise.resolve().then(()=>ke);return{getWeatherByCity:w}},void 0),j=await y("");if(j)s({...j,id:j.id||Date.now(),updatedAt:j.updated_at||new Date().toISOString()}),h("granted"),console.log(`[Weather] Successfully fetched weather for ${j.city}`);else throw new Error("No weather data received")}catch(y){console.error("Error fetching IP-based weather:",y),h("denied"),await p()}finally{x(!1)}},p=async()=>{try{const{getWeatherByCity:y}=await de(async()=>{const{getWeatherByCity:w}=await Promise.resolve().then(()=>ke);return{getWeatherByCity:w}},void 0),j=await y("");if(j){const w={id:j.id,city:j.city,temperature:j.temperature,condition:j.condition||"N/A",icon:j.icon||"fas fa-sun",forecast:j.forecast||"[]",updatedAt:j.updated_at||""};s(w)}}catch(y){console.error("Error fetching default weather:",y),l("     ")}};return m.useEffect(()=>{const y=new Date,j={weekday:"long",year:"numeric",month:"long",day:"numeric"};d(y.toLocaleDateString("bn-BD",j)),(async()=>{try{i(!0),await v();const{getWeather:b}=await de(async()=>{const{getWeather:P}=await Promise.resolve().then(()=>ke);return{getWeather:P}},void 0),_=(await b()).map(P=>({...P,forecast:g(P.forecast)}));n(_),l(null)}catch(b){l("     "),console.error("Error fetching weather data:",b)}finally{i(!1)}})()},[]),a?e.jsxs("div",{className:"bg-card dark:bg-card rounded shadow-sm p-4 h-full",children:[e.jsx("h3",{className:"text-lg font-bold mb-4 font-hind border-b border-border pb-2",children:""}),e.jsxs("div",{className:"animate-pulse flex flex-col space-y-4",children:[e.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded"}),e.jsx("div",{className:"h-20 bg-gray-200 dark:bg-gray-700 rounded"}),e.jsx("div",{className:"h-32 bg-gray-200 dark:bg-gray-700 rounded"})]})]}):o||!t?e.jsxs("div",{className:"bg-card dark:bg-card rounded shadow-sm p-4",children:[e.jsx("h3",{className:"text-lg font-bold mb-4 font-hind border-b border-border pb-2",children:""}),e.jsx("p",{className:"text-center py-8",children:o||"   "})]}):e.jsxs("div",{className:"bg-card dark:bg-card rounded shadow-sm p-4 h-full",children:[e.jsx("h3",{className:"text-lg font-bold mb-4 font-hind border-b border-border pb-2",children:""}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[t.isUserLocation?e.jsx(Iw,{className:"w-4 h-4 text-blue-500"}):e.jsx(Fl,{className:"w-4 h-4 text-gray-500"}),e.jsx("h4",{className:"font-bold text-xl",children:t.city})]}),u==="denied"&&e.jsxs(D,{variant:"outline",size:"sm",onClick:v,disabled:f,className:"text-xs",children:[f?e.jsx(on,{className:"w-3 h-3 animate-spin"}):e.jsx(Iw,{className:"w-3 h-3"}),e.jsx("span",{className:"ml-1",children:""})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"flex items-center justify-end",children:[e.jsxs("span",{className:"text-3xl font-bold mr-2",children:[Zx(t.temperature),""]}),e.jsx("i",{className:`${t.icon} text-yellow-500 text-3xl`})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.condition})]})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:c}),e.jsx("div",{className:"grid grid-cols-3 gap-2 text-center bg-gray-50 dark:bg-gray-800 rounded p-3",children:g(t.forecast||[]).slice(0,3).map((y,j)=>e.jsxs("div",{className:"forecast-day",children:[e.jsx("div",{className:"text-xs font-medium mb-1",children:y.day}),e.jsx("i",{className:`${y.icon} ${y.icon.includes("sun")?"text-yellow-500":"text-gray-500 dark:text-gray-400"} text-lg mb-1`}),e.jsxs("div",{className:"text-sm font-bold",children:[Zx(y.temperature),""]})]},j))})]}),e.jsxs("div",{className:"border-t border-border pt-4",children:[e.jsxs("h5",{className:"font-bold mb-3 flex items-center",children:[e.jsx(Fl,{className:"w-4 h-4 mr-2"})," "]}),e.jsx("div",{className:"grid grid-cols-2 gap-3 text-sm",children:r.filter(y=>y.city!==t.city).slice(0,6).map(y=>e.jsxs("div",{className:"flex justify-between items-center bg-gray-50 dark:bg-gray-800 rounded p-2",children:[e.jsx("span",{className:"font-medium",children:y.city}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsxs("span",{className:"font-bold",children:[Zx(y.temperature),""]}),e.jsx("i",{className:`${y.icon} text-sm ${y.icon.includes("sun")?"text-yellow-500":"text-gray-500"}`})]})]},y.id))})]}),u==="pending"&&f&&e.jsx("div",{className:"mt-3 text-center",children:e.jsxs("div",{className:"flex items-center justify-center text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(on,{className:"w-4 h-4 animate-spin mr-2"})," ..."]})}),u==="unavailable"&&e.jsx("div",{className:"mt-3 text-center text-sm text-gray-500",children:"   "})]})},nB=()=>{const[t,s]=m.useState([]),[r,n]=m.useState(!0),[a,i]=m.useState(null);return m.useEffect(()=>{(async()=>{try{n(!0);const{articlesApiDirect:l}=await de(async()=>{const{articlesApiDirect:u}=await import("./queryClient-direct-A641_tZv.js");return{articlesApiDirect:u}},__vite__mapDeps([0,1])),d=(await l.getLatest(4)).map(u=>({id:u.id,title:u.title,slug:u.slug,excerpt:u.excerpt,imageUrl:u.image_url||u.imageUrl,publishedAt:u.published_at||u.publishedAt,category:u.categories||u.category||{id:0,name:"",slug:"general"}}));s(d),i(null)}catch(l){i("     "),console.error("Error fetching latest news:",l)}finally{n(!1)}})()},[]),r?e.jsxs("div",{className:"lg:col-span-2 bg-card border border-border rounded shadow-sm p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4 border-b border-border pb-2",children:" "}),e.jsx("div",{className:"space-y-4",children:[...Array(4)].map((o,l)=>e.jsxs("div",{className:"flex gap-3 animate-pulse",children:[e.jsx("div",{className:"flex-shrink-0 w-20 h-20 bg-muted rounded"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 bg-muted rounded w-1/4"}),e.jsx("div",{className:"h-6 bg-muted rounded"}),e.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),e.jsx("div",{className:"h-3 bg-muted rounded w-1/5"})]})]},l))})]}):a||t.length===0?e.jsxs("div",{className:"lg:col-span-2 bg-card border border-border rounded shadow-sm p-4 min-h-[300px]",children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4 border-b border-border pb-2",children:" "}),e.jsx("div",{className:"flex items-center justify-center py-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-muted rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-8 h-8 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("p",{className:"text-muted-foreground",children:a||"      "}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"      "})]})})]}):e.jsxs("div",{className:"lg:col-span-2 bg-card border border-border rounded shadow-sm p-4 h-full",children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4 border-b border-border pb-2",children:" "}),e.jsx("div",{className:"space-y-4",children:t.map(o=>e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Y,{href:`/article/${o.slug}`,className:"block",children:e.jsx("img",{src:o.imageUrl||"/placeholder-80x80.svg",alt:o.title,className:"w-20 h-20 object-cover rounded",onError:l=>{const c=l.target;c.src="/placeholder-80x80.svg"}})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(Y,{href:`/category/${o.category.slug}`,className:"text-xs font-medium text-accent hover:text-accent/80 transition-colors",children:o.category.name}),e.jsx("h4",{className:"text-base font-semibold text-foreground mb-1 leading-tight",children:e.jsx(Y,{href:`/article/${o.slug}`,className:"hover:text-primary transition-colors",children:o.title})}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-2",children:o.excerpt}),e.jsx("div",{className:"text-xs text-muted-foreground",children:o.publishedAt?ls(o.publishedAt):" "})]})]},o.id))}),e.jsx("div",{className:"mt-4 text-center",children:e.jsxs(Y,{href:"/latest",className:"text-accent hover:text-accent/80 font-medium transition-colors",children:["  ",e.jsx("i",{className:"fas fa-angle-right ml-1"})]})})]})};class aB extends m.Component{constructor(s){super(s),this.state={hasError:!1}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,r){console.error("ErrorBoundary caught an error:",s,r)}render(){return this.state.hasError?this.props.fallback||e.jsx("div",{className:"min-h-[200px] flex items-center justify-center bg-card border border-border rounded p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-destructive mb-2",children:"   "}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"         "}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90 transition-colors",children:"  "})]})}):this.props.children}}class iB{constructor(){this.cache=new Map,this.defaultTTL=5*60*1e3}set(s,r,n){const a=Date.now(),i=a+(n||this.defaultTTL);this.cache.set(s,{data:r,timestamp:a,expiry:i})}get(s){const r=this.cache.get(s);return r?Date.now()>r.expiry?(this.cache.delete(s),null):r.data:null}has(s){const r=this.cache.get(s);return r?Date.now()>r.expiry?(this.cache.delete(s),!1):!0:!1}clear(){this.cache.clear()}cleanup(){const s=Date.now();for(const[r,n]of this.cache.entries())s>n.expiry&&this.cache.delete(r)}size(){return this.cleanup(),this.cache.size}}const Tm=new iB;setInterval(()=>{Tm.cleanup(),console.log(`[Cache] Cleaned up. Current size: ${Tm.size()}`)},10*60*1e3);class oB{constructor(){this.metrics=[],this.maxMetrics=1e3}startOperation(s,r){const n=`${s}-${Date.now()}-${Math.random()}`;return this.metrics.push({operation:n,startTime:performance.now(),success:!1,metadata:r}),n}endOperation(s,r=!0,n){const a=this.metrics.find(i=>i.operation===s);a&&(a.endTime=performance.now(),a.duration=a.endTime-a.startTime,a.success=r,a.error=n,a.duration>2e3&&console.warn(`[Performance] Slow operation: ${s} took ${a.duration.toFixed(2)}ms`),!r&&n&&console.error(`[Performance] Operation failed: ${s} - ${n}`)),this.metrics.length>this.maxMetrics&&(this.metrics=this.metrics.slice(-this.maxMetrics))}getMetrics(s){const r=this.metrics.filter(n=>n.endTime!==void 0);return s?r.filter(n=>n.operation.includes(s)):r}getAverageTime(s){const r=this.getMetrics(s).filter(a=>a.success);return r.length===0?0:r.reduce((a,i)=>a+(i.duration||0),0)/r.length}getErrorRate(s){const r=this.getMetrics(s);return r.length===0?0:r.filter(a=>!a.success).length/r.length*100}getPerformanceReport(){const s=this.getMetrics(),r=s.filter(o=>(o.duration||0)>2e3),n={};s.forEach(o=>{const l=o.operation.split("-")[0];n[l]||(n[l]={avg:0,errors:0,count:0}),n[l].count++,n[l].avg=(n[l].avg*(n[l].count-1)+(o.duration||0))/n[l].count,o.success||n[l].errors++});const a=s.reduce((o,l)=>o+(l.duration||0),0),i=s.filter(o=>!o.success).length;return{totalOperations:s.length,averageResponseTime:s.length>0?a/s.length:0,errorRate:s.length>0?i/s.length*100:0,slowOperations:r,operationStats:n}}logReport(){const s=this.getPerformanceReport();console.group(" Performance Report"),console.log(`Total Operations: ${s.totalOperations}`),console.log(`Average Response Time: ${s.averageResponseTime.toFixed(2)}ms`),console.log(`Error Rate: ${s.errorRate.toFixed(2)}%`),s.slowOperations.length>0&&(console.warn(`Slow Operations (${s.slowOperations.length}):`),s.slowOperations.forEach(r=>{var n;console.warn(`  - ${r.operation}: ${(n=r.duration)==null?void 0:n.toFixed(2)}ms`)})),console.log("Operation Statistics:"),Object.entries(s.operationStats).forEach(([r,n])=>{console.log(`  ${r}: ${n.avg.toFixed(2)}ms avg, ${n.errors} errors, ${n.count} total`)}),console.groupEnd()}clear(){this.metrics=[]}}const Eh=new oB;function tN(t,s,r){const n=Eh.startOperation(t,r);return s().then(a=>(Eh.endOperation(n,!0),a)).catch(a=>{throw Eh.endOperation(n,!1,a.message),a})}setInterval(()=>{Eh.logReport()},5*60*1e3);const sN=({categorySlug:t,limit:s=4})=>{const[r,n]=m.useState(null),[a,i]=m.useState([]),[o,l]=m.useState(!0),[c,d]=m.useState(null);if(m.useEffect(()=>{(async()=>{try{l(!0);const x=`category-${t}-${s}`,g=Tm.get(x);if(g){console.log(`[Cache] Using cached data for ${t}`),n(g.category),i(g.articles),d(null),l(!1);return}const v=await tN(`fetch-category-${t}`,async()=>{const{getCategoryBySlug:w}=await de(async()=>{const{getCategoryBySlug:N}=await Promise.resolve().then(()=>ke);return{getCategoryBySlug:N}},void 0),b=await w(t);if(!b)throw new Error(`Category not found: ${t}`);return b},{categorySlug:t});n(v);let p=[],y=0;const j=2;for(;y<=j;){try{p=await tN(`fetch-articles-${t}`,async()=>{const{getArticles:w}=await de(async()=>{const{getArticles:N}=await Promise.resolve().then(()=>ke);return{getArticles:N}},void 0);return(await w({category:t,limit:s})).map(N=>({id:N.id,title:N.title,slug:N.slug,excerpt:N.excerpt,imageUrl:N.image_url||N.imageUrl,publishedAt:N.published_at||N.publishedAt,category:N.categories||N.category||{id:0,name:"",slug:"general"}}))},{categorySlug:t,limit:s,attempt:y+1});break}catch(w){if(console.warn(`Fetch attempt ${y+1} failed:`,w),y===j)throw w}y++,await new Promise(w=>setTimeout(w,500*y))}i(p),d(null),Tm.set(x,{category:v,articles:p},12e4)}catch(x){const g=(x==null?void 0:x.message)||"     ";d(g),console.error("Error fetching category news:",{error:x,categorySlug:t,limit:s,message:x==null?void 0:x.message,status:x==null?void 0:x.status})}finally{l(!1)}})()},[t,s]),o)return e.jsxs("div",{className:"bg-card border border-border rounded shadow-sm p-4 h-full",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-border pb-2",children:[e.jsx(Kt,{className:"h-6 w-32"}),e.jsx(Kt,{className:"h-4 w-20"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(Kt,{className:"h-48 w-full"}),e.jsx(Kt,{className:"h-6 w-full"}),e.jsx(Kt,{className:"h-4 w-3/4"}),e.jsx("div",{className:"space-y-3",children:[...Array(3)].map((f,x)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Kt,{className:"flex-shrink-0 w-16 h-16"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx(Kt,{className:"h-4 w-full"}),e.jsx(Kt,{className:"h-3 w-1/4"})]})]},x))})]})]});if(c&&c.includes("Category not found"))return null;if(c||!r||a.length===0)return e.jsxs("div",{className:"bg-card border border-border rounded shadow-sm p-4 min-h-[200px]",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-border pb-2",children:[e.jsx("h3",{className:"text-lg font-bold text-foreground",children:(r==null?void 0:r.name)||""}),r&&e.jsxs(Y,{href:`/category/${t}`,className:"text-accent text-sm hover:text-accent/80 transition-colors",children:[" ",e.jsx("i",{className:"fas fa-angle-right ml-1"})]})]}),e.jsx("p",{className:"text-center py-8 text-muted-foreground",children:c&&!c.includes("Category not found")?c:"     "})]});const u=a[0],h=a.slice(1);return e.jsx(aB,{children:e.jsxs("div",{className:"bg-card border border-border rounded shadow-sm p-4 h-full",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-border pb-2",children:[e.jsx("h3",{className:"text-lg font-bold text-foreground",children:r.name}),e.jsxs(Y,{href:`/category/${r.slug}`,className:"text-accent text-sm hover:text-accent/80 transition-colors",children:[" ",e.jsx("i",{className:"fas fa-angle-right ml-1"})]})]}),e.jsxs("div",{className:"mb-4 article-card",children:[e.jsx("div",{className:"mb-2 article-image",children:e.jsx(Y,{href:`/article/${u.slug}`,className:"block",children:e.jsx("img",{src:u.imageUrl,alt:u.title,className:"w-full h-48 object-cover rounded"})})}),e.jsx("h4",{className:"font-bold text-base mb-1 font-hind",children:e.jsx(Y,{href:`/article/${u.slug}`,className:"hover:text-accent transition",children:u.title})}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2",children:u.excerpt}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 flex items-center",children:[e.jsx("span",{className:"article-category mr-2",children:r.name}),e.jsx("span",{children:ls(u.publishedAt)})]})]}),e.jsx("div",{className:"space-y-3",children:h.map((f,x)=>e.jsxs("div",{className:`flex gap-2 article-card touch-feedback fade-in-delay-${x+1}`,children:[e.jsx("div",{className:"flex-shrink-0 article-image",children:e.jsx(Y,{href:`/article/${f.slug}`,className:"block",children:e.jsx("img",{src:f.imageUrl,alt:f.title,className:"w-16 h-16 object-cover rounded"})})}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium mb-1 text-sm font-hind",children:e.jsx(Y,{href:`/article/${f.slug}`,className:"hover:text-accent transition",children:f.title})}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center",children:[e.jsx("span",{className:"article-category mr-2",children:r.name}),e.jsx("span",{children:ls(f.publishedAt)})]})]})]},f.id))})]})})},lB=()=>{const[t,s]=m.useState(null),[r,n]=m.useState([]),[a,i]=m.useState(!0),[o,l]=m.useState(null);return m.useEffect(()=>{(async()=>{try{i(!0);const{getLatestEPaper:d,getEPapers:u}=await de(async()=>{const{getLatestEPaper:x,getEPapers:g}=await Promise.resolve().then(()=>ke);return{getLatestEPaper:x,getEPapers:g}},void 0),h=await d();s(h);const f=await u();n(f.slice(0,5)),l(null)}catch(d){l("-    "),console.error("Error fetching e-papers:",d)}finally{i(!1)}})()},[]),a?e.jsxs("div",{className:"bg-card dark:bg-card rounded shadow-sm p-4 mb-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-border pb-2",children:[e.jsx("h3",{className:"text-lg font-bold font-hind",children:"-"}),e.jsx("div",{className:"w-24 h-4 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"})]}),e.jsxs("div",{className:"flex flex-wrap gap-6 animate-pulse",children:[e.jsxs("div",{className:"w-full md:w-auto",children:[e.jsx("div",{className:"h-80 w-48 bg-gray-200 dark:bg-gray-700 rounded mx-auto"}),e.jsx("div",{className:"mt-2 h-6 bg-gray-200 dark:bg-gray-700 rounded w-32 mx-auto"}),e.jsx("div",{className:"mt-1 h-4 bg-gray-200 dark:bg-gray-700 rounded w-24 mx-auto"})]}),e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded w-32 mx-auto"}),e.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:[...Array(5)].map((c,d)=>e.jsx("div",{className:"w-24 h-10 bg-gray-200 dark:bg-gray-700 rounded"},d))}),e.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded w-48 mx-auto mt-4"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[...Array(4)].map((c,d)=>e.jsx("div",{className:"h-32 bg-gray-200 dark:bg-gray-700 rounded"},d))})]})]})]}):o||!t?e.jsxs("div",{className:"bg-card dark:bg-card rounded shadow-sm p-4 mb-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-border pb-2",children:[e.jsx("h3",{className:"text-lg font-bold font-hind",children:"-"}),e.jsxs(Y,{href:"/epaper",className:"text-accent text-sm hover:underline",children:["  ",e.jsx("i",{className:"fas fa-angle-right ml-1"})]})]}),e.jsx("p",{className:"text-center py-12",children:o||" -  "})]}):e.jsxs("div",{className:"bg-card dark:bg-card rounded shadow-sm p-4 mb-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-border pb-2",children:[e.jsx("h3",{className:"text-lg font-bold font-hind",children:"-"}),e.jsxs(Y,{href:"/epaper",className:"text-accent text-sm hover:underline",children:["  ",e.jsx("i",{className:"fas fa-angle-right ml-1"})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-6",children:[e.jsx("div",{className:"w-full md:w-auto",children:e.jsx("div",{className:"text-center",children:e.jsxs("a",{href:t.pdfUrl,target:"_blank",rel:"noopener noreferrer",className:"block hover:opacity-80 transition",children:[e.jsx("img",{src:t.imageUrl,alt:" -",className:"mx-auto shadow-md border border-border h-80 object-cover"}),e.jsx("div",{className:"mt-2 font-medium",children:t.title}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:ea(t.publishDate)})]})})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("h4",{className:"font-bold mb-2 font-hind",children:""}),e.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:r.filter(c=>c.id!==t.id).map(c=>e.jsxs("a",{href:c.pdfUrl,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-2 border border-border rounded hover:bg-muted dark:hover:bg-muted transition text-sm",children:[ea(c.publishDate).split(" ")[0]," ",ea(c.publishDate).split(" ")[1]]},c.id))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-3 font-hind",children:" "}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[e.jsx("div",{className:"text-center",children:e.jsx("a",{href:"#",className:"block",children:e.jsxs("div",{className:"border border-border rounded p-2 hover:bg-muted dark:hover:bg-muted transition",children:[e.jsx("img",{src:"https://images.unsplash.com/photo-1495020689067-958852a7765e?ixlib=rb-4.0.3&auto=format&fit=crop&w=120&q=80",alt:"",className:"w-full h-24 object-cover mb-2 rounded"}),e.jsx("div",{className:"text-sm font-medium",children:""})]})})}),e.jsx("div",{className:"text-center",children:e.jsx("a",{href:"#",className:"block",children:e.jsxs("div",{className:"border border-border rounded p-2 hover:bg-muted dark:hover:bg-muted transition",children:[e.jsx("img",{src:"https://images.unsplash.com/photo-1521747116042-5a810fda9664?ixlib=rb-4.0.3&auto=format&fit=crop&w=120&q=80",alt:"",className:"w-full h-24 object-cover mb-2 rounded"}),e.jsx("div",{className:"text-sm font-medium",children:""})]})})}),e.jsx("div",{className:"text-center",children:e.jsx("a",{href:"#",className:"block",children:e.jsxs("div",{className:"border border-border rounded p-2 hover:bg-muted dark:hover:bg-muted transition",children:[e.jsx("img",{src:"https://images.unsplash.com/photo-1576678927484-cc907957088c?ixlib=rb-4.0.3&auto=format&fit=crop&w=120&q=80",alt:"",className:"w-full h-24 object-cover mb-2 rounded"}),e.jsx("div",{className:"text-sm font-medium",children:""})]})})}),e.jsx("div",{className:"text-center",children:e.jsx("a",{href:"#",className:"block",children:e.jsxs("div",{className:"border border-border rounded p-2 hover:bg-muted dark:hover:bg-muted transition",children:[e.jsx("img",{src:"https://images.unsplash.com/photo-1605019114092-d707f9bc2f35?ixlib=rb-4.0.3&auto=format&fit=crop&w=120&q=80",alt:"",className:"w-full h-24 object-cover mb-2 rounded"}),e.jsx("div",{className:"text-sm font-medium",children:""})]})})})]})]})]})]})]})},cB=()=>{const[t,s]=m.useState([]),[r,n]=m.useState("daily"),[a,i]=m.useState(!0),[o,l]=m.useState(null);m.useEffect(()=>{const d=async()=>{try{i(!0);const{articlesApiDirect:h}=await de(async()=>{const{articlesApiDirect:g}=await import("./queryClient-direct-A641_tZv.js");return{articlesApiDirect:g}},__vite__mapDeps([0,1])),f=await h.getPopular(6);console.log(`[PopularNews] Fetched ${f.length} popular articles for ${r}`);const x=f.map(g=>({id:g.id,title:g.title,slug:g.slug,excerpt:g.excerpt,publishedAt:g.published_at||g.publishedAt,category:g.categories||g.category||{id:0,name:"",slug:"general"},viewCount:g.view_count||g.viewCount||0}));s(x),l(null)}catch(h){l("     "),console.error("Error fetching popular articles:",h)}finally{i(!1)}};d();const u=setInterval(d,3e4);return()=>clearInterval(u)},[r]);const c=d=>{n(d)};return a?e.jsxs("div",{className:"bg-card border border-border rounded shadow-sm p-4 mb-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-border pb-2",children:[e.jsx("h3",{className:"text-lg font-bold text-foreground",children:" "}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"w-12 h-8 bg-muted rounded animate-pulse"}),e.jsx("div",{className:"w-20 h-8 bg-muted rounded animate-pulse"}),e.jsx("div",{className:"w-16 h-8 bg-muted rounded animate-pulse"})]})]}),e.jsx("div",{className:"space-y-4",children:[...Array(5)].map((d,u)=>e.jsxs("div",{className:"flex gap-4 animate-pulse",children:[e.jsx("div",{className:"flex-shrink-0 w-6 h-8 bg-muted rounded"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-6 bg-muted rounded"}),e.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),e.jsx("div",{className:"h-3 bg-muted rounded w-1/4"})]})]},u))})]}):o||t.length===0?e.jsxs("div",{className:"bg-card border border-border rounded shadow-sm p-4 mb-8 min-h-[300px]",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-border pb-2",children:[e.jsx("h3",{className:"text-lg font-bold text-foreground",children:" "}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:`${r==="daily"?"bg-accent text-accent-foreground":"text-foreground hover:bg-muted"} px-3 py-1 rounded text-sm font-medium transition`,onClick:()=>c("daily"),children:""}),e.jsx("button",{className:`${r==="weekly"?"bg-accent text-accent-foreground":"text-foreground hover:bg-muted"} px-3 py-1 rounded text-sm font-medium transition`,onClick:()=>c("weekly"),children:""}),e.jsx("button",{className:`${r==="monthly"?"bg-accent text-accent-foreground":"text-foreground hover:bg-muted"} px-3 py-1 rounded text-sm font-medium transition`,onClick:()=>c("monthly"),children:""})]})]}),e.jsx("div",{className:"flex items-center justify-center py-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-muted rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-8 h-8 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})})}),e.jsx("p",{className:"text-muted-foreground",children:o||"      "}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"       "})]})})]}):e.jsxs("div",{className:"bg-card border border-border rounded shadow-sm p-4 mb-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-border pb-2",children:[e.jsx("h3",{className:"text-lg font-bold text-foreground",children:" "}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:`${r==="daily"?"bg-accent text-accent-foreground":"text-foreground hover:bg-muted"} px-3 py-1 rounded text-sm font-medium transition`,onClick:()=>c("daily"),children:""}),e.jsx("button",{className:`${r==="weekly"?"bg-accent text-white":"hover:bg-muted dark:hover:bg-muted"} px-3 py-1 rounded text-sm font-medium transition`,onClick:()=>c("weekly"),children:""}),e.jsx("button",{className:`${r==="monthly"?"bg-accent text-white":"hover:bg-muted dark:hover:bg-muted"} px-3 py-1 rounded text-sm font-medium transition`,onClick:()=>c("monthly"),children:""})]})]}),e.jsx("div",{className:"space-y-4",children:t.map((d,u)=>e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex-shrink-0 font-bold text-2xl text-accent w-6",children:u+1}),e.jsxs("div",{children:[e.jsx("h4",{className:"news-title mb-1",children:e.jsx(Y,{href:`/article/${d.slug}`,className:"hover:text-accent transition",children:d.title})}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:d.excerpt}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground mt-1",children:[e.jsx("span",{children:ls(d.publishedAt)}),e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:[e.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),e.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}),d.viewCount||0,"   "]})]})]})]},d.id))})]})},dB=()=>{const[t,s]=m.useState([]),[r,n]=m.useState(!0),[a,i]=m.useState(null),{user:o}=rt(),[l,c]=m.useState([]);m.useEffect(()=>{(async()=>{try{if(n(!0),!o){const{getPopularArticles:v}=await de(async()=>{const{getPopularArticles:y}=await Promise.resolve().then(()=>ke);return{getPopularArticles:y}},void 0),p=await v(6);s(p);return}const{data:{session:x}}=await ne.auth.getSession();if(!x){const{getPopularArticles:v}=await de(async()=>{const{getPopularArticles:y}=await Promise.resolve().then(()=>ke);return{getPopularArticles:y}},void 0),p=await v(6);s(p);return}const g=x.access_token;try{const{getPersonalizedRecommendations:v}=await de(async()=>{const{getPersonalizedRecommendations:y}=await Promise.resolve().then(()=>ke);return{getPersonalizedRecommendations:y}},void 0),p=await v(o.id,6);s(p)}catch{console.warn("Personalized recommendations failed, using popular articles");const{getPopularArticles:p}=await de(async()=>{const{getPopularArticles:j}=await Promise.resolve().then(()=>ke);return{getPopularArticles:j}},void 0),y=await p(6);s(y)}try{const{getUserReadingHistory:v}=await de(async()=>{const{getUserReadingHistory:y}=await Promise.resolve().then(()=>ke);return{getUserReadingHistory:y}},void 0),p=await v(o.id);c(p.map(y=>y.slug))}catch(v){console.warn("Failed to fetch reading history:",v)}i(null)}catch(x){console.error("Error fetching personalized recommendations:",x),i(x.message||"     ");try{const{getPopularArticles:g}=await de(async()=>{const{getPopularArticles:p}=await Promise.resolve().then(()=>ke);return{getPopularArticles:p}},void 0),v=await g(6);s(v)}catch(g){console.error("Error fetching fallback articles:",g)}}finally{n(!1)}})()},[o]);const d=f=>ls(f),u=f=>{o&&ne.auth.getSession().then(({data:{session:x}})=>{if(!x)return;const g=x.access_token;fetch(`/api/reading-history/${f.slug}`,{method:"POST",headers:{Authorization:`Bearer ${g}`,"Content-Type":"application/json"}}).catch(v=>{console.error("Error adding to reading history:",v)})})},h=o?t.filter(f=>!l.includes(f.slug)):t;return r?e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx(ae,{className:"h-8 w-8 animate-spin text-primary"})}):a&&t.length===0?e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-md mb-6",children:a}):h.length===0?null:e.jsx("div",{className:"py-8",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsx("h2",{className:"text-2xl font-bold font-hind",children:o?"  ":" "})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(f=>e.jsxs(C,{className:"overflow-hidden flex flex-col h-full hover:shadow-lg transition-shadow",children:[e.jsx(Y,{href:`/article/${f.slug}`,onClick:()=>u(f),children:e.jsx("div",{className:"h-48 overflow-hidden",children:e.jsx("img",{src:f.imageUrl,alt:f.title,className:"w-full h-full object-cover transition-transform hover:scale-105"})})}),e.jsxs(L,{className:"pb-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(Y,{href:`/category/${f.category.slug}`,className:"text-sm font-medium text-accent hover:underline",children:f.category.name}),e.jsx("time",{className:"text-xs text-muted-foreground",children:d(f.publishedAt)})]}),e.jsx(M,{className:"text-lg leading-tight line-clamp-2",children:e.jsx(Y,{href:`/article/${f.slug}`,onClick:()=>u(f),className:"hover:text-accent transition-colors",children:f.title})})]}),e.jsx(E,{className:"flex-grow pb-2",children:e.jsx("p",{className:"text-muted-foreground text-sm line-clamp-3",children:f.excerpt})}),e.jsx(Bl,{className:"pt-0",children:e.jsx(Y,{href:`/article/${f.slug}`,onClick:()=>u(f),className:"text-sm text-accent hover:underline",children:" "})})]},f.id))})]})})},uB=()=>{const[t,s]=m.useState("facebook"),[r,n]=m.useState([]),[a,i]=m.useState(!0),[o,l]=m.useState(null);m.useEffect(()=>{(async()=>{try{i(!0);const{getSocialMediaPosts:u}=await de(async()=>{const{getSocialMediaPosts:x}=await Promise.resolve().then(()=>ke);return{getSocialMediaPosts:x}},void 0),f=(await u()).filter(x=>x.platform===t);if(n(f),l(null),t==="twitter"){const x=document.createElement("script");return x.src="https://platform.twitter.com/widgets.js",x.async=!0,document.body.appendChild(x),()=>{document.body.removeChild(x)}}else if(t==="instagram"){const x=document.createElement("script");return x.src="//www.instagram.com/embed.js",x.async=!0,document.body.appendChild(x),()=>{document.body.removeChild(x)}}}catch(u){l("      "),console.error("Error fetching social media posts:",u)}finally{i(!1)}})()},[t]);const c=()=>a?e.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(2)].map((d,u)=>e.jsx("div",{className:"bg-gray-200 dark:bg-gray-700 h-64 rounded"},u))}):o||r.length===0?e.jsx("div",{className:"text-center py-8",children:o||`${t}     `}):e.jsx("div",{className:"space-y-6",children:r.map(d=>e.jsx("div",{className:"border border-border rounded overflow-hidden",children:e.jsx("div",{className:"embedded-social-post",dangerouslySetInnerHTML:{__html:d.embed_code}})},d.id))});return e.jsxs("div",{className:"bg-card dark:bg-card rounded shadow-sm p-4",children:[e.jsx("h3",{className:"text-lg font-bold mb-4 font-hind border-b border-border pb-2",children:" "}),e.jsxs("div",{className:"flex border border-border rounded mb-6 overflow-hidden",children:[e.jsxs("button",{className:`flex-1 py-2 text-center text-sm ${t==="facebook"?"bg-accent text-white":"bg-card hover:bg-muted"}`,onClick:()=>s("facebook"),children:[e.jsx("i",{className:"fab fa-facebook-f mr-2"}),""]}),e.jsxs("button",{className:`flex-1 py-2 text-center text-sm ${t==="twitter"?"bg-accent text-white":"bg-card hover:bg-muted"}`,onClick:()=>s("twitter"),children:[e.jsx("i",{className:"fab fa-twitter mr-2"}),""]}),e.jsxs("button",{className:`flex-1 py-2 text-center text-sm ${t==="instagram"?"bg-accent text-white":"bg-card hover:bg-muted"}`,onClick:()=>s("instagram"),children:[e.jsx("i",{className:"fab fa-instagram mr-2"}),""]})]}),c(),e.jsx("div",{className:"text-center mt-6",children:e.jsxs("a",{href:`https://${t}.com/prothomalo`,target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-accent hover:bg-accent/90 text-white px-4 py-2 rounded text-sm transition",children:[t==="facebook"&&"  ",t==="twitter"&&"  ",t==="instagram"&&"  "]})})]})},hB=()=>{const[t,s]=m.useState([]),[r,n]=m.useState(null),[a,i]=m.useState(!0),[o,l]=m.useState(null);m.useEffect(()=>{(async()=>{try{i(!0);const{getVideoContent:u}=await de(async()=>{const{getVideoContent:f}=await Promise.resolve().then(()=>ke);return{getVideoContent:f}},void 0),h=await u();if(h&&h.length>0){const f=h.map(x=>({id:x.id,title:x.title,slug:x.slug,description:x.description||"",thumbnail_url:x.thumbnail_url||"https://img.youtube.com/vi/dQw4w9WgXcQ/hqdefault.jpg",video_url:x.video_url,duration:x.duration||"0:00",published_at:x.published_at,view_count:x.view_count||0}));n(f[0]),s(f.slice(1))}l(null)}catch(u){l("    "),console.error("Error fetching videos:",u)}finally{i(!1)}})()},[]);const c=d=>d>=1e6?`${(d/1e6).toFixed(1)}M`:d>=1e3?`${(d/1e3).toFixed(1)}K`:d.toString();return a?e.jsxs("div",{className:"bg-card dark:bg-card rounded shadow-sm p-4",children:[e.jsx("h3",{className:"text-lg font-bold mb-4 font-hind border-b border-border pb-2",children:""}),e.jsxs("div",{className:"animate-pulse space-y-4",children:[e.jsx("div",{className:"bg-gray-200 dark:bg-gray-700 h-64 md:h-96 rounded"}),e.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/2"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[...Array(4)].map((d,u)=>e.jsx("div",{className:"h-40 bg-gray-200 dark:bg-gray-700 rounded"},u))})]})]}):o||!r||t.length===0?e.jsxs("div",{className:"bg-card dark:bg-card rounded shadow-sm p-4",children:[e.jsx("h3",{className:"text-lg font-bold mb-4 font-hind border-b border-border pb-2",children:""}),e.jsx("p",{className:"text-center py-8",children:o||"   "})]}):e.jsxs("div",{className:"bg-card dark:bg-card rounded shadow-sm p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-border pb-2",children:[e.jsx("h3",{className:"text-lg font-bold font-hind",children:""}),e.jsxs(Y,{href:"/videos",className:"text-accent text-sm hover:underline",children:["  ",e.jsx("i",{className:"fas fa-angle-right ml-1"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"relative pb-16:9 h-0 overflow-hidden rounded mb-3",children:e.jsx("iframe",{className:"absolute top-0 left-0 w-full h-full",src:r.video_url,title:r.title,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),e.jsx("h4",{className:"font-bold text-lg mb-1 font-hind",children:e.jsx(Y,{href:`/video/${r.slug}`,className:"hover:text-accent transition",children:r.title})}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2 mb-2",children:r.description}),e.jsxs("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400",children:[e.jsxs("span",{className:"flex items-center mr-3",children:[e.jsx("i",{className:"far fa-clock mr-1"})," ",r.duration]}),e.jsxs("span",{className:"flex items-center mr-3",children:[e.jsx("i",{className:"far fa-eye mr-1"})," ",c(r.view_count||0),"  "]}),e.jsx("span",{children:r.published_at?ls(r.published_at):" "})]})]}),e.jsx("h4",{className:"font-bold mb-3 font-hind border-b border-border pb-2",children:" "}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:t.map(d=>e.jsxs("div",{className:"rounded overflow-hidden",children:[e.jsx(Y,{href:`/video/${d.slug}`,className:"block",children:e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:d.thumbnail_url,alt:d.title,className:"w-full h-32 object-cover"}),e.jsx("div",{className:"absolute bottom-2 right-2 bg-black bg-opacity-75 text-white text-xs px-2 py-1 rounded",children:d.duration})]})}),e.jsxs("div",{className:"p-2",children:[e.jsx("h5",{className:"font-medium text-sm mb-1 font-hind line-clamp-2",children:e.jsx(Y,{href:`/video/${d.slug}`,className:"hover:text-accent transition",children:d.title})}),e.jsxs("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400",children:[e.jsxs("span",{className:"flex items-center mr-2",children:[e.jsx("i",{className:"far fa-eye mr-1"})," ",c(d.view_count||0)]}),e.jsx("span",{children:d.published_at?ls(d.published_at):" "})]})]})]},d.id))}),e.jsx("div",{className:"text-center mt-6",children:e.jsx(Y,{href:"/videos",className:"inline-block bg-accent hover:bg-accent/90 text-white px-4 py-2 rounded text-sm transition",children:"  "})})]})},mB=()=>{const[t,s]=m.useState([]),[r,n]=m.useState(null),[a,i]=m.useState(!1),[o,l]=m.useState(0),[c,d]=m.useState(0),[u,h]=m.useState(.75),[f,x]=m.useState(!0),[g,v]=m.useState(null),p=m.useRef(null);m.useEffect(()=>{(async()=>{try{x(!0);const{getAudioArticles:T}=await de(async()=>{const{getAudioArticles:R}=await Promise.resolve().then(()=>ke);return{getAudioArticles:R}},void 0),S=await T();S&&S.length>0&&(s(S),n(S[0])),v(null)}catch(T){v("     "),console.error("Error fetching audio articles:",T)}finally{x(!1)}})()},[]),m.useEffect(()=>{p.current&&r&&(p.current.pause(),p.current.src=r.audio_url,p.current.load(),a&&p.current.play().catch(k=>{console.error("Error playing audio:",k),i(!1)}))},[r]);const y=()=>{p.current&&(a?p.current.pause():p.current.play().catch(k=>{console.error("Error playing audio:",k)}),i(!a))},j=()=>{p.current&&(l(p.current.currentTime),d(p.current.duration||0))},w=k=>{const T=parseFloat(k.target.value);h(T),p.current&&(p.current.volume=T)},b=k=>{const T=parseFloat(k.target.value);l(T),p.current&&(p.current.currentTime=T)},N=k=>{n(k),i(!0)},_=()=>{if(r&&t.length>0){const T=(t.findIndex(S=>S.id===r.id)+1)%t.length;n(t[T])}},P=()=>{if(r&&t.length>0){const T=(t.findIndex(S=>S.id===r.id)-1+t.length)%t.length;n(t[T])}},A=k=>{const T=Math.floor(k/60),S=Math.floor(k%60);return`${T}:${S<10?"0":""}${S}`};return f?e.jsxs("div",{className:"bg-card dark:bg-card rounded shadow-sm p-4",children:[e.jsx("h3",{className:"text-lg font-bold mb-4 font-hind border-b border-border pb-2",children:" "}),e.jsxs("div",{className:"animate-pulse space-y-4",children:[e.jsx("div",{className:"h-24 bg-gray-200 dark:bg-gray-700 rounded"}),e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4"}),e.jsx("div",{className:"h-12 bg-gray-200 dark:bg-gray-700 rounded"}),e.jsx("div",{className:"space-y-3",children:[...Array(3)].map((k,T)=>e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-200 dark:bg-gray-700 rounded"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/2"})]})]},T))})]})]}):g||!r||t.length===0?e.jsxs("div",{className:"bg-card dark:bg-card rounded shadow-sm p-4",children:[e.jsx("h3",{className:"text-lg font-bold mb-4 font-hind border-b border-border pb-2",children:" "}),e.jsx("p",{className:"text-center py-8",children:g||"    "})]}):e.jsxs("div",{className:"bg-card dark:bg-card rounded shadow-sm p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-border pb-2",children:[e.jsx("h3",{className:"text-lg font-bold font-hind",children:" "}),e.jsxs(Y,{href:"/audio-articles",className:"text-accent text-sm hover:underline",children:["  ",e.jsx("i",{className:"fas fa-angle-right ml-1"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[e.jsx("div",{className:"w-full md:w-1/3",children:e.jsx("img",{src:r.image_url,alt:r.title,className:"w-full h-auto rounded"})}),e.jsxs("div",{className:"w-full md:w-2/3",children:[e.jsx("h4",{className:"font-bold text-lg mb-2 font-hind",children:e.jsx(Y,{href:`/audio/${r.slug}`,className:"hover:text-accent transition",children:r.title})}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:r.excerpt}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:r.published_at?ls(r.published_at):" "})]})]}),e.jsxs("div",{className:"bg-muted/30 dark:bg-muted rounded-lg p-3 mt-3",children:[e.jsx("audio",{ref:p,onTimeUpdate:j,onEnded:_,onPlay:()=>i(!0),onPause:()=>i(!1),className:"hidden"}),e.jsxs("div",{className:"mb-3",children:[e.jsx("input",{type:"range",min:"0",max:c||0,value:o,onChange:b,className:"w-full h-2 bg-muted rounded-lg appearance-none cursor-pointer"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mt-1",children:[e.jsx("span",{children:A(o)}),e.jsx("span",{children:A(c)})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:P,className:"p-2 rounded-full hover:bg-muted/50 transition","aria-label":"Previous article",children:e.jsx(AD,{className:"h-5 w-5"})}),e.jsx("button",{onClick:y,className:"p-3 bg-accent text-white rounded-full hover:bg-accent/90 transition","aria-label":a?"Pause":"Play",children:a?e.jsx($l,{className:"h-5 w-5"}):e.jsx(to,{className:"h-5 w-5"})}),e.jsx("button",{onClick:_,className:"p-2 rounded-full hover:bg-muted/50 transition","aria-label":"Next article",children:e.jsx(RD,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Vl,{className:"h-4 w-4 text-gray-500 dark:text-gray-400"}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:u,onChange:w,className:"w-20 h-1 bg-gray-300 dark:bg-gray-600 rounded-lg appearance-none cursor-pointer"})]})]})]})]}),e.jsx("h4",{className:"font-bold mb-3 font-hind border-b border-border pb-2",children:"  "}),e.jsx("div",{className:"space-y-3",children:t.filter(k=>k.id!==r.id).map(k=>e.jsxs("div",{className:"flex gap-3 hover:bg-muted/30 p-2 rounded transition cursor-pointer",onClick:()=>N(k),children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("img",{src:k.image_url,alt:k.title,className:"w-16 h-16 object-cover rounded"})}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium mb-1 text-sm font-hind",children:k.title}),e.jsxs("div",{className:"flex text-xs text-gray-500 dark:text-gray-400",children:[e.jsx("span",{className:"mr-2",children:k.duration}),e.jsx("span",{children:k.published_at?ls(k.published_at):" "})]})]})]},k.id))}),e.jsx("div",{className:"text-center mt-6",children:e.jsx(Y,{href:"/audio-articles",className:"inline-block bg-accent hover:bg-accent/90 text-white px-4 py-2 rounded text-sm transition",children:"   "})})]})};function fB(t,s){return m.useReducer((r,n)=>s[r][n]??r,t)}var Ej="ScrollArea",[yP,BH]=_s(Ej),[xB,Fr]=yP(Ej),jP=m.forwardRef((t,s)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...o}=t,[l,c]=m.useState(null),[d,u]=m.useState(null),[h,f]=m.useState(null),[x,g]=m.useState(null),[v,p]=m.useState(null),[y,j]=m.useState(0),[w,b]=m.useState(0),[N,_]=m.useState(!1),[P,A]=m.useState(!1),k=Fe(s,S=>c(S)),T=fc(a);return e.jsx(xB,{scope:r,type:n,dir:T,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:u,content:h,onContentChange:f,scrollbarX:x,onScrollbarXChange:g,scrollbarXEnabled:N,onScrollbarXEnabledChange:_,scrollbarY:v,onScrollbarYChange:p,scrollbarYEnabled:P,onScrollbarYEnabledChange:A,onCornerWidthChange:j,onCornerHeightChange:b,children:e.jsx(ge.div,{dir:T,...o,ref:k,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":w+"px",...t.style}})})});jP.displayName=Ej;var wP="ScrollAreaViewport",bP=m.forwardRef((t,s)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=t,o=Fr(wP,r),l=m.useRef(null),c=Fe(s,l,o.onViewportChange);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),e.jsx(ge.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:e.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});bP.displayName=wP;var Dn="ScrollAreaScrollbar",Tj=m.forwardRef((t,s)=>{const{forceMount:r,...n}=t,a=Fr(Dn,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=t.orientation==="horizontal";return m.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?e.jsx(pB,{...n,ref:s,forceMount:r}):a.type==="scroll"?e.jsx(gB,{...n,ref:s,forceMount:r}):a.type==="auto"?e.jsx(NP,{...n,ref:s,forceMount:r}):a.type==="always"?e.jsx(Pj,{...n,ref:s}):null});Tj.displayName=Dn;var pB=m.forwardRef((t,s)=>{const{forceMount:r,...n}=t,a=Fr(Dn,t.__scopeScrollArea),[i,o]=m.useState(!1);return m.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[a.scrollArea,a.scrollHideDelay]),e.jsx(Ss,{present:r||i,children:e.jsx(NP,{"data-state":i?"visible":"hidden",...n,ref:s})})}),gB=m.forwardRef((t,s)=>{const{forceMount:r,...n}=t,a=Fr(Dn,t.__scopeScrollArea),i=t.orientation==="horizontal",o=Wf(()=>c("SCROLL_END"),100),[l,c]=fB("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,a.scrollHideDelay,c]),m.useEffect(()=>{const d=a.viewport,u=i?"scrollLeft":"scrollTop";if(d){let h=d[u];const f=()=>{const x=d[u];h!==x&&(c("SCROLL"),o()),h=x};return d.addEventListener("scroll",f),()=>d.removeEventListener("scroll",f)}},[a.viewport,i,c,o]),e.jsx(Ss,{present:r||l!=="hidden",children:e.jsx(Pj,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:s,onPointerEnter:ie(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ie(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),NP=m.forwardRef((t,s)=>{const r=Fr(Dn,t.__scopeScrollArea),{forceMount:n,...a}=t,[i,o]=m.useState(!1),l=t.orientation==="horizontal",c=Wf(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?d:u)}},10);return Yl(r.viewport,c),Yl(r.content,c),e.jsx(Ss,{present:n||i,children:e.jsx(Pj,{"data-state":i?"visible":"hidden",...a,ref:s})})}),Pj=m.forwardRef((t,s)=>{const{orientation:r="vertical",...n}=t,a=Fr(Dn,t.__scopeScrollArea),i=m.useRef(null),o=m.useRef(0),[l,c]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=EP(l.viewport,l.content),u={...n,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:f=>i.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function h(f,x){return NB(f,o.current,l,x)}return r==="horizontal"?e.jsx(vB,{...u,ref:s,onThumbPositionChange:()=>{if(a.viewport&&i.current){const f=a.viewport.scrollLeft,x=rN(f,l,a.dir);i.current.style.transform=`translate3d(${x}px, 0, 0)`}},onWheelScroll:f=>{a.viewport&&(a.viewport.scrollLeft=f)},onDragScroll:f=>{a.viewport&&(a.viewport.scrollLeft=h(f,a.dir))}}):r==="vertical"?e.jsx(yB,{...u,ref:s,onThumbPositionChange:()=>{if(a.viewport&&i.current){const f=a.viewport.scrollTop,x=rN(f,l);i.current.style.transform=`translate3d(0, ${x}px, 0)`}},onWheelScroll:f=>{a.viewport&&(a.viewport.scrollTop=f)},onDragScroll:f=>{a.viewport&&(a.viewport.scrollTop=h(f))}}):null}),vB=m.forwardRef((t,s)=>{const{sizes:r,onSizesChange:n,...a}=t,i=Fr(Dn,t.__scopeScrollArea),[o,l]=m.useState(),c=m.useRef(null),d=Fe(s,c,i.onScrollbarXChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),e.jsx(SP,{"data-orientation":"horizontal",...a,ref:d,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Hf(r)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(i.viewport){const f=i.viewport.scrollLeft+u.deltaX;t.onWheelScroll(f),PP(f,h)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Am(o.paddingLeft),paddingEnd:Am(o.paddingRight)}})}})}),yB=m.forwardRef((t,s)=>{const{sizes:r,onSizesChange:n,...a}=t,i=Fr(Dn,t.__scopeScrollArea),[o,l]=m.useState(),c=m.useRef(null),d=Fe(s,c,i.onScrollbarYChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),e.jsx(SP,{"data-orientation":"vertical",...a,ref:d,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Hf(r)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(i.viewport){const f=i.viewport.scrollTop+u.deltaY;t.onWheelScroll(f),PP(f,h)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Am(o.paddingTop),paddingEnd:Am(o.paddingBottom)}})}})}),[jB,_P]=yP(Dn),SP=m.forwardRef((t,s)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:h,...f}=t,x=Fr(Dn,r),[g,v]=m.useState(null),p=Fe(s,k=>v(k)),y=m.useRef(null),j=m.useRef(""),w=x.viewport,b=n.content-n.viewport,N=Gt(u),_=Gt(c),P=Wf(h,10);function A(k){if(y.current){const T=k.clientX-y.current.left,S=k.clientY-y.current.top;d({x:T,y:S})}}return m.useEffect(()=>{const k=T=>{const S=T.target;(g==null?void 0:g.contains(S))&&N(T,b)};return document.addEventListener("wheel",k,{passive:!1}),()=>document.removeEventListener("wheel",k,{passive:!1})},[w,g,b,N]),m.useEffect(_,[n,_]),Yl(g,P),Yl(x.content,P),e.jsx(jB,{scope:r,scrollbar:g,hasThumb:a,onThumbChange:Gt(i),onThumbPointerUp:Gt(o),onThumbPositionChange:_,onThumbPointerDown:Gt(l),children:e.jsx(ge.div,{...f,ref:p,style:{position:"absolute",...f.style},onPointerDown:ie(t.onPointerDown,k=>{k.button===0&&(k.target.setPointerCapture(k.pointerId),y.current=g.getBoundingClientRect(),j.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),A(k))}),onPointerMove:ie(t.onPointerMove,A),onPointerUp:ie(t.onPointerUp,k=>{const T=k.target;T.hasPointerCapture(k.pointerId)&&T.releasePointerCapture(k.pointerId),document.body.style.webkitUserSelect=j.current,x.viewport&&(x.viewport.style.scrollBehavior=""),y.current=null})})})}),Pm="ScrollAreaThumb",kP=m.forwardRef((t,s)=>{const{forceMount:r,...n}=t,a=_P(Pm,t.__scopeScrollArea);return e.jsx(Ss,{present:r||a.hasThumb,children:e.jsx(wB,{ref:s,...n})})}),wB=m.forwardRef((t,s)=>{const{__scopeScrollArea:r,style:n,...a}=t,i=Fr(Pm,r),o=_P(Pm,r),{onThumbPositionChange:l}=o,c=Fe(s,h=>o.onThumbChange(h)),d=m.useRef(void 0),u=Wf(()=>{d.current&&(d.current(),d.current=void 0)},100);return m.useEffect(()=>{const h=i.viewport;if(h){const f=()=>{if(u(),!d.current){const x=_B(h,l);d.current=x,l()}};return l(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[i.viewport,u,l]),e.jsx(ge.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:ie(t.onPointerDownCapture,h=>{const x=h.target.getBoundingClientRect(),g=h.clientX-x.left,v=h.clientY-x.top;o.onThumbPointerDown({x:g,y:v})}),onPointerUp:ie(t.onPointerUp,o.onThumbPointerUp)})});kP.displayName=Pm;var Aj="ScrollAreaCorner",CP=m.forwardRef((t,s)=>{const r=Fr(Aj,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?e.jsx(bB,{...t,ref:s}):null});CP.displayName=Aj;var bB=m.forwardRef((t,s)=>{const{__scopeScrollArea:r,...n}=t,a=Fr(Aj,r),[i,o]=m.useState(0),[l,c]=m.useState(0),d=!!(i&&l);return Yl(a.scrollbarX,()=>{var h;const u=((h=a.scrollbarX)==null?void 0:h.offsetHeight)||0;a.onCornerHeightChange(u),c(u)}),Yl(a.scrollbarY,()=>{var h;const u=((h=a.scrollbarY)==null?void 0:h.offsetWidth)||0;a.onCornerWidthChange(u),o(u)}),d?e.jsx(ge.div,{...n,ref:s,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Am(t){return t?parseInt(t,10):0}function EP(t,s){const r=t/s;return isNaN(r)?0:r}function Hf(t){const s=EP(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*s;return Math.max(n,18)}function NB(t,s,r,n="ltr"){const a=Hf(r),i=a/2,o=s||i,l=a-o,c=r.scrollbar.paddingStart+o,d=r.scrollbar.size-r.scrollbar.paddingEnd-l,u=r.content-r.viewport,h=n==="ltr"?[0,u]:[u*-1,0];return TP([c,d],h)(t)}function rN(t,s,r="ltr"){const n=Hf(s),a=s.scrollbar.paddingStart+s.scrollbar.paddingEnd,i=s.scrollbar.size-a,o=s.content-s.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],d=Vd(t,c);return TP([0,o],[0,l])(d)}function TP(t,s){return r=>{if(t[0]===t[1]||s[0]===s[1])return s[0];const n=(s[1]-s[0])/(t[1]-t[0]);return s[0]+n*(r-t[0])}}function PP(t,s){return t>0&&t<s}var _B=(t,s=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function a(){const i={left:t.scrollLeft,top:t.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&s(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function Wf(t,s){const r=Gt(t),n=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),m.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,s)},[r,s])}function Yl(t,s){const r=Gt(s);rs(()=>{let n=0;if(t){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(t),()=>{window.cancelAnimationFrame(n),a.unobserve(t)}}},[t,r])}var AP=jP,SB=bP,kB=CP;const Kf=m.forwardRef(({className:t,children:s,...r},n)=>e.jsxs(AP,{ref:n,className:oe("relative overflow-hidden",t),...r,children:[e.jsx(SB,{className:"h-full w-full rounded-[inherit]",children:s}),e.jsx(RP,{}),e.jsx(kB,{})]}));Kf.displayName=AP.displayName;const RP=m.forwardRef(({className:t,orientation:s="vertical",...r},n)=>e.jsx(Tj,{ref:n,orientation:s,className:oe("flex touch-none select-none transition-colors",s==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",s==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:e.jsx(kP,{className:"relative flex-1 rounded-full bg-border"})}));RP.displayName=Tj.displayName;const CB=()=>{const{data:t,isLoading:s}=_e({queryKey:["categories"],queryFn:async()=>{const{getCategories:n}=await de(async()=>{const{getCategories:a}=await Promise.resolve().then(()=>ke);return{getCategories:a}},void 0);return n()}}),{data:r}=_e({queryKey:["/api/trending-topics"],queryFn:async()=>{const{getTrendingTopics:n}=await de(async()=>{const{getTrendingTopics:a}=await Promise.resolve().then(()=>ke);return{getTrendingTopics:a}},void 0);return n()}});return s?e.jsxs(C,{className:"h-full",children:[e.jsx(L,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-5 h-5 bg-muted rounded animate-pulse"}),e.jsx("div",{className:"w-24 h-5 bg-muted rounded animate-pulse"})]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:[1,2,3,4].map(n=>e.jsx("div",{className:"w-full h-8 bg-muted rounded animate-pulse"},n))})})]}):e.jsxs(C,{className:"h-full",children:[e.jsx(L,{children:e.jsxs(M,{className:"flex items-center text-lg",children:[e.jsx(mD,{className:"w-5 h-5 mr-2 text-primary"})," "]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-sm text-muted-foreground mb-2",children:""}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:t==null?void 0:t.slice(0,6).map(n=>e.jsx(Y,{href:`/category/${n.slug}`,children:e.jsx(D,{variant:"outline",size:"sm",className:"w-full text-xs h-8",children:n.name})},n.id))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-sm text-muted-foreground mb-2",children:""}),e.jsx("div",{className:"space-y-2",children:r==null?void 0:r.slice(0,4).map(n=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(X,{variant:"secondary",className:"text-xs",children:["#",n.topic_name]}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[n.mention_count," "]})]},n.id))})]}),e.jsx(Y,{href:"/search",children:e.jsxs(D,{className:"w-full",size:"sm",children:[e.jsx(Ot,{className:"w-4 h-4 mr-2"})," "]})})]})})]})},EB=()=>{const{data:t,isLoading:s}=_e({queryKey:["trending-topics-limited"],queryFn:async()=>{const{getTrendingTopics:r}=await de(async()=>{const{getTrendingTopics:n}=await Promise.resolve().then(()=>ke);return{getTrendingTopics:n}},void 0);return r(8)}});return s?e.jsxs(C,{className:"h-full",children:[e.jsx(L,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-5 h-5 bg-muted rounded animate-pulse"}),e.jsx("div",{className:"w-32 h-5 bg-muted rounded animate-pulse"})]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-2",children:[1,2,3,4,5].map(r=>e.jsxs("div",{className:"flex justify-between",children:[e.jsx("div",{className:"w-20 h-4 bg-muted rounded animate-pulse"}),e.jsx("div",{className:"w-12 h-4 bg-muted rounded animate-pulse"})]},r))})})]}):e.jsxs(C,{className:"h-full",children:[e.jsx(L,{children:e.jsxs(M,{className:"flex items-center text-lg",children:[e.jsx(Ct,{className:"w-5 h-5 mr-2 text-green-600"})," "]})}),e.jsx(E,{children:e.jsx(Kf,{className:"h-64",children:e.jsx("div",{className:"space-y-3",children:t==null?void 0:t.map((r,n)=>e.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-muted/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-primary/10 text-primary text-xs font-semibold",children:n+1}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-sm",children:["#",r.topic_name]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.mention_count," "]})]})]}),e.jsxs(X,{variant:"outline",className:"text-xs",children:[Math.round(r.trending_score*100),"% "]})]},r.id))})})})]})},TB=()=>{const{user:t}=rt(),{data:s,isLoading:r}=_e({queryKey:["user-stats",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return null;const{getUserStats:a}=await de(async()=>{const{getUserStats:i}=await Promise.resolve().then(()=>ke);return{getUserStats:i}},void 0);return await a(t.id)},enabled:!!t});if(!t)return e.jsxs(C,{className:"h-full",children:[e.jsx(L,{children:e.jsxs(M,{className:"flex items-center text-lg",children:[e.jsx(wr,{className:"w-5 h-5 mr-2 text-blue-600"}),"  "]})}),e.jsxs(E,{className:"flex flex-col items-center justify-center py-8",children:[e.jsx(Zr,{className:"w-12 h-12 text-muted-foreground mb-4"}),e.jsx("p",{className:"text-sm text-muted-foreground text-center mb-4",children:"   "}),e.jsx(Y,{href:"/login",children:e.jsxs(D,{size:"sm",children:[e.jsx(jS,{className:"w-4 h-4 mr-2"})," "]})})]})]});if(r)return e.jsxs(C,{className:"h-full",children:[e.jsx(L,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-5 h-5 bg-muted rounded animate-pulse"}),e.jsx("div",{className:"w-40 h-5 bg-muted rounded animate-pulse"})]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:[1,2,3,4].map(a=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"w-24 h-4 bg-muted rounded animate-pulse"}),e.jsx("div",{className:"w-full h-2 bg-muted rounded animate-pulse"})]},a))})})]});const n={articles_read:(s==null?void 0:s.articles_read)||0,articles_saved:(s==null?void 0:s.articles_saved)||0,reading_streak:(s==null?void 0:s.reading_streak)||0,total_reading_time:(s==null?void 0:s.total_reading_time)||0,categories_explored:(s==null?void 0:s.categories_explored)||0};return e.jsxs(C,{className:"h-full",children:[e.jsx(L,{children:e.jsxs(M,{className:"flex items-center text-lg",children:[e.jsx(wr,{className:"w-5 h-5 mr-2 text-blue-600"}),"  "]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-primary",children:n.articles_read}),e.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:n.reading_streak}),e.jsx("p",{className:"text-xs text-muted-foreground",children:" "})]})]}),e.jsx(An,{}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ti,{className:"w-4 h-4 text-blue-500"}),e.jsx("span",{className:"text-sm",children:""})]}),e.jsx("span",{className:"text-sm font-medium",children:n.articles_saved})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ht,{className:"w-4 h-4 text-orange-500"}),e.jsx("span",{className:"text-sm",children:" "})]}),e.jsxs("span",{className:"text-sm font-medium",children:[n.total_reading_time," "]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(zl,{className:"w-4 h-4 text-purple-500"}),e.jsx("span",{className:"text-sm",children:" "})]}),e.jsx("span",{className:"text-sm font-medium",children:n.categories_explored})]})]}),e.jsx(Y,{href:"/dashboard",children:e.jsxs(D,{className:"w-full",size:"sm",children:[" ",e.jsx(ou,{className:"w-4 h-4 ml-2"})]})})]})})]})},PB=()=>{const{data:t,isLoading:s}=_e({queryKey:["/api/social-media"],queryFn:async()=>{const{getSocialMediaPosts:r}=await de(async()=>{const{getSocialMediaPosts:n}=await Promise.resolve().then(()=>ke);return{getSocialMediaPosts:n}},void 0);return r()}});return s?e.jsxs(C,{className:"h-full",children:[e.jsx(L,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-5 h-5 bg-muted rounded animate-pulse"}),e.jsx("div",{className:"w-32 h-5 bg-muted rounded animate-pulse"})]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:[1,2,3].map(r=>e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-muted rounded-full animate-pulse"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"w-full h-4 bg-muted rounded animate-pulse"}),e.jsx("div",{className:"w-3/4 h-3 bg-muted rounded animate-pulse"})]})]},r))})})]}):e.jsxs(C,{className:"h-full",children:[e.jsx(L,{children:e.jsxs(M,{className:"flex items-center text-lg",children:[e.jsx(gt,{className:"w-5 h-5 mr-2 text-pink-600"})," "]})}),e.jsx(E,{children:e.jsx(Kf,{className:"h-64",children:e.jsx("div",{className:"space-y-4",children:t==null?void 0:t.map(r=>{var n;return e.jsxs("div",{className:"flex space-x-3 p-2 rounded-lg hover:bg-muted/50 transition-colors",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center text-white text-xs font-bold",children:(n=r.platform)==null?void 0:n.charAt(0).toUpperCase()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(X,{variant:"outline",className:"text-xs",children:r.platform}),e.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(r.created_at).toLocaleDateString("bn-BD")})]}),e.jsx("p",{className:"text-sm text-foreground line-clamp-2",children:r.content}),e.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-xs text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(pr,{className:"w-3 h-3 mr-1"}),r.likes||0]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx(Et,{className:"w-3 h-3 mr-1"}),r.views||0]})]})]})]},r.id)})})})})]})},AB=()=>{var i;const{user:t}=rt(),{data:s,isLoading:r}=_e({queryKey:["/api/user/preferences",t==null?void 0:t.id],queryFn:async()=>{if(!t)return null;const{getUserPreferences:o}=await de(async()=>{const{getUserPreferences:l}=await Promise.resolve().then(()=>ke);return{getUserPreferences:l}},void 0);return o(t.id)},enabled:!!t});if(!t)return e.jsxs(C,{className:"h-full",children:[e.jsx(L,{children:e.jsxs(M,{className:"flex items-center text-lg",children:[e.jsx(As,{className:"w-5 h-5 mr-2 text-gray-600"})," "]})}),e.jsxs(E,{className:"flex flex-col items-center justify-center py-8",children:[e.jsx(As,{className:"w-12 h-12 text-muted-foreground mb-4"}),e.jsx("p",{className:"text-sm text-muted-foreground text-center mb-4",children:"    "}),e.jsx(Y,{href:"/login",children:e.jsxs(D,{size:"sm",children:[e.jsx(jS,{className:"w-4 h-4 mr-2"})," "]})})]})]});if(r)return e.jsxs(C,{className:"h-full",children:[e.jsx(L,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-5 h-5 bg-muted rounded animate-pulse"}),e.jsx("div",{className:"w-24 h-5 bg-muted rounded animate-pulse"})]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:[1,2,3,4].map(o=>e.jsxs("div",{className:"flex justify-between",children:[e.jsx("div",{className:"w-20 h-4 bg-muted rounded animate-pulse"}),e.jsx("div",{className:"w-12 h-4 bg-muted rounded animate-pulse"})]},o))})})]});const a=s||{favorite_categories:["","",""],notification_enabled:!0,auto_save_enabled:!1,reading_mode:"normal"};return e.jsxs(C,{className:"h-full",children:[e.jsx(L,{children:e.jsxs(M,{className:"flex items-center text-lg",children:[e.jsx(As,{className:"w-5 h-5 mr-2 text-gray-600"})," "]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-sm text-muted-foreground mb-2",children:" "}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(i=a.favorite_categories)==null?void 0:i.map((o,l)=>e.jsx(X,{variant:"secondary",className:"text-xs",children:o},`category-${o}-${l}`))})]}),e.jsx(An,{}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:""}),e.jsx(X,{variant:a.notification_enabled?"default":"outline",children:a.notification_enabled?"":""})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:" "}),e.jsx(X,{variant:a.auto_save_enabled?"default":"outline",children:a.auto_save_enabled?"":""})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:" "}),e.jsx(X,{variant:"secondary",children:a.reading_mode==="normal"?"":""})]})]}),e.jsx(Y,{href:"/profile",children:e.jsxs(D,{className:"w-full",size:"sm",variant:"outline",children:[e.jsx(As,{className:"w-4 h-4 mr-2"}),"  "]})})]})})]})},RB=()=>e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx(CB,{}),e.jsx(EB,{}),e.jsx(TB,{})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(PB,{}),e.jsx(AB,{})]})]}),OB=()=>{const[t,s]=m.useState([]),[r,n]=m.useState(!0),a=J7(),{metaElements:i,linkElements:o}=Su(a);m.useEffect(()=>{(async()=>{try{const{categoriesApiDirect:u}=await de(async()=>{const{categoriesApiDirect:f}=await import("./queryClient-direct-A641_tZv.js");return{categoriesApiDirect:f}},__vite__mapDeps([0,1])),h=await u.getAll();s(h)}catch(u){console.error("Error loading categories:",u),s([{id:1,slug:"economy",name:""},{id:2,slug:"technology",name:""},{id:3,slug:"education",name:""}])}finally{n(!1)}})()},[]);const l=t.slice(0,3),c=t.slice(3,5);return e.jsxs(e.Fragment,{children:[e.jsxs(lr,{children:[e.jsx("title",{children:a.title}),e.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),i.map((d,u)=>d.property?e.jsx("meta",{property:d.property,content:d.content},u):e.jsx("meta",{name:d.name,content:d.content},u)),o.map((d,u)=>e.jsx("link",{rel:d.rel,href:d.href},u))]}),e.jsxs("main",{className:"min-h-screen bg-background",children:[e.jsx("section",{className:"fade-in",children:e.jsx(tB,{})}),e.jsx("section",{className:"container-modern py-6 slide-up",children:e.jsx(sB,{})}),e.jsx("section",{className:"container-modern py-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsx("div",{className:"slide-in-right",children:e.jsx(rB,{})}),e.jsx("div",{className:"slide-up",children:e.jsx(nB,{})})]})}),e.jsx("section",{className:"container-modern py-6 fade-in",children:e.jsx(dB,{})}),e.jsx("section",{className:"container-modern py-6 slide-up",children:e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-center mb-6 text-foreground",children:"   "}),e.jsx(RB,{})]})}),e.jsx("section",{className:"container-modern py-6",children:e.jsxs("div",{className:"grid-news mb-8",children:[!r&&l.length>0&&l.map((d,u)=>e.jsx("div",{className:"bounce-in",style:{animationDelay:`${u*.1}s`},children:e.jsx(sN,{categorySlug:d.slug,limit:4})},d.slug)),r&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(d=>e.jsxs("div",{className:"bg-card border border-border rounded shadow-sm p-4 h-80 animate-pulse",children:[e.jsx("div",{className:"h-6 bg-muted rounded mb-4"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"h-4 bg-muted rounded"}),e.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-muted rounded w-1/2"})]})]},d))})]})}),e.jsx("section",{className:"container-modern py-6 scale-in",children:e.jsx(lB,{})}),e.jsx("section",{className:"container-modern py-6 slide-up",children:e.jsx(cB,{})}),e.jsx("section",{className:"container-modern py-6 fade-in",children:e.jsx(hB,{})}),!r&&c.length>0&&e.jsx("section",{className:"container-modern py-6",children:e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:c.map((d,u)=>e.jsx("div",{className:"rotate-in",style:{animationDelay:`${u*.2}s`},children:e.jsx(sN,{categorySlug:d.slug,limit:4})},d.slug))})}),e.jsx("section",{className:"container-modern py-6 slide-in-right",children:e.jsx(mB,{})}),e.jsx("section",{className:"container-modern py-6 fade-in",children:e.jsx(uB,{})})]})]})},IB=()=>{const[,t]=L2("/category/:slug"),s=(t==null?void 0:t.slug)||"",[r,n]=m.useState(null),[a,i]=m.useState([]),[o,l]=m.useState([]),[c,d]=m.useState(1),[u,h]=m.useState(!0),[f,x]=m.useState(!0),[g,v]=m.useState(null),[p,y]=m.useState("grid"),[j,w]=m.useState("latest"),[b,N]=m.useState(""),_=12;m.useEffect(()=>{(async()=>{try{x(!0);const{getCategoryBySlug:V,getCategories:z,getArticles:O,getPopularArticles:U}=await de(async()=>{const{getCategoryBySlug:ue,getCategories:ye,getArticles:me,getPopularArticles:Ee}=await Promise.resolve().then(()=>ke);return{getCategoryBySlug:ue,getCategories:ye,getArticles:me,getPopularArticles:Ee}},void 0),ee=await z();l(ee);const se=await V(s);if(!se){v("    ");return}n(se);let W;j==="popular"?(W=await U(_),W=W.filter(ue=>{var ye;return((ye=ue.categories)==null?void 0:ye.slug)===s})):W=await O({category:s,limit:_,offset:0}),i(W),h(W.length===_),d(1),v(null)}catch(V){v("     "),console.error("Error fetching category:",V)}finally{x(!1)}})(),window.scrollTo(0,0)},[s,j]);const P=async()=>{try{x(!0);const I=c+1,V=c*_,{getArticles:z,getPopularArticles:O}=await de(async()=>{const{getArticles:ee,getPopularArticles:se}=await Promise.resolve().then(()=>ke);return{getArticles:ee,getPopularArticles:se}},void 0);let U;j==="popular"?(U=await O(_),U=U.filter(ee=>{var se;return((se=ee.categories)==null?void 0:se.slug)===s})):U=await z({category:s,limit:_,offset:V}),U.length>0?(i([...a,...U]),d(I),h(U.length===_)):h(!1)}catch(I){console.error("Error loading more articles:",I)}finally{x(!1)}},A=a.filter(I=>{var V;return I.title.toLowerCase().includes(b.toLowerCase())||((V=I.excerpt)==null?void 0:V.toLowerCase().includes(b.toLowerCase()))}),k=()=>e.jsxs(C,{className:"mb-6",children:[e.jsx(L,{className:"pb-3",children:e.jsxs(M,{className:"flex items-center text-lg font-hind",children:[e.jsx(so,{className:"w-5 h-5 mr-2 text-primary"})," "]})}),e.jsx(E,{children:e.jsx(Kf,{className:"w-full",children:e.jsx("div",{className:"flex space-x-2 pb-2",children:o.map(I=>e.jsx(Y,{href:`/category/${I.slug}`,children:e.jsx(X,{variant:I.slug===s?"default":"outline",className:"category-nav-chip whitespace-nowrap cursor-pointer px-3 py-1",children:I.name})},I.id))})})})]}),T=({article:I})=>e.jsxs(C,{className:"article-card-grid group overflow-hidden h-full flex flex-col",children:[e.jsx(Y,{href:`/article/${I.slug}`,children:e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("img",{src:I.imageUrl,alt:I.title,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),e.jsx("div",{className:"absolute top-3 left-3",children:e.jsx(X,{className:"bg-primary/90 text-primary-foreground",children:r==null?void 0:r.name})}),e.jsx("div",{className:"absolute bottom-3 right-3",children:e.jsx(D,{size:"sm",variant:"secondary",className:"opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(rl,{className:"w-4 h-4"})})})]})}),e.jsxs(E,{className:"p-4 flex-1 flex flex-col",children:[e.jsx(Y,{href:`/article/${I.slug}`,children:e.jsx("h3",{className:"font-bold text-lg mb-2 font-hind line-clamp-2 group-hover:text-primary transition-colors",children:I.title})}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-3 mb-4 flex-1",children:I.excerpt}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground pt-2 border-t",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ht,{className:"w-3 h-3"}),e.jsx("span",{children:ls(I.publishedAt)})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(D,{variant:"ghost",size:"sm",className:"h-auto p-1",children:e.jsx(ti,{className:"w-3 h-3"})}),e.jsx(D,{variant:"ghost",size:"sm",className:"h-auto p-1",children:e.jsx(Tn,{className:"w-3 h-3"})})]})]})]})]}),S=({article:I})=>e.jsx(C,{className:"article-card-list group",children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx(Y,{href:`/article/${I.slug}`,className:"flex-shrink-0",children:e.jsx("div",{className:"relative w-32 h-20 overflow-hidden rounded-md",children:e.jsx("img",{src:I.imageUrl,alt:I.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx(Y,{href:`/article/${I.slug}`,children:e.jsx("h3",{className:"font-semibold text-lg font-hind line-clamp-2 group-hover:text-primary transition-colors",children:I.title})}),e.jsx(X,{variant:"outline",className:"ml-2 flex-shrink-0",children:r==null?void 0:r.name})]}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-3",children:I.excerpt}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ht,{className:"w-3 h-3"}),e.jsx("span",{children:ls(I.publishedAt)})]})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(D,{variant:"ghost",size:"sm",className:"h-auto p-1",children:e.jsx(ti,{className:"w-3 h-3"})}),e.jsx(D,{variant:"ghost",size:"sm",className:"h-auto p-1",children:e.jsx(Tn,{className:"w-3 h-3"})}),e.jsx(Y,{href:`/article/${I.slug}`,children:e.jsx(D,{variant:"ghost",size:"sm",className:"h-auto p-1 text-primary",children:e.jsx(rl,{className:"w-3 h-3"})})})]})]})]})]})})});if(!r&&f)return e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(ae,{className:"w-8 h-8 animate-spin text-primary"})}),e.jsx(C,{children:e.jsx(E,{className:"p-6",children:e.jsx("div",{className:"flex space-x-2",children:[...Array(8)].map((I,V)=>e.jsx("div",{className:"h-8 bg-muted rounded-full w-20 animate-pulse"},V))})})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((I,V)=>e.jsxs(C,{className:"overflow-hidden",children:[e.jsx("div",{className:"h-48 bg-muted animate-pulse"}),e.jsxs(E,{className:"p-4 space-y-2",children:[e.jsx("div",{className:"h-6 bg-muted rounded animate-pulse"}),e.jsx("div",{className:"h-4 bg-muted rounded w-3/4 animate-pulse"}),e.jsx("div",{className:"h-3 bg-muted rounded w-1/4 animate-pulse"})]})]},V))})]})});if(g||!r)return e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx(C,{className:"max-w-md mx-auto",children:e.jsxs(E,{className:"p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-destructive/10 flex items-center justify-center",children:e.jsx(Ot,{className:"w-8 h-8 text-destructive"})}),e.jsx("h2",{className:"text-xl font-bold mb-4 font-hind",children:g||"   "}),e.jsx("p",{className:"text-muted-foreground mb-6",children:",       "}),e.jsx(Y,{href:"/",children:e.jsxs(D,{children:[e.jsx(rl,{className:"w-4 h-4 mr-2"}),"  "]})})]})})});const R=X7({name:r.name,slug:r.slug,description:r.description}),{metaElements:B,linkElements:H}=Su(R);return e.jsxs(e.Fragment,{children:[e.jsxs(lr,{children:[e.jsx("title",{children:R.title}),B.map((I,V)=>I.property?e.jsx("meta",{property:I.property,content:I.content},V):e.jsx("meta",{name:I.name,content:I.content},V)),H.map((I,V)=>e.jsx("link",{rel:I.rel,href:I.href},V))]}),e.jsx("div",{className:"category-page",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"category-header text-center py-8 mb-8",children:[e.jsx("h1",{className:"category-title-animated text-4xl md:text-5xl font-bold mb-4 font-hind bg-gradient-to-r from-primary to-primary/80 bg-clip-text text-transparent",children:r.name}),r.description&&e.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto leading-relaxed",children:r.description})]}),e.jsx(k,{}),e.jsx(C,{className:"mb-6",children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[e.jsxs("div",{className:"flex gap-2 flex-1 w-full sm:w-auto",children:[e.jsxs("div",{className:"search-input-enhanced relative flex-1 max-w-sm",children:[e.jsx(Ot,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),e.jsx("input",{type:"text",placeholder:" ...",value:b,onChange:I=>N(I.target.value),className:"w-full pl-10 pr-4 py-2 border border-input rounded-md bg-background text-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),e.jsxs(pi,{children:[e.jsx(gi,{asChild:!0,children:e.jsxs(D,{variant:"outline",size:"sm",children:[e.jsx(nD,{className:"w-4 h-4 mr-2"}),j==="latest"?"":j==="popular"?"":"",e.jsx(rf,{className:"w-4 h-4 ml-2"})]})}),e.jsxs(ua,{children:[e.jsxs(kt,{onClick:()=>w("latest"),children:[e.jsx(Os,{className:"w-4 h-4 mr-2"}),""]}),e.jsxs(kt,{onClick:()=>w("popular"),children:[e.jsx(Et,{className:"w-4 h-4 mr-2"}),""]}),e.jsxs(kt,{onClick:()=>w("trending"),children:[e.jsx(Ct,{className:"w-4 h-4 mr-2"}),""]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{variant:p==="grid"?"default":"outline",size:"sm",onClick:()=>y("grid"),className:"view-toggle-button",children:e.jsx(vD,{className:"w-4 h-4"})}),e.jsx(D,{variant:p==="list"?"default":"outline",size:"sm",onClick:()=>y("list"),className:"view-toggle-button",children:e.jsx(_D,{className:"w-4 h-4"})})]})]})})}),b&&e.jsxs("div",{className:"mb-4 text-sm text-muted-foreground",children:[e.jsx(Ot,{className:"w-4 h-4 inline mr-2"}),'"',b,'"   ',A.length,"   "]}),A.length===0&&!f?e.jsx(C,{className:"text-center py-12",children:e.jsxs(E,{children:[e.jsx("div",{className:"empty-state-icon w-24 h-24 mx-auto mb-6 rounded-full bg-muted/50 flex items-center justify-center",children:e.jsx(Ot,{className:"w-12 h-12 text-muted-foreground"})}),e.jsx("h3",{className:"text-xl font-semibold mb-2 font-hind",children:b?"   ":"      "}),e.jsx("p",{className:"text-muted-foreground mb-6",children:b?"        ":"      "}),b&&e.jsx(D,{onClick:()=>N(""),variant:"outline",children:"  "})]})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:p==="grid"?"article-grid-container grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:A.map(I=>p==="grid"?e.jsx(T,{article:I},I.id):e.jsx(S,{article:I},I.id))}),u&&!b&&e.jsx("div",{className:"mt-12 text-center",children:e.jsx(D,{onClick:P,disabled:f,size:"lg",className:"load-more-button px-8",children:f?e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"w-4 h-4 mr-2 animate-spin"})," ..."]}):e.jsxs(e.Fragment,{children:["  ",e.jsx(rl,{className:"w-4 h-4 ml-2"})]})})})]})]})})]})};function nN(t){return t.trim().toLowerCase().replace(/[^\u0980-\u09FF\u0020\u002D\u005F\u0041-\u005A\u0061-\u007A\u0030-\u0039]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-+|-+$/g,"")}function DB(t){try{let s=decodeURIComponent(t);return s.includes("%")&&(s=decodeURIComponent(s)),s}catch(s){return console.log("Error decoding slug:",s),t}}function LB(t){try{window.history.replaceState&&window.history.replaceState(null,"",t)}catch(s){console.log("Could not update display URL:",s)}}const MB=({content:t})=>{const r=(n=>{const a=n.trim().split(/\s+/).length,i=Math.ceil(a/225);return i<1?1:i})(t);return e.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[e.jsx(ht,{className:"h-4 w-4 mr-1"}),e.jsxs("span",{children:[r,"  "]})]})};function FB(t,s=300){if(!t||t.length<=s)return t;const r=t.split(new RegExp("(?<=[.!?])\\s+"));if(r.length<=3)return t;const n=r.map((l,c)=>{let d=0;c===0&&(d+=3),c===1&&(d+=2),c===r.length-1&&(d+=2);const u=l.split(/\s+/).length;u>5&&u<25&&(d+=1);const h=["","","","","","","","","","","","","","","","","","",""];for(const f of h)l.includes(f)&&(d+=1);return{sentence:l,score:d,index:c}});n.sort((l,c)=>c.score!==l.score?c.score-l.score:l.index-c.index);let a="",i=0;const o=n.slice(0,Math.max(3,Math.ceil(r.length/5))).sort((l,c)=>l.index-c.index);for(const{sentence:l}of o)if(i+l.length<=s)a+=l+" ",i+=l.length+1;else break;return a.trim()}const $B=({content:t,maxLength:s=400})=>{const[r,n]=m.useState(!1),[a,i]=m.useState(!1),[o,l]=m.useState(""),c=()=>{if(o){n(!r);return}i(!0),setTimeout(()=>{const d=FB(t,s);l(d),n(!0),i(!1)},800)};return e.jsxs("div",{className:"my-4",children:[e.jsx(D,{variant:"outline",onClick:c,disabled:a,className:"flex items-center gap-2 bg-primary/5 hover:bg-primary/10 dark:bg-primary/10 dark:hover:bg-primary/20",children:a?e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"h-4 w-4 animate-spin"}),e.jsx("span",{children:"  ..."})]}):r?e.jsx("span",{children:" "}):e.jsx("span",{children:"  "})}),r&&o&&e.jsx(C,{className:"mt-3 bg-primary/5 dark:bg-primary/10 border-primary/20",children:e.jsxs(E,{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-medium mb-2",children:":"}),e.jsx("p",{className:"text-muted-foreground",children:o})]})})]})};function OP({articleId:t,isSaved:s=!1,variant:r="icon",className:n=""}){const[a,i]=m.useState(s),[o,l]=m.useState(!1),{user:c}=rt(),{toast:d}=Ze(),u=async()=>{if(!c){d({title:" ",description:"      ",variant:"destructive"});return}l(!0);try{const{data:{session:h}}=await J.auth.getSession();if(!h)throw new Error("No session found");const{toggleBookmark:f}=await de(async()=>{const{toggleBookmark:g}=await Promise.resolve().then(()=>ke);return{toggleBookmark:g}},void 0),x=await f(t,h.user.id,!a);if(a)i(!1),d({title:"",description:"     "});else{if(x.alreadyExists){i(!0),d({title:" ",description:"      "});return}i(!0),d({title:"",description:"     "})}}catch(h){console.error("Error toggling saved article:",h),d({title:"",description:h.message||"   ",variant:"destructive"})}finally{l(!1)}};return r==="icon"?e.jsx(D,{variant:"ghost",size:"sm",onClick:u,disabled:o,className:`p-2 h-auto ${n}`,children:e.jsx(ti,{className:`h-4 w-4 ${a?"fill-current text-blue-600":""}`})}):e.jsxs(D,{variant:a?"default":"outline",size:"sm",onClick:u,disabled:o,className:n,children:[e.jsx(ti,{className:`h-4 w-4 mr-2 ${a?"fill-current":""}`}),a?"":" "]})}function IP({articleId:t,initialLiked:s=!1,likeCount:r=0,className:n=""}){const[a,i]=m.useState(s),[o,l]=m.useState(r),[c,d]=m.useState(!1),{user:u}=rt(),{toast:h}=Ze();m.useEffect(()=>{if(!u)return;(async()=>{try{const{data:{session:g}}=await J.auth.getSession();if(!g)return;const{getUserLikeStatus:v}=await de(async()=>{const{getUserLikeStatus:y}=await Promise.resolve().then(()=>ke);return{getUserLikeStatus:y}},void 0),p=await v(t,g.user.id);i(p.isLiked),l(p.likeCount||0)}catch(g){console.error("Error checking like status:",g)}})()},[t,u]);const f=async()=>{if(!u){h({title:" ",description:"     ",variant:"destructive"});return}d(!0);try{const{data:{session:x}}=await J.auth.getSession();if(!x)throw new Error("No session found");const{toggleArticleLike:g}=await de(async()=>{const{toggleArticleLike:p}=await Promise.resolve().then(()=>ke);return{toggleArticleLike:p}},void 0);if((await g(t,x.user.id,!a)).alreadyExists&&!a){i(!0);return}a?(i(!1),l(p=>Math.max(0,p-1)),h({title:"",description:"  "})):(i(!0),l(p=>p+1),h({title:"",description:"  "}))}catch(x){console.error("Error toggling like:",x),h({title:"",description:x.message||"   ",variant:"destructive"})}finally{d(!1)}};return e.jsxs(D,{variant:"ghost",size:"sm",onClick:f,disabled:c,className:`flex items-center gap-1 ${n}`,children:[e.jsx(pr,{className:`h-4 w-4 ${a?"fill-current text-red-500":""}`}),o>0&&e.jsx("span",{className:"text-sm text-muted-foreground",children:o})]})}function DP({articleId:t,title:s,url:r,className:n=""}){const[a,i]=m.useState(!1),{user:o}=rt(),{toast:l}=Ze(),c=m.useMemo(()=>r||window.location.href,[r]),d=async h=>{if(o)try{const{data:{session:f}}=await J.auth.getSession();if(!f)return;const{trackArticleShare:x}=await de(async()=>{const{trackArticleShare:g}=await Promise.resolve().then(()=>ke);return{trackArticleShare:g}},void 0);await x(t,f.user.id,h)}catch(f){console.error("Error tracking share:",f)}},u=async h=>{i(!0);try{const f=encodeURIComponent(s),x=encodeURIComponent(c);let g="";switch(h){case"facebook":g=`https://www.facebook.com/sharer/sharer.php?u=${x}`;break;case"twitter":g=`https://twitter.com/intent/tweet?text=${f}&url=${x}`;break;case"whatsapp":g=`https://api.whatsapp.com/send?text=${f} ${x}`;break;case"telegram":g=`https://t.me/share/url?url=${x}&text=${f}`;break;case"copy":await navigator.clipboard.writeText(c),l({title:"",description:"   "}),await d("copy");return}g&&(window.open(g,"_blank","width=600,height=400"),await d(h),l({title:"",description:"  "}))}catch(f){console.error("Error sharing:",f),l({title:"",description:"   ",variant:"destructive"})}finally{i(!1)}};return e.jsxs(pi,{children:[e.jsx(gi,{asChild:!0,children:e.jsxs(D,{variant:"ghost",size:"sm",disabled:a,className:`flex items-center gap-2 ${n}`,children:[e.jsx(Tn,{className:"h-4 w-4"}),""]})}),e.jsxs(ua,{align:"end",className:"w-48",children:[e.jsxs(kt,{onClick:()=>u("facebook"),children:[e.jsx(lf,{className:"h-4 w-4 mr-2"}),"Facebook"]}),e.jsxs(kt,{onClick:()=>u("twitter"),children:[e.jsx(uf,{className:"h-4 w-4 mr-2"}),"Twitter"]}),e.jsxs(kt,{onClick:()=>u("whatsapp"),children:[e.jsx(Ji,{className:"h-4 w-4 mr-2"}),"WhatsApp"]}),e.jsxs(kt,{onClick:()=>u("telegram"),children:[e.jsx(Ji,{className:"h-4 w-4 mr-2"}),"Telegram"]}),e.jsxs(kt,{onClick:()=>u("copy"),children:[e.jsx(pS,{className:"h-4 w-4 mr-2"}),"  "]})]})]})}function LP({articleId:t,className:s=""}){const[r,n]=m.useState([]),[a,i]=m.useState(""),[o,l]=m.useState(!1),[c,d]=m.useState(!1),{user:u}=rt(),{toast:h}=Ze();m.useEffect(()=>{f()},[t]);const f=async()=>{l(!0);try{const{getArticleComments:v}=await de(async()=>{const{getArticleComments:y}=await Promise.resolve().then(()=>ke);return{getArticleComments:y}},void 0),p=await v(t);n(p)}catch(v){console.error("Error loading comments:",v)}finally{l(!1)}},x=async()=>{if(!u){h({title:" ",description:"     ",variant:"destructive"});return}if(!a.trim()){h({title:" ",description:"   ",variant:"destructive"});return}d(!0);try{const{data:{session:v}}=await J.auth.getSession();if(!v)throw new Error("No session found");const{addComment:p}=await de(async()=>{const{addComment:y}=await Promise.resolve().then(()=>ke);return{addComment:y}},void 0);await p(t,v.user.id,a),i(""),h({title:"",description:"         "}),f()}catch(v){console.error("Error submitting comment:",v),h({title:"",description:"    ",variant:"destructive"})}finally{d(!1)}},g=v=>new Date(v).toLocaleDateString("bn-BD",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return e.jsx("div",{className:`space-y-6 ${s}`,children:e.jsxs(C,{children:[e.jsx(L,{children:e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx(Ji,{className:"h-5 w-5"})," (",r.length,")"]})}),e.jsxs(E,{className:"space-y-4",children:[u?e.jsxs("div",{className:"space-y-3",children:[e.jsx(Qt,{placeholder:"  ...",value:a,onChange:v=>i(v.target.value),rows:3,className:"resize-none"}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(D,{onClick:x,disabled:c||!a.trim(),size:"sm",children:[e.jsx(Ul,{className:"h-4 w-4 mr-2"})," "]})})]}):e.jsx(C,{className:"bg-muted/50",children:e.jsx(E,{className:"pt-6",children:e.jsxs("p",{className:"text-center text-muted-foreground",children:["  ",e.jsx("strong",{children:""})," "]})})}),o?e.jsx("div",{className:"text-center py-4",children:e.jsx("p",{className:"text-muted-foreground",children:"  ..."})}):r.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ji,{className:"h-12 w-12 mx-auto text-muted-foreground/50 mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"   "}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"  !"})]}):e.jsx("div",{className:"space-y-4",children:r.map(v=>e.jsx(C,{className:"bg-muted/20",children:e.jsx(E,{className:"pt-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"bg-primary/10 p-2 rounded-full",children:e.jsx(Zr,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"font-medium",children:v.author_name}),e.jsx("span",{className:"text-xs text-muted-foreground",children:g(v.created_at)})]}),e.jsx("p",{className:"text-sm leading-relaxed",children:v.content})]})]})})},v.id))})]})]})})}function MP({articleId:t,maxTags:s=5,size:r="default",className:n=""}){const[a,i]=m.useState([]),[o,l]=m.useState(!1);m.useEffect(()=>{c()},[t]);const c=async()=>{l(!0);try{const{getArticleTags:u}=await de(async()=>{const{getArticleTags:f}=await Promise.resolve().then(()=>ke);return{getArticleTags:f}},void 0),h=await u(t);i(h.slice(0,s))}catch(u){console.error("Error loading tags:",u)}finally{l(!1)}};if(o)return e.jsxs("div",{className:`flex items-center gap-2 ${n}`,children:[e.jsx(so,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("div",{className:"flex gap-2",children:[...Array(3)].map((u,h)=>e.jsx("div",{className:"h-5 w-16 bg-muted animate-pulse rounded-full"},h))})]});if(a.length===0)return null;const d={sm:"text-xs px-2 py-1",default:"text-sm px-2.5 py-1",lg:"text-base px-3 py-1.5"};return e.jsxs("div",{className:`flex items-center gap-2 flex-wrap ${n}`,children:[e.jsx(so,{className:"h-4 w-4 text-muted-foreground"}),a.map(u=>e.jsx(X,{variant:"secondary",className:`${d[r]} transition-colors hover:bg-primary/20`,style:{backgroundColor:u.color?`${u.color}20`:void 0,borderColor:u.color||void 0},children:u.name},u.id))]})}function FP({className:t=""}){const[s,r]=m.useState(""),[n,a]=m.useState(!1),[i,o]=m.useState(!1),{toast:l}=Ze(),c=async d=>{if(d.preventDefault(),!s.trim()){l({title:" ",description:"      ",variant:"destructive"});return}a(!0);try{const{subscribeToNewsletter:u}=await de(async()=>{const{subscribeToNewsletter:f}=await Promise.resolve().then(()=>ke);return{subscribeToNewsletter:f}},void 0);if((await u(s,{breaking_news:!0,daily_digest:!0,weekly_summary:!0})).alreadyExists){l({title:"  ",description:"       ",variant:"destructive"});return}o(!0),r(""),l({title:"!",description:"    "})}catch(u){console.error("Error subscribing to newsletter:",u),l({title:"",description:"   ",variant:"destructive"})}finally{a(!1)}};return i?e.jsx(C,{className:`bg-green-50 border-green-200 dark:bg-green-950 dark:border-green-800 ${t}`,children:e.jsx(E,{className:"pt-6",children:e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("div",{className:"bg-green-100 dark:bg-green-900 w-12 h-12 rounded-full flex items-center justify-center mx-auto",children:e.jsx(iu,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),e.jsx("h3",{className:"font-semibold text-green-800 dark:text-green-200",children:" !"}),e.jsx("p",{className:"text-sm text-green-600 dark:text-green-300",children:"    "})]})})}):e.jsxs(C,{className:`bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-950 dark:to-indigo-950 border-blue-200 dark:border-blue-800 ${t}`,children:[e.jsx(L,{children:e.jsxs(M,{className:"flex items-center gap-2 text-blue-800 dark:text-blue-200",children:[e.jsx(Ml,{className:"h-5 w-5"}),"  "]})}),e.jsx(E,{children:e.jsxs("form",{onSubmit:c,className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-300",children:"        "}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(te,{type:"email",placeholder:"  ",value:s,onChange:d=>r(d.target.value),disabled:n,className:"flex-1"}),e.jsx(D,{type:"submit",disabled:n||!s.trim(),className:"bg-blue-600 hover:bg-blue-700 text-white",children:n?" ...":""})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"            "})]})})]})}function $P({className:t=""}){const[s,r]=m.useState([]),[n,a]=m.useState(new Set),[i,o]=m.useState(!1),{user:l}=rt(),{toast:c}=Ze();m.useEffect(()=>{d()},[]);const d=async()=>{o(!0);try{const{getPolls:h}=await de(async()=>{const{getPolls:x}=await Promise.resolve().then(()=>ke);return{getPolls:x}},void 0),f=await h();r(f)}catch(h){console.error("Error loading polls:",h)}finally{o(!1)}},u=async(h,f)=>{if(!l){c({title:" ",description:"     ",variant:"destructive"});return}if(n.has(h)){c({title:"  ",description:"     ",variant:"destructive"});return}try{const{voteOnPoll:x}=await de(async()=>{const{voteOnPoll:v}=await Promise.resolve().then(()=>ke);return{voteOnPoll:v}},void 0),g=await x(h,f,l.id);if(!g.success){g.message.includes("")&&a(v=>new Set([...v,h])),c({title:g.success?"":"",description:g.message,variant:g.success?"default":"destructive"});return}a(v=>new Set([...v,h])),c({title:"",description:g.message}),d()}catch(x){console.error("Error voting:",x),c({title:"",description:"   ",variant:"destructive"})}};return i?e.jsxs(C,{className:t,children:[e.jsx(L,{children:e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx(wr,{className:"h-5 w-5"}),"  ..."]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:[...Array(2)].map((h,f)=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-muted animate-pulse rounded"}),e.jsx("div",{className:"h-8 bg-muted animate-pulse rounded"})]},f))})})]}):s.length===0?null:e.jsx("div",{className:`space-y-4 ${t}`,children:s.map(h=>{const f=n.has(h.id),x=h.expires_at&&new Date(h.expires_at)<new Date;return e.jsxs(C,{className:"border-l-4 border-l-blue-500",children:[e.jsxs(L,{children:[e.jsxs(M,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(wr,{className:"h-5 w-5"}),e.jsx("span",{className:"text-base",children:h.title||h.question})]}),f&&e.jsx(ts,{className:"h-5 w-5 text-green-500"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(gt,{className:"h-4 w-4"}),e.jsxs("span",{children:[h.total_votes,"   "]}),x&&e.jsx("span",{className:"text-red-500 font-medium",children:"  "})]})]}),e.jsxs(E,{className:"space-y-3",children:[h.options.map(g=>{const v=g.votes||g.vote_count||0,p=h.total_votes>0?Math.round(v/h.total_votes*100):0;return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:g.text}),f&&e.jsxs("span",{className:"text-xs text-muted-foreground",children:[p,"% (",v,")"]})]}),f?e.jsx(gr,{value:p,className:"h-3"}):e.jsx(D,{variant:"outline",size:"sm",onClick:()=>u(h.id,g.id),disabled:x||!h.is_active,className:"w-full justify-start",children:g.text})]},g.id)}),!l&&e.jsx("p",{className:"text-xs text-muted-foreground text-center mt-4",children:"   "})]})]},h.id)})})}var UP=["PageUp","PageDown"],zP=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],VP={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Cc="Slider",[tv,UB,zB]=nu(Cc),[BP,qH]=_s(Cc,[zB]),[VB,Gf]=BP(Cc),qP=m.forwardRef((t,s)=>{const{name:r,min:n=0,max:a=100,step:i=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:d=[n],value:u,onValueChange:h=()=>{},onValueCommit:f=()=>{},inverted:x=!1,form:g,...v}=t,p=m.useRef(new Set),y=m.useRef(0),w=o==="horizontal"?BB:qB,[b=[],N]=an({prop:u,defaultProp:d,onChange:S=>{var B;(B=[...p.current][y.current])==null||B.focus(),h(S)}}),_=m.useRef(b);function P(S){const R=QB(b,S);T(S,R)}function A(S){T(S,y.current)}function k(){const S=_.current[y.current];b[y.current]!==S&&f(b)}function T(S,R,{commit:B}={commit:!1}){const H=JB(i),I=eq(Math.round((S-n)/i)*i+n,H),V=Vd(I,[n,a]);N((z=[])=>{const O=KB(z,V,R);if(XB(O,c*i)){y.current=O.indexOf(V);const U=String(O)!==String(z);return U&&B&&f(O),U?O:z}else return z})}return e.jsx(VB,{scope:t.__scopeSlider,name:r,disabled:l,min:n,max:a,valueIndexToChangeRef:y,thumbs:p.current,values:b,orientation:o,form:g,children:e.jsx(tv.Provider,{scope:t.__scopeSlider,children:e.jsx(tv.Slot,{scope:t.__scopeSlider,children:e.jsx(w,{"aria-disabled":l,"data-disabled":l?"":void 0,...v,ref:s,onPointerDown:ie(v.onPointerDown,()=>{l||(_.current=b)}),min:n,max:a,inverted:x,onSlideStart:l?void 0:P,onSlideMove:l?void 0:A,onSlideEnd:l?void 0:k,onHomeKeyDown:()=>!l&&T(n,0,{commit:!0}),onEndKeyDown:()=>!l&&T(a,b.length-1,{commit:!0}),onStepKeyDown:({event:S,direction:R})=>{if(!l){const I=UP.includes(S.key)||S.shiftKey&&zP.includes(S.key)?10:1,V=y.current,z=b[V],O=i*I*R;T(z+O,V,{commit:!0})}}})})})})});qP.displayName=Cc;var[HP,WP]=BP(Cc,{startEdge:"left",endEdge:"right",size:"width",direction:1}),BB=m.forwardRef((t,s)=>{const{min:r,max:n,dir:a,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...u}=t,[h,f]=m.useState(null),x=Fe(s,w=>f(w)),g=m.useRef(void 0),v=fc(a),p=v==="ltr",y=p&&!i||!p&&i;function j(w){const b=g.current||h.getBoundingClientRect(),N=[0,b.width],P=Rj(N,y?[r,n]:[n,r]);return g.current=b,P(w-b.left)}return e.jsx(HP,{scope:t.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:e.jsx(KP,{dir:v,"data-orientation":"horizontal",...u,ref:x,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const b=j(w.clientX);o==null||o(b)},onSlideMove:w=>{const b=j(w.clientX);l==null||l(b)},onSlideEnd:()=>{g.current=void 0,c==null||c()},onStepKeyDown:w=>{const N=VP[y?"from-left":"from-right"].includes(w.key);d==null||d({event:w,direction:N?-1:1})}})})}),qB=m.forwardRef((t,s)=>{const{min:r,max:n,inverted:a,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...d}=t,u=m.useRef(null),h=Fe(s,u),f=m.useRef(void 0),x=!a;function g(v){const p=f.current||u.current.getBoundingClientRect(),y=[0,p.height],w=Rj(y,x?[n,r]:[r,n]);return f.current=p,w(v-p.top)}return e.jsx(HP,{scope:t.__scopeSlider,startEdge:x?"bottom":"top",endEdge:x?"top":"bottom",size:"height",direction:x?1:-1,children:e.jsx(KP,{"data-orientation":"vertical",...d,ref:h,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:v=>{const p=g(v.clientY);i==null||i(p)},onSlideMove:v=>{const p=g(v.clientY);o==null||o(p)},onSlideEnd:()=>{f.current=void 0,l==null||l()},onStepKeyDown:v=>{const y=VP[x?"from-bottom":"from-top"].includes(v.key);c==null||c({event:v,direction:y?-1:1})}})})}),KP=m.forwardRef((t,s)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:a,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...d}=t,u=Gf(Cc,r);return e.jsx(ge.span,{...d,ref:s,onKeyDown:ie(t.onKeyDown,h=>{h.key==="Home"?(o(h),h.preventDefault()):h.key==="End"?(l(h),h.preventDefault()):UP.concat(zP).includes(h.key)&&(c(h),h.preventDefault())}),onPointerDown:ie(t.onPointerDown,h=>{const f=h.target;f.setPointerCapture(h.pointerId),h.preventDefault(),u.thumbs.has(f)?f.focus():n(h)}),onPointerMove:ie(t.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&a(h)}),onPointerUp:ie(t.onPointerUp,h=>{const f=h.target;f.hasPointerCapture(h.pointerId)&&(f.releasePointerCapture(h.pointerId),i(h))})})}),GP="SliderTrack",QP=m.forwardRef((t,s)=>{const{__scopeSlider:r,...n}=t,a=Gf(GP,r);return e.jsx(ge.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...n,ref:s})});QP.displayName=GP;var sv="SliderRange",ZP=m.forwardRef((t,s)=>{const{__scopeSlider:r,...n}=t,a=Gf(sv,r),i=WP(sv,r),o=m.useRef(null),l=Fe(s,o),c=a.values.length,d=a.values.map(f=>JP(f,a.min,a.max)),u=c>1?Math.min(...d):0,h=100-Math.max(...d);return e.jsx(ge.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...n,ref:l,style:{...t.style,[i.startEdge]:u+"%",[i.endEdge]:h+"%"}})});ZP.displayName=sv;var rv="SliderThumb",YP=m.forwardRef((t,s)=>{const r=UB(t.__scopeSlider),[n,a]=m.useState(null),i=Fe(s,l=>a(l)),o=m.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return e.jsx(HB,{...t,ref:i,index:o})}),HB=m.forwardRef((t,s)=>{const{__scopeSlider:r,index:n,name:a,...i}=t,o=Gf(rv,r),l=WP(rv,r),[c,d]=m.useState(null),u=Fe(s,j=>d(j)),h=c?o.form||!!c.closest("form"):!0,f=kf(c),x=o.values[n],g=x===void 0?0:JP(x,o.min,o.max),v=GB(n,o.values.length),p=f==null?void 0:f[l.size],y=p?ZB(p,g,l.direction):0;return m.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),e.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${g}% + ${y}px)`},children:[e.jsx(tv.ItemSlot,{scope:t.__scopeSlider,children:e.jsx(ge.span,{role:"slider","aria-label":t["aria-label"]||v,"aria-valuemin":o.min,"aria-valuenow":x,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:u,style:x===void 0?{display:"none"}:t.style,onFocus:ie(t.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),h&&e.jsx(XP,{name:a??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:x},n)]})});YP.displayName=rv;var WB="RadioBubbleInput",XP=m.forwardRef(({__scopeSlider:t,value:s,...r},n)=>{const a=m.useRef(null),i=Fe(a,n),o=Sf(s);return m.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==s&&u){const h=new Event("input",{bubbles:!0});u.call(l,s),l.dispatchEvent(h)}},[o,s]),e.jsx(ge.input,{style:{display:"none"},...r,ref:i,defaultValue:s})});XP.displayName=WB;function KB(t=[],s,r){const n=[...t];return n[r]=s,n.sort((a,i)=>a-i)}function JP(t,s,r){const i=100/(r-s)*(t-s);return Vd(i,[0,100])}function GB(t,s){return s>2?`Value ${t+1} of ${s}`:s===2?["Minimum","Maximum"][t]:void 0}function QB(t,s){if(t.length===1)return 0;const r=t.map(a=>Math.abs(a-s)),n=Math.min(...r);return r.indexOf(n)}function ZB(t,s,r){const n=t/2,i=Rj([0,50],[0,n]);return(n-i(s)*r)*r}function YB(t){return t.slice(0,-1).map((s,r)=>t[r+1]-s)}function XB(t,s){if(s>0){const r=YB(t);return Math.min(...r)>=s}return!0}function Rj(t,s){return r=>{if(t[0]===t[1]||s[0]===s[1])return s[0];const n=(s[1]-s[0])/(t[1]-t[0]);return s[0]+n*(r-t[0])}}function JB(t){return(String(t).split(".")[1]||"").length}function eq(t,s){const r=Math.pow(10,s);return Math.round(t*r)/r}var eA=qP,tq=QP,sq=ZP,rq=YP;const ad=m.forwardRef(({className:t,...s},r)=>e.jsxs(eA,{ref:r,className:oe("relative flex w-full touch-none select-none items-center","min-h-[44px] py-3",t),...s,children:[e.jsx(tq,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-gradient-to-r from-gray-200 via-gray-100 to-gray-200 dark:from-gray-700 dark:via-gray-800 dark:to-gray-700 shadow-inner",children:e.jsx(sq,{className:"absolute h-full bg-gradient-to-r from-primary to-primary/80 rounded-full shadow-sm transition-all duration-300 ease-out"})}),e.jsx(rq,{className:`
      block h-6 w-6 rounded-full 
      bg-white dark:bg-gray-100
      border-2 border-primary/70 dark:border-primary/90
      shadow-lg hover:shadow-xl
      transition-all duration-200 ease-out
      focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 focus-visible:ring-offset-background
      hover:scale-110 hover:border-primary
      disabled:pointer-events-none disabled:opacity-50
      cursor-pointer
      ring-0 hover:ring-4 hover:ring-primary/20
      /* Steve Krug: Clear interaction states */
      active:scale-95
      /* Farai Madzima: High contrast for accessibility */
      contrast-more:border-black contrast-more:dark:border-white
    `})]}));ad.displayName=eA.displayName;const nq=()=>{const[,t]=L2("/article/:slug"),s=(t==null?void 0:t.slug)||"",r=DB(s),{user:n}=rt(),{toast:a}=Ze(),[i,o]=m.useState(null),[l,c]=m.useState([]),[d,u]=m.useState(!1),h=m.useMemo(()=>{if(i)return`${window.location.origin}/article/${nN(i.title)}`},[i==null?void 0:i.title]),{data:f=[]}=_e({queryKey:["related-articles",i==null?void 0:i.id],queryFn:async()=>{if(!(i!=null&&i.category_id))return[];const{articlesAPI:fe}=await de(async()=>{const{articlesAPI:we}=await import("./supabase-direct-api-DNhvXpWN.js");return{articlesAPI:we}},[]);return fe.getAll(3,0)},enabled:!!(i!=null&&i.category_id),staleTime:5*60*1e3}),[x,g]=m.useState(!0),[v,p]=m.useState(null),[y,j]=m.useState(!1),[w,b]=m.useState(!1),[N,_]=m.useState(!1),[P,A]=m.useState(0),[k,T]=m.useState(!1),[S,R]=m.useState(0),[B,H]=m.useState(16),[I,V]=m.useState(!1),[z,O]=m.useState(!1),[U,ee]=m.useState(250),[se,W]=m.useState(!1),[ue,ye]=m.useState(!1),[me,Ee]=m.useState(0),[K,Ie]=m.useState(.8),[Oe,We]=m.useState(!1),[De,tt]=m.useState(null),[Vt,Bt]=m.useState(null),[dr,Ln]=m.useState(1),[Sr,Cu]=m.useState(1),[Mn,$]=m.useState(0),[q,Z]=m.useState(0),[je,he]=m.useState(0),le=m.useRef(null),Re=m.useRef(null),at=m.useRef(Date.now());m.useEffect(()=>{if(f){const fe=f.map(we=>({...we,content:we.content||"",category:Array.isArray(we.categories)?we.categories[0]:we.categories,is_featured:we.is_featured||!1}));c(fe)}},[f]),m.useEffect(()=>{(async()=>{if(!(!n||!i))try{const{data:{session:we}}=await J.auth.getSession();if(!we)return;const{data:$e,error:Je}=await J.from("saved_articles").select().eq("user_id",n.id).eq("article_id",i.id).maybeSingle();if(Je&&Je.code!=="PGRST116"){console.error("Error checking if article is saved:",Je);return}j(!!$e)}catch(we){console.error("Error checking if article is saved:",we)}})()},[n,i]),m.useEffect(()=>{const fe=()=>{const Je=window.pageYOffset,dt=document.documentElement.scrollHeight-window.innerHeight,ma=Math.min(Je/dt*100,100);R(ma),Z(Co=>{const Oj=Math.max(Co,ma);return Math.abs(Oj-Co)>.5?Oj:Co});const ot=Date.now(),Gs=Math.floor((ot-at.current)/1e3);he(Co=>Gs!==Co?Gs:Co)};let we;const $e=()=>{we&&clearTimeout(we),we=setTimeout(fe,16)};return window.addEventListener("scroll",$e,{passive:!0}),()=>{window.removeEventListener("scroll",$e),we&&clearTimeout(we)}},[]),m.useEffect(()=>{if(!z)return;const fe=setInterval(()=>{const we=U/60*10;window.scrollBy(0,we),window.innerHeight+window.scrollY>=document.body.offsetHeight&&O(!1)},100);return()=>clearInterval(fe)},[z,U]),m.useEffect(()=>{const fe=localStorage.getItem("article-font-size"),we=localStorage.getItem("article-theme");fe&&H(parseInt(fe)),we&&V(we==="dark")},[]),m.useEffect(()=>{localStorage.setItem("article-font-size",B.toString()),Re.current&&(Re.current.style.fontSize=`${B}px`)},[B]),m.useEffect(()=>{localStorage.setItem("article-theme",I?"dark":"light"),I?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[I]),m.useEffect(()=>{(async()=>{if(!(!n||!i))try{const{data:{session:we}}=await J.auth.getSession();if(!we)return;const $e=we.access_token,{trackReadingHistory:Je}=await de(async()=>{const{trackReadingHistory:dt}=await Promise.resolve().then(()=>ke);return{trackReadingHistory:dt}},void 0);await Je(i.id,n.id)}catch(we){console.error("Error tracking reading history:",we)}})()},[n,i]);const pt=async()=>{if(!i)return;const fe=prompt("   :");if(fe)try{const{reportArticle:we}=await de(async()=>{const{reportArticle:Je}=await Promise.resolve().then(()=>ke);return{reportArticle:Je}},void 0),$e=await we(i.id,"anonymous",fe.trim(),"User reported from article page");if($e.success)a({title:"   ",description:$e.message});else throw new Error("Failed to submit report")}catch(we){console.error("Error reporting article:",we),a({title:"   ",description:",          ",variant:"destructive"})}},Ds=async fe=>{if(i)try{const{submitUserFeedback:we}=await de(async()=>{const{submitUserFeedback:Je}=await Promise.resolve().then(()=>ke);return{submitUserFeedback:Je}},void 0);if((await we("anonymous",fe==="helpful"?"helpful":"content_feedback",fe==="helpful"?"User found article helpful":"User provided content feedback",{article_id:i.id})).success)a({title:"   ",description:"     "});else throw new Error("Failed to submit feedback")}catch(we){console.error("Error submitting feedback:",we),a({title:"    ",description:",          ",variant:"destructive"})}},So=async()=>{if(i){if(!n){a({title:" ",description:"      ",variant:"destructive"});return}try{const{data:{session:fe}}=await J.auth.getSession();if(!fe)throw new Error("No session found");const{saveArticleForOffline:we}=await de(async()=>{const{saveArticleForOffline:Je}=await Promise.resolve().then(()=>ke);return{saveArticleForOffline:Je}},void 0),$e=await we(i,fe.user.id);$e.success?a({title:"   ",description:$e.message}):a({title:$e.message.includes("")?" ":" ",description:$e.message,variant:"destructive"})}catch(fe){console.error("Error saving article for offline:",fe),a({title:"  ",description:",       ",variant:"destructive"})}}};m.useEffect(()=>{typeof window<"u"&&window.speechSynthesis&&(tt(window.speechSynthesis),window.speechSynthesis.getVoices().length===0&&window.speechSynthesis.addEventListener("voiceschanged",()=>{console.log("Voices loaded:",window.speechSynthesis.getVoices().length)}))},[]),m.useEffect(()=>()=>{De&&(De.cancel(),ye(!1),Bt(null),Ee(0))},[De,r]);const ur=fe=>{const we=new DOMParser().parseFromString(fe,"text/html");return we.body.textContent||we.body.innerText||""},Eu=()=>{var $e;if(!i)return;const fe=window.open("","_blank");if(!fe)return;const we=ur(i.content||"");fe.document.write(`
      <!DOCTYPE html>
      <html lang="bn">
      <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>${i.title} - </title>
        <style>
          @page {
            size: A4;
            margin: 2cm;
          }
          
          body {
            font-family: 'Kalpurush', 'SolaimanLipi', 'Vrinda', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 100%;
            margin: 0;
            padding: 0;
            background: white;
          }
          
          .header {
            text-align: center;
            border-bottom: 2px solid #e5e7eb;
            padding-bottom: 20px;
            margin-bottom: 30px;
          }
          
          .logo {
            font-size: 24px;
            font-weight: bold;
            color: #1f2937;
            margin-bottom: 5px;
          }
          
          .website-info {
            font-size: 12px;
            color: #6b7280;
            margin-bottom: 10px;
          }
          
          .article-meta {
            background: #f9fafb;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 30px;
          }
          
          .article-title {
            font-size: 24px;
            font-weight: bold;
            color: #1f2937;
            margin-bottom: 15px;
            line-height: 1.3;
          }
          
          .article-excerpt {
            font-size: 16px;
            color: #4b5563;
            margin-bottom: 15px;
            font-style: italic;
          }
          
          .article-info {
            display: flex;
            justify-content: space-between;
            font-size: 14px;
            color: #6b7280;
            border-top: 1px solid #e5e7eb;
            padding-top: 15px;
          }
          
          .article-content {
            font-size: 16px;
            line-height: 1.8;
            color: #374151;
            text-align: justify;
            hyphens: auto;
          }
          
          .article-content p {
            margin-bottom: 15px;
          }
          
          .footer {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #e5e7eb;
            text-align: center;
            font-size: 12px;
            color: #6b7280;
          }
          
          .category-badge {
            background: #3b82f6;
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            display: inline-block;
            margin-bottom: 10px;
          }
          
          .print-info {
            font-size: 10px;
            color: #9ca3af;
            margin-top: 20px;
          }
          
          @media print {
            body {
              -webkit-print-color-adjust: exact;
              color-adjust: exact;
            }
            
            .header {
              page-break-inside: avoid;
            }
            
            .article-title {
              page-break-after: avoid;
            }
            
            .article-content {
              orphans: 3;
              widows: 3;
            }
          }
        </style>
      </head>
      <body>
        <div class="header">
          <div class="logo"></div>
          <div class="website-info">   </div>
          <div class="website-info">www.prothomalo.com</div>
        </div>
        
        <div class="article-meta">
          <div class="category-badge">${(($e=i.category)==null?void 0:$e.name)||""}</div>
          <h1 class="article-title">${i.title}</h1>
          <div class="article-excerpt">${i.excerpt}</div>
          <div class="article-info">
            <span>: ${ea(i.published_at)}</span>
            <span> : ${i.view_count||0} </span>
          </div>
        </div>
        
        <div class="article-content">
          ${we.split(`
`).map(Je=>Je.trim()?`<p>${Je}</p>`:"").join("")}
        </div>
        
        <div class="footer">
          <p><strong></strong> -  ,  </p>
          <p> ${new Date().getFullYear()}    </p>
          <div class="print-info">
            <p>  : ${new Date().toLocaleString("bn-BD")}</p>
            <p>URL: ${window.location.href}</p>
          </div>
        </div>
      </body>
      </html>
    `),fe.document.close(),setTimeout(()=>{fe.print()},500)},ko=()=>{if(console.log("Audio button clicked"),console.log("Speech synthesis available:",!!De),console.log("Article available:",!!i),!De||!i){a({title:" ",description:"  --   ",variant:"destructive"});return}if(ue)console.log("Stopping speech"),De.cancel(),ye(!1),Bt(null),Ee(0);else{const fe=ur(i.content||""),we=`${i.title}. ${fe}`;console.log("Text to speak length:",we.length),console.log("Text preview:",we.substring(0,100)+"...");const $e=new SpeechSynthesisUtterance(we);$e.rate=dr,$e.pitch=Sr,$e.volume=Oe?0:K;const Je=De.getVoices();console.log("Available voices:",Je.map(ot=>`${ot.name} (${ot.lang})`));let dt=null;const ma=Je.filter(ot=>ot.lang.startsWith("bn")||ot.lang.includes("bengali")||ot.name.toLowerCase().includes("bengali")||ot.name.toLowerCase().includes("bangla")||ot.name.toLowerCase().includes("bangladesh"));if(console.log("Bengali voices found:",ma.map(ot=>`${ot.name} (${ot.lang})`)),ma.length>0)dt=ma[0],$e.voice=dt,$e.lang=dt.lang,console.log(" Using Bengali voice:",dt.name,dt.lang),a({title:" ",description:`    : ${dt.name}`});else{$e.lang="bn-BD",console.log(" No Bengali voice found, forcing Bengali language (bn-BD)");const ot=Je.filter(Gs=>Gs.lang.includes("hi")||Gs.lang.includes("en-IN"));ot.length>0&&(dt=ot.find(Gs=>Gs.lang.includes("hi"))||ot[0],$e.voice=dt,console.log("Using Indian voice as fallback:",dt.name,dt.lang)),a({title:"  ",description:"Chrome Settings > Languages > Speech  Bengali voice    Hindi  ",variant:"destructive"})}$e.onstart=()=>{console.log("Speech started with language:",$e.lang),ye(!0),Bt($e),a({title:"  ",description:`    (${$e.lang})`})},$e.onend=()=>{console.log("Speech ended"),ye(!1),Bt(null),Ee(100),a({title:" ",description:"   "})},$e.onerror=ot=>{console.error("Speech synthesis error:",ot.error),ye(!1),Bt(null),a({title:" ",description:`: ${ot.error}`,variant:"destructive"})},$e.onboundary=ot=>{if(ot.name==="word"){const Gs=ot.charIndex/we.length*100;Ee(Math.min(Gs,100))}},console.log("Starting speech synthesis"),De.speaking&&(De.cancel(),console.log("Cancelled previous speech")),setTimeout(()=>{try{De.speak($e),console.log("Speech synthesis started successfully"),setTimeout(()=>{!De.speaking&&!De.pending&&(console.log("Speech synthesis did not start - trying again"),De.speak($e))},200)}catch(ot){console.error("Error starting speech synthesis:",ot),ye(!1),Bt(null),a({title:" ",description:"     ",variant:"destructive"})}},100)}},Ec=fe=>{const we=fe[0];Ie(we),Vt&&De&&(Vt.volume=Oe?0:we)},Qf=()=>{We(!Oe),Vt&&De&&(Vt.volume=Oe?K:0)},Tu=fe=>{const we=fe[0];if(Ln(we),Vt&&ue&&De&&i){De.cancel();const $e=ur(i.content||""),Je=`${i.title}. ${$e}`,dt=new SpeechSynthesisUtterance(Je);dt.rate=we,dt.pitch=Sr,dt.volume=Oe?0:K,dt.lang="bn-BD",De.speak(dt),Bt(dt)}},Zf=fe=>{const we=fe[0];if(Cu(we),Vt&&ue&&De&&i&&i.content){De.cancel();const $e=ur(i.content||""),Je=`${i.title}. ${$e}`,dt=new SpeechSynthesisUtterance(Je);dt.rate=dr,dt.pitch=we,dt.volume=Oe?0:K,dt.lang="bn-BD",De.speak(dt),Bt(dt)}};if(m.useEffect(()=>{if(!r)return;let fe=!0;return(async()=>{if(fe)try{g(!0),p(null),at.current=Date.now(),window.scrollTo(0,0),R(0),Z(0),he(0);const{articlesAPI:$e}=await de(async()=>{const{articlesAPI:ot}=await import("./supabase-direct-api-DNhvXpWN.js");return{articlesAPI:ot}},[]),Je=await $e.getBySlug(r);if(!fe)return;if(!Je){p("    ");return}const dt={...Je,content:Je.content||"",category:Array.isArray(Je.categories)?Je.categories[0]:Je.categories,is_featured:Je.is_featured||!1,view_count:Je.view_count||0};$e.trackView(Je.id).then(ot=>{fe&&ot.success&&(console.log(`[View Tracking] Incrementing view count for article ${Je.id}`),o(Gs=>Gs&&{...Gs,view_count:(Gs.view_count||0)+1}))}).catch(ot=>{console.error("Error incrementing view count:",ot)});const ma=(Je.content||"").split(" ").length;$(Math.ceil(ma/200)),fe&&(o(dt),u(!0))}catch($e){fe&&(p("    "),console.error("Error fetching article:",$e))}finally{fe&&g(!1)}})(),()=>{fe=!1}},[r]),m.useEffect(()=>{if(i&&i.title){const we=`/article/${nN(i.title)}`,$e=window.location.pathname;$e.includes("%")&&$e!==we&&LB(we)}},[i==null?void 0:i.title]),x)return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted/10",children:[e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsxs("div",{className:"animate-pulse space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"h-10 w-32 bg-muted/50 rounded-full"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"h-10 w-10 bg-muted/50 rounded-full"}),e.jsx("div",{className:"h-10 w-10 bg-muted/50 rounded-full"})]})]}),e.jsx("div",{className:"h-1 w-full bg-muted/50 rounded-full"}),e.jsxs("div",{className:"grid lg:grid-cols-4 gap-8",children:[e.jsx("div",{className:"lg:col-span-3 space-y-6",children:e.jsx(C,{className:"border-0 shadow-xl bg-gradient-to-br from-card to-card/95",children:e.jsx(E,{className:"p-8",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"h-6 w-20 bg-primary/20 rounded-full"}),e.jsx("div",{className:"h-4 w-16 bg-muted/50 rounded"}),e.jsx("div",{className:"h-4 w-24 bg-muted/50 rounded"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"h-10 bg-muted/50 rounded w-full"}),e.jsx("div",{className:"h-10 bg-muted/50 rounded w-4/5"})]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-muted/50 rounded-full"}),e.jsx("div",{className:"h-4 w-20 bg-muted/50 rounded"})]}),e.jsx("div",{className:"h-4 w-32 bg-muted/50 rounded"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"h-12 w-36 bg-primary/20 rounded-full"}),e.jsx("div",{className:"h-12 w-28 bg-muted/50 rounded-full"}),e.jsx("div",{className:"h-12 w-24 bg-muted/50 rounded-full"})]}),e.jsx("div",{className:"h-80 bg-gradient-to-br from-muted/30 to-muted/50 rounded-xl"}),e.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(fe=>e.jsx("div",{className:"h-4 bg-muted/40 rounded",style:{width:`${Math.random()*40+60}%`}},fe))})]})})})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(C,{className:"border-0 shadow-lg",children:[e.jsx(L,{children:e.jsx("div",{className:"h-6 w-32 bg-muted/50 rounded"})}),e.jsxs(E,{className:"space-y-4",children:[e.jsx("div",{className:"h-32 bg-gradient-to-br from-muted/30 to-muted/50 rounded-lg"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-muted/40 rounded w-full"}),e.jsx("div",{className:"h-4 bg-muted/40 rounded w-3/4"})]})]})]}),e.jsxs(C,{className:"border-0 shadow-lg",children:[e.jsx(L,{children:e.jsx("div",{className:"h-6 w-24 bg-muted/50 rounded"})}),e.jsx(E,{className:"space-y-4",children:[1,2,3].map(fe=>e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"h-16 w-16 bg-muted/50 rounded-lg"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 bg-muted/40 rounded"}),e.jsx("div",{className:"h-3 bg-muted/30 rounded w-2/3"})]})]},fe))})]})]})]})]})})}),e.jsx("div",{className:"fixed bottom-8 right-8 bg-gradient-to-r from-primary to-primary/80 text-primary-foreground px-6 py-3 rounded-full shadow-2xl border border-primary/20 backdrop-blur-sm",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-primary-foreground/30 border-t-primary-foreground rounded-full animate-spin"}),e.jsx("div",{className:"absolute inset-0 w-5 h-5 border border-primary-foreground/20 rounded-full animate-pulse"})]}),e.jsx("span",{className:"text-sm font-medium",children:"     ..."})]})})]});if(v||!i)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-muted/5 to-destructive/5 flex items-center justify-center p-4",children:e.jsx("div",{className:"container mx-auto",children:e.jsx("div",{className:"max-w-lg mx-auto",children:e.jsx(C,{className:"border-0 shadow-2xl bg-gradient-to-br from-card to-card/95 backdrop-blur-sm",children:e.jsxs(E,{className:"p-10 text-center",children:[e.jsxs("div",{className:"relative mx-auto mb-6",children:[e.jsx("div",{className:"w-20 h-20 mx-auto bg-gradient-to-br from-destructive/10 to-destructive/20 rounded-full flex items-center justify-center",children:e.jsx(Ji,{className:"w-10 h-10 text-destructive"})}),e.jsx("div",{className:"absolute inset-0 w-20 h-20 mx-auto border-2 border-destructive/20 rounded-full animate-pulse"})]}),e.jsx("h2",{className:"text-2xl font-bold mb-3 bg-gradient-to-r from-destructive to-destructive/80 bg-clip-text text-transparent",children:v||"   "}),e.jsx("p",{className:"text-muted-foreground mb-8 leading-relaxed",children:",            "}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(D,{asChild:!0,size:"lg",className:"bg-gradient-to-r from-primary to-primary/90 shadow-lg hover:shadow-xl transition-all duration-300",children:e.jsxs(Y,{href:"/",children:[e.jsx(Rw,{className:"w-5 h-5 mr-2"}),"  "]})}),e.jsxs(D,{variant:"outline",size:"lg",onClick:()=>window.location.reload(),className:"border-primary/20 hover:bg-primary/10 transition-all duration-300",children:[e.jsx(Dw,{className:"w-4 h-4 mr-2"}),"  "]})]}),e.jsx("div",{className:"mt-8 pt-6 border-t border-border/50",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"       "})})]})})})})});const Tc=Y7({title:i.title,excerpt:i.excerpt,image_url:i.image_url,slug:i.slug,published_at:i.published_at,category:i.category,author:i.author||" "}),{metaElements:aA,linkElements:iA}=Su(Tc);return e.jsxs("div",{className:`min-h-screen transition-all duration-500 ${I?"dark":""} ${se?"p-0":""}`,children:[e.jsxs(lr,{children:[e.jsx("title",{children:Tc.title}),aA.map((fe,we)=>fe.property?e.jsx("meta",{property:fe.property,content:fe.content},we):e.jsx("meta",{name:fe.name,content:fe.content},we)),iA.map((fe,we)=>e.jsx("link",{rel:fe.rel,href:fe.href},we))]}),e.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 h-1 bg-background/80 backdrop-blur-sm",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-primary via-primary/80 to-primary transition-all duration-300 shadow-lg",style:{width:`${S}%`}})}),e.jsx("div",{className:"fixed right-6 top-1/2 -translate-y-1/2 z-40 flex flex-col gap-2",children:e.jsx(C,{className:"p-2 shadow-xl border-0 bg-card/95 backdrop-blur-sm",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs(Yn,{children:[e.jsx(sd,{asChild:!0,children:e.jsx(D,{variant:"ghost",size:"sm",className:"w-10 h-10 p-0",children:e.jsx(As,{className:"w-4 h-4"})})}),e.jsxs(yn,{className:"max-w-md",children:[e.jsx(jn,{children:e.jsx(wn,{children:" "})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:" "}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(D,{variant:"outline",size:"sm",onClick:()=>H(Math.max(12,B-2)),children:e.jsx(FD,{className:"w-4 h-4"})}),e.jsxs("span",{className:"text-sm font-medium min-w-[3rem] text-center",children:[B,"px"]}),e.jsx(D,{variant:"outline",size:"sm",onClick:()=>H(Math.min(24,B+2)),children:e.jsx(MD,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-sm font-medium",children:" "}),e.jsx(lt,{checked:I,onCheckedChange:V})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-sm font-medium",children:" "}),e.jsx(lt,{checked:z,onCheckedChange:O})]}),z&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:" "}),e.jsx(ad,{value:[U],onValueChange:fe=>ee(fe[0]),max:400,min:100,step:50,className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[e.jsx("span",{children:""}),e.jsx("span",{children:""})]})]})]})]})]}),e.jsx(D,{variant:"ghost",size:"sm",onClick:ko,className:"w-10 h-10 p-0",children:ue?e.jsx($l,{className:"w-4 h-4"}):e.jsx(to,{className:"w-4 h-4"})}),e.jsx(D,{variant:"ghost",size:"sm",onClick:()=>W(!se),className:"w-10 h-10 p-0",children:e.jsx(SD,{className:"w-4 h-4"})}),e.jsx(D,{variant:"ghost",size:"sm",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"w-10 h-10 p-0",children:e.jsx(fS,{className:"w-4 h-4"})})]})})}),e.jsx("div",{className:`${se?"":"container mx-auto px-4 py-8"}`,children:e.jsxs("div",{className:`${se?"max-w-4xl mx-auto px-8 py-4":"max-w-6xl mx-auto"}`,children:[!se&&e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx(D,{asChild:!0,variant:"ghost",className:"text-muted-foreground hover:text-foreground transition-all duration-300 group",children:e.jsxs(Y,{href:"/",children:[e.jsx(Rw,{className:"w-5 h-5 mr-2 group-hover:-translate-x-1 transition-transform duration-300"})," "]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(X,{variant:"outline",className:"gap-1",children:[e.jsx(ht,{className:"w-3 h-3"}),Mn,"  "]}),e.jsxs(X,{variant:"outline",className:"gap-1",children:[e.jsx(Et,{className:"w-3 h-3"}),i.view_count,"   "]})]})]}),e.jsxs("div",{className:"grid lg:grid-cols-4 gap-8",children:[e.jsxs("div",{className:`${se?"col-span-4":"lg:col-span-3"} space-y-8`,children:[e.jsx(C,{className:"border-0 shadow-2xl bg-gradient-to-br from-card via-card to-card/95 backdrop-blur-sm overflow-hidden",children:e.jsxs(E,{className:"p-0",children:[e.jsxs("div",{className:"p-8 pb-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.category&&e.jsx(Y,{href:`/category/${i.category.slug}`,children:e.jsxs(X,{className:"px-4 py-2 text-sm font-medium bg-gradient-to-r from-primary to-primary/90 hover:from-primary/90 hover:to-primary transition-all duration-300 shadow-lg hover:shadow-xl",children:[e.jsx(so,{className:"w-4 h-4 mr-2"}),i.category.name]})}),i.is_featured&&e.jsxs(X,{variant:"secondary",className:"px-3 py-1 bg-gradient-to-r from-yellow-500/20 to-orange-500/20 text-yellow-700 dark:text-yellow-300 border border-yellow-500/30",children:[e.jsx(Ct,{className:"w-3 h-3 mr-1"}),""]}),e.jsx(MB,{content:i.content||""})]}),e.jsx("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold mb-6 leading-tight bg-gradient-to-r from-foreground to-foreground/80 bg-clip-text text-transparent",style:{fontFamily:"SolaimanLipi, Kalpurush, ApponaLohit, system-ui"},children:i.title}),i.excerpt&&e.jsx("p",{className:"text-lg md:text-xl text-muted-foreground mb-6 leading-relaxed",children:i.excerpt}),e.jsx("div",{className:"flex items-center justify-between flex-wrap gap-4 mb-6",children:e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(bo,{className:"w-10 h-10 border-2 border-primary/20",children:[e.jsx(No,{src:"/default-author.jpg"}),e.jsx(_o,{className:"bg-gradient-to-br from-primary/10 to-primary/20 text-primary font-semibold",children:e.jsx(Zr,{className:"w-5 h-5"})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:" "}),e.jsx("p",{className:"text-xs text-muted-foreground",children:i.published_at?ls(i.published_at):" "})]})]}),e.jsx(An,{orientation:"vertical",className:"h-10"}),e.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[e.jsx(ht,{className:"w-4 h-4"}),e.jsx("span",{children:i.published_at?ls(i.published_at):" "})]})]})}),e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[e.jsx(OP,{articleId:i.id,variant:"button",className:"transition-all duration-300 hover:scale-105"}),e.jsx(IP,{articleId:i.id,className:"transition-all duration-300 hover:scale-105"}),e.jsx(DP,{articleId:i.id,title:i.title,url:h,className:"transition-all duration-300 hover:scale-105"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(D,{variant:"outline",onClick:ko,className:"gap-2 transition-all duration-300 hover:scale-105",disabled:!De,children:[ue?e.jsx($l,{className:"w-4 h-4"}):e.jsx(to,{className:"w-4 h-4"}),ue?"":""]}),e.jsxs(pi,{children:[e.jsx(gi,{asChild:!0,children:e.jsx(D,{variant:"ghost",size:"sm",children:e.jsx(As,{className:"w-4 h-4"})})}),e.jsxs(ua,{align:"end",className:"w-64",children:[e.jsx(yc,{children:" "}),e.jsx(Rn,{}),e.jsxs("div",{className:"p-3 space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:""}),e.jsx(D,{variant:"ghost",size:"sm",onClick:Qf,className:"h-6 w-6 p-0",children:Oe?e.jsx(LD,{className:"w-3 h-3"}):e.jsx(Vl,{className:"w-3 h-3"})})]}),e.jsx(ad,{value:[K],onValueChange:Ec,max:1,min:0,step:.1,className:"w-full"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:""}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[dr,"x"]})]}),e.jsx(ad,{value:[dr],onValueChange:Tu,max:2,min:.5,step:.1,className:"w-full"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:""}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[Sr,"x"]})]}),e.jsx(ad,{value:[Sr],onValueChange:Zf,max:2,min:.5,step:.1,className:"w-full"})]})]})]})]})]}),e.jsxs(D,{onClick:Eu,variant:"outline",className:"gap-2 transition-all duration-300 hover:scale-105",children:[e.jsx(si,{className:"w-4 h-4"}),"PDF "]})]})]}),e.jsxs("div",{className:"relative group",children:[e.jsxs("div",{className:"overflow-hidden",children:[e.jsx("img",{src:i.imageUrl||i.image_url||"https://images.unsplash.com/photo-1504711434969-e33886168f5c?w=1200&h=600&fit=crop&auto=format&q=80",alt:i.title,className:"w-full h-[400px] md:h-[500px] object-cover transition-transform duration-700 group-hover:scale-105",onError:fe=>{const we=fe.target;we.src="https://images.unsplash.com/photo-1504711434969-e33886168f5c?w=1200&h=600&fit=crop&auto=format&q=80"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/80 to-transparent",children:e.jsx("p",{className:"text-white text-sm opacity-90",children:i.title})})]}),e.jsxs("div",{ref:Re,className:"p-8 pt-6",style:{fontSize:`${B}px`},children:[e.jsx("div",{className:"prose prose-lg max-w-none prose-headings:font-bold prose-headings:text-foreground prose-p:text-foreground prose-p:leading-relaxed prose-strong:text-foreground prose-a:text-primary hover:prose-a:text-primary/80 prose-blockquote:border-l-primary prose-blockquote:bg-muted/30 prose-blockquote:py-2 prose-blockquote:px-4 prose-blockquote:rounded-r-lg",dangerouslySetInnerHTML:{__html:i.content||""},style:{fontFamily:"SolaimanLipi, Kalpurush, ApponaLohit, system-ui",lineHeight:"1.8"}}),e.jsx("div",{className:"mt-8 p-6 bg-gradient-to-br from-primary/5 to-primary/10 border border-primary/20 rounded-xl",children:e.jsx($B,{content:i.content||""})}),e.jsx("div",{className:"mt-6",children:e.jsx(MP,{articleId:i.id})})]}),e.jsx("div",{className:"p-8 pt-6 border-t border-border/50 bg-muted/20",children:e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(X,{variant:"outline",className:"gap-1",children:[e.jsx(Os,{className:"w-3 h-3"}),": ",i.published_at?ea(i.published_at):" "]}),i.updated_at&&i.updated_at!==i.published_at&&e.jsxs(X,{variant:"outline",className:"gap-1",children:[e.jsx(Dw,{className:"w-3 h-3"}),": ",i.updated_at?ea(i.updated_at):" "]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(D,{variant:"ghost",size:"sm",onClick:()=>Ds("helpful"),children:[e.jsx(NS,{className:"w-4 h-4 mr-1"}),""]}),e.jsxs(D,{variant:"ghost",size:"sm",onClick:()=>pt(),children:[e.jsx(gS,{className:"w-4 h-4 mr-1"}),""]})]})]})})]})}),e.jsx(LP,{articleId:i.id})]}),!se&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(C,{className:"border-0 shadow-lg bg-gradient-to-br from-card to-card/95",children:[e.jsx(L,{className:"pb-4",children:e.jsxs(M,{className:"text-lg flex items-center gap-2",children:[e.jsx(zl,{className:"w-5 h-5 text-primary"})," "]})}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:" "}),e.jsxs("span",{className:"font-medium",children:[Math.round(S),"%"]})]}),e.jsx(gr,{value:S,className:"h-2"})]}),ue&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Vl,{className:"w-3 h-3"})," "]}),e.jsxs("span",{className:"font-medium",children:[Math.round(me),"%"]})]}),e.jsx(gr,{value:me,className:"h-2 bg-blue-100"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-primary",children:Math.floor(je/60)}),e.jsx("div",{className:"text-xs text-muted-foreground",children:" "})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-primary",children:[Math.round(q),"%"]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:" "})]})]})]})]}),l.length>0&&e.jsxs(C,{className:"border-0 shadow-lg bg-gradient-to-br from-card to-card/95",children:[e.jsx(L,{className:"pb-4",children:e.jsxs(M,{className:"text-lg flex items-center gap-2",children:[e.jsx(Ct,{className:"w-5 h-5 text-primary"})," "]})}),e.jsx(E,{className:"space-y-4",children:l.map(fe=>e.jsx(Y,{href:`/article/${fe.slug}`,children:e.jsx("div",{className:"group cursor-pointer transition-all duration-300 hover:bg-muted/50 rounded-lg p-3 -m-3",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("img",{src:fe.imageUrl||fe.image_url||"https://images.unsplash.com/photo-1504711434969-e33886168f5c?w=300&h=200&fit=crop&auto=format&q=80",alt:fe.title,className:"w-16 h-16 object-cover rounded-lg group-hover:scale-105 transition-transform duration-300",onError:we=>{const $e=we.target;$e.src="https://images.unsplash.com/photo-1504711434969-e33886168f5c?w=300&h=200&fit=crop&auto=format&q=80"}}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-medium text-sm line-clamp-2 group-hover:text-primary transition-colors duration-300",children:fe.title}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:fe.publishedAt||fe.published_at?ls(fe.publishedAt||fe.published_at):" "})]})]})})},fe.id))})]}),e.jsxs(C,{className:"border-0 shadow-lg bg-gradient-to-br from-card to-card/95",children:[e.jsx(L,{className:"pb-4",children:e.jsxs(M,{className:"text-lg flex items-center gap-2",children:[e.jsx(hD,{className:"w-5 h-5 text-primary"})," "]})}),e.jsxs(E,{className:"space-y-3",children:[e.jsxs(D,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:Eu,children:[e.jsx(si,{className:"w-4 h-4 mr-2"}),"PDF "]}),e.jsxs(D,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>Ds("content"),children:[e.jsx(ND,{className:"w-4 h-4 mr-2"})," "]}),e.jsxs(D,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>So(),children:[e.jsx(Ar,{className:"w-4 h-4 mr-2"})," "]})]})]}),e.jsx(FP,{}),e.jsx($P,{})]})]})]})}),e.jsxs("audio",{ref:le,onTimeUpdate:()=>{if(le.current){const fe=le.current.currentTime/le.current.duration*100;Ee(fe)}},onEnded:()=>ye(!1),children:[e.jsx("source",{src:"/audio/article-tts.mp3",type:"audio/mpeg"}),"     "]})]})};function aq(){const{slug:t}=hy(),[s,r]=m.useState(null),[n,a]=m.useState(!0),[i,o]=m.useState(null);return m.useEffect(()=>{t&&(async()=>{try{a(!0),o(null);const{getVideoBySlug:c}=await de(async()=>{const{getVideoBySlug:u}=await Promise.resolve().then(()=>ke);return{getVideoBySlug:u}},void 0),d=await c(t||"");if(!d){o("  ");return}r(d)}catch(c){o("    "),console.error("Error fetching video:",c)}finally{a(!1)}})()},[t]),n?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"bg-gray-200 rounded-lg h-64 md:h-96 mb-6"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})})}):i?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsx(C,{className:"text-center",children:e.jsxs(E,{className:"pt-6",children:[e.jsx(Yt,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"  "}),e.jsx("p",{className:"text-gray-600 mb-4",children:i}),e.jsx(Y,{href:"/",children:e.jsx(D,{children:"   "})})]})})})}):s?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx(C,{children:e.jsxs(E,{className:"p-0",children:[e.jsx("div",{className:"relative aspect-video bg-black rounded-t-lg overflow-hidden",children:e.jsxs("video",{className:"w-full h-full object-cover",controls:!0,poster:s.thumbnail_url,preload:"metadata",children:[e.jsx("source",{src:s.video_url,type:"video/mp4"}),"     "]})}),e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-3xl font-bold mb-4",children:s.title}),e.jsxs("div",{className:"flex flex-wrap gap-4 mb-6 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Os,{className:"h-4 w-4"}),e.jsx(vt,{date:s.published_at})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Et,{className:"h-4 w-4"}),e.jsxs("span",{children:[(s.view_count||0).toLocaleString(),"   "]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ht,{className:"h-4 w-4"}),e.jsx("span",{children:s.duration})]})]}),e.jsx("div",{className:"prose prose-lg max-w-none",children:e.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:s.description})})]})]})}),e.jsx("div",{className:"mt-8 text-center",children:e.jsx(Y,{href:"/#videos",children:e.jsx(D,{variant:"outline",children:"  "})})})]})}):null}function iq(){const{slug:t}=hy(),[s,r]=m.useState(null),[n,a]=m.useState(!0),[i,o]=m.useState(null),[l,c]=m.useState(!1),[d,u]=m.useState(null);m.useEffect(()=>{t&&(async()=>{try{a(!0),o(null);const x=await fetch(`/api/audio-articles/${t}`);if(!x.ok){if(x.status===404){o("   ");return}throw new Error("Failed to fetch audio article")}const g=await x.json();r(g)}catch(x){o("     "),console.error("Error fetching audio article:",x)}finally{a(!1)}})()},[t]);const h=()=>{d&&(l?d.pause():d.play(),c(!l))};return n?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"bg-gray-200 rounded-lg h-64 mb-6"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})})}):i?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsx(C,{className:"text-center",children:e.jsxs(E,{className:"pt-6",children:[e.jsx(Yt,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"   "}),e.jsx("p",{className:"text-gray-600 mb-4",children:i}),e.jsx(Y,{href:"/",children:e.jsx(D,{children:"   "})})]})})})}):s?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx(C,{children:e.jsxs(E,{className:"p-0",children:[e.jsxs("div",{className:"relative h-64 md:h-96 bg-gradient-to-br from-blue-500 to-purple-600 overflow-hidden",children:[e.jsx("img",{src:s.image_url,alt:s.title,className:"w-full h-full object-cover",onError:f=>{f.currentTarget.style.display="none"}}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center",children:e.jsx("button",{onClick:h,className:"bg-white bg-opacity-20 backdrop-blur-sm rounded-full p-6 hover:bg-opacity-30 transition-all duration-300",children:l?e.jsx($l,{className:"h-12 w-12 text-white"}):e.jsx(to,{className:"h-12 w-12 text-white ml-1"})})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-3xl font-bold mb-4",children:s.title}),e.jsxs("div",{className:"flex flex-wrap gap-4 mb-6 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Os,{className:"h-4 w-4"}),e.jsx(vt,{date:s.published_at})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ht,{className:"h-4 w-4"}),e.jsx("span",{children:s.duration})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Vl,{className:"h-4 w-4"}),e.jsx("span",{children:" "})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:e.jsxs("audio",{ref:u,controls:!0,className:"w-full",preload:"metadata",onPlay:()=>c(!0),onPause:()=>c(!1),children:[e.jsx("source",{src:s.audio_url,type:"audio/mpeg"}),"     "]})}),e.jsx("div",{className:"prose prose-lg max-w-none",children:e.jsx("p",{className:"text-gray-700 leading-relaxed",children:s.excerpt})})]})]})}),e.jsx("div",{className:"mt-8 text-center",children:e.jsx(Y,{href:"/#audio",children:e.jsx(D,{variant:"outline",children:"   "})})})]})}):null}function oq(){const[t,s]=m.useState([]),[r,n]=m.useState(!0),[a,i]=m.useState(null);m.useEffect(()=>{(async()=>{try{n(!0),i(null);const{getVideoContent:c}=await de(async()=>{const{getVideoContent:u}=await Promise.resolve().then(()=>ke);return{getVideoContent:u}},void 0),d=await c();s(d)}catch(c){i("    "),console.error("Error fetching videos:",c)}finally{n(!1)}})()},[]);const o=l=>l>=1e6?`${(l/1e6).toFixed(1)}M`:l>=1e3?`${(l/1e3).toFixed(1)}K`:l.toString();return r?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-48 mb-8"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((l,c)=>e.jsxs("div",{className:"bg-white rounded shadow-sm overflow-hidden",children:[e.jsx("div",{className:"h-48 bg-gray-200"}),e.jsxs("div",{className:"p-4 space-y-2",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]},c))})]})}):a?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsx(C,{className:"text-center",children:e.jsxs(E,{className:"pt-6",children:[e.jsx(Yt,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"   "}),e.jsx("p",{className:"text-gray-600 mb-4",children:a}),e.jsx(Y,{href:"/",children:e.jsx(D,{children:"   "})})]})})})}):e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:" "}),e.jsx("p",{className:"text-gray-600",children:"    "})]}),t.length===0?e.jsx(C,{className:"text-center",children:e.jsxs(E,{className:"pt-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"   "}),e.jsx("p",{className:"text-gray-600",children:"     "})]})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(l=>e.jsxs(C,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[e.jsx(Y,{href:`/video/${l.slug}`,children:e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:l.thumbnail_url,alt:l.title,className:"w-full h-48 object-cover"}),e.jsx("div",{className:"absolute bottom-2 right-2 bg-black bg-opacity-75 text-white text-xs px-2 py-1 rounded",children:l.duration})]})}),e.jsxs(E,{className:"p-4",children:[e.jsx("h3",{className:"font-bold text-lg mb-2 line-clamp-2",children:e.jsx(Y,{href:`/video/${l.slug}`,className:"hover:text-blue-600 transition-colors",children:l.title})}),e.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:l.description}),e.jsxs("div",{className:"flex flex-wrap gap-3 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Os,{className:"h-4 w-4"}),e.jsx(vt,{date:l.published_at})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Et,{className:"h-4 w-4"}),e.jsxs("span",{children:[o(l.view_count||0),"  "]})]})]})]})]},l.id))})]})})}function lq(){const[t,s]=m.useState([]),[r,n]=m.useState(!0),[a,i]=m.useState(null);return m.useEffect(()=>{(async()=>{try{n(!0),i(null);const{getAudioArticles:l}=await de(async()=>{const{getAudioArticles:d}=await Promise.resolve().then(()=>ke);return{getAudioArticles:d}},void 0),c=await l();s(c)}catch(l){i("     "),console.error("Error fetching audio articles:",l)}finally{n(!1)}})()},[]),r?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-48 mb-8"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((o,l)=>e.jsxs("div",{className:"bg-white rounded shadow-sm overflow-hidden",children:[e.jsx("div",{className:"h-48 bg-gray-200"}),e.jsxs("div",{className:"p-4 space-y-2",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]},l))})]})}):a?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsx(C,{className:"text-center",children:e.jsxs(E,{className:"pt-6",children:[e.jsx(Yt,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"    "}),e.jsx("p",{className:"text-gray-600 mb-4",children:a}),e.jsx(Y,{href:"/",children:e.jsx(D,{children:"   "})})]})})})}):e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"  "}),e.jsx("p",{className:"text-gray-600",children:"    "})]}),t.length===0?e.jsx(C,{className:"text-center",children:e.jsxs(E,{className:"pt-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"    "}),e.jsx("p",{className:"text-gray-600",children:"      "})]})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(o=>e.jsxs(C,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[e.jsx(Y,{href:`/audio/${o.slug}`,children:e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:o.image_url,alt:o.title,className:"w-full h-48 object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center",children:e.jsx(Vl,{className:"h-12 w-12 text-white"})}),e.jsx("div",{className:"absolute bottom-2 right-2 bg-black bg-opacity-75 text-white text-xs px-2 py-1 rounded",children:o.duration})]})}),e.jsxs(E,{className:"p-4",children:[e.jsx("h3",{className:"font-bold text-lg mb-2 line-clamp-2",children:e.jsx(Y,{href:`/audio/${o.slug}`,className:"hover:text-blue-600 transition-colors",children:o.title})}),e.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-3",children:o.excerpt}),e.jsxs("div",{className:"flex flex-wrap gap-3 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Os,{className:"h-4 w-4"}),e.jsx(vt,{date:o.published_at})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ht,{className:"h-4 w-4"}),e.jsx("span",{children:o.duration})]})]})]})]},o.id))})]})})}const cq=()=>{const[t,s]=m.useState(null),[r,n]=m.useState([]),[a,i]=m.useState(1),[o,l]=m.useState(!0),[c,d]=m.useState(!0),[u,h]=m.useState(null),f=12;m.useEffect(()=>{(async()=>{try{d(!0);const{getLatestEPaper:v,getEPapers:p}=await de(async()=>{const{getLatestEPaper:w,getEPapers:b}=await Promise.resolve().then(()=>ke);return{getLatestEPaper:w,getEPapers:b}},void 0),y=await v();s(y);const j=await p();n(j),l(j.length===f),h(null)}catch(v){h("-    "),console.error("Error fetching e-papers:",v)}finally{d(!1)}})()},[]);const x=async()=>{try{d(!0);const g=a+1,v=a*f,{getEPapers:p}=await de(async()=>{const{getEPapers:j}=await Promise.resolve().then(()=>ke);return{getEPapers:j}},void 0),y=await p(f,v);y.length>0?(n([...r,...y]),i(g),l(y.length===f)):l(!1)}catch(g){console.error("Error loading more e-papers:",g)}finally{d(!1)}};return c&&!t?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-48 mb-8"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6",children:[...Array(8)].map((g,v)=>e.jsxs("div",{className:"bg-white rounded shadow-sm p-4",children:[e.jsx("div",{className:"h-64 bg-gray-200 rounded mb-2"}),e.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-1"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]},v))})]})}):u||!t&&!c?e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-8 font-hind",children:"- "}),e.jsx("div",{className:"bg-white rounded shadow-sm p-8 text-center",children:e.jsx("h2",{className:"text-xl font-bold mb-4 font-hind",children:u||" -  "})})]}):e.jsxs(e.Fragment,{children:[e.jsxs(lr,{children:[e.jsx("title",{children:"-  - "}),e.jsx("meta",{name:"description",content:" -      -  "})]}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-8 font-hind",children:"- "}),t&&e.jsxs("div",{className:"mb-10",children:[e.jsx("h2",{className:"text-xl font-bold mb-4 font-hind border-b border-mid-gray pb-2",children:" "}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center bg-white rounded shadow-sm p-6",children:[e.jsx("div",{className:"md:w-1/3 mb-6 md:mb-0 md:pr-6",children:e.jsx("a",{href:t.pdfUrl,target:"_blank",rel:"noopener noreferrer",className:"block hover:opacity-80 transition",children:e.jsx("img",{src:t.imageUrl,alt:t.title,className:"mx-auto shadow-md border border-mid-gray h-96 object-cover"})})}),e.jsxs("div",{className:"md:w-2/3",children:[e.jsx("h3",{className:"text-2xl font-bold mb-2 font-hind",children:t.title}),e.jsxs("p",{className:"text-lg mb-4",children:[": ",ea(t.publishDate)]}),e.jsxs("a",{href:t.pdfUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-accent hover:bg-opacity-90 text-white px-6 py-3 rounded font-medium transition",children:[e.jsx("i",{className:"far fa-file-pdf mr-2"}),"  "]})]})]})]}),e.jsx("h2",{className:"text-xl font-bold mb-4 font-hind border-b border-mid-gray pb-2",children:" "}),r.length===0?e.jsx("div",{className:"bg-white rounded shadow-sm p-8 text-center",children:e.jsx("p",{className:"text-lg",children:"     "})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6",children:r.map(g=>e.jsx("div",{className:"bg-white rounded shadow-sm overflow-hidden hover:shadow-md transition",children:e.jsxs("a",{href:g.pdfUrl,target:"_blank",rel:"noopener noreferrer",className:"block",children:[e.jsx("img",{src:g.imageUrl,alt:g.title,className:"w-full h-64 object-cover border-b border-mid-gray"}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-bold mb-1 font-hind",children:g.title}),e.jsx("p",{className:"text-sm text-gray-600",children:ea(g.publishDate)})]})]})},g.id))}),o&&e.jsx("div",{className:"mt-8 text-center",children:e.jsx("button",{onClick:x,disabled:c,className:"bg-accent hover:bg-opacity-90 text-white px-6 py-2 rounded font-medium transition disabled:opacity-50",children:c?" ...":" "})})]})]})]})},dq=()=>{const[t]=yt(),r=new URLSearchParams(window.location.search).get("q")||"";console.log("Search page - location:",t),console.log("Search page - window.location.search:",window.location.search),console.log("Search page - query:",r);const[n,a]=m.useState([]),[i,o]=m.useState(1),[l,c]=m.useState(!0),[d,u]=m.useState(!0),[h,f]=m.useState(null),x=10;m.useEffect(()=>{(async()=>{if(!r.trim()){a([]),u(!1);return}try{u(!0);const{searchArticles:w}=await de(async()=>{const{searchArticles:N}=await Promise.resolve().then(()=>ke);return{searchArticles:N}},void 0),b=await w(r,void 0,x);a(b),c(b.length===x),o(1),f(null)}catch(w){f("   "),console.error("Error searching articles:",w)}finally{u(!1)}})(),window.scrollTo(0,0)},[r]);const g=async()=>{try{u(!0);const j=i+1,w=i*x,{searchArticles:b}=await de(async()=>{const{searchArticles:_}=await Promise.resolve().then(()=>ke);return{searchArticles:_}},void 0),N=await b(r,void 0,x);N.length>0?(a([...n,...N]),o(j),c(N.length===x)):c(!1)}catch(j){console.error("Error loading more search results:",j)}finally{u(!1)}},v=eB(r),{metaElements:p,linkElements:y}=Su(v);return e.jsxs(e.Fragment,{children:[e.jsxs(lr,{children:[e.jsx("title",{children:v.title}),p.map((j,w)=>j.property?e.jsx("meta",{property:j.property,content:j.content},w):e.jsx("meta",{name:j.name,content:j.content},w)),y.map((j,w)=>e.jsx("link",{rel:j.rel,href:j.href},w))]}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6 font-hind",children:r?`"${r}"   (${n.length})`:" "}),!r&&e.jsxs("div",{className:"bg-white rounded shadow-sm p-8 text-center",children:[e.jsx("p",{className:"text-lg mb-4",children:"       "}),e.jsx(Y,{href:"/",className:"text-accent hover:underline",children:"  "})]}),r&&d&&n.length===0&&e.jsx("div",{className:"animate-pulse",children:[...Array(5)].map((j,w)=>e.jsxs("div",{className:"bg-white rounded shadow-sm p-4 mb-4 flex",children:[e.jsx("div",{className:"flex-shrink-0 w-32 h-24 bg-gray-200 rounded mr-4"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/4"})]})]},w))}),r&&!d&&n.length===0&&e.jsxs("div",{className:"bg-white rounded shadow-sm p-8 text-center",children:[e.jsxs("p",{className:"text-lg mb-4",children:['"',r,'"      ']}),e.jsx(Y,{href:"/",className:"text-accent hover:underline",children:"  "})]}),r&&n.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-4",children:n.map(j=>{var w,b,N,_;return e.jsxs("div",{className:"bg-white rounded shadow-sm p-4 hover:shadow-md transition flex flex-col md:flex-row",children:[e.jsx("div",{className:"flex-shrink-0 w-full md:w-32 h-48 md:h-24 mb-4 md:mb-0 md:mr-4",children:e.jsx(Y,{href:`/article/${j.slug}`,children:e.jsx("img",{src:j.imageUrl,alt:j.title,className:"w-full h-full object-cover rounded hover:opacity-90 transition cursor-pointer"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center mb-1",children:[e.jsx(Y,{href:`/category/${((w=j.category)==null?void 0:w.slug)||((b=j.categories)==null?void 0:b.slug)||"general"}`,children:e.jsx("span",{className:"text-xs bg-light px-2 py-1 rounded mr-2 hover:bg-accent hover:text-white transition cursor-pointer",children:((N=j.category)==null?void 0:N.name)||((_=j.categories)==null?void 0:_.name)||""})}),e.jsx("span",{className:"text-xs text-gray-500",children:ls(j.publishedAt)})]}),e.jsx(Y,{href:`/article/${j.slug}`,children:e.jsx("h3",{className:"font-bold text-lg mb-2 font-hind hover:text-accent transition cursor-pointer",children:j.title})}),e.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:j.excerpt}),e.jsx(Y,{href:`/article/${j.slug}`,children:e.jsx("span",{className:"text-accent text-sm hover:underline cursor-pointer",children:" "})})]})]},j.id)})}),l&&e.jsx("div",{className:"mt-8 text-center",children:e.jsx("button",{onClick:g,disabled:d,className:"bg-accent hover:bg-opacity-90 text-white px-6 py-2 rounded font-medium transition disabled:opacity-50",children:d?" ...":"  "})})]})]})]})},uq=()=>{const[t,s]=m.useState(""),[r,n]=m.useState(""),[a,i]=m.useState([]),[o,l]=m.useState([]),[c,d]=m.useState([]),[u,h]=m.useState(!1),[f,x]=m.useState(null),[g,v]=m.useState(!1),{user:p}=rt();m.useEffect(()=>{y(),p&&j()},[p]);const y=async()=>{try{const{getCategories:T}=await de(async()=>{const{getCategories:R}=await Promise.resolve().then(()=>ke);return{getCategories:R}},void 0),S=await T();l(S)}catch(T){console.error("Error fetching categories:",T)}},j=async()=>{try{if(!(p!=null&&p.id))return;const{getUserSearchHistory:T}=await de(async()=>{const{getUserSearchHistory:R}=await Promise.resolve().then(()=>ke);return{getUserSearchHistory:R}},void 0),S=await T(p.id,5);d(S)}catch(T){console.error("Error fetching search history:",T)}},w=async T=>{if(T.preventDefault(),!!t.trim()){h(!0),x(null),v(!0);try{const{searchArticles:S}=await de(async()=>{const{searchArticles:B}=await Promise.resolve().then(()=>ke);return{searchArticles:B}},void 0),R=await S(t,r,20);i(R),p&&(await b(t,R.length),j())}catch(S){x("      "),console.error("Search error:",S)}finally{h(!1)}}},b=async(T,S)=>{try{if(!(p!=null&&p.id))return;const{saveUserSearchHistory:R}=await de(async()=>{const{saveUserSearchHistory:B}=await Promise.resolve().then(()=>ke);return{saveUserSearchHistory:B}},void 0);await R(p.id,T,S)}catch(R){console.error("Error saving search history:",R)}},N=T=>{s(T.search_query),n(""),setTimeout(()=>{const S=document.getElementById("search-form");S&&S.requestSubmit()},100)},_=T=>{p&&P(T.id,"view"),window.open(`/article/${T.id}`,"_blank")},P=async(T,S)=>{try{if(!(p!=null&&p.id))return;const{recordUserInteraction:R}=await de(async()=>{const{recordUserInteraction:B}=await Promise.resolve().then(()=>ke);return{recordUserInteraction:B}},void 0);await R(p.id,T,S,{source:"advanced_search",search_query:t,timestamp:new Date().toISOString()})}catch(R){console.error("Error tracking interaction:",R)}},A=T=>new Date(T).toLocaleDateString("bn-BD",{year:"numeric",month:"long",day:"numeric"}),k=T=>T>=.8?"bg-green-100 text-green-800":T>=.6?"bg-blue-100 text-blue-800":T>=.4?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[e.jsx(Ot,{className:"w-6 h-6 text-blue-600"}),e.jsx("h2",{className:"text-2xl font-bold",children:"  "})]}),e.jsxs(C,{children:[e.jsx(L,{children:e.jsxs(M,{className:"flex items-center space-x-2",children:[e.jsx(Ot,{className:"w-5 h-5"}),e.jsx("span",{children:" "})]})}),e.jsx(E,{children:e.jsx("form",{id:"search-form",onSubmit:w,className:"space-y-4",children:e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(te,{type:"text",placeholder:"    ...",value:t,onChange:T=>s(T.target.value),className:"text-lg"})}),e.jsx("div",{className:"w-48",children:e.jsxs(Cn,{value:r,onValueChange:n,children:[e.jsx(sn,{children:e.jsx(En,{placeholder:" "})}),e.jsxs(rn,{children:[e.jsx(Mt,{value:"",children:" "}),o.map(T=>e.jsx(Mt,{value:T.id.toString(),children:T.name},T.id))]})]})}),e.jsx(D,{type:"submit",disabled:u,className:"px-6",children:u?e.jsxs(e.Fragment,{children:[e.jsx(Ot,{className:"w-4 h-4 mr-2 animate-spin"})," ..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ot,{className:"w-4 h-4 mr-2"}),""]})})]})})})]}),p&&c.length>0&&e.jsxs(C,{children:[e.jsx(L,{children:e.jsxs(M,{className:"flex items-center space-x-2",children:[e.jsx(ht,{className:"w-5 h-5"}),e.jsx("span",{children:" "})]})}),e.jsx(E,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:c.map(T=>e.jsxs(X,{variant:"outline",className:"cursor-pointer hover:bg-gray-100",onClick:()=>N(T),children:[T.search_query,e.jsxs("span",{className:"ml-1 text-xs text-gray-500",children:["(",T.search_results_count,")"]})]},T.id))})})]}),f&&e.jsx(Bs,{className:"border-red-200 bg-red-50",children:e.jsx(qs,{className:"text-red-800",children:f})}),u&&e.jsx("div",{className:"space-y-4",children:[...Array(3)].map((T,S)=>e.jsx(C,{children:e.jsx(E,{className:"p-4",children:e.jsxs("div",{className:"flex space-x-4",children:[e.jsx(Kt,{className:"w-24 h-24 rounded"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx(Kt,{className:"h-4 w-full"}),e.jsx(Kt,{className:"h-4 w-3/4"}),e.jsx(Kt,{className:"h-4 w-1/2"})]})]})})},S))}),g&&!u&&e.jsxs(C,{children:[e.jsx(L,{children:e.jsxs(M,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"w-5 h-5"}),e.jsx("span",{children:" "})]}),e.jsxs(X,{variant:"secondary",children:[a.length,"  "]})]})}),e.jsx(E,{children:a.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(Ot,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),e.jsx("p",{children:"   "}),e.jsx("p",{className:"text-sm mt-1",children:"     "})]}):e.jsx("div",{className:"space-y-4",children:a.map(T=>e.jsxs("div",{className:"flex space-x-4 p-4 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>_(T),children:[e.jsx("img",{src:T.image_url||"/placeholder-news.jpg",alt:T.title,className:"w-24 h-24 object-cover rounded"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsxs(X,{className:`${k(T.search_rank)} text-xs`,children:[Math.round(T.search_rank*100),"% "]}),e.jsx(X,{variant:"outline",className:"text-xs",children:T.category_name})]}),e.jsx("h3",{className:"font-semibold text-lg mb-2 hover:text-blue-600 transition-colors",children:T.title}),e.jsx("p",{className:"text-gray-600 text-sm mb-2 line-clamp-2",children:T.excerpt}),e.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[e.jsx(ht,{className:"w-3 h-3"}),e.jsx("span",{children:A(T.published_at)})]})]})]},T.id))})})]}),e.jsxs(C,{className:"bg-blue-50 border-blue-200",children:[e.jsx(L,{children:e.jsxs(M,{className:"flex items-center space-x-2",children:[e.jsx(ri,{className:"w-5 h-5"}),e.jsx("span",{children:" "})]})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"   :"}),e.jsxs("ul",{className:"space-y-1",children:[e.jsx("li",{children:"    "}),e.jsx("li",{children:"    "}),e.jsx("li",{children:"    "}),e.jsx("li",{children:"    "})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:" :"}),e.jsxs("ul",{className:"space-y-1",children:[e.jsx("li",{children:"    "}),e.jsx("li",{children:"   "}),e.jsx("li",{children:"   "}),e.jsx("li",{children:"   "})]})]})]})})]})]})};function hq(){return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Bf,{}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx(uq,{})}),e.jsx(qf,{})]})}const mq=()=>{const[t,s]=m.useState([]),[r,n]=m.useState([]),[a,i]=m.useState(!0),[o,l]=m.useState(null),[c,d]=m.useState({}),{user:u}=rt();m.useEffect(()=>{u!=null&&u.access_token?(f(),x()):h()},[u]);const h=async()=>{try{i(!0),l(null);const{getPopularArticles:b}=await de(async()=>{const{getPopularArticles:P}=await Promise.resolve().then(()=>ke);return{getPopularArticles:P}},void 0),_=(await b(12)).map(P=>{var A;return{...P,recommendation_score:.8,reason:" ",category_name:((A=P.category)==null?void 0:A.name)||"",image_url:P.imageUrl||P.image_url}});s(_)}catch(b){l("     "),console.error("Error fetching popular articles:",b)}finally{i(!1)}},f=async()=>{try{if(i(!0),l(null),!(u!=null&&u.access_token)){await h();return}const b=await fetch("/api/personalized-recommendations?limit=12",{headers:{Authorization:`Bearer ${u.access_token}`,"Content-Type":"application/json"}});if(b.status===401){l("      ");return}if(!b.ok){const _=await b.json().catch(()=>({}));throw new Error(_.message||`HTTP ${b.status}: Failed to fetch recommendations`)}const N=await b.json();s(Array.isArray(N)?N:[])}catch(b){const N=b.message||"     ";l(N),console.error("Error fetching personalized recommendations:",{message:b.message,stack:b.stack,name:b.name,user:u?"authenticated":"not authenticated"})}finally{i(!1)}},x=async()=>{try{const b=await fetch("/api/user/preferences");if(b.ok){const N=await b.json();n(N)}}catch(b){console.error("Error fetching user preferences:",b)}},g=async(b,N,_)=>{if(!(!u||c[b])){d(P=>({...P,[b]:!0}));try{await fetch("/api/interactions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({articleId:b,interactionType:N,duration:_||0,metadata:{source:"personalized_recommendations",timestamp:new Date().toISOString()}})})}catch(P){console.error("Error tracking interaction:",P)}finally{d(P=>({...P,[b]:!1}))}}},v=b=>{g(b.id,"view",0),window.open(`/article/${b.id}`,"_blank")},p=b=>{if(g(b.id,"share"),navigator.share)navigator.share({title:b.title,text:b.excerpt,url:`${window.location.origin}/article/${b.id}`});else{const N=`${window.location.origin}/article/${b.id}`;navigator.clipboard.writeText(N)}},y=b=>{g(b.id,"like")},j=b=>{const N=new Date(b),P=Math.floor((new Date().getTime()-N.getTime())/(1e3*60*60));return P<1?"  ":P<24?`${P}  `:P<48?"":N.toLocaleDateString("bn-BD")},w=b=>b>=.8?"bg-green-100 text-green-800":b>=.6?"bg-blue-100 text-blue-800":b>=.4?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800";return u?a?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Kt,{className:"h-8 w-64"}),e.jsx(Kt,{className:"h-4 w-32"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((b,N)=>e.jsxs(C,{className:"overflow-hidden",children:[e.jsx(Kt,{className:"h-48 w-full"}),e.jsxs(E,{className:"p-4 space-y-2",children:[e.jsx(Kt,{className:"h-4 w-full"}),e.jsx(Kt,{className:"h-4 w-3/4"}),e.jsx(Kt,{className:"h-4 w-1/2"})]})]},N))})]}):o?e.jsx(Bs,{className:"border-red-200 bg-red-50",children:e.jsx(qs,{className:"text-red-800",children:o})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold flex items-center space-x-2",children:[e.jsx(ri,{className:"w-6 h-6 text-yellow-500"}),e.jsx("span",{children:u!=null&&u.access_token?"   ":" "})]}),e.jsx("p",{className:"text-gray-600 mt-1",children:u!=null&&u.access_token?"     ":"  "})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[t.length,"  "]})]}),r.length>0&&e.jsxs(C,{className:"bg-blue-50 border-blue-200",children:[e.jsx(L,{className:"pb-3",children:e.jsxs(M,{className:"text-lg flex items-center space-x-2",children:[e.jsx(Ct,{className:"w-5 h-5"}),e.jsx("span",{children:"  "})]})}),e.jsx(E,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:r.slice(0,5).map((b,N)=>e.jsxs(X,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:[b.categories.name,e.jsxs("span",{className:"ml-1 text-xs",children:["(",Math.round(b.interest_score*100),"%)"]})]},N))})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(b=>e.jsxs(C,{className:"overflow-hidden hover:shadow-lg transition-shadow cursor-pointer group",onClick:()=>v(b),children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:b.image_url||"/placeholder-news.jpg",alt:b.title,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),e.jsx("div",{className:"absolute top-2 left-2",children:e.jsxs(X,{className:`${w(b.recommendation_score)} text-xs`,children:[Math.round(b.recommendation_score*100),"% "]})}),e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx(X,{variant:"secondary",className:"text-xs",children:b.category_name})})]}),e.jsxs(E,{className:"p-4",children:[e.jsx("h3",{className:"font-semibold text-lg mb-2 line-clamp-2 group-hover:text-blue-600 transition-colors",children:b.title}),e.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-3",children:b.excerpt}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ht,{className:"w-3 h-3"}),e.jsx("span",{children:j(b.published_at)})]}),b.article_analytics&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Et,{className:"w-3 h-3"}),e.jsx("span",{children:b.article_analytics.view_count})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-xs text-blue-600 font-medium",children:b.reason}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(D,{variant:"ghost",size:"sm",onClick:N=>{N.stopPropagation(),y(b)},className:"p-1 h-8 w-8",children:e.jsx(NS,{className:"w-4 h-4"})}),e.jsx(D,{variant:"ghost",size:"sm",onClick:N=>{N.stopPropagation(),p(b)},className:"p-1 h-8 w-8",children:e.jsx(Tn,{className:"w-4 h-4"})})]})]})]})]},b.id))}),t.length===0&&e.jsxs(C,{className:"p-8 text-center",children:[e.jsxs("div",{className:"text-gray-500 mb-4",children:[e.jsx(ri,{className:"w-12 h-12 mx-auto mb-2"}),e.jsx("p",{children:"    "}),e.jsx("p",{className:"text-sm mt-1",children:"           "})]}),e.jsx(D,{onClick:()=>window.location.href="/",className:"bg-blue-600 hover:bg-blue-700",children:"   "})]})]}):e.jsx(Bs,{children:e.jsx(qs,{children:"      "})})};function fq(){return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Bf,{}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx(mq,{})}),e.jsx(qf,{})]})}const xq=()=>{var w,b;const[t,s]=m.useState(null),[r,n]=m.useState([]),[a,i]=m.useState([]),[o,l]=m.useState(null),[c,d]=m.useState(!0),[u,h]=m.useState(null),{user:f}=rt();m.useEffect(()=>{f&&x()},[f]);const x=async()=>{try{d(!0),h(null);const[N,_,P,A]=await Promise.all([fetch("/api/user/analytics"),fetch("/api/user/interactions?limit=20"),fetch("/api/user/preferences"),fetch("/api/user/notifications")]);if(N.ok){const k=await N.json();s(k)}if(_.ok){const k=await _.json();n(k)}if(P.ok){const k=await P.json();i(k)}if(A.ok){const k=await A.json();l(k)}}catch(N){h("     "),console.error("Error fetching user data:",N)}finally{d(!1)}},g=async N=>{try{const _=await fetch("/api/user/notifications",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)});if(_.ok){const P=await _.json();l(P)}}catch(_){console.error("Error updating notification preferences:",_)}},v=N=>new Date(N).toLocaleDateString("bn-BD",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),p=N=>{switch(N){case"view":return e.jsx(Et,{className:"w-4 h-4"});case"like":return e.jsx(pr,{className:"w-4 h-4"});case"share":return e.jsx(Tn,{className:"w-4 h-4"});case"comment":return e.jsx(Ar,{className:"w-4 h-4"});default:return e.jsx(Rt,{className:"w-4 h-4"})}},y=N=>{switch(N){case"view":return"bg-blue-100 text-blue-800";case"like":return"bg-red-100 text-red-800";case"share":return"bg-green-100 text-green-800";case"comment":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},j=N=>{switch(N){case"view":return"";case"like":return" ";case"share":return" ";case"comment":return" ";default:return" "}};return f?c?e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[...Array(4)].map((N,_)=>e.jsx(C,{children:e.jsxs(E,{className:"p-6",children:[e.jsx(Kt,{className:"h-8 w-16 mb-2"}),e.jsx(Kt,{className:"h-4 w-24"})]})},_))})}):u?e.jsx(Bs,{className:"border-red-200 bg-red-50",children:e.jsx(qs,{className:"text-red-800",children:u})}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold flex items-center space-x-2",children:[e.jsx(Zr,{className:"w-6 h-6 text-blue-600"}),e.jsx("span",{children:" "})]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"     "})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx(C,{children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:" "}),e.jsx("p",{className:"text-2xl font-bold",children:(t==null?void 0:t.totalInteractions)||0})]}),e.jsx(Rt,{className:"w-8 h-8 text-blue-600"})]})})}),e.jsx(C,{children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:" "}),e.jsx("p",{className:"text-2xl font-bold",children:a.length})]}),e.jsx(pr,{className:"w-8 h-8 text-red-600"})]})})}),e.jsx(C,{children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:" "}),e.jsx("p",{className:"text-2xl font-bold",children:((w=t==null?void 0:t.recentReading)==null?void 0:w.length)||0})]}),e.jsx(Ar,{className:"w-8 h-8 text-green-600"})]})})}),e.jsx(C,{children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:""}),e.jsx("p",{className:"text-2xl font-bold",children:Math.max(...Object.values((t==null?void 0:t.interactionsByType)||{}))})]}),e.jsx(Ct,{className:"w-8 h-8 text-purple-600"})]})})})]}),e.jsxs(ds,{defaultValue:"interactions",className:"w-full",children:[e.jsxs(ns,{className:"grid w-full grid-cols-4",children:[e.jsx(ve,{value:"interactions",children:""}),e.jsx(ve,{value:"preferences",children:""}),e.jsx(ve,{value:"reading",children:" "}),e.jsx(ve,{value:"settings",children:""})]}),e.jsx(pe,{value:"interactions",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(C,{children:[e.jsx(L,{children:e.jsxs(M,{className:"flex items-center space-x-2",children:[e.jsx(Rt,{className:"w-5 h-5"}),e.jsx("span",{children:" "})]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:Object.entries((t==null?void 0:t.interactionsByType)||{}).map(([N,_])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`p-1 rounded ${y(N)}`,children:p(N)}),e.jsx("span",{className:"text-sm",children:j(N)})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium",children:_}),e.jsx("div",{className:"w-16",children:e.jsx(gr,{value:_/((t==null?void 0:t.totalInteractions)||1)*100,className:"h-2"})})]})]},N))})})]}),e.jsxs(C,{children:[e.jsx(L,{children:e.jsxs(M,{className:"flex items-center space-x-2",children:[e.jsx(ht,{className:"w-5 h-5"}),e.jsx("span",{children:" "})]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:r.slice(0,10).map(N=>e.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded hover:bg-gray-50",children:[e.jsx("div",{className:`p-1 rounded ${y(N.interaction_type)}`,children:p(N.interaction_type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:N.articles.title}),e.jsx("p",{className:"text-xs text-gray-500",children:v(N.created_at)})]})]},N.id))})})]})]})}),e.jsx(pe,{value:"preferences",className:"space-y-4",children:e.jsxs(C,{children:[e.jsx(L,{children:e.jsxs(M,{className:"flex items-center space-x-2",children:[e.jsx(pr,{className:"w-5 h-5"}),e.jsx("span",{children:" "})]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:a.map(N=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(X,{variant:"outline",children:N.categories.name}),e.jsxs("span",{className:"text-sm text-gray-600",children:[" : ",Math.round(N.interest_score*100),"%"]})]}),e.jsx("div",{className:"w-32",children:e.jsx(gr,{value:Math.min(N.interest_score*100,100),className:"h-2"})})]},N.category_id))})})]})}),e.jsx(pe,{value:"reading",className:"space-y-4",children:e.jsxs(C,{children:[e.jsx(L,{children:e.jsxs(M,{className:"flex items-center space-x-2",children:[e.jsx(Ar,{className:"w-5 h-5"}),e.jsx("span",{children:" "})]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-3",children:(b=t==null?void 0:t.recentReading)==null?void 0:b.map(N=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium truncate",children:N.articles.title}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[e.jsx(X,{variant:"outline",className:"text-xs",children:N.articles.categories.name}),e.jsxs("span",{children:[" ",N.read_count," "]})]})]}),e.jsx("div",{className:"text-right",children:e.jsx("p",{className:"text-sm text-gray-500",children:v(N.last_read_at)})})]},N.article_id))})})]})}),e.jsx(pe,{value:"settings",className:"space-y-4",children:e.jsxs(C,{children:[e.jsx(L,{children:e.jsxs(M,{className:"flex items-center space-x-2",children:[e.jsx(As,{className:"w-5 h-5"}),e.jsx("span",{children:" "})]})}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:o&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:" "}),e.jsx("p",{className:"text-sm text-gray-600",children:"    "})]}),e.jsx("input",{type:"checkbox",checked:o.breaking_news,onChange:N=>g({breaking_news:N.target.checked}),className:"w-4 h-4"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:" "}),e.jsx("p",{className:"text-sm text-gray-600",children:"    "})]}),e.jsx("input",{type:"checkbox",checked:o.category_updates,onChange:N=>g({category_updates:N.target.checked}),className:"w-4 h-4"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:" "}),e.jsx("p",{className:"text-sm text-gray-600",children:"    "})]}),e.jsx("input",{type:"checkbox",checked:o.personalized_recommendations,onChange:N=>g({personalized_recommendations:N.target.checked}),className:"w-4 h-4"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:" "}),e.jsx("p",{className:"text-sm text-gray-600",children:"   "})]}),e.jsx("input",{type:"checkbox",checked:o.email_notifications,onChange:N=>g({email_notifications:N.target.checked}),className:"w-4 h-4"})]})]})})})]})})]})]}):e.jsx(Bs,{children:e.jsx(qs,{children:"      "})})};function pq(){return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Bf,{}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx(xq,{})}),e.jsx(qf,{})]})}const gq=()=>{const[t,s]=m.useState(" -   "),[r,n]=m.useState("           WhatsApp, Telegram, Instagram, Facebook  Twitter     "),[a,i]=m.useState("/og-default-image.svg"),[o,l]=m.useState(!1),c=_u({title:t,description:r,image:a,url:"/social-media-test",type:"website"}),{metaElements:d,linkElements:u}=Su(c),h=`${window.location.origin}/social-media-test`,f=async()=>{await navigator.clipboard.writeText(h),l(!0),setTimeout(()=>l(!1),2e3)},x={facebook:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(h)}`,twitter:`https://twitter.com/intent/tweet?url=${encodeURIComponent(h)}&text=${encodeURIComponent(t)}`,whatsapp:`https://wa.me/?text=${encodeURIComponent(`${t} - ${h}`)}`,telegram:`https://t.me/share/url?url=${encodeURIComponent(h)}&text=${encodeURIComponent(t)}`,linkedin:`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(h)}`},g={facebook:`https://developers.facebook.com/tools/debug/?q=${encodeURIComponent(h)}`,twitter:`https://cards-dev.twitter.com/validator?q=${encodeURIComponent(h)}`,linkedin:`https://www.linkedin.com/post-inspector/inspect/${encodeURIComponent(h)}`};return e.jsxs(e.Fragment,{children:[e.jsxs(lr,{children:[e.jsx("title",{children:c.title}),d.map((v,p)=>v.property?e.jsx("meta",{property:v.property,content:v.content},p):e.jsx("meta",{name:v.name,content:v.content},p)),u.map((v,p)=>e.jsx("link",{rel:v.rel,href:v.href},p))]}),e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4 font-hind",children:"   "}),e.jsx("p",{className:"text-lg text-muted-foreground",children:"WhatsApp, Telegram, Instagram, Facebook, Twitter         "})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs(C,{children:[e.jsx(L,{children:e.jsx(M,{children:"  "})}),e.jsxs(E,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"title",children:""}),e.jsx(te,{id:"title",value:t,onChange:v=>s(v.target.value),placeholder:"  "})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"description",children:""}),e.jsx(Qt,{id:"description",value:r,onChange:v=>n(v.target.value),placeholder:"   (  )",rows:3}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[r.length,"/160 "]})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"image",children:" URL"}),e.jsx(te,{id:"image",value:a,onChange:v=>i(v.target.value),placeholder:"  (1200x630px   )"})]})]})]}),e.jsxs(C,{children:[e.jsx(L,{children:e.jsx(M,{children:"  "})}),e.jsxs(E,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(te,{value:h,readOnly:!0}),e.jsx(D,{onClick:f,variant:"outline",size:"sm",children:o?e.jsx(ts,{className:"w-4 h-4"}):e.jsx(pS,{className:"w-4 h-4"})})]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"       "})]})]}),e.jsxs(C,{children:[e.jsx(L,{children:e.jsx(M,{children:"   "})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs(D,{onClick:()=>window.open(x.facebook,"_blank"),className:"flex items-center gap-2",variant:"outline",children:[e.jsx(lf,{className:"w-4 h-4"}),"Facebook"]}),e.jsxs(D,{onClick:()=>window.open(x.twitter,"_blank"),className:"flex items-center gap-2",variant:"outline",children:[e.jsx(uf,{className:"w-4 h-4"}),"Twitter"]}),e.jsxs(D,{onClick:()=>window.open(x.whatsapp,"_blank"),className:"flex items-center gap-2",variant:"outline",children:[e.jsx(Ji,{className:"w-4 h-4"}),"WhatsApp"]}),e.jsxs(D,{onClick:()=>window.open(x.telegram,"_blank"),className:"flex items-center gap-2",variant:"outline",children:[e.jsx(Ul,{className:"w-4 h-4"}),"Telegram"]}),e.jsxs(D,{onClick:()=>window.open(x.linkedin,"_blank"),className:"flex items-center gap-2",variant:"outline",children:[e.jsx(jy,{className:"w-4 h-4"}),"LinkedIn"]}),e.jsxs(D,{onClick:()=>{var v;return(v=navigator.share)==null?void 0:v.call(navigator,{title:t,text:r,url:h})},className:"flex items-center gap-2",variant:"outline",disabled:!navigator.share,children:[e.jsx(by,{className:"w-4 h-4"}),""]})]})})]}),e.jsxs(C,{children:[e.jsx(L,{children:e.jsx(M,{children:" "})}),e.jsxs(E,{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"         :"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(D,{onClick:()=>window.open(g.facebook,"_blank"),className:"w-full justify-start",variant:"outline",size:"sm",children:"Facebook Sharing Debugger"}),e.jsx(D,{onClick:()=>window.open(g.twitter,"_blank"),className:"w-full justify-start",variant:"outline",size:"sm",children:"Twitter Card Validator"}),e.jsx(D,{onClick:()=>window.open(g.linkedin,"_blank"),className:"w-full justify-start",variant:"outline",size:"sm",children:"LinkedIn Post Inspector"})]})]})]})]}),e.jsxs("div",{children:[e.jsxs(C,{children:[e.jsx(L,{children:e.jsx(M,{children:"   "})}),e.jsx(E,{children:e.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 p-4 rounded-lg",children:e.jsx("code",{className:"text-sm",children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{children:["<title>",c.title,"</title>"]}),d.map((v,p)=>e.jsxs("div",{children:["<meta ",v.property?`property="${v.property}"`:`name="${v.name}"`,' content="',v.content,'" />']},p)),u.map((v,p)=>e.jsxs("div",{children:['<link rel="',v.rel,'" href="',v.href,'" />']},p))]})})})})]}),e.jsxs("div",{className:"mt-6 space-y-4",children:[e.jsxs(C,{children:[e.jsx(L,{children:e.jsx(M,{children:"Facebook/WhatsApp/Telegram "})}),e.jsx(E,{children:e.jsxs("div",{className:"border rounded-lg overflow-hidden bg-white",children:[e.jsx("div",{className:"aspect-video bg-gray-200 flex items-center justify-center",children:a?e.jsx("img",{src:a,alt:"Preview",className:"w-full h-full object-cover"}):e.jsx("div",{className:"text-gray-500",children:" "})}),e.jsxs("div",{className:"p-3 border-t",children:[e.jsx("div",{className:"text-sm text-gray-600 uppercase tracking-wide"}),e.jsx("div",{className:"font-semibold text-gray-900 mt-1",children:t}),e.jsx("div",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:r})]})]})})]}),e.jsxs(C,{children:[e.jsx(L,{children:e.jsx(M,{children:"Twitter  "})}),e.jsx(E,{children:e.jsxs("div",{className:"border rounded-lg overflow-hidden bg-white",children:[e.jsx("div",{className:"aspect-video bg-gray-200 flex items-center justify-center",children:a?e.jsx("img",{src:a,alt:"Preview",className:"w-full h-full object-cover"}):e.jsx("div",{className:"text-gray-500",children:" "})}),e.jsxs("div",{className:"p-3 border-t",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:t}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:r}),e.jsx("div",{className:"text-sm text-gray-500 mt-2",children:" prothomalo.com"})]})]})})]})]})]})]}),e.jsxs(C,{className:"mt-8",children:[e.jsx(L,{children:e.jsx(M,{children:"  "})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-3",children:"  :"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"WhatsApp:"}),"       "]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Telegram:"}),"       "]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Instagram:"})," Stories-    "]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Facebook:"}),"      "]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Twitter:"}),"    DM "]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-3",children:"  :"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:"   "}),e.jsx("li",{children:"   "}),e.jsx("li",{children:"    (1200x630px)"}),e.jsx("li",{children:'   "" '}),e.jsx("li",{children:" URL  "})]})]})]})})]})]})]})};function vq(){const[t,s]=m.useState([]),[r,n]=m.useState(!0),{user:a}=rt();m.useEffect(()=>{i()},[]);const i=async()=>{n(!0);try{const f=[{name:"user_saved_articles",description:"  ",component:"SavedArticleButton",endpoint:"/api/saved-articles"},{name:"user_likes",description:"  ",component:"LikeButton",endpoint:"/api/articles/1/like-status"},{name:"comments",description:"  ",component:"CommentsSection",endpoint:"/api/articles/1/comments"},{name:"tags",description:" ",component:"TagsDisplay",endpoint:"/api/tags"},{name:"newsletters",description:" ",component:"NewsletterSignup",endpoint:"/api/newsletter/subscribe"},{name:"polls",description:"   ",component:"PollsSection",endpoint:"/api/polls"},{name:"user_shares",description:"  ",component:"ShareButton",endpoint:"/api/articles/1/share"},{name:"page_views",description:"  ",component:"Analytics",endpoint:"/api/page-view"},{name:"user_profiles",description:" ",component:"UserProfile",endpoint:"/api/user/profile"},{name:"user_achievements",description:"  ",component:"Achievements",endpoint:"/api/user/achievements"}],x=[];for(const g of f)try{let v;if((g.endpoint.includes("like-status")||g.endpoint.includes("profile")||g.endpoint.includes("achievements")||g.endpoint.includes("saved-articles"))&&!a){x.push({name:g.name,count:0,status:"empty",description:g.description,component:g.component});continue}if(g.endpoint==="/api/newsletter/subscribe"){x.push({name:g.name,count:1,status:"active",description:g.description,component:g.component});continue}if(v=await fetch(g.endpoint),v.ok){const p=await v.json(),y=Array.isArray(p)?p.length:p?1:0;x.push({name:g.name,count:y,status:y>0?"active":"empty",description:g.description,component:g.component})}else x.push({name:g.name,count:0,status:"error",description:g.description,component:g.component})}catch(v){console.error(`Error testing ${g.name}:`,v),x.push({name:g.name,count:0,status:"error",description:g.description,component:g.component})}s(x)}catch(h){console.error("Error loading table statuses:",h)}finally{n(!1)}},o=h=>{switch(h){case"active":return e.jsx(iu,{className:"h-5 w-5 text-green-500"});case"empty":return e.jsx(Yt,{className:"h-5 w-5 text-yellow-500"});case"error":return e.jsx(Yt,{className:"h-5 w-5 text-red-500"});default:return e.jsx(Jn,{className:"h-5 w-5 text-gray-500"})}},l=h=>{switch(h){case"active":return e.jsx(X,{className:"bg-green-100 text-green-800 border-green-200",children:""});case"empty":return e.jsx(X,{variant:"outline",className:"bg-yellow-100 text-yellow-800 border-yellow-200",children:""});case"error":return e.jsx(X,{variant:"destructive",children:""});default:return e.jsx(X,{variant:"secondary",children:""})}},c=t.filter(h=>h.status==="active").length,d=t.length,u=d>0?c/d*100:0;return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background to-muted/20",children:[e.jsxs(lr,{children:[e.jsx("title",{children:"   -  "}),e.jsx("meta",{name:"description",content:"        "})]}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"flex items-center justify-center mb-6",children:e.jsx("div",{className:"bg-primary/10 p-4 rounded-full",children:e.jsx(Jn,{className:"h-12 w-12 text-primary"})})}),e.jsx("h1",{className:"text-4xl font-bold mb-4 bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent",children:"  "}),e.jsx("p",{className:"text-xl text-muted-foreground mb-8",children:"       "}),e.jsx(C,{className:"max-w-md mx-auto",children:e.jsx(E,{className:"pt-6",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsxs("div",{className:"text-3xl font-bold text-primary",children:[c,"/",d]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:" "}),e.jsx(gr,{value:u,className:"h-3"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[Math.round(u),"% "]})]})})})]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:r?[...Array(6)].map((h,f)=>e.jsx(C,{className:"animate-pulse",children:e.jsx(E,{className:"pt-6",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),e.jsx("div",{className:"h-3 bg-muted rounded w-1/2"}),e.jsx("div",{className:"h-2 bg-muted rounded w-full"})]})})},f)):t.map(h=>e.jsxs(C,{className:"border-l-4 border-l-primary/20 hover:border-l-primary/60 transition-colors",children:[e.jsx(L,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[o(h.status),e.jsx(M,{className:"text-lg",children:h.name})]}),l(h.status)]})}),e.jsxs(E,{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:h.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:h.count})," "]}),h.component&&e.jsx(X,{variant:"outline",className:"text-xs",children:h.component})]})]})]},h.name))}),e.jsxs("div",{className:"space-y-8",children:[e.jsx(An,{}),e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:" "}),e.jsx("p",{className:"text-muted-foreground mb-8",children:"        "})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs(C,{children:[e.jsx(L,{children:e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx(pr,{className:"h-5 w-5"})," "]})}),e.jsxs(E,{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:" ,     "}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(OP,{articleId:1,variant:"button"}),e.jsx(IP,{articleId:1}),e.jsx(DP,{articleId:1,title:" "})]})]})]}),e.jsxs(C,{children:[e.jsx(L,{children:e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx(so,{className:"h-5 w-5"})," "]})}),e.jsxs(E,{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"   "}),e.jsx(MP,{articleId:1})]})]}),e.jsx(FP,{})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(C,{children:[e.jsx(L,{children:e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx(Ji,{className:"h-5 w-5"})," "]})}),e.jsxs(E,{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"   "}),e.jsx("div",{className:"max-h-64 overflow-y-auto",children:e.jsx(LP,{articleId:1})})]})]}),e.jsx($P,{})]})]})]}),e.jsxs("div",{className:"mt-12 text-center space-y-4",children:[e.jsxs("div",{className:"flex justify-center gap-4",children:[e.jsxs(D,{onClick:i,disabled:r,children:[e.jsx(Ct,{className:"h-4 w-4 mr-2"}),"  "]}),e.jsx(D,{variant:"outline",asChild:!0,children:e.jsxs("a",{href:"/",className:"flex items-center gap-2",children:[e.jsx(Jn,{className:"h-4 w-4"})," "]})})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"   !       "})]})]})})]})}const yq=po({email:ms().email("   "),password:ms().min(6,"     ")}),jq=po({name:ms().min(2,"     "),email:ms().email("   "),password:ms().min(6,"     "),confirmPassword:ms()}).refine(t=>t.password===t.confirmPassword,{message:"  ",path:["confirmPassword"]}),wq=po({email:ms().email("   ")}),ep=()=>{const[t,s]=yt(),{user:r,signIn:n,signUp:a,resetPassword:i,loading:o}=rt(),l=()=>t==="/register"?"register":"login",[c,d]=m.useState(l());m.useEffect(()=>{d(l())},[t]),m.useEffect(()=>{r&&s("/dashboard")},[r,s]);const u=Bi({resolver:qi(yq),defaultValues:{email:"",password:""}}),h=Bi({resolver:qi(jq),defaultValues:{name:"",email:"",password:"",confirmPassword:""}}),f=Bi({resolver:qi(wq),defaultValues:{email:""}}),x=async p=>{try{await n(p.email,p.password)}catch(y){console.error("Login error:",y)}},g=async p=>{try{await a(p.email,p.password,{name:p.name})}catch(y){console.error("Register error:",y)}},v=async p=>{try{await i(p.email),f.reset()}catch(y){console.error("Reset password error:",y)}};return e.jsxs(e.Fragment,{children:[e.jsx(lr,{children:e.jsx("title",{children:" | "})}),e.jsx("div",{className:"container mx-auto px-4 py-12",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-center",children:[e.jsx("div",{className:"w-full md:w-1/2 max-w-md mx-auto",children:e.jsxs(ds,{value:c,onValueChange:p=>{d(p),s(`/${p}`)},className:"w-full",children:[e.jsxs(ns,{className:"grid w-full grid-cols-2",children:[e.jsx(ve,{value:"login",children:""}),e.jsx(ve,{value:"register",children:""})]}),e.jsx(pe,{value:"login",children:e.jsxs(C,{children:[e.jsxs(L,{children:[e.jsx(M,{children:" "}),e.jsx(Ce,{children:"       "})]}),e.jsx(E,{children:e.jsx(Hi,{...u,children:e.jsxs("form",{onSubmit:u.handleSubmit(x),className:"space-y-4",children:[e.jsx(At,{control:u.control,name:"email",render:({field:p})=>e.jsxs(bt,{children:[e.jsx(Nt,{children:""}),e.jsx(_t,{children:e.jsx(te,{placeholder:"  ",...p})}),e.jsx(Wt,{})]})}),e.jsx(At,{control:u.control,name:"password",render:({field:p})=>e.jsxs(bt,{children:[e.jsx(Nt,{children:""}),e.jsx(_t,{children:e.jsx(te,{type:"password",placeholder:" ",...p})}),e.jsx(Wt,{})]})}),e.jsx(D,{type:"submit",className:"w-full",disabled:o,children:o?" ...":" "})]})})}),e.jsx(Bl,{className:"flex justify-center",children:e.jsx(D,{variant:"link",onClick:()=>d("forgot-password"),children:"  ?"})})]})}),e.jsx(pe,{value:"register",children:e.jsxs(C,{children:[e.jsxs(L,{children:[e.jsx(M,{children:"   "}),e.jsx(Ce,{children:"        "})]}),e.jsx(E,{children:e.jsx(Hi,{...h,children:e.jsxs("form",{onSubmit:h.handleSubmit(g),className:"space-y-4",children:[e.jsx(At,{control:h.control,name:"name",render:({field:p})=>e.jsxs(bt,{children:[e.jsx(Nt,{children:""}),e.jsx(_t,{children:e.jsx(te,{placeholder:" ",...p})}),e.jsx(Wt,{})]})}),e.jsx(At,{control:h.control,name:"email",render:({field:p})=>e.jsxs(bt,{children:[e.jsx(Nt,{children:""}),e.jsx(_t,{children:e.jsx(te,{placeholder:"  ",...p})}),e.jsx(Wt,{})]})}),e.jsx(At,{control:h.control,name:"password",render:({field:p})=>e.jsxs(bt,{children:[e.jsx(Nt,{children:""}),e.jsx(_t,{children:e.jsx(te,{type:"password",placeholder:" ",...p})}),e.jsx(Wt,{})]})}),e.jsx(At,{control:h.control,name:"confirmPassword",render:({field:p})=>e.jsxs(bt,{children:[e.jsx(Nt,{children:"  "}),e.jsx(_t,{children:e.jsx(te,{type:"password",placeholder:"  ",...p})}),e.jsx(Wt,{})]})}),e.jsx(D,{type:"submit",className:"w-full",disabled:o,children:o?" ...":" "})]})})})]})}),e.jsx(pe,{value:"forgot-password",children:e.jsxs(C,{children:[e.jsxs(L,{children:[e.jsx(M,{children:"  "}),e.jsx(Ce,{children:"       "})]}),e.jsx(E,{children:e.jsx(Hi,{...f,children:e.jsxs("form",{onSubmit:f.handleSubmit(v),className:"space-y-4",children:[e.jsx(At,{control:f.control,name:"email",render:({field:p})=>e.jsxs(bt,{children:[e.jsx(Nt,{children:""}),e.jsx(_t,{children:e.jsx(te,{placeholder:"  ",...p})}),e.jsx(Wt,{})]})}),e.jsx(D,{type:"submit",className:"w-full",disabled:o,children:o?" ...":"  "})]})})}),e.jsx(Bl,{className:"flex justify-center",children:e.jsx(D,{variant:"link",onClick:()=>d("login"),children:"   "})})]})})]})}),e.jsx("div",{className:"w-full md:w-1/2",children:e.jsxs("div",{className:"bg-muted/30 dark:bg-muted p-8 rounded-lg",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4 font-hind",children:" ,  "}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"bg-primary/10 p-2 rounded-full text-primary",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium font-hind",children:" "}),e.jsx("p",{className:"text-muted-foreground",children:"    "})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"bg-primary/10 p-2 rounded-full text-primary",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium font-hind",children:" "}),e.jsx("p",{className:"text-muted-foreground",children:"    "})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"bg-primary/10 p-2 rounded-full text-primary",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium font-hind",children:"  "}),e.jsx("p",{className:"text-muted-foreground",children:"    "})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"bg-primary/10 p-2 rounded-full text-primary",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium font-hind",children:"  "}),e.jsx("p",{className:"text-muted-foreground",children:"    "})]})]})]})]})})]})})]})};console.log("Direct API client using: ANON KEY");function ku(t){return t.map(s=>({...s,imageUrl:s.image_url||s.imageUrl,viewCount:s.view_count||s.viewCount||0,publishedAt:s.published_at||s.publishedAt,isFeatured:s.is_featured||s.isFeatured||!1,categoryId:s.category_id||s.categoryId,category:Array.isArray(s.categories)?s.categories.length>0?s.categories[0]:null:s.categories||s.category,content:s.content||"",image_url:s.image_url||s.imageUrl||"/placeholder-800x450.svg"}))}async function tA(t,s){if(t.code==="PGRST301"&&t.message==="JWT expired"){console.log("[Supabase] JWT expired, refreshing session...");const{error:r}=await J.auth.refreshSession();if(!r)return console.log("[Supabase] Session refreshed successfully, retrying..."),await s()}throw t}async function bq(){try{const{data:t,error:s}=await J.from("categories").select("*").order("name",{ascending:!0});return s?await tA(s,async()=>{const{data:r,error:n}=await J.from("categories").select("*").order("name",{ascending:!0});if(n)throw n;return r||[]}):t||[]}catch(t){return console.error("Error fetching categories:",t),[]}}async function Nq(t){try{const{data:s,error:r}=await J.from("categories").select("*").eq("slug",t).single();return r?await tA(r,async()=>{const{data:n,error:a}=await J.from("categories").select("*").eq("slug",t).single();if(a)throw a;return n}):s}catch(s){return console.error("Error fetching category:",s),null}}async function _q(t={}){let s=J.from("articles").select(`
      id,
      title,
      slug,
      content,
      excerpt,
      image_url,
      view_count,
      published_at,
      is_featured,
      category_id,
      categories(id, name, slug)
    `).order("published_at",{ascending:!1});if(t.featured&&(s=s.eq("is_featured",!0)),t.category){const{data:a}=await J.from("categories").select("id").eq("slug",t.category).single();a&&(s=s.eq("category_id",a.id))}t.limit&&(s=s.limit(t.limit)),t.offset&&(s=s.range(t.offset,t.offset+(t.limit||10)-1));const{data:r,error:n}=await s;return n?(console.error("Error fetching articles:",n),[]):r||[]}async function nv(t=5){try{console.log(`[Supabase] Fetching ${t} popular articles directly from database...`);const{data:s,error:r}=await J.from("articles").select(`
        id,
        title,
        slug,
        content,
        excerpt,
        image_url,
        view_count,
        published_at,
        is_featured,
        category_id,
        categories(id, name, slug)
      `).order("view_count",{ascending:!1}).limit(t);if(r)return console.error("[Supabase] Error fetching popular articles:",r),[];if(!s||s.length===0)return console.warn("[Supabase] No articles found in database"),[];const n=s.map(a=>({...a,imageUrl:a.image_url,viewCount:a.view_count,publishedAt:a.published_at,isFeatured:a.is_featured,categoryId:a.category_id,category:Array.isArray(a.categories)?a.categories[0]:a.categories}));return console.log(`[Supabase] Successfully fetched ${n.length} popular articles`),n}catch(s){return console.error("[Supabase] Failed to fetch popular articles:",s),[]}}async function Sq(t=10){try{const{data:s,error:r}=await J.from("articles").select(`
        id,
        title,
        slug,
        excerpt,
        image_url,
        view_count,
        published_at,
        is_featured,
        category_id,
        categories(id, name, slug)
      `).order("published_at",{ascending:!1}).limit(t);return r?(console.error("Error fetching latest articles from Supabase:",r),[]):(s||[]).map(n=>({...n,imageUrl:n.image_url,viewCount:n.view_count,publishedAt:n.published_at,isFeatured:n.is_featured,categoryId:n.category_id,category:Array.isArray(n.categories)?n.categories[0]:n.categories}))}catch(s){return console.error("Failed to fetch latest articles:",s),[]}}async function kq(){const{data:t,error:s}=await J.from("weather").select("*").order("city",{ascending:!0});return s?(console.error("Error fetching weather:",s),[]):t||[]}async function Cq(t){const{data:s,error:r}=await J.from("weather").select("*").eq("city",t).single();return r?(console.error("Error fetching weather by city:",r),null):s}async function Eq(){try{const{data:t,error:s}=await J.from("breaking_news").select("*").eq("is_active",!0).order("created_at",{ascending:!1});return s?(console.error("Error fetching breaking news from Supabase:",s),[]):t||[]}catch(t){return console.error("Failed to fetch breaking news:",t),[]}}async function Tq(){const{data:t,error:s}=await J.from("epapers").select("*").order("publish_date",{ascending:!1});return s?(console.error("Error fetching e-papers:",s),[]):t||[]}async function Pq(){try{const{data:t,error:s}=await J.from("epapers").select("*").eq("is_latest",!0).order("publish_date",{ascending:!1}).limit(1);if(s){console.error("Error fetching latest e-paper (is_latest=true):",s);const{data:r,error:n}=await J.from("epapers").select("*").order("publish_date",{ascending:!1}).limit(1);return n?(console.error("Error fetching fallback latest e-paper:",n),null):(r==null?void 0:r[0])||null}return(t==null?void 0:t[0])||null}catch(t){return console.error("Error in getLatestEPaper:",t),null}}async function Aq(){const{data:t,error:s}=await J.from("video_content").select("*").order("published_at",{ascending:!1});return s?(console.error("Error fetching video content:",s),[]):t||[]}async function Rq(){try{const{data:t,error:s}=await J.from("system_settings").select("*").limit(1).maybeSingle();return s&&s.code!=="PGRST116"&&console.error("Error fetching site settings:",s),{siteName:(t==null?void 0:t.site_name)||"Bengali News",siteDescription:(t==null?void 0:t.site_description)||"   ",logoUrl:(t==null?void 0:t.logo_url)||"",defaultLanguage:(t==null?void 0:t.default_language)||"bn",siteUrl:(t==null?void 0:t.site_url)||""}}catch(t){return console.error("Error in getSiteSettings:",t),{siteName:"Bengali News",siteDescription:"   ",logoUrl:"",defaultLanguage:"bn",siteUrl:""}}}async function Oq(t){const{data:s,error:r}=await J.from("video_content").select("*").eq("slug",t).single();return r?(console.error("Error fetching video by slug:",r),null):s}async function Iq(){const{data:t,error:s}=await J.from("audio_articles").select("*").order("published_at",{ascending:!1});return s?(console.error("Error fetching audio articles:",s),[]):t||[]}async function Dq(){const{data:t,error:s}=await J.from("social_media_posts").select("*").order("published_at",{ascending:!1});return s?(console.error("Error fetching social media posts:",s),[]):t||[]}async function Lq(t=10){const{data:s,error:r}=await J.from("trending_topics").select("*").order("trending_score",{ascending:!1}).limit(t);return r?(console.error("Error fetching trending topics:",r),[{name:"",trending_score:.95,category:""},{name:"",trending_score:.87,category:""},{name:"",trending_score:.82,category:""},{name:"",trending_score:.76,category:""},{name:"",trending_score:.71,category:""}].slice(0,t)):s||[]}async function Mq(t){const{data:s,error:r}=await J.from("article_tags").select(`
      tags(id, name, slug, color)
    `).eq("article_id",t);return r?(console.error("Error fetching article tags:",r),[]):(s==null?void 0:s.map(n=>n.tags).filter(Boolean))||[]}async function Fq(t,s,r=20,n=0){let a=J.from("articles").select(`
      id,
      title,
      slug,
      content,
      excerpt,
      image_url,
      view_count,
      published_at,
      is_featured,
      category_id,
      categories(id, name, slug)
    `).textSearch("title",t,{type:"websearch"}).order("published_at",{ascending:!1});if(s){const{data:l}=await J.from("categories").select("id").eq("slug",s).single();l&&(a=a.eq("category_id",l.id))}a=a.limit(r),n>0&&(a=a.range(n,n+r-1));const{data:i,error:o}=await a;return o?(console.error("Error searching articles:",o),[]):ku(i||[])}async function $q(t){try{const{data:s}=await J.from("newsletters").select("id").eq("email",t).single();if(s)return{success:!1,message:"      "};const{error:r}=await J.from("newsletters").insert({email:t,is_active:!0,subscribed_at:new Date().toISOString()});return r?(console.error("Error subscribing to newsletter:",r),{success:!1,message:"      "}):{success:!0,message:"   !"}}catch(s){return console.error("Newsletter subscription error:",s),{success:!1,message:"      "}}}async function sA(t){try{console.log("[getUserStats] Fetching user statistics for user:",t);let s=0,r=null;const{count:n,error:a}=await J.from("reading_history").select("*",{count:"exact"}).eq("user_id",t);if(a&&a.code==="42P01"){const{count:f,error:x}=await J.from("user_reading_history").select("*",{count:"exact"}).eq("user_id",t);s=f,r=x}else s=n,r=a;r&&r.code!=="42P01"&&r.code!=="PGRST116"&&console.error("Error fetching reading history count:",r);const{count:i,error:o}=await J.from("user_bookmarks").select("*",{count:"exact"}).eq("user_id",t);o&&o.code!=="PGRST116"&&console.error("Error fetching bookmarks count:",o);const{count:l,error:c}=await J.from("user_likes").select("*",{count:"exact"}).eq("user_id",t);c&&c.code!=="PGRST116"&&console.error("Error fetching likes count:",c);const{count:d,error:u}=await J.from("article_comments").select("*",{count:"exact"}).eq("user_id",t);u&&u.code!=="PGRST116"&&console.error("Error fetching comments count:",u);const h={totalReadArticles:s||0,totalBookmarks:i||0,totalLikes:l||0,totalComments:d||0,totalInteractions:(s||0)+(l||0)+(d||0),favoriteCategories:[]};return console.log("[getUserStats] Successfully fetched user statistics:",h),h}catch(s){return console.error("Error fetching user stats:",s),{totalReadArticles:0,totalBookmarks:0,totalLikes:0,totalComments:0,totalInteractions:0,favoriteCategories:[]}}}async function Uq(t){try{const{data:s,error:r}=await J.from("user_settings").select("*").eq("user_id",t).single();return r&&r.code!=="PGRST116"&&console.error("Error fetching user preferences:",r),s||{theme:"light",language:"bn",notifications:!0,autoPlay:!1,fontSize:"medium"}}catch(s){return console.error("Error fetching user preferences:",s),{theme:"light",language:"bn",notifications:!0,autoPlay:!1,fontSize:"medium"}}}async function zq(t,s=10){try{console.log("[getUserBookmarks] Fetching bookmarks for user:",t);const{data:r,error:n}=await J.from("user_bookmarks").select(`
        id,
        created_at,
        article_id,
        articles(
          id,
          title,
          slug,
          excerpt,
          image_url,
          view_count,
          published_at,
          is_featured,
          category_id,
          categories(id, name, slug)
        )
      `).eq("user_id",t).order("created_at",{ascending:!1}).limit(s);if(n)return console.error("Error fetching user bookmarks:",n),[];const a=r.map(i=>i.articles).filter(i=>i!==null);return console.log(`[getUserBookmarks] Found ${a.length} bookmarked articles`),ku(a)}catch(r){return console.error("Error fetching user bookmarks:",r),[]}}async function rA(t,s=10){try{console.log("[getUserReadingHistory] Fetching reading history for user:",t);let r=null,n=null;const{data:a,error:i}=await J.from("reading_history").select(`
        article_id,
        last_read_at,
        articles(
          id,
          title,
          slug,
          excerpt,
          image_url,
          view_count,
          published_at,
          is_featured,
          category_id,
          categories(id, name, slug)
        )
      `).eq("user_id",t).order("last_read_at",{ascending:!1}).limit(s);if(i&&i.code==="42P01"){console.log("[getUserReadingHistory] reading_history not found, trying user_reading_history");const{data:o,error:l}=await J.from("user_reading_history").select(`
          article_id,
          last_read_at,
          articles(
            id,
            title,
            slug,
            excerpt,
            image_url,
            view_count,
            published_at,
            is_featured,
            category_id,
            categories(id, name, slug)
          )
        `).eq("user_id",t).order("last_read_at",{ascending:!1}).limit(s);r=o,n=l}else r=a,n=i;if(n&&n.code!=="PGRST116")return console.error("Error fetching reading history:",n),[];if(r&&r.length>0){const o=r.map(l=>l.articles).filter(l=>l!==null);return console.log(`[getUserReadingHistory] Found ${o.length} articles in reading history`),ku(o)}return console.log("[getUserReadingHistory] No reading history found, returning empty array"),[]}catch(r){return console.error("Error fetching reading history:",r),[]}}async function Vq(t,s){try{const{error:r}=await J.from("user_bookmarks").insert({user_id:s,article_id:t.id,folder_name:"offline_reading"});return r?r.code==="23505"?{success:!1,message:"    "}:(console.error("Error saving article for offline:",r),{success:!1,message:"   "}):{success:!0,message:"     "}}catch(r){return console.error("Error saving article for offline:",r),{success:!1,message:"   "}}}async function Bq(t,s,r,n){try{const{error:a}=await J.from("user_feedback").insert({user_id:s,feedback_type:"article_report",content:r,metadata:{article_id:t,details:n||"",user_agent:navigator.userAgent},status:"submitted"});return a?(console.error("Error reporting article:",a),{success:!1,message:"   "}):{success:!0,message:"     "}}catch(a){return console.error("Error reporting article:",a),{success:!1,message:"   "}}}async function qq(t,s=10){try{const{data:r,error:n}=await J.from("article_comments").select(`
        id,
        content,
        created_at,
        user_profiles(full_name),
        users(email)
      `).eq("article_id",t).eq("is_approved",!0).order("created_at",{ascending:!1}).limit(s);return n?(console.error("Error fetching comments:",n),[]):r||[]}catch(r){return console.error("Error fetching comments:",r),[]}}async function Hq(t,s){try{const{data:r,error:n}=await J.from("user_likes").select("id").eq("content_id",t).eq("content_type","article").eq("user_id",s).single(),{count:a,error:i}=await J.from("user_likes").select("*",{count:"exact"}).eq("content_id",t).eq("content_type","article");return n&&n.code!=="PGRST116"&&console.error("Error checking like status:",n),i&&console.error("Error counting likes:",i),{isLiked:!!r,likeCount:a||0}}catch(r){return console.error("Error getting user like status:",r),{isLiked:!1,likeCount:0}}}async function Wq(t,s,r){try{if(r){const{error:n}=await J.from("user_likes").insert({user_id:s,content_id:t,content_type:"article"});if(n){if(n.code==="23505")return{success:!0,alreadyExists:!0};throw n}}else{const{error:n}=await J.from("user_likes").delete().eq("user_id",s).eq("content_id",t).eq("content_type","article");if(n)throw n}return{success:!0}}catch(n){throw console.error("Error toggling article like:",n),n}}async function Kq(t,s,r){try{if(r){const{error:n}=await J.from("user_bookmarks").insert({user_id:s,article_id:t,folder_name:"default"});if(n){if(n.code==="23505")return{success:!0,alreadyExists:!0};throw n}}else{const{error:n}=await J.from("user_bookmarks").delete().eq("user_id",s).eq("article_id",t);if(n)throw n}return{success:!0}}catch(n){throw console.error("Error toggling bookmark:",n),n}}async function Gq(t,s,r){try{const{error:n}=await J.from("article_comments").insert({article_id:t,user_id:s,content:r,is_approved:!1});if(n)throw n;return{success:!0}}catch(n){throw console.error("Error adding comment:",n),n}}async function Qq(t,s,r){try{const{error:n}=await J.from("user_interactions").insert({user_id:s,article_id:t,interaction_type:"share",metadata:{platform:r}});return n&&console.error("Error tracking share, ignoring:",n),{success:!0}}catch(n){return console.error("Error tracking article share:",n),{success:!0}}}async function Zq(t=10){try{const{data:s,error:r}=await J.from("polls").select(`
        *,
        poll_options:poll_options(*)
      `).eq("is_active",!0).order("created_at",{ascending:!1}).limit(t);if(r)throw r;return s||[]}catch(s){return console.error("Error fetching polls:",s),[]}}async function Yq(t,s,r){try{const{data:n}=await J.from("user_interactions").select("id").eq("user_id",r).eq("content_type","poll").eq("content_id",t).single();if(n)return{success:!1,message:"     "};const{error:a}=await J.from("user_interactions").insert({user_id:r,content_type:"poll",content_id:t,interaction_type:"vote",metadata:{option_id:s}});return a?(console.error("Error voting on poll:",a),{success:!1,message:"   "}):{success:!0,message:"     "}}catch(n){return console.error("Error in voteOnPoll:",n),{success:!1,message:"   "}}}async function Xq(t,s,r,n={}){try{const{error:a}=await J.from("user_feedback").insert({user_id:t,feedback_type:s,content:r,metadata:n,status:"submitted"});if(a)throw a;return{success:!0}}catch(a){throw console.error("Error submitting user feedback:",a),a}}async function Jq(t,s=5){try{const{data:r,error:n}=await J.from("user_search_history").select("*").eq("user_id",t).order("created_at",{ascending:!1}).limit(s);return n?(console.error("Error fetching search history:",n),[]):r||[]}catch(r){return console.error("Failed to fetch user search history:",r),[]}}async function eH(t,s,r){try{const{error:n}=await J.from("user_search_history").insert({user_id:t,search_query:s,search_results_count:r,search_timestamp:new Date().toISOString()});n&&console.error("Error saving search history:",n)}catch(n){console.error("Failed to save search history:",n)}}async function tH(t,s,r,n={}){try{const{error:a}=await J.from("user_interactions").insert({user_id:t,content_id:s,content_type:"article",interaction_type:r,metadata:n});a&&console.error("Error recording user interaction:",a)}catch(a){console.error("Failed to record user interaction:",a)}}async function sH(t,s){try{const{data:r,error:n}=await J.from("user_reading_history").insert({user_id:s,article_id:t,read_at:new Date().toISOString()});return n?(console.error("Error tracking reading history:",n),!1):!0}catch(r){return console.error("Failed to track reading history:",r),!1}}async function rH(t,s=6){try{const{data:r}=await J.from("user_reading_history").select("article_id").eq("user_id",t).limit(10);let n=[];if(r&&r.length>0){const{data:l}=await J.from("articles").select("category_id").in("id",r.map(c=>c.article_id));l&&(n=[...new Set(l.map(c=>c.category_id))])}let a=J.from("articles").select(`
        *,
        categories(id, name, slug)
      `).order("published_at",{ascending:!1}).limit(s);n.length>0&&(a=a.in("category_id",n));const{data:i,error:o}=await a;return o?(console.error("Error fetching personalized recommendations:",o),nv(s)):ku(i||[])}catch(r){return console.error("Error in getPersonalizedRecommendations:",r),nv(s)}}const ke=Object.freeze(Object.defineProperty({__proto__:null,addComment:Gq,getArticleComments:qq,getArticleTags:Mq,getArticles:_q,getAudioArticles:Iq,getBreakingNews:Eq,getCategories:bq,getCategoryBySlug:Nq,getEPapers:Tq,getLatestArticles:Sq,getLatestEPaper:Pq,getPersonalizedRecommendations:rH,getPolls:Zq,getPopularArticles:nv,getSiteSettings:Rq,getSocialMediaPosts:Dq,getTrendingTopics:Lq,getUserBookmarks:zq,getUserLikeStatus:Hq,getUserPreferences:Uq,getUserReadingHistory:rA,getUserSearchHistory:Jq,getUserStats:sA,getVideoBySlug:Oq,getVideoContent:Aq,getWeather:kq,getWeatherByCity:Cq,recordUserInteraction:tH,reportArticle:Bq,saveArticleForOffline:Vq,saveUserSearchHistory:eH,searchArticles:Fq,submitUserFeedback:Xq,subscribeToNewsletter:$q,toggleArticleLike:Wq,toggleBookmark:Kq,trackArticleShare:Qq,trackReadingHistory:sH,transformArticleData:ku,voteOnPoll:Yq},Symbol.toStringTag,{value:"Module"})),nH=()=>{var P,A,k,T;const{toast:t}=Ze(),[s,r]=m.useState(null),[n,a]=m.useState(!0),[i,o]=m.useState(!1),[l,c]=m.useState(null),[d,u]=m.useState([]),[h,f]=m.useState(null),[x,g]=m.useState(!1),[v,p]=m.useState(!1),y=async()=>{const{data:{user:S}}=await J.auth.getUser();return c(S),S},j=async()=>{var S,R,B,H;try{const I=await y();if(!I){a(!1);return}const{data:V,error:z}=await J.from("user_profiles").select("*").eq("user_id",I.id).single();if(z&&z.code!=="PGRST116"&&console.error("Error fetching user profile:",z),V)r(V);else{const O={user_id:I.id,first_name:((R=(S=I.user_metadata)==null?void 0:S.full_name)==null?void 0:R.split(" ")[0])||"",last_name:((H=(B=I.user_metadata)==null?void 0:B.full_name)==null?void 0:H.split(" ").slice(1).join(" "))||"",bio:"",location:"",website:"",social_links:{}},{data:U,error:ee}=await J.from("user_profiles").insert(O).select().single();ee?(console.error("Error creating profile:",ee),r(O)):r(U)}}catch(I){console.error("Error fetching profile:",I),t({title:"",description:"    ",variant:"destructive"})}},w=async()=>{if(!(!s||!l))try{o(!0);const S={user_id:l.id,first_name:s.first_name||"",last_name:s.last_name||"",bio:s.bio||"",avatar_url:s.avatar_url||"",location:s.location||"",website:s.website||"",social_links:s.social_links||{},updated_at:new Date().toISOString()};console.log("Attempting to save profile:",S);let R,B;const{data:H}=await J.from("user_profiles").select("id").eq("user_id",l.id).single();if(H){const I=await J.from("user_profiles").update({first_name:S.first_name,last_name:S.last_name,bio:S.bio,avatar_url:S.avatar_url,location:S.location,website:S.website,phone:s.phone||null,occupation:s.occupation||null,gender:s.gender||null,date_of_birth:s.date_of_birth||null,social_links:S.social_links,updated_at:S.updated_at}).eq("user_id",l.id).select();R=I.data,B=I.error}else{const I=await J.from("user_profiles").insert({...S,phone:s.phone||null,occupation:s.occupation||null,gender:s.gender||null,date_of_birth:s.date_of_birth||null}).select();R=I.data,B=I.error}if(B){console.error("Profile save error details:",B),t({title:" ",description:`  : ${B.message}`,variant:"destructive"});return}console.log("Profile saved successfully:",R),t({title:"",description:"  "})}catch(S){console.error("Error saving profile:",S),t({title:"",description:"   ",variant:"destructive"})}finally{o(!1)}},b=(S,R)=>{r(B=>B?{...B,[S]:R}:null)},N=async()=>{if(l!=null&&l.id)try{g(!0);const S=await rA(l.id,10);u(S)}catch(S){console.error("Error fetching reading history:",S)}finally{g(!1)}},_=async()=>{if(l!=null&&l.id)try{p(!0);const S=await sA(l.id);f(S)}catch(S){console.error("Error fetching user stats:",S)}finally{p(!1)}};return m.useEffect(()=>{(async()=>{a(!0),await j(),a(!1),l!=null&&l.id&&await Promise.all([N(),_()])})()},[]),m.useEffect(()=>{l!=null&&l.id&&(N(),_())},[l==null?void 0:l.id]),n?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(ae,{className:"h-8 w-8 animate-spin"}),e.jsx("span",{className:"ml-2",children:"  ..."})]})}):l?s?(s.first_name&&s.last_name?`${s.first_name}${s.last_name}`:s.first_name||s.last_name,e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:" "}),e.jsx("p",{className:"text-muted-foreground",children:"    "})]}),e.jsx(D,{onClick:w,disabled:i,children:i?e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"h-4 w-4 mr-2 animate-spin"})," ..."]}):" "})]}),e.jsxs(ds,{defaultValue:"profile",children:[e.jsxs(ns,{className:"grid w-full grid-cols-4",children:[e.jsx(ve,{value:"profile",children:" "}),e.jsx(ve,{value:"history",children:" "}),e.jsx(ve,{value:"achievements",children:""}),e.jsx(ve,{value:"activity",children:""})]}),e.jsx(pe,{value:"profile",className:"mt-6",children:e.jsxs(C,{children:[e.jsxs(L,{children:[e.jsx(M,{children:" "}),e.jsx(Ce,{children:"    "})]}),e.jsxs(E,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(bo,{className:"h-20 w-20",children:[e.jsx(No,{src:s.avatar_url}),e.jsx(_o,{className:"text-lg",children:((P=s.first_name)==null?void 0:P.charAt(0))||((A=l.email)==null?void 0:A.charAt(0).toUpperCase())||"U"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx(G,{htmlFor:"avatar-url",children:"  URL"}),e.jsx(te,{id:"avatar-url",value:s.avatar_url||"",onChange:S=>b("avatar_url",S.target.value),placeholder:"https://example.com/avatar.jpg"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"first-name",children:" "}),e.jsx(te,{id:"first-name",value:s.first_name||"",onChange:S=>b("first_name",S.target.value),placeholder:"  "})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"last-name",children:" "}),e.jsx(te,{id:"last-name",value:s.last_name||"",onChange:S=>b("last_name",S.target.value),placeholder:"  "})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"location",children:""}),e.jsx(te,{id:"location",value:s.location||"",onChange:S=>b("location",S.target.value),placeholder:", "})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"website",children:""}),e.jsx(te,{id:"website",value:s.website||"",onChange:S=>b("website",S.target.value),placeholder:"https://yourwebsite.com"})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"phone",children:" "}),e.jsx(te,{id:"phone",value:s.phone||"",onChange:S=>b("phone",S.target.value),placeholder:"+880xxxxxxxxxx"})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"occupation",children:""}),e.jsx(te,{id:"occupation",value:s.occupation||"",onChange:S=>b("occupation",S.target.value),placeholder:" "})]})]}),e.jsxs("div",{children:[e.jsx(G,{children:""}),e.jsx(te,{value:l.email||"",disabled:!0,className:"bg-muted"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"    "})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"gender",children:""}),e.jsxs("select",{id:"gender",value:s.gender||"",onChange:S=>b("gender",S.target.value),className:"w-full px-3 py-2 border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-ring",children:[e.jsx("option",{value:"",children:" "}),e.jsx("option",{value:"male",children:""}),e.jsx("option",{value:"female",children:""}),e.jsx("option",{value:"other",children:""})]})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"date-of-birth",children:" "}),e.jsx(te,{id:"date-of-birth",type:"date",value:s.date_of_birth||"",onChange:S=>b("date_of_birth",S.target.value)})]})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"bio",children:""}),e.jsx(Qt,{id:"bio",value:s.bio||"",onChange:S=>b("bio",S.target.value),placeholder:"   ...",rows:4})]}),e.jsxs("div",{children:[e.jsx(G,{children:" "}),e.jsx(te,{value:l.created_at?new Date(l.created_at).toLocaleDateString("bn-BD"):"",disabled:!0,className:"bg-muted"})]})]})]})}),e.jsx(pe,{value:"history",className:"mt-6",children:e.jsxs(C,{children:[e.jsxs(L,{children:[e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx(eh,{className:"h-5 w-5"})," "]}),e.jsx(Ce,{children:"    "})]}),e.jsx(E,{children:x?e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx(ae,{className:"h-6 w-6 animate-spin"}),e.jsx("span",{className:"ml-2",children:"   ..."})]}):d.length>0?e.jsx("div",{className:"space-y-4",children:d.map((S,R)=>{var B;return e.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[S.image_url&&e.jsx("img",{src:S.image_url,alt:S.title,className:"w-16 h-16 object-cover rounded"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-sm line-clamp-2",children:S.title}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[(B=S.categories)==null?void 0:B.name,"  ",ls(S.published_at)]}),S.excerpt&&e.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:S.excerpt})]}),e.jsxs(X,{variant:"secondary",className:"text-xs",children:["#",R+1]})]},S.id)})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(eh,{className:"h-12 w-12 mx-auto text-muted-foreground mb-2"}),e.jsx("p",{className:"text-muted-foreground",children:"    "}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"    "})]})})]})}),e.jsx(pe,{value:"achievements",className:"mt-6",children:e.jsxs(C,{children:[e.jsxs(L,{children:[e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx(Ti,{className:"h-5 w-5"}),""]}),e.jsx(Ce,{children:"    "})]}),e.jsx(E,{children:v?e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx(ae,{className:"h-6 w-6 animate-spin"}),e.jsx("span",{className:"ml-2",children:"  ..."})]}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(eh,{className:"h-5 w-5 text-blue-500"}),e.jsx("h4",{className:"font-medium",children:" "})]}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:(h==null?void 0:h.totalReadArticles)||0}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"  "})]}),e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ti,{className:"h-5 w-5 text-yellow-500"}),e.jsx("h4",{className:"font-medium",children:" "})]}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:(h==null?void 0:h.totalLikes)||0}),e.jsx("p",{className:"text-sm text-muted-foreground",children:" "})]}),e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Rt,{className:"h-5 w-5 text-green-500"}),e.jsx("h4",{className:"font-medium",children:""})]}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:(h==null?void 0:h.totalBookmarks)||0}),e.jsx("p",{className:"text-sm text-muted-foreground",children:" "})]}),e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Rt,{className:"h-5 w-5 text-purple-500"}),e.jsx("h4",{className:"font-medium",children:""})]}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:(h==null?void 0:h.totalComments)||0}),e.jsx("p",{className:"text-sm text-muted-foreground",children:" "})]})]})})]})}),e.jsx(pe,{value:"activity",className:"mt-6",children:e.jsxs(C,{children:[e.jsxs(L,{children:[e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx(Rt,{className:"h-5 w-5"}),""]}),e.jsx(Ce,{children:"   "})]}),e.jsx(E,{children:e.jsx("div",{className:"space-y-4",children:l&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(eh,{className:"h-4 w-4 text-blue-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:" "}),e.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(l.created_at).toLocaleDateString("bn-BD")})]})]}),d.length>0&&e.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[e.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(Rt,{className:"h-4 w-4 text-green-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"  "}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:['"',(T=(k=d[0])==null?void 0:k.title)==null?void 0:T.substring(0,50),'..."']})]})]}),(h==null?void 0:h.totalInteractions)>0&&e.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[e.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:e.jsx(Ti,{className:"h-4 w-4 text-purple-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:" "}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[h.totalInteractions,"     "]})]})]})]})})})]})})]})]})):null:e.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-foreground mb-4",children:""}),e.jsx("p",{className:"text-muted-foreground",children:"      "}),e.jsx(D,{onClick:()=>window.location.href="/login",className:"mt-4",children:" "})]})})};function aN(){return e.jsx(nH,{})}function aH(){var B,H,I,V;const{user:t,loading:s}=rt(),[,r]=yt(),{toast:n}=Ze(),a=cs(),[i,o]=m.useState(!1),{data:l,isLoading:c,error:d}=_e({queryKey:["user-stats",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))throw new Error("No user ID");const{getUserStats:z}=await de(async()=>{const{getUserStats:O}=await Promise.resolve().then(()=>ke);return{getUserStats:O}},void 0);return await z(t.id)},enabled:!!(t!=null&&t.id)}),{data:u,isLoading:h,error:f}=_e({queryKey:["user-bookmarks",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return[];const{getUserBookmarks:z}=await de(async()=>{const{getUserBookmarks:O}=await Promise.resolve().then(()=>ke);return{getUserBookmarks:O}},void 0);return await z(t.id)},enabled:!!(t!=null&&t.id)}),{data:x,isLoading:g,error:v}=_e({queryKey:["user-reading-history",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return[];const{getUserReadingHistory:z}=await de(async()=>{const{getUserReadingHistory:O}=await Promise.resolve().then(()=>ke);return{getUserReadingHistory:O}},void 0);return await z(t.id)},enabled:!!(t!=null&&t.id)}),{data:p,isLoading:y}=_e({queryKey:["user-analytics",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return{totalInteractions:0,interactionsByType:{},topCategories:[],recentReading:[]};const{getUserStats:z}=await de(async()=>{const{getUserStats:U}=await Promise.resolve().then(()=>ke);return{getUserStats:U}},void 0),O=await z(t.id);return{totalInteractions:O.totalInteractions||0,interactionsByType:{like:O.totalInteractions||0},topCategories:O.favoriteCategories||[],recentReading:[]}},enabled:!!(t!=null&&t.id)}),{data:j,isLoading:w}=_e({queryKey:["user-preferences",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id))return{theme:"light",language:"bn",notifications:!0,autoPlay:!1,fontSize:"medium"};const{getUserPreferences:z}=await de(async()=>{const{getUserPreferences:O}=await Promise.resolve().then(()=>ke);return{getUserPreferences:O}},void 0);return await z(t.id)},enabled:!!(t!=null&&t.id)}),{data:b,isLoading:N}=_e({queryKey:["user-interactions",t==null?void 0:t.id],queryFn:async()=>t!=null&&t.id?[]:[],enabled:!!(t!=null&&t.id)}),{data:_,isLoading:P}=_e({queryKey:["user-achievements",t==null?void 0:t.id],queryFn:async()=>t!=null&&t.id?[{id:1,name:" ",description:"  ",earned:!0},{id:2,name:" ",description:"   ",earned:!1}]:[],enabled:!!(t!=null&&t.id)}),{data:A,isLoading:k}=_e({queryKey:["user-achievement-progress",t==null?void 0:t.id],queryFn:async()=>t!=null&&t.id?[{achievement_id:1,progress:100,target:100},{achievement_id:2,progress:3,target:7}]:[],enabled:!!(t!=null&&t.id)});if(m.useEffect(()=>{!s&&!t&&r("/auth")},[s,t,r]),s)return e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:e.jsx(ae,{className:"h-8 w-8 animate-spin text-primary"})});if(!t)return null;const T={savedArticles:(l==null?void 0:l.totalBookmarks)||(u==null?void 0:u.length)||0,readArticles:(l==null?void 0:l.totalReadArticles)||(x==null?void 0:x.length)||0,totalLikes:(l==null?void 0:l.totalLikes)||0,totalComments:(l==null?void 0:l.totalComments)||0,memberSince:t?new Date(t.created_at).toLocaleDateString("bn-BD"):"N/A",totalInteractions:(l==null?void 0:l.totalInteractions)||(p==null?void 0:p.totalInteractions)||0,readingStreak:S(x||[]),favoriteCategories:((B=p==null?void 0:p.topCategories)==null?void 0:B.slice(0,3))||[]};console.log("Dashboard Debug Info:",{user:t==null?void 0:t.id,userStats:l,savedArticles:u==null?void 0:u.length,readingHistory:x==null?void 0:x.length,statsError:d==null?void 0:d.message,savedError:f==null?void 0:f.message,historyError:v==null?void 0:v.message});function S(z){if(!z||z.length===0)return 0;const O=new Date;let U=0;const ee=z.sort((se,W)=>new Date(W.lastReadAt).getTime()-new Date(se.lastReadAt).getTime());for(let se=0;se<ee.length;se++){const W=new Date(ee[se].lastReadAt);if(Math.floor((O.getTime()-W.getTime())/(1e3*60*60*24))===se)U++;else break}return U}const R=async()=>{try{n({title:" ",description:"    "}),o(!1),a.invalidateQueries()}catch{n({title:" ",description:"   ",variant:"destructive"})}};return e.jsxs("div",{className:"min-h-screen bg-background",children:[i&&e.jsx("div",{className:"container mx-auto px-4 py-4",children:e.jsxs(Bs,{className:"border-yellow-200 bg-yellow-50 dark:bg-yellow-950",children:[e.jsx(Yt,{className:"h-4 w-4"}),e.jsxs(qs,{className:"text-yellow-800 dark:text-yellow-200",children:["          ",e.jsx(D,{onClick:R,size:"sm",className:"ml-2",children:" "})]})]})}),e.jsx("div",{className:"bg-card border-b border-border",children:e.jsx("div",{className:"container mx-auto px-4 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(bo,{className:"w-16 h-16",children:[e.jsx(No,{src:(H=t.user_metadata)==null?void 0:H.avatar_url}),e.jsx(_o,{className:"text-lg bg-primary text-primary-foreground",children:(I=t.email)==null?void 0:I.charAt(0).toUpperCase()})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-foreground",children:((V=t.user_metadata)==null?void 0:V.name)||t.email}),e.jsxs("p",{className:"text-muted-foreground",children:[" : ",T.memberSince]})]})]}),e.jsx(Y,{href:"/profile",children:e.jsxs(D,{variant:"outline",children:[e.jsx(ED,{className:"h-4 w-4 mr-2"})," "]})})]})})}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-3",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx(C,{className:"border-border bg-card",children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(pr,{className:"h-8 w-8 text-red-500"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-foreground",children:T.savedArticles})]})]})})}),e.jsx(C,{className:"border-border bg-card",children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ar,{className:"h-8 w-8 text-blue-500"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-foreground",children:T.readArticles})]})]})})}),e.jsx(C,{className:"border-border bg-card",children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Rt,{className:"h-8 w-8 text-purple-500"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-foreground",children:T.totalLikes})]})]})})}),e.jsx(C,{className:"border-border bg-card",children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ct,{className:"h-8 w-8 text-green-500"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:" "}),e.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[T.readingStreak," "]})]})]})})}),e.jsx(C,{className:"border-border bg-card",children:e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Rt,{className:"h-8 w-8 text-purple-500"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-foreground",children:T.totalInteractions})]})]})})})]})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(ds,{defaultValue:"saved",className:"space-y-6",children:[e.jsxs(ns,{className:"grid w-full grid-cols-4",children:[e.jsx(ve,{value:"saved",children:" "}),e.jsx(ve,{value:"history",children:" "}),e.jsx(ve,{value:"achievements",children:""}),e.jsx(ve,{value:"activity",children:""})]}),e.jsx(pe,{value:"saved",children:e.jsxs(C,{children:[e.jsxs(L,{children:[e.jsx(M,{children:" "}),e.jsx(Ce,{children:"    "})]}),e.jsx(E,{children:h?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(ae,{className:"h-6 w-6 animate-spin"})}):u!=null&&u.length?e.jsxs("div",{className:"space-y-4",children:[u.slice(0,5).map((z,O)=>{var U;return e.jsxs("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg bg-card",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(Y,{href:`/article/${z.slug}`,children:e.jsx("h3",{className:"font-medium text-foreground hover:text-primary cursor-pointer",children:z.title})}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:(U=z.category)==null?void 0:U.name})]}),e.jsx(X,{variant:"secondary",children:z.readingTime||" "})]},`saved-${z.id||O}`)}),e.jsx(Y,{href:"/saved-articles",children:e.jsx(D,{variant:"outline",className:"w-full",children:" "})})]}):e.jsx("p",{className:"text-muted-foreground text-center py-8",children:"   "})})]})}),e.jsx(pe,{value:"history",children:e.jsxs(C,{children:[e.jsxs(L,{children:[e.jsx(M,{children:" "}),e.jsx(Ce,{children:"   "})]}),e.jsx(E,{children:g?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(ae,{className:"h-6 w-6 animate-spin"})}):x!=null&&x.length?e.jsxs("div",{className:"space-y-4",children:[x.slice(0,5).map((z,O)=>{var U,ee;return e.jsxs("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg bg-card",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(Y,{href:`/article/${(U=z.article)==null?void 0:U.slug}`,children:e.jsx("h3",{className:"font-medium text-foreground hover:text-primary cursor-pointer",children:(ee=z.article)==null?void 0:ee.title})}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[": ",new Date(z.lastReadAt||z.readAt).toLocaleDateString("bn-BD")]})]}),e.jsx(ht,{className:"h-4 w-4 text-muted-foreground"})]},`history-${z.id||O}`)}),e.jsx(Y,{href:"/reading-history",children:e.jsx(D,{variant:"outline",className:"w-full",children:"  "})})]}):e.jsx("p",{className:"text-muted-foreground text-center py-8",children:"   "})})]})}),e.jsx(pe,{value:"achievements",children:e.jsxs(C,{children:[e.jsxs(L,{children:[e.jsx(M,{children:""}),e.jsx(Ce,{children:"     "})]}),e.jsx(E,{children:P||k?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(ae,{className:"h-6 w-6 animate-spin"})}):e.jsxs("div",{className:"space-y-6",children:[_&&_.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-foreground mb-4 flex items-center",children:[e.jsx(Ti,{className:"h-5 w-5 mr-2 text-yellow-500"}),"  (",_.length,")"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:_.map(z=>{var O,U;return e.jsx("div",{className:"p-4 border border-border rounded-lg bg-gradient-to-r from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-yellow-100 dark:bg-yellow-900/30 rounded-full mr-3",children:e.jsx(Ti,{className:"h-6 w-6 text-yellow-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-foreground",children:(O=z.achievements)==null?void 0:O.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:(U=z.achievements)==null?void 0:U.description}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[": ",new Date(z.earned_at).toLocaleDateString("bn-BD")]})]}),e.jsx(ts,{className:"h-6 w-6 text-green-500"})]})},z.id)})})]}),A&&A.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-foreground mb-4 flex items-center",children:[e.jsx(zl,{className:"h-5 w-5 mr-2 text-blue-500"}),""]}),e.jsx("div",{className:"space-y-4",children:A.filter(z=>!z.isEarned).slice(0,5).map((z,O)=>e.jsxs("div",{className:"p-4 border border-border rounded-lg bg-card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"p-2 bg-muted rounded-full mr-3",children:[z.icon==="BookOpen"&&e.jsx(Ar,{className:"h-4 w-4"}),z.icon==="Trophy"&&e.jsx(Ti,{className:"h-4 w-4"}),z.icon==="Award"&&e.jsx(rm,{className:"h-4 w-4"}),z.icon==="Star"&&e.jsx(ri,{className:"h-4 w-4"}),z.icon==="Heart"&&e.jsx(pr,{className:"h-4 w-4"}),z.icon==="Archive"&&e.jsx(Ar,{className:"h-4 w-4"}),z.icon==="Zap"&&e.jsx(du,{className:"h-4 w-4"}),z.icon==="Calendar"&&e.jsx(Os,{className:"h-4 w-4"}),z.icon==="Target"&&e.jsx(zl,{className:"h-4 w-4"}),z.icon==="Activity"&&e.jsx(Rt,{className:"h-4 w-4"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-foreground",children:z.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:z.description})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-medium text-foreground",children:[z.currentValue,"/",z.requirement]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[Math.round(z.progressPercentage),"%"]})]})]}),e.jsx(gr,{value:z.progressPercentage,className:"h-2"})]},z.id||`progress-${O}-${z.name||O}`))})]}),(!_||_.length===0)&&(!A||A.length===0)&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ti,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"   "}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"      "})]})]})})]})}),e.jsx(pe,{value:"activity",children:e.jsxs(C,{children:[e.jsxs(L,{children:[e.jsx(M,{children:" "}),e.jsx(Ce,{children:"   "})]}),e.jsx(E,{children:N?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(ae,{className:"h-6 w-6 animate-spin"})}):b!=null&&b.length?e.jsx("div",{className:"space-y-4",children:b.map((z,O)=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-muted rounded-lg",children:[z.interactionType==="read"&&e.jsx(Ar,{className:"h-5 w-5 text-blue-600"}),z.interactionType==="save"&&e.jsx(pr,{className:"h-5 w-5 text-green-600"}),z.interactionType==="like"&&e.jsx(ri,{className:"h-5 w-5 text-yellow-600"}),z.interactionType==="share"&&e.jsx(Tn,{className:"h-5 w-5 text-purple-600"}),z.interactionType==="view"&&e.jsx(Et,{className:"h-5 w-5 text-gray-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"text-sm font-medium text-foreground",children:[z.interactionType==="read"&&" ",z.interactionType==="save"&&"  ",z.interactionType==="like"&&"  ",z.interactionType==="share"&&"  ",z.interactionType==="view"&&" "]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(z.createdAt).toLocaleDateString("bn-BD")})]})]},z.id||`activity-${O}-${z.createdAt||Date.now()}`))}):e.jsx("p",{className:"text-muted-foreground text-center py-8",children:"   "})})]})})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(C,{className:"border-border bg-card",children:[e.jsx(L,{children:e.jsx(M,{className:"text-foreground",children:" "})}),e.jsxs(E,{className:"space-y-3",children:[e.jsx(Y,{href:"/profile",children:e.jsxs(D,{variant:"outline",className:"w-full justify-start",children:[e.jsx(Zr,{className:"h-4 w-4 mr-2"})," "]})}),e.jsx(Y,{href:"/saved-articles",children:e.jsxs(D,{variant:"outline",className:"w-full justify-start",children:[e.jsx(pr,{className:"h-4 w-4 mr-2"})," "]})}),e.jsx(Y,{href:"/reading-history",children:e.jsxs(D,{variant:"outline",className:"w-full justify-start",children:[e.jsx(ht,{className:"h-4 w-4 mr-2"})," "]})})]})]}),T.favoriteCategories&&T.favoriteCategories.length>0&&e.jsxs(C,{className:"border-border bg-card",children:[e.jsxs(L,{children:[e.jsx(M,{className:"text-foreground",children:" "}),e.jsx(Ce,{children:"  "})]}),e.jsx(E,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:T.favoriteCategories.map((z,O)=>e.jsx(X,{variant:"secondary",className:"text-xs",children:z.name||z},`fav-category-${z.id||z.name||z}-${O}`))})})]}),e.jsxs(C,{className:"border-border bg-card",children:[e.jsxs(L,{children:[e.jsx(M,{className:"text-foreground",children:" "}),e.jsx(Ce,{children:"  "})]}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-muted-foreground",children:" "}),e.jsxs("span",{className:"text-foreground",children:[T.readArticles,"/"]})]}),e.jsx(gr,{value:Math.min(T.readArticles/50*100,100),className:"h-2"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-muted-foreground",children:" "}),e.jsxs("span",{className:"text-foreground",children:[T.savedArticles,"/"]})]}),e.jsx(gr,{value:Math.min(T.savedArticles/20*100,100),className:"h-2"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-muted-foreground",children:" "}),e.jsxs("span",{className:"text-foreground",children:[T.readingStreak,"/ "]})]}),e.jsx(gr,{value:Math.min(T.readingStreak/30*100,100),className:"h-2"})]})]})})]})]})]})})]})}const iH=()=>{const[t,s]=m.useState([]),[r,n]=m.useState(!0),[a,i]=m.useState(null),{user:o}=rt(),[l,c]=yt(),{toast:d}=Ze();m.useEffect(()=>{!o&&!r&&c("/auth")},[o,r]),m.useEffect(()=>{o&&(async()=>{try{n(!0);const{data:{session:f}}=await ne.auth.getSession();if(!f){i("   ");return}const x=f.access_token,g=await fetch("/api/saved-articles",{headers:{Authorization:`Bearer ${x}`}});if(!g.ok)throw new Error("     ");const v=await g.json();s(v),i(null)}catch(f){i(f.message||"     "),console.error("Error fetching saved articles:",f)}finally{n(!1)}})()},[o]);const u=async h=>{try{const{data:{session:f}}=await ne.auth.getSession();if(!f){i("   ");return}const x=f.access_token;if(!(await fetch(`/api/unsave-article/${h}`,{method:"DELETE",headers:{Authorization:`Bearer ${x}`}})).ok)throw new Error("     ");s(t.filter(v=>v.id!==h)),d({title:"  ",description:"      "})}catch(f){d({title:" ",description:f.message||"     ",variant:"destructive"}),console.error("Error unsaving article:",f)}};return r?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(ae,{className:"h-8 w-8 animate-spin text-primary"})}):e.jsxs(e.Fragment,{children:[e.jsx(lr,{children:e.jsx("title",{children:"  | "})}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6 font-hind",children:" "}),a?e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-md mb-6",children:a}):null,t.length===0&&!a?e.jsxs("div",{className:"bg-muted/30 p-8 rounded-lg text-center",children:[e.jsx("h3",{className:"text-xl mb-2 font-hind",children:"   "}),e.jsx("p",{className:"mb-4 text-muted-foreground",children:'         " "        '}),e.jsx(D,{asChild:!0,children:e.jsx(Y,{href:"/",children:"  "})})]}):e.jsx("div",{className:"grid grid-cols-1 gap-6",children:t.map(h=>e.jsx(C,{className:"overflow-hidden",children:e.jsxs("div",{className:"flex flex-col md:flex-row",children:[e.jsx("div",{className:"md:w-1/3",children:e.jsx("img",{src:h.imageUrl,alt:h.title,className:"w-full h-48 md:h-full object-cover"})}),e.jsxs("div",{className:"md:w-2/3 p-4 md:p-6 flex flex-col",children:[e.jsxs(L,{className:"p-0 pb-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[h.category?e.jsx(Y,{href:`/category/${h.category.slug}`,className:"text-sm font-medium text-accent hover:underline mb-1 inline-block",children:h.category.name}):e.jsx("span",{className:"text-sm font-medium text-muted-foreground mb-1 inline-block",children:" "}),e.jsx(D,{variant:"ghost",size:"icon",onClick:()=>u(h.id),title:" ",children:e.jsx(vs,{className:"h-4 w-4 text-muted-foreground hover:text-destructive"})})]}),e.jsx(M,{className:"text-xl",children:e.jsx(Y,{href:`/article/${h.slug}`,className:"hover:text-accent transition-colors",children:h.title})})]}),e.jsx(E,{className:"p-0 py-2 flex-grow",children:e.jsx("p",{className:"text-muted-foreground line-clamp-3",children:h.excerpt})}),e.jsxs(Bl,{className:"p-0 pt-2 flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:ls(h.publishedAt)}),e.jsx(D,{asChild:!0,variant:"ghost",size:"sm",children:e.jsx(Y,{href:`/article/${h.slug}`,children:" "})})]})]})]})},h.id))})]})})]})},oH=()=>{const[t,s]=m.useState([]),[r,n]=m.useState(!0),[a,i]=m.useState(null),{user:o}=rt(),[l,c]=yt();return Ze(),m.useEffect(()=>{!o&&!r&&c("/auth")},[o,r]),m.useEffect(()=>{o&&(async()=>{try{n(!0);const{data:{session:u}}=await ne.auth.getSession();if(!u){i("   ");return}const h=u.access_token,f=await fetch("/api/reading-history",{headers:{Authorization:`Bearer ${h}`}});if(!f.ok)throw new Error("     ");const x=await f.json();s(x),i(null)}catch(u){i(u.message||"     "),console.error("Error fetching reading history:",u)}finally{n(!1)}})()},[o]),r?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(ae,{className:"h-8 w-8 animate-spin text-primary"})}):e.jsxs(e.Fragment,{children:[e.jsx(lr,{children:e.jsx("title",{children:"  | "})}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6 font-hind",children:" "}),a?e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-md mb-6",children:a}):null,t.length===0&&!a?e.jsxs("div",{className:"bg-muted/30 p-8 rounded-lg text-center",children:[e.jsx("h3",{className:"text-xl mb-2 font-hind",children:"   "}),e.jsx("p",{className:"mb-4 text-muted-foreground",children:"           "}),e.jsx(D,{asChild:!0,children:e.jsx(Y,{href:"/",children:"  "})})]}):e.jsx("div",{className:"space-y-6",children:e.jsxs(ds,{defaultValue:"recent",className:"w-full",children:[e.jsxs(ns,{className:"mb-6",children:[e.jsx(ve,{value:"recent",children:" "}),e.jsx(ve,{value:"mostread",children:" "})]}),e.jsx(pe,{value:"recent",className:"space-y-4",children:t.sort((d,u)=>new Date(u.last_read_at).getTime()-new Date(d.last_read_at).getTime()).map(d=>e.jsx(iN,{item:d},d.id))}),e.jsx(pe,{value:"mostread",className:"space-y-4",children:t.sort((d,u)=>u.read_count-d.read_count).map(d=>e.jsx(iN,{item:d},d.id))})]})})]})})]})},iN=({item:t})=>{const s=n=>{try{const a=new Date(n);return formatDistanceToNow(a,{addSuffix:!0}).replace(/\d+/g,o=>{const l=["","","","","","","","","",""];return o.split("").map(c=>{const d=parseInt(c);return isNaN(d)?c:l[d]}).join("")})}catch{return" "}},r=n=>{const a=["","","","","","","","","",""];return n.toString().split("").map(i=>a[parseInt(i)]).join("")};return e.jsx(C,{className:"overflow-hidden",children:e.jsxs("div",{className:"flex flex-col md:flex-row",children:[e.jsx("div",{className:"md:w-1/4",children:e.jsx("img",{src:t.imageUrl,alt:t.title,className:"w-full h-40 md:h-full object-cover"})}),e.jsxs("div",{className:"md:w-3/4 p-4 md:p-6 flex flex-col",children:[e.jsxs(L,{className:"p-0 pb-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Y,{href:`/category/${t.category.slug}`,className:"text-sm font-medium text-accent hover:underline mb-1 inline-block",children:t.category.name}),e.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[e.jsx(ht,{className:"h-3 w-3 mr-1"}),e.jsx("span",{children:s(t.lastReadAt)})]})]}),e.jsx(M,{className:"text-xl",children:e.jsx(Y,{href:`/article/${t.slug}`,className:"hover:text-accent transition-colors",children:t.title})})]}),e.jsx(E,{className:"p-0 py-2 flex-grow",children:e.jsx("p",{className:"text-muted-foreground line-clamp-2",children:t.excerpt})}),e.jsxs(Bl,{className:"p-0 pt-2 flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:t.read_count>1?`${r(t.read_count)}  `:" "}),e.jsx(D,{asChild:!0,variant:"ghost",size:"sm",children:e.jsx(Y,{href:`/article/${t.slug}`,children:" "})})]})]})]})})};function lH(){const[t,s]=m.useState([]),[r,n]=m.useState([]),[a,i]=m.useState(!0),[o,l]=m.useState(null);m.useEffect(()=>{(async()=>{try{i(!0),l(null);const{data:u,error:h}=await ne.from("team_members").select("*").order("is_featured",{ascending:!1});h?(console.error("Error fetching team members:",h),s([{id:1,name:" ",position:"  ",department:"",bio:"         ",image_url:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face",email:"editor@prothomalo.com",phone:"-",join_date:"2000-01-01",is_featured:!0},{id:2,name:" ",position:" ",department:"",bio:"         ",image_url:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",email:"anisul@prothomalo.com",phone:"-",join_date:"2005-03-15",is_featured:!0},{id:3,name:" ",position:" ",department:"",bio:"         ",image_url:"https://images.unsplash.com/photo-1560250097-0b93528c311a?w=150&h=150&fit=crop&crop=face",email:"firoz@prothomalo.com",phone:"-",join_date:"2010-07-20",is_featured:!1}])):s(u||[]);const{data:f,error:x}=await ne.from("company_info").select("*").order("display_order",{ascending:!0});x?(console.error("Error fetching company info:",x),n([{id:1,section:"mission",title:" ",content:"      ,         ,       ",display_order:1,updated_at:new Date().toISOString()},{id:2,section:"vision",title:" ",content:" ,                   ",display_order:2,updated_at:new Date().toISOString()},{id:3,section:"values",title:" ",content:", ,                      ",display_order:3,updated_at:new Date().toISOString()},{id:4,section:"history",title:" ",content:"                   ,        ",display_order:4,updated_at:new Date().toISOString()}])):n(f||[])}catch(u){console.error("Error fetching about data:",u),l("    ")}finally{i(!1)}})()},[]);const c=d=>{switch(d){case"mission":return e.jsx(zl,{className:"h-5 w-5 text-blue-500"});case"vision":return e.jsx(pr,{className:"h-5 w-5 text-red-500"});case"values":return e.jsx(rm,{className:"h-5 w-5 text-green-500"});case"history":return e.jsx(gt,{className:"h-5 w-5 text-purple-500"});default:return e.jsx(gt,{className:"h-5 w-5 text-gray-500"})}};return a?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsxs("div",{className:"animate-pulse space-y-6",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[...Array(3)].map((d,u)=>e.jsxs("div",{className:"bg-white rounded-lg p-6",children:[e.jsx("div",{className:"h-32 bg-gray-200 rounded-full w-32 mx-auto mb-4"}),e.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]},u))})]})})}):o?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsx(C,{children:e.jsxs(E,{className:"text-center py-8",children:[e.jsx("p",{className:"text-red-500 mb-4",children:o}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"  "})]})})})}):e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4",children:""}),e.jsx("p",{className:"text-gray-600",children:"  "})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12",children:r.map(d=>e.jsxs(C,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(L,{children:e.jsxs(M,{className:"flex items-center gap-2",children:[c(d.section),d.title]})}),e.jsxs(E,{children:[e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:d.content}),e.jsxs("div",{className:"text-sm text-gray-500",children:[" : ",e.jsx(vt,{date:d.updated_at})]})]})]},d.id))}),e.jsxs("div",{className:"mb-12",children:[e.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[e.jsx(gt,{className:"h-6 w-6 text-blue-500"})," "]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(d=>e.jsx(C,{className:"hover:shadow-lg transition-shadow",children:e.jsx(E,{className:"pt-6",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"relative mb-4",children:[e.jsx("img",{src:d.image_url,alt:d.name,className:"w-24 h-24 rounded-full mx-auto object-cover",onError:u=>{u.currentTarget.style.display="none",u.currentTarget.nextElementSibling.style.display="flex"}}),e.jsx("div",{className:"hidden w-24 h-24 rounded-full mx-auto bg-gray-200 flex items-center justify-center",children:e.jsx(gt,{className:"h-8 w-8 text-gray-400"})}),d.is_featured&&e.jsx(X,{className:"absolute -top-2 -right-2 bg-blue-500",children:""})]}),e.jsx("h3",{className:"font-bold text-lg mb-1",children:d.name}),e.jsx("p",{className:"text-blue-600 font-medium mb-2",children:d.position}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:d.bio}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[e.jsx(Ml,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-gray-600",children:d.email})]}),e.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[e.jsx(eo,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-gray-600",children:d.phone})]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[": ",e.jsx(vt,{date:d.join_date})]})]})]})})},d.id))})]}),e.jsxs(C,{className:"bg-blue-50",children:[e.jsx(L,{children:e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx(Fl,{className:"h-5 w-5 text-blue-500"})," "]})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:" "}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fl,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm",children:"/,  ,  , -"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(eo,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm",children:"-"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ml,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm",children:"info@prothomalo.com"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:" "}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsx("p",{children:" - :   -  "}),e.jsx("p",{children:":   -  "}),e.jsx("p",{children:": "})]})]})]})})]})]})})}function cH(){const[t,s]=m.useState([]),[r,n]=m.useState(!0),[a,i]=m.useState(!1),[o,l]=m.useState(null),{toast:c}=Ze(),[d,u]=m.useState({name:"",email:"",phone:"",subject:"",message:"",department:"general"}),[h,f]=m.useState({});m.useEffect(()=>{(async()=>{try{n(!0),l(null);const{data:y,error:j}=await ne.from("contact_info").select("*").order("is_primary",{ascending:!1});j?(console.error("Error fetching contact info:",j),s([{id:1,department:" ",phone:"-",email:"editorial@prothomalo.com",address:"/,  ,  , -",working_hours:"  -  ",is_primary:!0},{id:2,department:" ",phone:"-",email:"ads@prothomalo.com",address:"/,  ,  , -",working_hours:"  -  ",is_primary:!1},{id:3,department:" ",phone:"-",email:"tech@prothomalo.com",address:"/,  ,  , -",working_hours:"  -  ",is_primary:!1}])):s(y||[])}catch(y){console.error("Error fetching contact info:",y),l("     ")}finally{n(!1)}})()},[]);const x=()=>{const p={};return d.name.trim()||(p.name=" "),d.email.trim()?/\S+@\S+\.\S+/.test(d.email)||(p.email="  "):p.email=" ",d.subject.trim()||(p.subject=" "),d.message.trim()||(p.message=" "),f(p),Object.keys(p).length===0},g=async p=>{if(p.preventDefault(),!!x())try{i(!0);const{data:y,error:j}=await ne.from("contact_messages").insert([{name:d.name,email:d.email,phone:d.phone,subject:d.subject,message:d.message,department:d.department,status:"pending",created_at:new Date().toISOString()}]);j?(console.error("Error saving message:",j),c({title:"  ",description:"     "})):c({title:"   ",description:"     "}),u({name:"",email:"",phone:"",subject:"",message:"",department:"general"}),f({})}catch(y){console.error("Error submitting form:",y),c({title:" ",description:"    ",variant:"destructive"})}finally{i(!1)}},v=(p,y)=>{u(j=>({...j,[p]:y})),h[p]&&f(j=>({...j,[p]:void 0}))};return r?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsxs("div",{className:"animate-pulse space-y-6",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx("div",{className:"space-y-4",children:[...Array(3)].map((p,y)=>e.jsxs("div",{className:"bg-white rounded-lg p-6",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4 mb-4"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]})]},y))}),e.jsxs("div",{className:"bg-white rounded-lg p-6",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4 mb-4"}),e.jsx("div",{className:"space-y-4",children:[...Array(6)].map((p,y)=>e.jsx("div",{className:"h-10 bg-gray-200 rounded"},y))})]})]})]})})}):e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4",children:""}),e.jsx("p",{className:"text-gray-600",children:"   "})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:" "}),o&&e.jsx(C,{className:"border-red-200 bg-red-50",children:e.jsx(E,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[e.jsx(Yt,{className:"h-5 w-5"}),e.jsx("span",{children:o})]})})}),t.map(p=>e.jsxs(C,{className:`hover:shadow-lg transition-shadow ${p.is_primary?"ring-2 ring-blue-500":""}`,children:[e.jsx(L,{children:e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx(cf,{className:"h-5 w-5 text-blue-500"}),p.department,p.is_primary&&e.jsx(X,{variant:"secondary",children:""})]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(eo,{className:"h-4 w-4 text-gray-500"}),e.jsx("a",{href:`tel:${p.phone}`,className:"hover:text-blue-600 transition-colors",children:p.phone})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ml,{className:"h-4 w-4 text-gray-500"}),e.jsx("a",{href:`mailto:${p.email}`,className:"hover:text-blue-600 transition-colors",children:p.email})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Fl,{className:"h-4 w-4 text-gray-500 mt-1"}),e.jsx("span",{className:"text-sm",children:p.address})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ht,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm",children:p.working_hours})]})]})})]},p.id))]}),e.jsx("div",{children:e.jsxs(C,{children:[e.jsx(L,{children:e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx(Ul,{className:"h-5 w-5 text-blue-500"}),"  "]})}),e.jsx(E,{children:e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium mb-2",children:" *"}),e.jsx(te,{id:"name",type:"text",placeholder:"  ",value:d.name,onChange:p=>v("name",p.target.value),className:h.name?"border-red-500":""}),h.name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-2",children:" *"}),e.jsx(te,{id:"email",type:"email",placeholder:"  ",value:d.email,onChange:p=>v("email",p.target.value),className:h.email?"border-red-500":""}),h.email&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.email})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium mb-2",children:""}),e.jsx(te,{id:"phone",type:"tel",placeholder:"   ",value:d.phone,onChange:p=>v("phone",p.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"department",className:"block text-sm font-medium mb-2",children:""}),e.jsxs("select",{id:"department",value:d.department,onChange:p=>v("department",p.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"general",children:""}),e.jsx("option",{value:"editorial",children:""}),e.jsx("option",{value:"advertisement",children:""}),e.jsx("option",{value:"technical",children:""}),e.jsx("option",{value:"complaint",children:""})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium mb-2",children:" *"}),e.jsx(te,{id:"subject",type:"text",placeholder:"  ",value:d.subject,onChange:p=>v("subject",p.target.value),className:h.subject?"border-red-500":""}),h.subject&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.subject})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"message",className:"block text-sm font-medium mb-2",children:" *"}),e.jsx(Qt,{id:"message",placeholder:"  ",value:d.message,onChange:p=>v("message",p.target.value),className:`min-h-[120px] ${h.message?"border-red-500":""}`}),h.message&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.message})]}),e.jsx(D,{type:"submit",disabled:a,className:"w-full",children:a?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"})," ..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ul,{className:"h-4 w-4 mr-2"})," "]})})]})})]})})]})]})})}function dH(){const[t,s]=m.useState([]),[r,n]=m.useState([]),[a,i]=m.useState(!0),[o,l]=m.useState(null);m.useEffect(()=>{(async()=>{try{i(!0),l(null);const{data:u,error:h}=await ne.from("editorial_policies").select("*").eq("is_active",!0).order("priority",{ascending:!0});h?(console.error("Error fetching policies:",h),s([{id:1,title:" ",content:"                                ",category:"independence",priority:1,is_active:!0,updated_at:new Date().toISOString()},{id:2,title:"  ",content:"                            ",category:"accuracy",priority:2,is_active:!0,updated_at:new Date().toISOString()},{id:3,title:"  ",content:"           , , ,                ",category:"ethics",priority:3,is_active:!0,updated_at:new Date().toISOString()},{id:4,title:"   ",content:"                           ",category:"privacy",priority:4,is_active:!0,updated_at:new Date().toISOString()}])):s(u||[]);const{data:f,error:x}=await ne.from("editorial_guidelines").select("*").order("created_at",{ascending:!1});x?(console.error("Error fetching guidelines:",x),n([{id:1,title:" ",description:"            ",category:"verification",is_mandatory:!0,created_at:new Date().toISOString()},{id:2,title:"  ",description:" ,               ",category:"language",is_mandatory:!0,created_at:new Date().toISOString()},{id:3,title:"  ",description:"                ",category:"media",is_mandatory:!1,created_at:new Date().toISOString()},{id:4,title:"  ",description:"              ",category:"correction",is_mandatory:!0,created_at:new Date().toISOString()}])):n(f||[])}catch(u){console.error("Error fetching policy data:",u),l("     ")}finally{i(!1)}})()},[]);const c=d=>{switch(d){case"independence":return e.jsx(Is,{className:"h-5 w-5 text-green-500"});case"accuracy":return e.jsx(ts,{className:"h-5 w-5 text-blue-500"});case"ethics":return e.jsx(gt,{className:"h-5 w-5 text-purple-500"});case"privacy":return e.jsx(Is,{className:"h-5 w-5 text-orange-500"});default:return e.jsx(Xt,{className:"h-5 w-5 text-gray-500"})}};return a?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"animate-pulse space-y-6",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),e.jsx("div",{className:"space-y-4",children:[...Array(4)].map((d,u)=>e.jsxs("div",{className:"bg-white rounded-lg p-6",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4 mb-4"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]},u))})]})})}):o?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsx(C,{children:e.jsxs(E,{className:"text-center py-8",children:[e.jsx(Yt,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-red-500 mb-4",children:o}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"  "})]})})})}):e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4",children:" "}),e.jsx("p",{className:"text-gray-600",children:"    "})]}),e.jsxs("div",{className:"space-y-6 mb-12",children:[e.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[e.jsx(Xt,{className:"h-6 w-6 text-blue-500"})," "]}),t.map(d=>e.jsxs(C,{children:[e.jsx(L,{children:e.jsxs(M,{className:"flex items-center gap-2",children:[c(d.category),d.title]})}),e.jsxs(E,{children:[e.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-line mb-4",children:d.content}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(X,{variant:"secondary",children:[": ",d.priority]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[" : ",e.jsx(vt,{date:d.updated_at})]})]})]})]},d.id))]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[e.jsx(ts,{className:"h-6 w-6 text-green-500"})," "]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:r.map(d=>e.jsxs(C,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(L,{children:e.jsxs(M,{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[c(d.category),d.title]}),d.is_mandatory&&e.jsx(X,{variant:"destructive",children:""})]})}),e.jsxs(E,{children:[e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:d.description}),e.jsxs("div",{className:"text-sm text-gray-500",children:[": ",e.jsx(vt,{date:d.created_at})]})]})]},d.id))})]}),e.jsx(C,{className:"mt-12 bg-blue-50",children:e.jsx(E,{className:"pt-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Xt,{className:"h-5 w-5 text-blue-500 mt-1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:" "}),e.jsx("p",{className:"text-sm text-gray-700",children:"                           "})]})]})})})]})})}function uH(){const[t,s]=m.useState([]),[r,n]=m.useState([]),[a,i]=m.useState(!0),[o,l]=m.useState(null);m.useEffect(()=>{(async()=>{try{i(!0),l(null);const{data:u,error:h}=await ne.from("ad_packages").select("*").eq("is_active",!0).order("price",{ascending:!0});h?(console.error("Error fetching ad packages:",h),s([{id:1,name:" ",description:"     ",price:5e3,duration:" ",features:["   ","   "," "],is_popular:!1,is_active:!0},{id:2,name:" ",description:"     ",price:15e3,duration:" ",features:["   ","   ","  "," "],is_popular:!0,is_active:!0},{id:3,name:" ",description:"     ",price:4e4,duration:" ",features:["   ","   ","   "," ","  "],is_popular:!1,is_active:!0}])):s(u||[]);const{data:f,error:x}=await ne.from("ad_rates").select("*").order("category",{ascending:!0});x?(console.error("Error fetching ad rates:",x),n([{id:1,category:" ",position:"  ",size:"728x90",rate_per_day:1e3,rate_per_week:6e3,rate_per_month:2e4,discount_percentage:20,updated_at:new Date().toISOString()},{id:2,category:" ",position:" ",size:"300x250",rate_per_day:500,rate_per_week:3e3,rate_per_month:1e4,discount_percentage:15,updated_at:new Date().toISOString()},{id:3,category:" ",position:" ",size:"320x50",rate_per_day:300,rate_per_week:1800,rate_per_month:6e3,discount_percentage:10,updated_at:new Date().toISOString()}])):n(f||[])}catch(u){console.error("Error fetching ad data:",u),l("     ")}finally{i(!1)}})()},[]);const c=d=>new Intl.NumberFormat("bn-BD",{style:"currency",currency:"BDT",minimumFractionDigits:0,maximumFractionDigits:0}).format(d);return a?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsxs("div",{className:"animate-pulse space-y-6",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[...Array(3)].map((d,u)=>e.jsxs("div",{className:"bg-white rounded-lg p-6",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-4"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]},u))})]})})}):o?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsx(C,{children:e.jsxs(E,{className:"text-center py-8",children:[e.jsx("p",{className:"text-red-500 mb-4",children:o}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"  "})]})})})}):e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4",children:""}),e.jsx("p",{className:"text-gray-600",children:"    "})]}),e.jsxs("div",{className:"mb-12",children:[e.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[e.jsx(zl,{className:"h-6 w-6 text-blue-500"})," "]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:t.map(d=>e.jsxs(C,{className:`relative hover:shadow-lg transition-shadow ${d.is_popular?"ring-2 ring-blue-500":""}`,children:[d.is_popular&&e.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:e.jsx(X,{className:"bg-blue-500 text-white",children:""})}),e.jsx(L,{children:e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx($d,{className:"h-5 w-5 text-green-500"}),d.name]})}),e.jsxs(E,{children:[e.jsx("p",{className:"text-gray-600 mb-4",children:d.description}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-1",children:c(d.price)}),e.jsx("div",{className:"text-sm text-gray-500",children:d.duration})]}),e.jsx("div",{className:"space-y-2 mb-6",children:d.features.map((u,h)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-sm",children:u})]},h))}),e.jsx(D,{className:"w-full",children:"  "})]})]},d.id))})]}),e.jsxs("div",{className:"mb-12",children:[e.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[e.jsx(Ct,{className:"h-6 w-6 text-green-500"})," "]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(d=>e.jsxs(C,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(L,{children:e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx(Xt,{className:"h-5 w-5 text-purple-500"}),d.category]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-500",children:":"}),e.jsx("span",{className:"font-medium",children:d.position})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-500",children:":"}),e.jsx(X,{variant:"outline",children:d.size})]}),e.jsxs("div",{className:"border-t pt-3",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm",children:" :"}),e.jsx("span",{className:"font-bold text-green-600",children:c(d.rate_per_day)})]}),e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm",children:" :"}),e.jsx("span",{className:"font-bold text-blue-600",children:c(d.rate_per_week)})]}),e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm",children:" :"}),e.jsx("span",{className:"font-bold text-purple-600",children:c(d.rate_per_month)})]}),d.discount_percentage>0&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-green-600",children:":"}),e.jsxs(X,{variant:"secondary",className:"text-green-600",children:[d.discount_percentage,"%"]})]})]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[" : ",e.jsx(vt,{date:d.updated_at})]})]})})]},d.id))})]}),e.jsxs("div",{className:"mb-12",children:[e.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[e.jsx(gt,{className:"h-6 w-6 text-orange-500"}),"   ?"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(C,{children:e.jsxs(E,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(gt,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold",children:" "}),e.jsx("p",{className:"text-sm text-gray-600",children:"  + "})]})]}),e.jsx("p",{className:"text-gray-700",children:"                "})]})}),e.jsx(C,{children:e.jsxs(E,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(Ct,{className:"h-6 w-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold",children:" "}),e.jsx("p",{className:"text-sm text-gray-600",children:" "})]})]}),e.jsx("p",{className:"text-gray-700",children:"              "})]})})]})]}),e.jsxs(C,{className:"bg-blue-50",children:[e.jsx(L,{children:e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx(eo,{className:"h-5 w-5 text-blue-500"}),"  "]})}),e.jsx(E,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(eo,{className:"h-5 w-5 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:""}),e.jsx("p",{className:"text-sm text-gray-600",children:"-"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ml,{className:"h-5 w-5 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:""}),e.jsx("p",{className:"text-sm text-gray-600",children:"ads@prothomalo.com"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Os,{className:"h-5 w-5 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:" "}),e.jsx("p",{className:"text-sm text-gray-600",children:"  -  "})]})]}),e.jsx(D,{className:"w-full",children:"  "})]})]})})]})]})})}function hH(){const[t,s]=m.useState([]),[r,n]=m.useState(null),[a,i]=m.useState(!0),[o,l]=m.useState(!1),[c,d]=m.useState(null),[u,h]=m.useState(""),[f,x]=m.useState("all"),[g,v]=m.useState("all"),[p,y]=m.useState("all"),[j,w]=m.useState(1),b=20,N=[{id:"all",name:" "},{id:"politics",name:""},{id:"economy",name:""},{id:"international",name:""},{id:"sports",name:""},{id:"entertainment",name:""},{id:"technology",name:""},{id:"lifestyle",name:""}],_=Array.from({length:5},(S,R)=>2025-R),P=[{value:"all",label:" "},{value:"01",label:""},{value:"02",label:""},{value:"03",label:""},{value:"04",label:""},{value:"05",label:""},{value:"06",label:""},{value:"07",label:""},{value:"08",label:""},{value:"09",label:""},{value:"10",label:""},{value:"11",label:""},{value:"12",label:""}];m.useEffect(()=>{A()},[f,g,p,u,j]);const A=async()=>{try{i(!0),d(null);let S=ne.from("articles").select(`
          id,
          title,
          slug,
          excerpt,
          image_url,
          published_at,
          view_count,
          categories!inner (
            id,
            name,
            slug
          )
        `).order("published_at",{ascending:!1});if(f!=="all"&&(S=S.eq("categories.slug",f)),g!=="all"){const O=`${g}-01-01`,U=`${g}-12-31`;S=S.gte("published_at",O).lte("published_at",U)}if(p!=="all"&&g!=="all"){const O=`${g}-${p}-01`,U=`${g}-${p}-31`;S=S.gte("published_at",O).lte("published_at",U)}u.trim()&&(S=S.or(`title.ilike.%${u}%,excerpt.ilike.%${u}%`));const R=(j-1)*b,B=R+b-1;S=S.range(R,B);const{data:H,error:I}=await S;if(I)console.error("Error fetching archive:",I),s([{id:1,title:"   ",slug:"bangladesh-economic-growth-2024",excerpt:"     .%  ...",image_url:"https://images.unsplash.com/photo-1495020689067-958852a7765e?w=400&h=250&fit=crop",category:{id:2,name:"",slug:"economy"},published_at:"2024-12-15T10:30:00Z",view_count:15420},{id:2,title:"    ",slug:"national-parliament-new-law-passed",excerpt:"      ...",image_url:"https://images.unsplash.com/photo-1577962917302-cd874c4e31d2?w=400&h=250&fit=crop",category:{id:1,name:"",slug:"politics"},published_at:"2024-12-10T14:20:00Z",view_count:8750}]);else{const O=(H==null?void 0:H.map(U=>({id:U.id,title:U.title,slug:U.slug,excerpt:U.excerpt,image_url:U.image_url,category:{id:U.categories.id,name:U.categories.name,slug:U.categories.slug},published_at:U.published_at,view_count:U.view_count||0})))||[];s(O)}const{data:V,error:z}=await ne.from("articles").select("published_at, categories(id)").order("published_at",{ascending:!1});if(!z&&V){const O=V.length,U=new Set(V.map(se=>{var W;return(W=se.categories)==null?void 0:W.id})).size,ee=V.map(se=>se.published_at).filter(Boolean);n({total_articles:O,categories_count:U,date_range:{earliest:ee[ee.length-1]||"2020-01-01",latest:ee[0]||new Date().toISOString()}})}else n({total_articles:2500,categories_count:8,date_range:{earliest:"2020-01-01",latest:new Date().toISOString()}})}catch(S){console.error("Error fetching archive data:",S),d("     ")}finally{i(!1)}},k=S=>{S.preventDefault(),w(1),A()},T=S=>S>=1e3?`${(S/1e3).toFixed(1)}K`:S.toString();return a&&t.length===0?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsxs("div",{className:"animate-pulse space-y-6",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[...Array(4)].map((S,R)=>e.jsx("div",{className:"h-10 bg-gray-200 rounded"},R))}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((S,R)=>e.jsxs("div",{className:"bg-white rounded-lg p-4",children:[e.jsx("div",{className:"h-40 bg-gray-200 rounded mb-4"}),e.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"})]},R))})]})})}):e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h1",{className:"text-4xl font-bold mb-4 flex items-center gap-2",children:[e.jsx(mS,{className:"h-8 w-8 text-blue-500"}),""]}),e.jsx("p",{className:"text-gray-600",children:"    "})]}),r&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[e.jsx(C,{children:e.jsx(E,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(Xt,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:r.total_articles.toLocaleString()}),e.jsx("p",{className:"text-sm text-gray-600",children:" "})]})]})})}),e.jsx(C,{children:e.jsx(E,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(wy,{className:"h-6 w-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:r.categories_count}),e.jsx("p",{className:"text-sm text-gray-600",children:""})]})]})})}),e.jsx(C,{children:e.jsx(E,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:e.jsx(Os,{className:"h-6 w-6 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold",children:e.jsx(vt,{date:r.date_range.earliest})}),e.jsx("p",{className:"text-xs text-gray-600",children:"  "})]})]})})})]}),e.jsxs(C,{className:"mb-8",children:[e.jsx(L,{children:e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx(Ot,{className:"h-5 w-5 text-blue-500"}),"  "]})}),e.jsx(E,{children:e.jsxs("form",{onSubmit:k,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:""}),e.jsx(te,{type:"text",placeholder:"  ...",value:u,onChange:S=>h(S.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:""}),e.jsx("select",{value:f,onChange:S=>x(S.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",children:N.map(S=>e.jsx("option",{value:S.id,children:S.name},S.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:""}),e.jsxs("select",{value:g,onChange:S=>v(S.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:" "}),_.map(S=>e.jsx("option",{value:S,children:S},S))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:""}),e.jsx("select",{value:p,onChange:S=>y(S.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",children:P.map(S=>e.jsx("option",{value:S.value,children:S.label},S.value))})]})]}),e.jsx(D,{type:"submit",disabled:o,children:o?"...":" "})]})})]}),c&&e.jsx(C,{className:"mb-8 border-red-200 bg-red-50",children:e.jsx(E,{className:"pt-6",children:e.jsx("p",{className:"text-red-600",children:c})})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:t.map(S=>e.jsxs(C,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[e.jsx(Y,{href:`/article/${S.slug}`,children:e.jsxs("div",{className:"aspect-video bg-gray-200",children:[e.jsx("img",{src:S.image_url,alt:S.title,className:"w-full h-full object-cover",onError:R=>{R.currentTarget.style.display="none",R.currentTarget.nextElementSibling.style.display="flex"}}),e.jsx("div",{className:"hidden w-full h-full bg-gray-200 flex items-center justify-center",children:e.jsx(Xt,{className:"h-12 w-12 text-gray-400"})})]})}),e.jsxs(E,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(X,{variant:"secondary",className:"text-xs",children:S.category.name}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[e.jsx(Et,{className:"h-3 w-3"}),e.jsx("span",{children:T(S.view_count)})]})]}),e.jsx("h3",{className:"font-bold text-lg mb-2 line-clamp-2",children:e.jsx(Y,{href:`/article/${S.slug}`,className:"hover:text-blue-600 transition-colors",children:S.title})}),e.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:S.excerpt}),e.jsx("div",{className:"text-xs text-gray-500",children:e.jsx(vt,{date:S.published_at})})]})]},S.id))}),e.jsxs("div",{className:"flex justify-center items-center gap-2",children:[e.jsx(D,{variant:"outline",onClick:()=>w(Math.max(1,j-1)),disabled:j===1,children:""}),e.jsxs("span",{className:"px-4 py-2 bg-gray-100 rounded",children:[" ",j]}),e.jsx(D,{variant:"outline",onClick:()=>w(j+1),disabled:t.length<b,children:""})]})]})})}function mH(){const[t,s]=m.useState([]),[r,n]=m.useState(!0),[a,i]=m.useState(null);m.useEffect(()=>{(async()=>{try{n(!0),i(null);const{data:c,error:d}=await ne.from("privacy_policy_sections").select("*").eq("is_active",!0).order("display_order",{ascending:!0});d?(console.error("Error fetching privacy policy:",d),s([{id:1,title:" ",content:`                :

    
  
  
    
    

          `,section_type:"collection",is_active:!0,display_order:1,updated_at:new Date().toISOString()},{id:2,title:" ",content:`       :

     
    
      
     
    

        `,section_type:"usage",is_active:!0,display_order:2,updated_at:new Date().toISOString()},{id:3,title:" ",content:`            :

 SSL  
    
   
    
     

,       `,section_type:"security",is_active:!0,display_order:3,updated_at:new Date().toISOString()},{id:4,title:"  ",content:`       :

    
    
    
    

          `,section_type:"cookies",is_active:!0,display_order:4,updated_at:new Date().toISOString()},{id:5,title:"  ",content:`           :

   -   
    -   
   -   
   -  

     `,section_type:"third_party",is_active:!0,display_order:5,updated_at:new Date().toISOString()},{id:6,title:" ",content:`       :

      
    
    
  
   

       `,section_type:"rights",is_active:!0,display_order:6,updated_at:new Date().toISOString()}])):s(c||[])}catch(c){console.error("Error fetching privacy policy:",c),i("     ")}finally{n(!1)}})()},[]);const o=l=>{switch(l){case"collection":return e.jsx(Jn,{className:"h-5 w-5 text-blue-500"});case"usage":return e.jsx(Et,{className:"h-5 w-5 text-green-500"});case"security":return e.jsx(Is,{className:"h-5 w-5 text-purple-500"});case"cookies":return e.jsx(fD,{className:"h-5 w-5 text-orange-500"});case"third_party":return e.jsx(wg,{className:"h-5 w-5 text-indigo-500"});case"rights":return e.jsx(Ny,{className:"h-5 w-5 text-red-500"});default:return e.jsx(zs,{className:"h-5 w-5 text-gray-500"})}};return r?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"animate-pulse space-y-6",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),e.jsx("div",{className:"space-y-4",children:[...Array(6)].map((l,c)=>e.jsxs("div",{className:"bg-white rounded-lg p-6",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4 mb-4"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]},c))})]})})}):a?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsx(C,{children:e.jsxs(E,{className:"text-center py-8",children:[e.jsx(zs,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-red-500 mb-4",children:a}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"  "})]})})})}):e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h1",{className:"text-4xl font-bold mb-4 flex items-center gap-2",children:[e.jsx(Is,{className:"h-8 w-8 text-blue-500"})," "]}),e.jsx("p",{className:"text-gray-600",children:"        "})]}),e.jsx(C,{className:"mb-8 bg-blue-50",children:e.jsx(E,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-2 text-blue-700",children:[e.jsx(zs,{className:"h-5 w-5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:" "}),e.jsxs("p",{className:"text-sm",children:["    ",e.jsx(vt,{date:new Date().toISOString()}),"    "]})]})]})})}),e.jsx("div",{className:"space-y-6",children:t.map(l=>e.jsxs(C,{children:[e.jsx(L,{children:e.jsxs(M,{className:"flex items-center gap-2",children:[o(l.section_type),l.title]})}),e.jsxs(E,{children:[e.jsx("div",{className:"prose prose-gray max-w-none",children:e.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-line",children:l.content})}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"text-sm text-gray-500",children:[" : ",e.jsx(vt,{date:l.updated_at})]})})]})]},l.id))}),e.jsxs(C,{className:"mt-12 bg-green-50",children:[e.jsx(L,{children:e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx(wg,{className:"h-5 w-5 text-green-500"}),"  "]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-700",children:"            :"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:""}),e.jsx("p",{className:"text-sm text-gray-600",children:"privacy@prothomalo.com"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:""}),e.jsx("p",{className:"text-sm text-gray-600",children:"-"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:""}),e.jsx("p",{className:"text-sm text-gray-600",children:"/,  ,  , -"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:" "}),e.jsx("p",{className:"text-sm text-gray-600",children:"  -  "})]})]})]})})]}),e.jsx(C,{className:"mt-6 border-orange-200 bg-orange-50",children:e.jsx(E,{className:"pt-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(zs,{className:"h-5 w-5 text-orange-500 mt-1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-orange-800 mb-2",children:" "}),e.jsx("p",{className:"text-sm text-orange-700",children:"                            "})]})]})})})]})})}function fH(){const[t,s]=m.useState([]),[r,n]=m.useState(!0),[a,i]=m.useState(null);m.useEffect(()=>{(async()=>{try{n(!0),i(null);const{data:d,error:u}=await ne.from("terms_of_service_sections").select("*").eq("is_active",!0).order("display_order",{ascending:!0});u?(console.error("Error fetching terms of service:",u),s([{id:1,title:"  ",content:`  (www.prothomalo.com)                  ,        

                   `,section_type:"acceptance",is_active:!0,display_order:1,updated_at:new Date().toISOString()},{id:2,title:" ",content:`       :

       
     
      
      

 :
  
   
   
  
     `,section_type:"usage",is_active:!0,display_order:2,updated_at:new Date().toISOString()},{id:3,title:" ",content:`   , , , ,                 

 :
      
     (   )
    ( )

  :
    
    
    `,section_type:"intellectual_property",is_active:!0,display_order:3,updated_at:new Date().toISOString()},{id:4,title:" ",content:`    ,      ,     :

      
        
     
       

                `,section_type:"user_content",is_active:!0,display_order:4,updated_at:new Date().toISOString()},{id:5,title:" ",content:`       :

     
    
     
    
   

 " "          `,section_type:"liability",is_active:!0,display_order:5,updated_at:new Date().toISOString()},{id:6,title:"   ",content:`         :

  
    
    
    

                `,section_type:"termination",is_active:!0,display_order:6,updated_at:new Date().toISOString()},{id:7,title:"    ",content:`            

  :
      
     
    

          `,section_type:"governing_law",is_active:!0,display_order:7,updated_at:new Date().toISOString()}])):s(d||[])}catch(d){console.error("Error fetching terms of service:",d),i("     ")}finally{n(!1)}})()},[]);const o=c=>{switch(c){case"acceptance":return e.jsx(ts,{className:"h-5 w-5 text-green-500"});case"usage":return e.jsx(gt,{className:"h-5 w-5 text-blue-500"});case"intellectual_property":return e.jsx(Is,{className:"h-5 w-5 text-purple-500"});case"user_content":return e.jsx(Xt,{className:"h-5 w-5 text-orange-500"});case"liability":return e.jsx(zs,{className:"h-5 w-5 text-red-500"});case"termination":return e.jsx(nf,{className:"h-5 w-5 text-gray-500"});case"governing_law":return e.jsx(Lw,{className:"h-5 w-5 text-indigo-500"});default:return e.jsx(Xt,{className:"h-5 w-5 text-gray-500"})}},l=c=>{switch(c){case"acceptance":return"bg-green-50 border-green-200";case"usage":return"bg-blue-50 border-blue-200";case"intellectual_property":return"bg-purple-50 border-purple-200";case"user_content":return"bg-orange-50 border-orange-200";case"liability":return"bg-red-50 border-red-200";case"termination":return"bg-gray-50 border-gray-200";case"governing_law":return"bg-indigo-50 border-indigo-200";default:return"bg-gray-50 border-gray-200"}};return r?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"animate-pulse space-y-6",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),e.jsx("div",{className:"space-y-4",children:[...Array(7)].map((c,d)=>e.jsxs("div",{className:"bg-white rounded-lg p-6",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4 mb-4"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]},d))})]})})}):a?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsx(C,{children:e.jsxs(E,{className:"text-center py-8",children:[e.jsx(zs,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-red-500 mb-4",children:a}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"  "})]})})})}):e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h1",{className:"text-4xl font-bold mb-4 flex items-center gap-2",children:[e.jsx(Lw,{className:"h-8 w-8 text-blue-500"})," "]}),e.jsx("p",{className:"text-gray-600",children:"    "})]}),e.jsx(C,{className:"mb-8 bg-blue-50",children:e.jsx(E,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-2 text-blue-700",children:[e.jsx(ts,{className:"h-5 w-5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:" "}),e.jsxs("p",{className:"text-sm",children:["  ",e.jsx(vt,{date:new Date().toISOString()}),"   "]})]})]})})}),e.jsx("div",{className:"space-y-6",children:t.map((c,d)=>e.jsxs(C,{className:`${l(c.section_type)} border-l-4`,children:[e.jsx(L,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(M,{className:"flex items-center gap-2",children:[o(c.section_type),e.jsxs("span",{className:"text-gray-500 text-sm font-normal",children:[(d+1).toString().padStart(2,"0"),"."]}),c.title]}),e.jsx(X,{variant:"outline",className:"text-xs",children:c.section_type})]})}),e.jsxs(E,{children:[e.jsx("div",{className:"prose prose-gray max-w-none",children:e.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-line",children:c.content})}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"text-sm text-gray-500",children:[" : ",e.jsx(vt,{date:c.updated_at})]})})]})]},c.id))}),e.jsxs(C,{className:"mt-12 bg-green-50 border-green-200",children:[e.jsx(L,{children:e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx(ts,{className:"h-5 w-5 text-green-500"})," "]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-700",children:"                ,        "}),e.jsx("div",{className:"p-4 bg-white rounded-lg border border-green-200",children:e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("strong",{children:" :"}),"               "]})})]})})]}),e.jsxs(C,{className:"mt-6 bg-blue-50",children:[e.jsx(L,{children:e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx(gt,{className:"h-5 w-5 text-blue-500"}),""]})}),e.jsx(E,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-700",children:"           :"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:" "}),e.jsx("p",{className:"text-sm text-gray-600",children:"legal@prothomalo.com"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:" "}),e.jsx("p",{className:"text-sm text-gray-600",children:"-"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:""}),e.jsx("p",{className:"text-sm text-gray-600",children:"/,  ,  , -"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:" "}),e.jsx("p",{className:"text-sm text-gray-600",children:"  -  "})]})]})]})})]}),e.jsx(C,{className:"mt-6 border-gray-200 bg-gray-50",children:e.jsx(E,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(Xt,{className:"h-4 w-4"}),e.jsx("div",{className:"text-sm",children:e.jsxs("p",{children:[": . |  : ",e.jsx(vt,{date:new Date().toISOString()})]})})]})})})]})})}function xH(){return e.jsxs(F2,{children:[e.jsx(Ae,{path:"/",component:OB}),e.jsx(Ae,{path:"/category/:slug",component:IB}),e.jsx(Ae,{path:"/article/:slug",component:nq}),e.jsx(Ae,{path:"/video/:slug",component:aq}),e.jsx(Ae,{path:"/audio/:slug",component:iq}),e.jsx(Ae,{path:"/videos",component:oq}),e.jsx(Ae,{path:"/audio-articles",component:lq}),e.jsx(Ae,{path:"/epaper",component:cq}),e.jsx(Ae,{path:"/search",component:dq}),e.jsx(Ae,{path:"/advanced-search",component:hq}),e.jsx(Ae,{path:"/recommendations",component:fq}),e.jsx(Ae,{path:"/user-analytics",component:pq}),e.jsx(Ae,{path:"/social-media-test",component:gq}),e.jsx(Ae,{path:"/unused-tables-demo",component:vq}),e.jsx(Ae,{path:"/login",component:ep}),e.jsx(Ae,{path:"/register",component:ep}),e.jsx(Ae,{path:"/auth",component:ep}),e.jsx(Ae,{path:"/profile",component:aN}),e.jsx(Ae,{path:"/dashboard",component:aH}),e.jsx(Ae,{path:"/dashboard/profile",component:aN}),e.jsx(Ae,{path:"/saved-articles",component:iH}),e.jsx(Ae,{path:"/reading-history",component:oH}),e.jsx(Ae,{path:"/about",component:lH}),e.jsx(Ae,{path:"/contact",component:cH}),e.jsx(Ae,{path:"/editorial-policy",component:dH}),e.jsx(Ae,{path:"/advertisement",component:uH}),e.jsx(Ae,{path:"/archive",component:hH}),e.jsx(Ae,{path:"/privacy-policy",component:mH}),e.jsx(Ae,{path:"/terms-of-service",component:fH}),e.jsx(Ae,{component:K7})]})}function pH(){return e.jsx(MS,{children:e.jsx(VS,{children:e.jsxs(US,{children:[e.jsx(e7,{}),e.jsxs("div",{className:"flex flex-col min-h-screen bg-background",children:[e.jsx(Bf,{}),e.jsx("main",{className:"flex-grow",children:e.jsx(xH,{})}),e.jsx(qf,{}),e.jsx(DS,{})]})]})})})}const gH=()=>{var h,f;const{user:t,loading:s}=rt(),[r,n]=m.useState(""),[a,i]=m.useState(!1),[o,l]=m.useState(""),[c,d]=m.useState(!1),u=async()=>{if(!r.trim()){l("Please enter an email address");return}i(!0),l(""),d(!1);try{const{supabase:x}=await de(async()=>{const{supabase:y}=await Promise.resolve().then(()=>EO);return{supabase:y}},void 0),{data:g,error:v}=await x.auth.admin.getUserByEmail(r.trim());if(v||!g.user){l("User not found with this email");return}const{error:p}=await x.auth.admin.updateUserById(g.user.id,{user_metadata:{role:"admin"}});p?l(p.message||"Failed to set admin role"):(d(!0),l(`Successfully set ${r} as admin!`),n(""))}catch(x){console.error("Error setting admin role:",x),l("Error occurred while setting admin role")}finally{i(!1)}};return s?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(ae,{className:"h-8 w-8 animate-spin"})}):e.jsxs(e.Fragment,{children:[e.jsx(lr,{children:e.jsx("title",{children:"Set Admin Role | "})}),e.jsx("div",{className:"container mx-auto px-4 py-12",children:e.jsx("div",{className:"max-w-md mx-auto",children:e.jsxs(C,{children:[e.jsxs(L,{children:[e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx(Is,{className:"w-5 h-5"}),"Set Admin Role"]}),e.jsx(Ce,{children:"Set a user as admin for the Bengali News Website. This is a one-time setup utility."})]}),e.jsxs(E,{children:[o&&e.jsxs(Bs,{variant:c?"default":"destructive",className:"mb-4",children:[c&&e.jsx(ts,{className:"h-4 w-4"}),e.jsx(qs,{children:o})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-1",children:"User Email"}),e.jsx(te,{id:"email",type:"email",placeholder:"Enter user email to make admin",value:r,onChange:x=>n(x.target.value),disabled:a})]}),e.jsx(D,{onClick:u,disabled:a||!r.trim(),className:"w-full",children:a?e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"mr-2 h-4 w-4 animate-spin"}),"Setting Admin Role..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Is,{className:"mr-2 h-4 w-4"}),"Set as Admin"]})})]}),t&&e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 dark:bg-gray-800 rounded",children:[e.jsx("h3",{className:"font-medium mb-2",children:"Current User Info:"}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Email: ",t.email]}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Role: ",((h=t.user_metadata)==null?void 0:h.role)||"user"]}),((f=t.user_metadata)==null?void 0:f.role)==="admin"&&e.jsx("p",{className:"text-sm text-green-600 font-medium mt-1",children:" You already have admin access"})]})]})]})})})]})};function vH(){const[t]=yt(),[s,r]=m.useState(!1);return m.useEffect(()=>{r(!0)},[]),s?t.startsWith("/admin")||t==="/admin-login"||t==="/admin-access"?e.jsx(JV,{}):t==="/set-admin-role"?e.jsx(gH,{}):e.jsx(pH,{}):e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:" ..."})]})})}const nA=document.getElementById("root");if(!nA)throw new Error("Root element not found");const yH=P_(nA);yH.render(e.jsx(m.StrictMode,{children:e.jsx(e6,{client:RO,children:e.jsx(vH,{})})}));export{z_ as Q,ms as a,Rg as b,ZM as n,po as o,J as s};
